(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';
// For more information about browser field, check out the browser field at https://github.com/substack/browserify-handbook#browser-field.

var styleElementsInsertedAtTop = [];

var insertStyleElement = function(styleElement, options) {
    var head = document.head || document.getElementsByTagName('head')[0];
    var lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];

    options = options || {};
    options.insertAt = options.insertAt || 'bottom';

    if (options.insertAt === 'top') {
        if (!lastStyleElementInsertedAtTop) {
            head.insertBefore(styleElement, head.firstChild);
        } else if (lastStyleElementInsertedAtTop.nextSibling) {
            head.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);
        } else {
            head.appendChild(styleElement);
        }
        styleElementsInsertedAtTop.push(styleElement);
    } else if (options.insertAt === 'bottom') {
        head.appendChild(styleElement);
    } else {
        throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');
    }
};

module.exports = {
    // Create a <link> tag with optional data attributes
    createLink: function(href, attributes) {
        var head = document.head || document.getElementsByTagName('head')[0];
        var link = document.createElement('link');

        link.href = href;
        link.rel = 'stylesheet';

        for (var key in attributes) {
            if ( ! attributes.hasOwnProperty(key)) {
                continue;
            }
            var value = attributes[key];
            link.setAttribute('data-' + key, value);
        }

        head.appendChild(link);
    },
    // Create a <style> tag with optional data attributes
    createStyle: function(cssText, attributes, extraOptions) {
        extraOptions = extraOptions || {};

        var style = document.createElement('style');
        style.type = 'text/css';

        for (var key in attributes) {
            if ( ! attributes.hasOwnProperty(key)) {
                continue;
            }
            var value = attributes[key];
            style.setAttribute('data-' + key, value);
        }

        if (style.sheet) { // for jsdom and IE9+
            style.innerHTML = cssText;
            style.sheet.cssText = cssText;
            insertStyleElement(style, { insertAt: extraOptions.insertAt });
        } else if (style.styleSheet) { // for IE8 and below
            insertStyleElement(style, { insertAt: extraOptions.insertAt });
            style.styleSheet.cssText = cssText;
        } else { // for Chrome, Firefox, and Safari
            style.appendChild(document.createTextNode(cssText));
            insertStyleElement(style, { insertAt: extraOptions.insertAt });
        }
    }
};

},{}],2:[function(require,module,exports){
/**
 * jExcel v4.1.2
 *
 * Author: Paul Hodel <paul.hodel@gmail.com>
 * Website: https://bossanova.uk/jexcel/
 * Description: Create amazing web based spreadsheets.
 *
 * This software is distribute under MIT License
 */

 if (! jSuites && typeof(require) === 'function') {
    var jSuites = require('jsuites');
    require('jsuites/dist/jsuites.css');
}

;(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.jexcel = factory();
}(this, (function () {

    'use strict';

    // Jexcel core object

    var jexcel = (function(el, options) {
        // Create jexcel object
        var obj = {};
        obj.options = {};

        if (! (el instanceof Element || el instanceof HTMLDocument)) {
            console.error('JEXCEL: el is not a valid DOM element');
            return false;
        } else if (el.tagName == 'TABLE') {
            if (options = jexcel.createFromTable(el, options)) {
                var div = document.createElement('div');
                el.parentNode.insertBefore(div, el);
                el.remove();
                el = div;
            } else {
                console.error('JEXCEL: el is not a valid DOM element');
                return false;
            }
        }

        // Loading default configuration
        var defaults = {
            // External data
            url:null,
            // Data
            data:null,
            // Copy behavior
            copyCompatibility:false,
            root:null,
            // Rows and columns definitions
            rows:[],
            columns:[],
            // Deprected legacy options
            colHeaders:[],
            colWidths:[],
            colAlignments:[],
            nestedHeaders:null,
            // Column width that is used by default
            defaultColWidth:50,
            defaultColAlign:'center',
            // Spare rows and columns
            minSpareRows:0,
            minSpareCols:0,
            // Minimal table dimensions
            minDimensions:[0,0],
            // Allow Export
            allowExport:true,
            // @type {boolean} - Include the header titles on download
            includeHeadersOnDownload:false,
            // @type {boolean} - Include the header titles on copy
            includeHeadersOnCopy:false,
            // Allow column sorting
            columnSorting:true,
            // Allow column dragging
            columnDrag:false,
            // Allow column resizing
            columnResize:true,
            // Allow row resizing
            rowResize:false,
            // Allow row dragging
            rowDrag:true,
            // Allow table edition
            editable:true,
            // Allow new rows
            allowInsertRow:true,
            // Allow new rows
            allowManualInsertRow:true,
            // Allow new columns
            allowInsertColumn:true,
            // Allow new rows
            allowManualInsertColumn:true,
            // Allow row delete
            allowDeleteRow:true,
            // Allow deleting of all rows
            allowDeletingAllRows:false,
            // Allow column delete
            allowDeleteColumn:true,
            // Allow rename column
            allowRenameColumn:true,
            // Allow comments
            allowComments:false,
            // Global wrap
            wordWrap:false,
            // Image options
            imageOptions: null,
            // CSV source
            csv:null,
            // Filename
            csvFileName:'jexcel',
            // Consider first line as header
            csvHeaders:true,
            // Delimiters
            csvDelimiter:',',
            // First row as header
            parseTableFirstRowAsHeader:false,
            parseTableAutoCellType:false,
            // Disable corner selection
            selectionCopy:true,
            // Merged cells
            mergeCells:{},
            // Create toolbar
            toolbar:null,
            // Allow search
            search:false,
            // Create pagination
            pagination:false,
            paginationOptions:null,
            // Full screen
            fullscreen:false,
            // Lazy loading
            lazyLoading:false,
            loadingSpin:false,
            // Table overflow
            tableOverflow:false,
            tableHeight:'300px',
            tableWidth:null,
            // Meta
            meta: null,
            // Style
            style:null,
            // Execute formulas
            parseFormulas:true,
            autoIncrement:true,
            autoCasting:true,
            // Filters
            filters:false,
            footers:null,
            // Event handles
            onundo:null,
            onredo:null,
            onload:null,
            onchange:null,
            onbeforechange:null,
            onafterchanges:null,
            onbeforeinsertrow: null,
            oninsertrow:null,
            onbeforeinsertcolumn: null,
            oninsertcolumn:null,
            onbeforedeleterow:null,
            ondeleterow:null,
            onbeforedeletecolumn:null,
            ondeletecolumn:null,
            onmoverow:null,
            onmovecolumn:null,
            onresizerow:null,
            onresizecolumn:null,
            onsort:null,
            onselection:null,
            onpaste:null,
            onbeforepaste:null,
            onmerge:null,
            onfocus:null,
            onblur:null,
            onchangeheader:null,
            oneditionstart:null,
            oneditionend:null,
            onchangestyle:null,
            onchangemeta:null,
            onchangepage:null,
            onbeforesave:null,
            onsave:null,
            // Global event dispatcher
            onevent:null,
            // Persistance
            persistance:false,
            // Customize any cell behavior
            updateTable:null,
            // Detach the HTML table when calling updateTable
            detachForUpdates: false,
            freezeColumns:null,
            // Texts
            text:{
                noRecordsFound: 'No records found',
                showingPage: 'Showing page {0} of {1} entries',
                show: 'Show ',
                search: 'Search',
                entries: ' entries',
                columnName: 'Column name',
                insertANewColumnBefore: 'Insert a new column before',
                insertANewColumnAfter: 'Insert a new column after',
                deleteSelectedColumns: 'Delete selected columns',
                renameThisColumn: 'Rename this column',
                orderAscending: 'Order ascending',
                orderDescending: 'Order descending',
                insertANewRowBefore: 'Insert a new row before',
                insertANewRowAfter: 'Insert a new row after',
                deleteSelectedRows: 'Delete selected rows',
                editComments: 'Edit comments',
                addComments: 'Add comments',
                comments: 'Comments',
                clearComments: 'Clear comments',
                copy: 'Copy...',
                paste: 'Paste...',
                saveAs: 'Save as...',
                about: 'About',
                areYouSureToDeleteTheSelectedRows: 'Are you sure to delete the selected rows?',
                areYouSureToDeleteTheSelectedColumns: 'Are you sure to delete the selected columns?',
                thisActionWillDestroyAnyExistingMergedCellsAreYouSure: 'This action will destroy any existing merged cells. Are you sure?',
                thisActionWillClearYourSearchResultsAreYouSure: 'This action will clear your search results. Are you sure?',
                thereIsAConflictWithAnotherMergedCell: 'There is a conflict with another merged cell',
                invalidMergeProperties: 'Invalid merged properties',
                cellAlreadyMerged: 'Cell already merged',
                noCellsSelected: 'No cells selected',
            },
            // About message
            about:"jExcel CE Spreadsheet\nVersion 4.1.2\nAuthor: Paul Hodel <paul.hodel@gmail.com>\nWebsite: https://bossanova.uk/jexcel/v3",
        };
    
        // Loading initial configuration from user
        for (var property in defaults) {
            if (options && options.hasOwnProperty(property)) {
                if (property === 'text') {
                    obj.options[property] = defaults[property];
                    for (var textKey in options[property]) {
                        if (options[property].hasOwnProperty(textKey)){
                            obj.options[property][textKey] = options[property][textKey];
                        }
                    }
                } else {
                    obj.options[property] = options[property];
                }
            } else {
                obj.options[property] = defaults[property];
            }
        }

        // Global elements
        obj.el = el;
        obj.corner = null;
        obj.contextMenu = null;
        obj.textarea = null;
        obj.ads = null;
        obj.content = null;
        obj.table = null;
        obj.thead = null;
        obj.tbody = null;
        obj.rows = [];
        obj.results = null;
        obj.searchInput = null;
        obj.toolbar = null;
        obj.pagination = null;
        obj.pageNumber = null;
        obj.headerContainer = null;
        obj.colgroupContainer = null;
    
        // Containers
        obj.headers = [];
        obj.records = [];
        obj.history = [];
        obj.formula = [];
        obj.colgroup = [];
        obj.selection = [];
        obj.highlighted  = [];
        obj.selectedCell = null;
        obj.selectedContainer = null;
        obj.style = [];
        obj.data = null;
        obj.filter = null;
        obj.filters = [];

        // Internal controllers
        obj.cursor = null;
        obj.historyIndex = -1;
        obj.ignoreEvents = false;
        obj.ignoreHistory = false;
        obj.edition = null;
        obj.hashString = null;
        obj.resizing = null;
        obj.dragging = null;
    
        // Lazy loading
        if (obj.options.lazyLoading == true && (obj.options.tableOverflow == false && obj.options.fullscreen == false)) {
            console.error('JEXCEL: The lazyloading only works when tableOverflow = yes or fullscreen = yes');
            obj.options.lazyLoading = false;
        }
        
        /**
         * Activate/Disable fullscreen 
         * use programmatically : table.fullscreen(); or table.fullscreen(true); or table.fullscreen(false);
         * @Param {boolean} activate
         */
        obj.fullscreen = function(activate) {
            // If activate not defined, get reverse options.fullscreen
            if (activate == null) {
                activate = ! obj.options.fullscreen;
            }
    
            // If change
            if (obj.options.fullscreen != activate) {
                obj.options.fullscreen = activate;
    
                // Test LazyLoading conflict
                if (activate == true) {
                    el.classList.add('fullscreen');
                } else {
                    el.classList.remove('fullscreen');
                }
            } 
        }

        /**
         * Trigger events
         */
        obj.dispatch = function(event) {
            // Dispatch events
            if (! obj.ignoreEvents) {
                // Call global event
                if (typeof(obj.options.onevent) == 'function') {
                    var ret = obj.options.onevent.apply(this, arguments);
                }
                // Call specific events
                if (typeof(obj.options[event]) == 'function') {
                    var ret = obj.options[event].apply(this, Array.prototype.slice.call(arguments, 1));
                }
            }

            // Persistance
            if (event == 'onafterchanges' && obj.options.persistance) {
                var url = obj.options.persistance == true ? obj.options.url : obj.options.persistance;
                var data = obj.prepareJson(arguments[2]);
                obj.save(url, data);
            }

            return ret;
        }

        /**
         * Prepare the jexcel table
         * 
         * @Param config
         */
        obj.prepareTable = function() {
            // Loading initial data from remote sources
            var results = [];
    
            // Number of columns
            var size = obj.options.columns.length;
    
            if (obj.options.data && typeof(obj.options.data[0]) !== 'undefined') {
                // Data keys
                var keys = Object.keys(obj.options.data[0]);
    
                if (keys.length > size) {
                    size = keys.length;
                }
            }
    
            // Minimal dimensions
            if (obj.options.minDimensions[0] > size) {
                size = obj.options.minDimensions[0];
            }
    
            // Requests
            var multiple = [];
    
            // Preparations
            for (var i = 0; i < size; i++) {
                // Deprected options. You should use only columns
                if (! obj.options.colHeaders[i]) {
                    obj.options.colHeaders[i] = '';
                }
                if (! obj.options.colWidths[i]) {
                    obj.options.colWidths[i] = obj.options.defaultColWidth;
                }
                if (! obj.options.colAlignments[i]) {
                    obj.options.colAlignments[i] = obj.options.defaultColAlign;
                }
    
                // Default column description
                if (! obj.options.columns[i]) {
                    obj.options.columns[i] = { type:'text' };
                } else if (! obj.options.columns[i].type) {
                    obj.options.columns[i].type = 'text';
                }
                if (! obj.options.columns[i].name) {
                    obj.options.columns[i].name = keys && keys[i] ? keys[i] : i;
                }
                if (! obj.options.columns[i].source) {
                    obj.options.columns[i].source = [];
                }
                if (! obj.options.columns[i].options) {
                    obj.options.columns[i].options = [];
                }
                if (! obj.options.columns[i].editor) {
                    obj.options.columns[i].editor = null;
                }
                if (! obj.options.columns[i].allowEmpty) {
                    obj.options.columns[i].allowEmpty = false;
                }
                if (! obj.options.columns[i].title) {
                    obj.options.columns[i].title = obj.options.colHeaders[i] ? obj.options.colHeaders[i] : '';
                }
                if (! obj.options.columns[i].width) {
                    obj.options.columns[i].width = obj.options.colWidths[i] ? obj.options.colWidths[i] : obj.options.defaultColWidth;
                }
                if (! obj.options.columns[i].align) {
                    obj.options.columns[i].align = obj.options.colAlignments[i] ? obj.options.colAlignments[i] : 'center';
                }
    
                // Pre-load initial source for json autocomplete
                if (obj.options.columns[i].type == 'autocomplete' || obj.options.columns[i].type == 'dropdown') {
                    // if remote content
                    if (obj.options.columns[i].url) {
                        multiple.push(jSuites.ajax({
                            url: obj.options.columns[i].url,
                            index: i,
                            method: 'GET',
                            dataType: 'json',
                            multiple: multiple,
                            success: function(data) {
                                var source = [];
                                for (var i = 0; i < data.length; i++) {
                                    obj.options.columns[this.index].source.push(data[i]);
                                }
                            },
                            complete: function() {
                                obj.createTable();
                            }
                        }));
                    }
                } else if (obj.options.columns[i].type == 'calendar') {
                    // Default format for date columns
                    if (! obj.options.columns[i].options.format) {
                        obj.options.columns[i].options.format = 'DD/MM/YYYY';
                    }
                }
            }
    
            // On complete
            if (! multiple.length) {
                obj.createTable();
            }
        }
    
        obj.createTable = function() {
            // Elements
            obj.table = document.createElement('table');
            obj.thead = document.createElement('thead');
            obj.tbody = document.createElement('tbody');

            // Create headers controllers
            obj.headers = [];
            obj.colgroup = [];
    
            // Create table container
            obj.content = document.createElement('div');
            obj.content.classList.add('jexcel_content');
            obj.content.onscroll = function(e) {
                obj.scrollControls(e);
            }
            obj.content.onwheel = function(e) {
                obj.wheelControls(e);
            }

            // Create toolbar object
            obj.toolbar = document.createElement('div');
            obj.toolbar.classList.add('jexcel_toolbar');
    
            // Search
            var searchContainer = document.createElement('div');
            var searchText = document.createTextNode((obj.options.text.search) + ': ');
            obj.searchInput = document.createElement('input');
            obj.searchInput.classList.add('jexcel_search');
            searchContainer.appendChild(searchText);
            searchContainer.appendChild(obj.searchInput);
            obj.searchInput.onfocus = function() {
                obj.resetSelection();
            }
    
            // Pagination select option
            var paginationUpdateContainer = document.createElement('div');
    
            if (obj.options.pagination > 0 && obj.options.paginationOptions && obj.options.paginationOptions.length > 0) {
                obj.paginationDropdown = document.createElement('select');
                obj.paginationDropdown.classList.add('jexcel_pagination_dropdown');
                obj.paginationDropdown.onchange = function() {
                    obj.options.pagination = parseInt(this.value);
                    obj.page(0);
                }
    
                for (var i = 0; i < obj.options.paginationOptions.length; i++) {
                    var temp = document.createElement('option');
                    temp.value = obj.options.paginationOptions[i];
                    temp.innerHTML = obj.options.paginationOptions[i];
                    obj.paginationDropdown.appendChild(temp);
                }
    
                paginationUpdateContainer.appendChild(document.createTextNode(obj.options.text.show));
                paginationUpdateContainer.appendChild(obj.paginationDropdown);
                paginationUpdateContainer.appendChild(document.createTextNode(obj.options.text.entries));
            }
    
            // Filter and pagination container
            var filter = document.createElement('div');
            filter.classList.add('jexcel_filter');
            filter.appendChild(paginationUpdateContainer);
            filter.appendChild(searchContainer);
    
            // Colsgroup
            obj.colgroupContainer = document.createElement('colgroup');
            var tempCol = document.createElement('col');
            tempCol.setAttribute('width', '50');
            obj.colgroupContainer.appendChild(tempCol);
    
            // Nested
            if (obj.options.nestedHeaders && obj.options.nestedHeaders.length > 0) {
                // Flexible way to handle nestedheaders
                if (obj.options.nestedHeaders[0] && obj.options.nestedHeaders[0][0]) {
                    for (var j = 0; j < obj.options.nestedHeaders.length; j++) {
                        obj.thead.appendChild(obj.createNestedHeader(obj.options.nestedHeaders[j]));
                    }
                } else {
                    obj.thead.appendChild(obj.createNestedHeader(obj.options.nestedHeaders));
                }
            }
    
            // Row
            obj.headerContainer = document.createElement('tr');
            var tempCol = document.createElement('td');
            tempCol.classList.add('jexcel_selectall');
            obj.headerContainer.appendChild(tempCol);
    
            for (var i = 0; i < obj.options.columns.length; i++) {
                // Create header
                obj.createCellHeader(i);
                // Append cell to the container
                obj.headerContainer.appendChild(obj.headers[i]);
                obj.colgroupContainer.appendChild(obj.colgroup[i]);
            }

            obj.thead.appendChild(obj.headerContainer);

            // Filters
            if (obj.options.filters == true) {
                obj.filter = document.createElement('tr');
                var td = document.createElement('td');
                obj.filter.appendChild(td);

                for (var i = 0; i < obj.options.columns.length; i++) {
                    var td = document.createElement('td');
                    td.innerHTML = '&nbsp;';
                    td.setAttribute('data-x', i);
                    td.className = 'jexcel_column_filter';
                    obj.filter.appendChild(td);
                }

                obj.thead.appendChild(obj.filter);
            }

            // Content table
            obj.table = document.createElement('table');
            obj.table.classList.add('jexcel');
            obj.table.setAttribute('cellpadding', '0');
            obj.table.setAttribute('cellspacing', '0');
            obj.table.setAttribute('unselectable', 'yes');
            //obj.table.setAttribute('onselectstart', 'return false');
            obj.table.appendChild(obj.colgroupContainer);
            obj.table.appendChild(obj.thead);
            obj.table.appendChild(obj.tbody);

            // Spreadsheet corner
            obj.corner = document.createElement('div');
            obj.corner.className = 'jexcel_corner';
            obj.corner.setAttribute('unselectable', 'on');
            obj.corner.setAttribute('onselectstart', 'return false');
    
            if (obj.options.selectionCopy == false) {
                obj.corner.style.display = 'none';
            }
    
            // Textarea helper
            obj.textarea = document.createElement('textarea');
            obj.textarea.className = 'jexcel_textarea';
            obj.textarea.id = 'jexcel_textarea';
            obj.textarea.tabIndex = '-1';

            // Contextmenu container
            obj.contextMenu = document.createElement('div');
            obj.contextMenu.className = 'jexcel_contextmenu';
    
            // Create element
            jSuites.contextmenu(obj.contextMenu, {
                onclick:function() {
                    obj.contextMenu.contextmenu.close(false);
                }
            });
    
            // Powered by jExcel
            var ads = document.createElement('a');
            ads.setAttribute('href', 'https://bossanova.uk/jexcel/');
            obj.ads = document.createElement('div');
            obj.ads.className = 'jexcel_about';
            if (typeof(sessionStorage) !== "undefined" && ! sessionStorage.getItem('jexcel')) {
                sessionStorage.setItem('jexcel', true);
                var img = document.createElement('img');
                img.src = '//bossanova.uk/jexcel/logo.png';
                ads.appendChild(img);
            }
            var span = document.createElement('span');
            span.innerHTML = 'Jexcel spreadsheet';
            ads.appendChild(span);
            obj.ads.appendChild(ads);

            // Create table container TODO: frozen columns
            var container = document.createElement('div');
            container.classList.add('jexcel_table');
    
            // Pagination
            obj.pagination = document.createElement('div');
            obj.pagination.classList.add('jexcel_pagination');
            var paginationInfo = document.createElement('div');
            var paginationPages = document.createElement('div');
            obj.pagination.appendChild(paginationInfo);
            obj.pagination.appendChild(paginationPages);

            // Hide pagination if not in use
            if (! obj.options.pagination) {
                obj.pagination.style.display = 'none';
            }

            // Append containers to the table
            if (obj.options.search == true) {
                el.appendChild(filter);
            }
    
            // Elements
            obj.content.appendChild(obj.table);
            obj.content.appendChild(obj.corner);
            obj.content.appendChild(obj.textarea);
    
            el.appendChild(obj.toolbar);
            el.appendChild(obj.content);
            el.appendChild(obj.pagination);
            el.appendChild(obj.contextMenu);
            el.appendChild(obj.ads);
            el.classList.add('jexcel_container');
    
            // Create toolbar
            if (obj.options.toolbar && obj.options.toolbar.length) {
                obj.createToolbar();
            }
    
            // Fullscreen
            if (obj.options.fullscreen == true) {
                el.classList.add('fullscreen');
            } else {
                // Overflow
                if (obj.options.tableOverflow == true) {
                    if (obj.options.tableHeight) {
                        obj.content.style['overflow-y'] = 'auto';
                        obj.content.style.maxHeight = obj.options.tableHeight;
                    }
                    if (obj.options.tableWidth) {
                        obj.content.style['overflow-x'] = 'auto';
                        obj.content.style.width = obj.options.tableWidth;
                    }
                }
            }
    
            // With toolbars
            if (obj.options.tableOverflow != true && obj.options.toolbar) {
                el.classList.add('with-toolbar');
            }
    
            // Actions
            if (obj.options.columnDrag == true) {
                obj.thead.classList.add('draggable');
            }
            if (obj.options.columnResize == true) {
                obj.thead.classList.add('resizable');
            }
            if (obj.options.rowDrag == true) {
                obj.tbody.classList.add('draggable');
            }
            if (obj.options.rowResize == true) {
                obj.tbody.classList.add('resizable');
            }
    
            // Load data
            obj.setData();
    
            // Style
            if (obj.options.style) {
                obj.setStyle(obj.options.style, null, null, 1, 1);
            }
        }

        /**
         * Refresh the data
         * 
         * @return void
         */
        obj.refresh = function() {
            if (obj.options.url) {
                // Loading
                if (obj.options.loadingSpin == true) {
                    jSuites.loading.show();
                }
    
                jSuites.ajax({
                    url: obj.options.url,
                    method: 'GET',
                    dataType: 'json',
                    success: function(result) {
                        // Data
                        obj.options.data = (result.data) ? result.data : result;
                        // Prepare table
                        obj.setData();
                        // Hide spin
                        if (obj.options.loadingSpin == true) {
                            jSuites.loading.hide();
                        }
                    }
                });
            } else {
                obj.setData();
            }
        }

        /**
         * Set data
         * 
         * @param array data In case no data is sent, default is reloaded
         * @return void
         */
        obj.setData = function(data) {
            // Update data
            if (data) {
                if (typeof(data) == 'string') {
                    data = JSON.parse(data);
                }
    
                obj.options.data = data;
            }
    
            // Data
            if (! obj.options.data) {
                obj.options.data = [];
            }
    
            // Prepare data
            if (obj.options.data && obj.options.data[0]) {
                if (! Array.isArray(obj.options.data[0])) {
                    var data = [];
                    for (var j = 0; j < obj.options.data.length; j++) {
                        var row = [];
                        for (var i = 0; i < obj.options.columns.length; i++) {
                            row[i] = obj.options.data[j][obj.options.columns[i].name];
                        }
                        data.push(row);
                    }

                    obj.options.data = data;
                }
            }

            // Adjust minimal dimensions
            var j = 0;
            var i = 0;
            var size_i = obj.options.columns.length;
            var size_j = obj.options.data.length;
            var min_i = obj.options.minDimensions[0];
            var min_j = obj.options.minDimensions[1];
            var max_i = min_i > size_i ? min_i : size_i;
            var max_j = min_j > size_j ? min_j : size_j;
    
            for (j = 0; j < max_j; j++) {
                for (i = 0; i < max_i; i++) {
                    if (obj.options.data[j] == undefined) {
                        obj.options.data[j] = [];
                    }
    
                    if (obj.options.data[j][i] == undefined) {
                        obj.options.data[j][i] = '';
                    }
                }
            }
    
            // Reset containers
            obj.rows = [];
            obj.results = null;
            obj.records = [];
            obj.history = [];
    
            // Reset internal controllers
            obj.historyIndex = -1;
    
            // Reset data
            obj.tbody.innerHTML = '';
    
            // Lazy loading
            if (obj.options.lazyLoading == true) {
                // Load only 100 records
                var startNumber = 0
                var finalNumber = obj.options.data.length < 100 ? obj.options.data.length : 100;
    
                if (obj.options.pagination) {
                    obj.options.pagination = false;
                    console.error('JEXCEL: Pagination will be disable due the lazyLoading');
                }
            } else if (obj.options.pagination) {
                // Pagination
                if (! obj.pageNumber) {
                    obj.pageNumber = 0;
                }
                var quantityPerPage = obj.options.pagination;
                startNumber = (obj.options.pagination * obj.pageNumber);
                finalNumber = (obj.options.pagination * obj.pageNumber) + obj.options.pagination;
    
                if (obj.options.data.length < finalNumber) {
                    finalNumber = obj.options.data.length;
                }
            } else {
                var startNumber = 0;
                var finalNumber = obj.options.data.length;
            }
    
            // Append nodes to the HTML
            for (j = 0; j < obj.options.data.length; j++) {
                // Create row
                var tr = obj.createRow(j, obj.options.data[j]);
                // Append line to the table
                if (j >= startNumber && j < finalNumber) {
                    obj.tbody.appendChild(tr);
                }
            }
    
            if (obj.options.lazyLoading == true) {
                // Do not create pagination with lazyloading activated
            } else if (obj.options.pagination) {
                obj.updatePagination();
            }
    
            // Merge cells
            if (obj.options.mergeCells) {
                var keys = Object.keys(obj.options.mergeCells);
                for (var i = 0; i < keys.length; i++) {
                    var num = obj.options.mergeCells[keys[i]];
                    obj.setMerge(keys[i], num[0], num[1], 1);
                }
            }

            // Updata table with custom configurations if applicable
            obj.updateTable();

            // Onload
            obj.dispatch('onload', el, obj);
        }

        /**
         * Get the whole table data
         * 
         * @param bool get highlighted cells only
         * @return array data
         */
        obj.getData = function(highlighted, dataOnly) {
            // Control vars
            var dataset = [];
            var px = 0;
            var py = 0;

            // Data type
            var dataType = dataOnly == true || obj.options.copyCompatibility == false ? true : false;

            // Column and row length
            var x = obj.options.columns.length
            var y = obj.options.data.length
    
            // Go through the columns to get the data
            for (var j = 0; j < y; j++) {
                px = 0;
                for (var i = 0; i < x; i++) {
                    // Cell selected or fullset
                    if (! highlighted || obj.records[j][i].classList.contains('highlight')) {
                        // Get value
                        if (! dataset[py]) {
                            dataset[py] = [];
                        }
                        if (! dataType) {
                            dataset[py][px] = obj.records[j][i].innerHTML;
                        } else {
                            dataset[py][px] = obj.options.data[j][i];
                        }
                        px++;
                    }
                }
                if (px > 0) {
                    py++;
                }
           }
    
           return dataset;
        }
    
        /**
         * Get the whole table data
         * 
         * @param integer row number
         * @return string value
         */
        obj.getJson = function(highlighted) {
            // Control vars
            var data = [];
    
            // Column and row length
            var x = obj.options.columns.length
            var y = obj.options.data.length
    
            // Go through the columns to get the data
            for (var j = 0; j < y; j++) {
                var row = null;
                for (var i = 0; i < x; i++) {
                    if (! highlighted || obj.records[j][i].classList.contains('highlight')) {
                        if (row == null) {
                            row = {};
                        }
                        if (! obj.options.columns[i].name) {
                            obj.options.columns[i].name = i;
                        }
                        row[obj.options.columns[i].name] = obj.options.data[j][i];
                    }
                }
    
                if (row != null) {
                    data.push(row);
                }
           }
    
           return data;
        }

        /**
         * Prepare JSON in the correct format
         */
        obj.prepareJson = function(data) {
            var rows = [];
            for (var i = 0; i < data.length; i++) {
                var x = data[i].x;
                var y = data[i].y;
                var k = obj.options.columns[x].name ? obj.options.columns[x].name : x;

                // Create row
                if (! rows[y]) {
                    rows[y] = {
                        row: y,
                        data: {},
                    };
                }
                rows[y].data[k] = data[i].newValue;
            }

            // Filter rows
            return rows.filter(function (el) {
                return el != null;
            });
        }

        /**
         * Post json to a remote server
         */
        obj.save = function(url, data) {
            // Parse anything in the data before sending to the server
            var ret = obj.dispatch('onbeforesave', el, obj, data);
console.log(ret);
            if (ret) {
                var data = ret;
            } else {
                if (ret === false) {
                    return false;
                }
            }

            // Remove update
            jSuites.ajax({
                url: url,
                method: 'POST',
                dataType: 'json',
                data: { data: JSON.stringify(data) },
                success: function(result) {
                    // Event
                    obj.dispatch('onsave', el, obj, data);
                }
            });
        }

        /**
         * Get a row data by rowNumber
         */
        obj.getRowData = function(rowNumber) {
            return obj.options.data[rowNumber];
        }
    
        /**
         * Set a row data by rowNumber
         */
        obj.setRowData = function(rowNumber, data) {
            for (var i = 0; i < obj.headers.length; i++) {
                // Update cell
                var columnName = jexcel.getColumnNameFromId([ i, rowNumber ]);
                // Set value
                if (data[i] != null) {
                    obj.setValue(columnName, data[i]);
                }
            }
        }
    
        /**
         * Get a column data by columnNumber
         */
        obj.getColumnData = function(columnNumber) {
            var dataset = [];
            // Go through the rows to get the data
            for (var j = 0; j < obj.options.data.length; j++) {
                dataset.push(obj.options.data[j][columnNumber]);
            }
            return dataset;
        }
    
        /**
         * Set a column data by colNumber
         */
        obj.setColumnData = function(colNumber, data) {
            for (var j = 0; j < obj.rows.length; j++) {
                // Update cell
                var columnName = jexcel.getColumnNameFromId([ colNumber, j ]);
                // Set value
                if (data[j] != null) {
                    obj.setValue(columnName, data[j]);
                }
            }
        }
    
        /**
         * Create row
         */
        obj.createRow = function(j, data) {
            // Create container
            if (! obj.records[j]) {
                obj.records[j] = [];
            }
            // Default data
            if (! data) {
                var data = obj.options.data[j];
            }
            // New line of data to be append in the table
            obj.rows[j] = document.createElement('tr');
            obj.rows[j].setAttribute('data-y', j);
            // Definitions
            if (obj.options.rows[j]) {
                if (obj.options.rows[j].height) {
                    obj.rows[j].style.height = obj.options.rows[j].height;
                }
            }
            // Row number label
            var td = document.createElement('td');
            td.innerHTML = parseInt(j + 1);
            td.setAttribute('data-y', j);
            td.className = 'jexcel_row';
            obj.rows[j].appendChild(td);
    
            // Data columns
            for (var i = 0; i < obj.options.columns.length; i++) {
                // New column of data to be append in the line
                obj.records[j][i] = obj.createCell(i, j, data[i]);
                // Add column to the row
                obj.rows[j].appendChild(obj.records[j][i]);
            }
    
            // Add row to the table body
            return obj.rows[j];
        }
    
        obj.parseValue = function(i, j, value) {
            if ((''+value).substr(0,1) == '=' && obj.options.parseFormulas == true) {
                value = obj.executeFormula(value, i, j)
            }
            if (obj.options.columns[i].mask) {
                var decimal = obj.options.columns[i].decimal || '.';
                value = '' + jSuites.mask.run(value, obj.options.columns[i].mask, decimal);
            }

            return value;
        }

        /**
         * Create cell
         */
        obj.createCell = function(i, j, value) {
            // Create cell and properties
            var td = document.createElement('td');
            td.setAttribute('data-x', i);
            td.setAttribute('data-y', j);

            // Custom column
            if (obj.options.columns[i].editor) {
                td.innerHTML =  value;
                if (typeof(obj.options.columns[i].editor.createCell) == 'function') {
                    td = obj.options.columns[i].editor.createCell(td);
                }
            } else {
                // Hidden column
                if (obj.options.columns[i].type == 'hidden') {
                    td.style.display = 'none';
                    td.innerHTML = value;
                } else if (obj.options.columns[i].type == 'checkbox' || obj.options.columns[i].type == 'radio') {
                    // Create input
                    var element = document.createElement('input');
                    element.type = obj.options.columns[i].type;
                    element.name = 'c' + i;
                    element.checked = (value == 1 || value == true || value == 'true') ? true : false;
                    element.onclick = function() {
                        obj.setValue(td, this.checked);
                    }

                    if (obj.options.columns[i].readOnly == true || obj.options.editable == false) {
                        element.setAttribute('disabled', 'disabled');
                    }

                    // Append to the table
                    td.appendChild(element);
                    // Make sure the values are correct
                    obj.options.data[j][i] = element.checked;
                } else if (obj.options.columns[i].type == 'calendar') {
                    // Try formatted date
                    var formatted = jSuites.calendar.extractDateFromString(value, obj.options.columns[i].options.format);
                    // Create calendar cell
                    td.innerHTML = jSuites.calendar.getDateString(formatted ? formatted : value, obj.options.columns[i].options.format);
                } else if (obj.options.columns[i].type == 'dropdown' || obj.options.columns[i].type == 'autocomplete') {
                    // Create dropdown cell
                    td.classList.add('jexcel_dropdown');
                    td.innerHTML = obj.getDropDownValue(i, value);
                } else if (obj.options.columns[i].type == 'color') {
                    if (obj.options.columns[i].render == 'square') {
                        var color = document.createElement('div');
                        color.className = 'color';
                        color.style.backgroundColor = value;
                        td.appendChild(color);
                    } else {
                        td.style.color = value;
                        td.innerHTML = value;
                    }
                } else if (obj.options.columns[i].type == 'image') {
                    if (value && value.substr(0, 10) == 'data:image') {
                        var img = document.createElement('img');
                        img.src = value;
                        td.appendChild(img);
                    }
                } else {
                    td.innerHTML = obj.parseValue(i, j, value);
                }
            }
    
            // Readonly
            if (obj.options.columns[i].readOnly == true) {
                td.className = 'readonly';
            }
    
            // Text align
            var colAlign = obj.options.columns[i].align ? obj.options.columns[i].align : 'center';
            td.style.textAlign = colAlign;
    
            // Wrap option
            if (obj.options.columns[i].wordWrap != false && (obj.options.wordWrap == true || obj.options.columns[i].wordWrap == true || td.innerHTML.length > 200)) {
                td.style.whiteSpace = 'pre-wrap';
            }
    
            // Overflow
            if (i > 0) {
                if (value || td.innerHTML) {
                    obj.records[j][i-1].style.overflow = 'hidden';
                } else {
                    if (i == obj.options.columns.length - 1) {
                        td.style.overflow = 'hidden';
                    }
                }
            }
    
            return td;
        }
    
        obj.createCellHeader = function(colNumber) {
            // Create col global control
            var colWidth = obj.options.columns[colNumber].width ? obj.options.columns[colNumber].width : obj.options.defaultColWidth;
            var colAlign = obj.options.columns[colNumber].align ? obj.options.columns[colNumber].align : obj.options.defaultColAlign;
    
            // Create header cell
            obj.headers[colNumber] = document.createElement('td');
            obj.headers[colNumber].innerHTML = obj.options.columns[colNumber].title ? obj.options.columns[colNumber].title : jexcel.getColumnName(colNumber);
            obj.headers[colNumber].setAttribute('data-x', colNumber);
            obj.headers[colNumber].style.textAlign = colAlign;
            if (obj.options.columns[colNumber].title) {
                obj.headers[colNumber].setAttribute('title', obj.options.columns[colNumber].title);
            }
    
            // Width control
            obj.colgroup[colNumber] = document.createElement('col');
            obj.colgroup[colNumber].setAttribute('width', colWidth);
    
            // Hidden column
            if (obj.options.columns[colNumber].type == 'hidden') {
                obj.headers[colNumber].style.display = 'none';
                obj.colgroup[colNumber].style.display = 'none';
            }
        }

        /**
         * Update a nested header title
         */
        obj.updateNestedHeader = function(x, y, title) {
            if (obj.options.nestedHeaders[y][x].title) {
                obj.options.nestedHeaders[y][x].title = title;
                obj.options.nestedHeaders[y].element.children[x+1].innerHTML = title;
            }
        }

        /**
         * Create a nested header object
         */
        obj.createNestedHeader = function(nestedInformation) {
            var tr = document.createElement('tr');
            tr.classList.add('jexcel_nested');
            var td = document.createElement('td');
            tr.appendChild(td);
            // Element
            nestedInformation.element = tr;
    
            var headerIndex = 0;
            for (var i = 0; i < nestedInformation.length; i++) {
                // Default values
                if (! nestedInformation[i].colspan) {
                    nestedInformation[i].colspan = 1;
                }
                if (! nestedInformation[i].align) {
                    nestedInformation[i].align = 'center';
                }
                if (! nestedInformation[i].title) {
                    nestedInformation[i].title = '';
                }
    
                // Number of columns
                var numberOfColumns = nestedInformation[i].colspan;
    
                // Classes container
                var column = [];
                // Header classes for this cell
                for (var x = 0; x < numberOfColumns; x++) {
                    if (obj.options.columns[headerIndex] && obj.options.columns[headerIndex].type == 'hidden') {
                        numberOfColumns++;
                    }
                    column.push(headerIndex);
                    headerIndex++;
                }
    
                // Created the nested cell
                var td = document.createElement('td');
                td.setAttribute('data-column', column.join(','));
                td.setAttribute('colspan', nestedInformation[i].colspan);
                td.setAttribute('align', nestedInformation[i].align);
                td.innerHTML = nestedInformation[i].title;
                tr.appendChild(td);
            }
    
            return tr;
        }
    
        /**
         * Create toolbar
         */
        obj.createToolbar = function(toolbar) {
            if (toolbar) {
                obj.options.toolbar = toolbar;
            } else {
                var toolbar = obj.options.toolbar;
            }
    
            for (var i = 0; i < toolbar.length; i++) {
                if (toolbar[i].type == 'i') {
                    var toolbarItem = document.createElement('i');
                    toolbarItem.classList.add('jexcel_toolbar_item');
                    toolbarItem.classList.add('material-icons');
                    toolbarItem.setAttribute('data-k', toolbar[i].k);
                    toolbarItem.setAttribute('data-v', toolbar[i].v);
                    // Tooltip
                    if (toolbar[i].tooltip) {
                        toolbarItem.setAttribute('title', toolbar[i].tooltip);
                    }
                    // Handle click
                    if (toolbar[i].onclick && typeof(toolbar[i].onclick)) {
                        toolbarItem.onclick = toolbar[i].onclick;
                    } else {
                        toolbarItem.onclick = function() {
                            var k = this.getAttribute('data-k');
                            var v = this.getAttribute('data-v');
                            obj.setStyle(obj.highlighted, k, v);
                        }
                    }
                    // Append element
                    toolbarItem.innerHTML = toolbar[i].content;
                    obj.toolbar.appendChild(toolbarItem);
                } else if (toolbar[i].type == 'select') {
                   var toolbarItem = document.createElement('select');
                   toolbarItem.classList.add('jexcel_toolbar_item');
                   toolbarItem.setAttribute('data-k', toolbar[i].k);
                   // Tooltip
                   if (toolbar[i].tooltip) {
                       toolbarItem.setAttribute('title', toolbar[i].tooltip);
                   }
                   // Handle onchange
                   if (toolbar[i].onchange && typeof(toolbar[i].onchange)) {
                       toolbarItem.onchange = toolbar[i].onchange;
                   } else {
                       toolbarItem.onchange = function() {
                           var k = this.getAttribute('data-k');
                           obj.setStyle(obj.highlighted, k, this.value);
                       }
                   }
                   // Add options to the dropdown
                   for(var j = 0; j < toolbar[i].v.length; j++) {
                        var toolbarDropdownOption = document.createElement('option');
                        toolbarDropdownOption.value = toolbar[i].v[j];
                        toolbarDropdownOption.innerHTML = toolbar[i].v[j];
                        toolbarItem.appendChild(toolbarDropdownOption);
                   }
                   obj.toolbar.appendChild(toolbarItem);
                } else if (toolbar[i].type == 'color') {
                     var toolbarItem = document.createElement('i');
                     toolbarItem.classList.add('jexcel_toolbar_item');
                     toolbarItem.classList.add('material-icons');
                     toolbarItem.setAttribute('data-k', toolbar[i].k);
                     toolbarItem.setAttribute('data-v', '');
                     // Tooltip
                     if (toolbar[i].tooltip) {
                         toolbarItem.setAttribute('title', toolbar[i].tooltip);
                     }
                     obj.toolbar.appendChild(toolbarItem);
                     toolbarItem.onclick = function() {
                         this.color.open();
                     }
                     toolbarItem.innerHTML = toolbar[i].content;
                     jSuites.color(toolbarItem, {
                         onchange:function(o, v) {
                             var k = o.getAttribute('data-k');
                             obj.setStyle(obj.highlighted, k, v);
                         }
                     });
                }
            }
        }
    
        /**
         * Merge cells
         * @param cellName
         * @param colspan
         * @param rowspan
         * @param ignoreHistoryAndEvents
         */
        obj.setMerge = function(cellName, colspan, rowspan, ignoreHistoryAndEvents) {
            var test = false;
    
            if (! cellName) {
                if (! obj.highlighted.length) {
                    alert(obj.options.text.noCellsSelected);
                    return null;
                } else {
                    var x1 = parseInt(obj.highlighted[0].getAttribute('data-x'));
                    var y1 = parseInt(obj.highlighted[0].getAttribute('data-y'));
                    var x2 = parseInt(obj.highlighted[obj.highlighted.length-1].getAttribute('data-x'));
                    var y2 = parseInt(obj.highlighted[obj.highlighted.length-1].getAttribute('data-y'));
                    var cellName = jexcel.getColumnNameFromId([ x1, y1 ]);
                    var colspan = (x2 - x1) + 1;
                    var rowspan = (y2 - y1) + 1;
                }
            }
    
            var cell = jexcel.getIdFromColumnName(cellName, true);
    
            if (obj.options.mergeCells[cellName]) {
                if (obj.records[cell[1]][cell[0]].getAttribute('data-merged')) {
                    test = obj.options.text.cellAlreadyMerged;
                }
            } else if ((! colspan || colspan < 2) && (! rowspan || rowspan < 2)) {
                test = obj.options.text.invalidMergeProperties;
            } else {
                var cells = [];
                for (var j = cell[1]; j < cell[1] + rowspan; j++) {
                    for (var i = cell[0]; i < cell[0] + colspan; i++) {
                        var columnName = jexcel.getColumnNameFromId([i, j]);
                        if (obj.records[j][i].getAttribute('data-merged')) {
                            test = obj.options.text.thereIsAConflictWithAnotherMergedCell;
                        }
                    }
                }
            }
    
            if (test) {
                alert(test);
            } else {
                // Add property
                if (colspan > 1) {
                    obj.records[cell[1]][cell[0]].setAttribute('colspan', colspan);
                } else {
                    colspan = 1;
                }
                if (rowspan > 1) {
                    obj.records[cell[1]][cell[0]].setAttribute('rowspan', rowspan);
                } else {
                    rowspan = 1;
                }
                // Keep links to the existing nodes
                obj.options.mergeCells[cellName] = [ colspan, rowspan, [] ];
                // Mark cell as merged
                obj.records[cell[1]][cell[0]].setAttribute('data-merged', 'true');
                // Overflow
                obj.records[cell[1]][cell[0]].style.overflow = 'hidden';
                // History data
                var data = [];
                // Adjust the nodes
                for (var y = cell[1]; y < cell[1] + rowspan; y++) {
                    for (var x = cell[0]; x < cell[0] + colspan; x++) {
                        if (! (cell[0] == x && cell[1] == y)) {
                            data.push(obj.options.data[y][x]);
                            obj.updateCell(x, y, '', true);
                            obj.options.mergeCells[cellName][2].push(obj.records[y][x]);
                            obj.records[y][x].style.display = 'none';
                            obj.records[y][x] = obj.records[cell[1]][cell[0]];
                        }
                    }
                }
                // In the initialization is not necessary keep the history
                obj.updateSelection(obj.records[cell[1]][cell[0]]);
    
                if (! ignoreHistoryAndEvents) {
                    obj.setHistory({
                        action:'setMerge',
                        column:cellName,
                        colspan:colspan,
                        rowspan:rowspan,
                        data:data,
                    });
    
                    obj.dispatch('onmerge', el, cellName, colspan, rowspan);
                }
            }
        }
    
        /**
         * Merge cells
         * @param cellName
         * @param colspan
         * @param rowspan
         * @param ignoreHistoryAndEvents
         */
        obj.getMerge = function(cellName) {
            var data = {};
            if (cellName) {
                if (obj.options.mergeCells[cellName]) {
                    data = [ obj.options.mergeCells[cellName][0], obj.options.mergeCells[cellName][1] ];
                } else {
                    data = null;
                }
            } else {
                if (obj.options.mergeCells) {
                    var mergedCells = obj.options.mergeCells;
                    var keys = Object.keys(obj.options.mergeCells);
                    for (var i = 0; i < keys.length; i++) {
                        data[keys[i]] = [ obj.options.mergeCells[keys[i]][0], obj.options.mergeCells[keys[i]][1] ];
                    }
                }
            }
    
            return data;
        }
    
        /**
         * Remove merge by cellname
         * @param cellName
         */
        obj.removeMerge = function(cellName, data, keepOptions) {
            if (obj.options.mergeCells[cellName]) {
                var cell = jexcel.getIdFromColumnName(cellName, true);
                obj.records[cell[1]][cell[0]].removeAttribute('colspan');
                obj.records[cell[1]][cell[0]].removeAttribute('rowspan');
                obj.records[cell[1]][cell[0]].removeAttribute('data-merged');
                var info = obj.options.mergeCells[cellName];
    
                var index = 0;
                for (var j = 0; j < info[1]; j++) {
                    for (var i = 0; i < info[0]; i++) {
                        if (j > 0 || i > 0) {
                            obj.records[cell[1]+j][cell[0]+i] = info[2][index];
                            obj.records[cell[1]+j][cell[0]+i].style.display = '';
                            // Recover data
                            if (data && data[index]) {
                                obj.updateCell(cell[0]+i, cell[1]+j, data[index]);
                            }
                            index++;
                        }
                    }
                }
    
                // Update selection
                obj.updateSelection(obj.records[cell[1]][cell[0]], obj.records[cell[1]+j-1][cell[0]+i-1]);
    
                if (! keepOptions) {
                    delete(obj.options.mergeCells[cellName]);
                }
            }
        }
    
        /**
         * Remove all merged cells
         */
        obj.destroyMerged = function(keepOptions) {
            // Remove any merged cells
            if (obj.options.mergeCells) {
                var mergedCells = obj.options.mergeCells;
                var keys = Object.keys(obj.options.mergeCells);
                for (var i = 0; i < keys.length; i++) {
                    obj.removeMerge(keys[i], null, keepOptions);
                }
            }
        }
    
        /**
         * Is column merged
         */
        obj.isColMerged = function(x, insertBefore) {
            var cols = [];
            // Remove any merged cells
            if (obj.options.mergeCells) {
                var keys = Object.keys(obj.options.mergeCells);
                for (var i = 0; i < keys.length; i++) {
                    var info = jexcel.getIdFromColumnName(keys[i], true);
                    var colspan = obj.options.mergeCells[keys[i]][0];
                    var x1 = info[0];
                    var x2 = info[0] + (colspan > 1 ? colspan - 1 : 0);
    
                    if (insertBefore == null) {
                        if ((x1 <= x && x2 >= x)) {
                            cols.push(keys[i]);
                        }
                    } else {
                        if (insertBefore) {
                            if ((x1 < x && x2 >= x)) {
                                cols.push(keys[i]);
                            }
                        } else {
                            if ((x1 <= x && x2 > x)) {
                                cols.push(keys[i]);
                            }
                        }
                    }
                }
            }
    
            return cols;
        }
    
        /**
         * Is rows merged
         */
        obj.isRowMerged = function(y, insertBefore) {
            var rows = [];
            // Remove any merged cells
            if (obj.options.mergeCells) {
                var keys = Object.keys(obj.options.mergeCells);
                for (var i = 0; i < keys.length; i++) {
                    var info = jexcel.getIdFromColumnName(keys[i], true);
                    var rowspan = obj.options.mergeCells[keys[i]][1];
                    var y1 = info[1];
                    var y2 = info[1] + (rowspan > 1 ? rowspan - 1 : 0);
    
                    if (insertBefore == null) {
                        if ((y1 <= y && y2 >= y)) {
                            rows.push(keys[i]);
                        }
                    } else {
                        if (insertBefore) {
                            if ((y1 < y && y2 >= y)) {
                                rows.push(keys[i]);
                            }
                        } else {
                            if ((y1 <= y && y2 > y)) {
                                rows.push(keys[i]);
                            }
                        }
                    }
                }
            }
    
            return rows;
        }

        /**
         * Open the column filter
         */
        obj.openFilter = function(columnId) {
            if (! obj.options.filters) {
                console.log('JEXCEL: filters not enabled.');
            } else {
                // Make sure is integer
                columnId = parseInt(columnId);
                // Reset selection
                obj.resetSelection();
                // Load options
                var options = [];
                for (var j = 0; j < obj.options.data.length; j++) {
                    var k = obj.options.data[j][columnId];
                    var v = obj.records[j][columnId].innerHTML;
                    if (k && v) {
                        options[k] = v;
                    }
                }
                var keys = Object.keys(options);
                var optionsFiltered = [];
                for (var j = 0; j < keys.length; j++) {
                    optionsFiltered.push({ id: keys[j], name: options[keys[j]] });
                }

                // Create dropdown
                var div = document.createElement('div');
                obj.filter.children[columnId + 1].innerHTML = '';
                obj.filter.children[columnId + 1].appendChild(div);
                obj.filter.children[columnId + 1].style.paddingLeft = '0px';
                obj.filter.children[columnId + 1].style.paddingRight = '20px';
                obj.filter.children[columnId + 1].style.overflow = 'initial';

                // Dynamic dropdown
                jSuites.dropdown(div, {
                    data: optionsFiltered,
                    multiple: true,
                    autocomplete: true,
                    opened: true,
                    value: obj.filters[columnId] ? obj.filters[columnId] : '',
                    width:'100%',
                    position: (obj.options.tableOverflow == true || obj.options.fullscreen == true) ? true : false,
                    onclose: function(o) {
                        obj.resetFilters();
                        obj.filters[columnId] = o.dropdown.getValue(true);
                        obj.filter.children[columnId + 1].innerHTML = o.dropdown.getText();
                        obj.filter.children[columnId + 1].style.paddingLeft = '';
                        obj.filter.children[columnId + 1].style.paddingRight = '';
                        obj.filter.children[columnId + 1].style.overflow = '';
                        obj.closeFilter(columnId);
                    }
                });
            }
        }

        obj.resetFilters = function() {
            if (obj.options.filters) {
                for (var i = 0; i < obj.filter.children.length; i++) {
                    obj.filter.children[i].innerHTML = '&nbsp;';
                    obj.filters[i] = null;
                }
            }
        }

        obj.closeFilter = function(columnId) {
            if (! columnId) {
                for (var i = 0; i < obj.filter.children.length; i++) {
                    if (obj.filters[i]) {
                        columnId = i;
                    }
                }
            }

            // Search filter
            var search = function(query, x, y) {
                for (var i = 0; i < query.length; i++) {
                    if ((''+obj.options.data[y][x]).search(query[i]) >= 0 ||
                        (''+obj.records[y][x].innerHTML).search(query[i]) >= 0) {
                        return true;
                    }
                }
                return false;
            }

            var query = obj.filters[columnId];
            obj.results = [];
            for (var j = 0; j < obj.options.data.length; j++) {
                if (search(query, columnId, j)) {
                    obj.results.push(j);
                }
            }
            if (! obj.results.length) {
                obj.results = null;
            }

            obj.updateResult();
        }

        /**
         * Open the editor
         * 
         * @param object cell
         * @return void
         */
        obj.openEditor = function(cell, empty, e) {
            // Get cell position
            var y = cell.getAttribute('data-y');
            var x = cell.getAttribute('data-x');
    
            // On edition start
            obj.dispatch('oneditionstart', el, cell, x, y);
    
            // Overflow
            if (x > 0) {
                obj.records[y][x-1].style.overflow = 'hidden';
            }
    
            // Create editor
            var createEditor = function(type) {
                // Cell information
                var info = cell.getBoundingClientRect();
    
                // Create dropdown
                var editor = document.createElement(type);
                editor.style.width = (info.width) + 'px';
                editor.style.height = (info.height - 2) + 'px';
                editor.style.minHeight = (info.height - 2) + 'px';
    
                // Edit cell
                cell.classList.add('editor');
                cell.innerHTML = '';
                cell.appendChild(editor);
    
                return editor;
            }
    
            // Readonly
            if (cell.classList.contains('readonly') == true) {
                // Do nothing
            } else {
                // Holder
                obj.edition = [ obj.records[y][x], obj.records[y][x].innerHTML, x, y ];
    
                // If there is a custom editor for it
                if (obj.options.columns[x].editor) {
                    // Custom editors
                    obj.options.columns[x].editor.openEditor(cell, el, empty, e);
                } else {
                    // Native functions
                    if (obj.options.columns[x].type == 'hidden') {
                        // Do nothing
                    } else if (obj.options.columns[x].type == 'checkbox' || obj.options.columns[x].type == 'radio') {
                        // Get value
                        var value = cell.children[0].checked ? false : true;
                        // Toogle value
                        obj.setValue(cell, value);
                        // Do not keep edition open
                        obj.edition = null;
                    } else if (obj.options.columns[x].type == 'dropdown' || obj.options.columns[x].type == 'autocomplete') {
                        // Get current value
                        var value = obj.options.data[y][x];
    
                        // Create dropdown
                        if (typeof(obj.options.columns[x].filter) == 'function') {
                            var source = obj.options.columns[x].filter(el, cell, x, y, obj.options.columns[x].source);
                        } else {
                            var source = obj.options.columns[x].source;
                        }
    
                        // Create editor
                        var editor = createEditor('div');
                        var options = {
                            data: source,
                            multiple: obj.options.columns[x].multiple ? true : false,
                            autocomplete: obj.options.columns[x].autocomplete || obj.options.columns[x].type == 'autocomplete' ? true : false,
                            opened:true,
                            value: obj.options.columns[x].multiple ? value.split(';') : value,
                            width:'100%',
                            height:editor.style.minHeight,
                            position: (obj.options.tableOverflow == true || obj.options.fullscreen == true) ? true : false,
                            onclose:function() {
                                obj.closeEditor(cell, true);
                            }
                        };
                        if (obj.options.columns[x].options && obj.options.columns[x].options.type) {
                            options.type = obj.options.columns[x].options.type;
                        }
                        jSuites.dropdown(editor, options);
                    } else if (obj.options.columns[x].type == 'calendar' || obj.options.columns[x].type == 'color') {
                        // Value
                        var value = obj.options.data[y][x];
                        // Create editor
                        var editor = createEditor('input');
                        editor.value = value;
    
                        if (obj.options.tableOverflow == true || obj.options.fullscreen == true) {
                            obj.options.columns[x].options.position = true;
                        }
                        obj.options.columns[x].options.value = obj.options.data[y][x];
                        obj.options.columns[x].options.opened = true;
                        obj.options.columns[x].options.onclose = function(el, value) {
                            obj.closeEditor(cell, true);
                        }
                        // Current value
                        if (obj.options.columns[x].type == 'color') {
                            jSuites.color(editor, obj.options.columns[x].options);
                        } else {
                            jSuites.calendar(editor, obj.options.columns[x].options);
                        }
                        // Focus on editor
                        editor.focus();
                    } else if (obj.options.columns[x].type == 'html') {
                        var value = obj.options.data[y][x];
                        // Create editor
                        var editor = createEditor('div');
                        editor.style.position = 'relative';
                        var div = document.createElement('div');
                        div.classList.add('jexcel_richtext');
                        editor.appendChild(div);
                        jSuites.editor(div, {
                            focus: true,
                            value: value,
                        });
                        const rect = cell.getBoundingClientRect();
                        const rectContent = div.getBoundingClientRect();
                        if (window.innerHeight < rect.bottom + rectContent.height) {
                            div.style.top = (rect.top - (rectContent.height + 2)) + 'px';
                        } else {
                            div.style.top = (rect.top) + 'px';
                        }
                    } else if (obj.options.columns[x].type == 'image') {
                        // Value
                        var img = cell.children[0];
                        // Create editor
                        var editor = createEditor('div');
                        editor.style.position = 'relative';
                        var div = document.createElement('div');
                        div.classList.add('jclose');
                        if (img && img.src) {
                            div.appendChild(img);
                        }
                        editor.appendChild(div);
                        jSuites.image(div, obj.options.imageOptions);
                        const rect = cell.getBoundingClientRect();
                        const rectContent = div.getBoundingClientRect();
                        if (window.innerHeight < rect.bottom + rectContent.height) {
                            div.style.top = (rect.top - (rectContent.height + 2)) + 'px';
                        } else {
                            div.style.top = (rect.top) + 'px';
                        }
                    } else {
                        // Value
                        var value = empty == true ? '' : obj.options.data[y][x];
    
                        // Basic editor
                        if (obj.options.columns[x].wordWrap != false && (obj.options.wordWrap == true || obj.options.columns[x].wordWrap == true)) {
                            var editor = createEditor('textarea');
                        } else {
                            var editor = createEditor('input');
                            // Mask
                            if (obj.options.columns[x].mask) {
                                editor.setAttribute('data-mask', obj.options.columns[x].mask);
                            }
                        }
    
                        editor.onblur = function() {
                            obj.closeEditor(cell, true);
                        };
                        editor.focus();
                        editor.value = value;
                    }
                }
            }
        }
    
        /**
         * Close the editor and save the information
         * 
         * @param object cell
         * @param boolean save
         * @return void
         */
        obj.closeEditor = function(cell, save) {
            var x = parseInt(cell.getAttribute('data-x'));
            var y = parseInt(cell.getAttribute('data-y'));

            // Get cell properties
            if (save == true) {
                // If custom editor
                if (obj.options.columns[x].editor) {
                    // Custom editor
                    var value = obj.options.columns[x].editor.closeEditor(cell, save);
                } else {
                    // Native functions
                    if (obj.options.columns[x].type == 'checkbox' || obj.options.columns[x].type == 'radio' || obj.options.columns[x].type == 'hidden') {
                        // Do nothing
                    } else if (obj.options.columns[x].type == 'dropdown' || obj.options.columns[x].type == 'autocomplete') {
                        var value = cell.children[0].dropdown.close(true);
                    } else if (obj.options.columns[x].type == 'calendar') {
                        var value = cell.children[0].calendar.close(true);
                    } else if (obj.options.columns[x].type == 'color') {
                        var value = cell.children[0].color.close(true);
                    } else if (obj.options.columns[x].type == 'html') {
                        var value = cell.children[0].children[0].editor.getData();
                    } else if (obj.options.columns[x].type == 'image') {
                        var img = cell.children[0].children[0].children[0];
                        var value = img && img.tagName == 'IMG' ? img.src : '';
                    } else if (obj.options.columns[x].type == 'numeric') {
                        var value = cell.children[0].value;
                        if (value.substr(0,1) != '=') {
                            if (value == '') {
                                value = obj.options.columns[x].allowEmpty ? '' : 0;
                            }
                        }
                        cell.children[0].onblur = null;
                    } else {
                        var value = cell.children[0].value;
                        cell.children[0].onblur = null;
                    }
                }

                // Ignore changes if the value is the same
                if (obj.options.data[y][x] == value) {
                    cell.innerHTML = obj.edition[1];
                } else {
                    obj.setValue(cell, value);
                }
            } else {
                if (obj.options.columns[x].editor) {
                    // Custom editor
                    obj.options.columns[x].editor.closeEditor(cell, save);
                } else {
                    if (obj.options.columns[x].type == 'dropdown' || obj.options.columns[x].type == 'autocomplete') {
                        cell.children[0].dropdown.close(true);
                    } else if (obj.options.columns[x].type == 'calendar') {
                        cell.children[0].calendar.close(true);
                    } else if (obj.options.columns[x].type == 'color') {
                        cell.children[0].color.close(true);
                    } else {
                        cell.children[0].onblur = null;
                    }
                }
    
                // Restore value
                cell.innerHTML = obj.edition && obj.edition[1] ? obj.edition[1] : '';
            }
    
            // On edition end
            obj.dispatch('oneditionend', el, cell, x, y, value, save);

            // Remove editor class
            cell.classList.remove('editor');
    
            // Finish edition
            obj.edition = null;
        }
    
        /**
         * Get the cell object
         * 
         * @param object cell
         * @return string value
         */
        obj.getCell = function(cell) {
            // Convert in case name is excel liked ex. A10, BB92
            cell = jexcel.getIdFromColumnName(cell, true);
            var x = cell[0];
            var y = cell[1];
    
            return obj.records[y][x];
        }
    
        /**
         * Get the cell object from coords
         * 
         * @param object cell
         * @return string value
         */
        obj.getCellFromCoords = function(x, y) {
            return obj.records[y][x];
        }
    
        /**
         * Get label
         * 
         * @param object cell
         * @return string value
         */
        obj.getLabel = function(cell) {
            // Convert in case name is excel liked ex. A10, BB92
            cell = jexcel.getIdFromColumnName(cell, true);
            var x = cell[0];
            var y = cell[1];
    
            return obj.records[y][x].innerHTML;
        }
    
        /**
         * Get labelfrom coords
         * 
         * @param object cell
         * @return string value
         */
        obj.getLabelFromCoords = function(x, y) {
            return obj.records[y][x].innerHTML;
        }
    
        /**
         * Get the value from a cell
         * 
         * @param object cell
         * @return string value
         */
        obj.getValue = function(cell, processedValue) {
            if (typeof(cell) == 'object') {
                var x = cell.getAttribute('data-x');
                var y = cell.getAttribute('data-y');
            } else {
                cell = jexcel.getIdFromColumnName(cell, true);
                var x = cell[0];
                var y = cell[1];
            }
    
            var value = null;
    
            if (x != null && y != null) {
                if (obj.records[y] && obj.records[y][x] && (processedValue || obj.options.copyCompatibility == true)) {
                    value = obj.records[y][x].innerHTML;
                } else {
                    if (obj.options.data[y] && obj.options.data[y][x] != 'undefined') {
                        value = obj.options.data[y][x];
                    }
                }
            }
    
            return value;
        }
    
        /**
         * Get the value from a coords
         * 
         * @param int x
         * @param int y
         * @return string value
         */
        obj.getValueFromCoords = function(x, y, processedValue) {
            var value = null;
    
            if (x != null && y != null) {
                if ((obj.records[y] && obj.records[y][x]) && processedValue || obj.options.copyCompatibility == true) {
                    value = obj.records[y][x].innerHTML;
                } else {
                    if (obj.options.data[y] && obj.options.data[y][x] != 'undefined') {
                        value = obj.options.data[y][x];
                    }
                }
            }
    
            return value;
        }
    
        /**
         * Set a cell value
         * 
         * @param mixed cell destination cell
         * @param string value value
         * @return void
         */
        obj.setValue = function(cell, value, force) {
            var records = [];
    
            if (typeof(cell) == 'string') {
                var columnId = jexcel.getIdFromColumnName(cell, true);
                var x = columnId[0];
                var y = columnId[1];
    
                // Update cell
                records.push(obj.updateCell(x, y, value, force));
    
                // Update all formulas in the chain
                obj.updateFormulaChain(x, y, records);
            } else {
                var x = null;
                var y = null;
                if (cell && cell.getAttribute) {
                    var x = cell.getAttribute('data-x');
                    var y = cell.getAttribute('data-y');
                }
    
                // Update cell
                if (x != null && y != null) {
                    records.push(obj.updateCell(x, y, value, force));
    
                    // Update all formulas in the chain
                    obj.updateFormulaChain(x, y, records);
                } else {
                    var keys = Object.keys(cell);
                    if (keys.length > 0) {
                        for (var i = 0; i < keys.length; i++) {
                            if (typeof(cell[i]) == 'string') {
                                var columnId = jexcel.getIdFromColumnName(cell[i], true);
                                var x = columnId[0];
                                var y = columnId[1];
                            } else {
                                if (cell[i].x != null && cell[i].y != null) {
                                    var x = cell[i].x;
                                    var y = cell[i].y;
                                    // Flexible setup
                                    if (cell[i].newValue != null) {
                                        value = cell[i].newValue;
                                    } else if (cell[i].value != null) {
                                        value = cell[i].value;
                                    }
                                } else {
                                    var x = cell[i].getAttribute('data-x');
                                    var y = cell[i].getAttribute('data-y');
                                }
                            }
    
                             // Update cell
                            if (x != null && y != null) {
                                records.push(obj.updateCell(x, y, value, force));
    
                                // Update all formulas in the chain
                                obj.updateFormulaChain(x, y, records);
                            }
                        }
                    }
                }
            }
    
            // Update history
            obj.setHistory({
                action:'setValue',
                records:records,
                selection:obj.selectedCell,
            });
    
            // Update table with custom configurations if applicable
            obj.updateTable();
    
            // On after changes
            obj.onafterchanges(el, records);
        }
    
        /**
         * Set a cell value based on coordinates
         * 
         * @param int x destination cell
         * @param int y destination cell
         * @param string value
         * @return void
         */
        obj.setValueFromCoords = function(x, y, value, force) {
            var records = [];
            records.push(obj.updateCell(x, y, value, force));
    
            // Update all formulas in the chain
            obj.updateFormulaChain(x, y, records);
    
            // Update history
            obj.setHistory({
                action:'setValue',
                records:records,
                selection:obj.selectedCell,
            });
    
            // Update table with custom configurations if applicable
            obj.updateTable();
    
            // On after changes
            obj.onafterchanges(el, records);
        }
    
        /**
         * Toogle
         */
        obj.setCheckRadioValue = function() {
            var records = [];
            var keys = Object.keys(obj.highlighted);
            for (var i = 0; i < keys.length; i++) {
                var x = obj.highlighted[i].getAttribute('data-x');
                var y = obj.highlighted[i].getAttribute('data-y');
    
                if (obj.options.columns[x].type == 'checkbox' || obj.options.columns[x].type == 'radio') {
                    // Update cell
                    records.push(obj.updateCell(x, y, ! obj.options.data[y][x]));
                }
            }
    
            if (records.length) {
                // Update history
                obj.setHistory({
                    action:'setValue',
                    records:records,
                    selection:obj.selectedCell,
                });
    
                // On after changes
                obj.onafterchanges(el, records);
            }
        }
    
        /**
         * Update cell content
         * 
         * @param object cell
         * @return void
         */
        obj.updateCell = function(x, y, value, force) {
            // Changing value depending on the column type
            if (obj.records[y][x].classList.contains('readonly') == true && ! force) {
                // Do nothing
                var record = {
                    x: x,
                    y: y,
                    col: x,
                    row: y
                }
            } else {
                // On change
                var val = obj.dispatch('onbeforechange', el, obj.records[y][x], x, y, value);

                // If you return something this will overwrite the value
                if (val != undefined) {
                    value = val;
                }

                if (obj.options.columns[x].editor && typeof(obj.options.columns[x].editor.updateCell) == 'function') {
                    value = obj.options.columns[x].editor.updateCell(obj.records[y][x], value, force);
                }

                // History format
                var record = {
                    x: x,
                    y: y,
                    col: x,
                    row: y,
                    newValue: value,
                    oldValue: obj.options.data[y][x],
                }

                if (obj.options.columns[x].editor) {
                    // Update data and cell
                    obj.options.data[y][x] = value;
                } else {
                    // Native functions
                    if (obj.options.columns[x].type == 'checkbox' || obj.options.columns[x].type == 'radio') {
                        // Unchecked all options
                        if (obj.options.columns[x].type == 'radio') {
                            for (var j = 0; j < obj.options.data.length; j++) {
                                obj.options.data[j][x] = false;
                            }
                        }

                        // Update data and cell
                        obj.records[y][x].children[0].checked = (value == 1 || value == true || value == 'true' || value == 'TRUE') ? true : false;
                        obj.options.data[y][x] = obj.records[y][x].children[0].checked;
                    } else if (obj.options.columns[x].type == 'dropdown' || obj.options.columns[x].type == 'autocomplete') {
                        // Update data and cell
                        obj.options.data[y][x] = value;
                        obj.records[y][x].innerHTML = obj.getDropDownValue(x, value);
                    } else if (obj.options.columns[x].type == 'calendar') {
                        // Update calendar
                        var formatted = jSuites.calendar.extractDateFromString(value, obj.options.columns[x].options.format);
                        // Update data and cell
                        obj.options.data[y][x] = value;
                        obj.records[y][x].innerHTML = jSuites.calendar.getDateString(formatted ? formatted : value, obj.options.columns[x].options.format);
                    } else if (obj.options.columns[x].type == 'color') {
                        // Update color
                        obj.options.data[y][x] = value;
                        // Render
                        if (obj.options.columns[x].render == 'square') {
                            var color = document.createElement('div');
                            color.className = 'color';
                            color.style.backgroundColor = value;
                            obj.records[y][x].innerHTML = '';
                            obj.records[y][x].appendChild(color);
                        } else {
                        obj.records[y][x].style.color = value;
                            obj.records[y][x].innerHTML = value;
                        }
                    } else if (obj.options.columns[x].type == 'image') {
                        value = ''+value;
                        obj.options.data[y][x] = value;
                        obj.records[y][x].innerHTML = '';
                        if (value && value.substr(0, 10) == 'data:image') {
                            var img = document.createElement('img');
                            img.src = value;
                            obj.records[y][x].appendChild(img);
                        }
                    } else {
                        // Update data and cell
                        obj.options.data[y][x] = value;
                        // Label
                        obj.records[y][x].innerHTML = obj.parseValue(x, y, value);
                        // Handle big text inside a cell
                        if (obj.options.columns[x].wordWrap != false && (obj.options.wordWrap == true || obj.options.columns[x].wordWrap == true || obj.records[y][x].innerHTML.length > 200)) {
                            obj.records[y][x].style.whiteSpace = 'pre-wrap';
                        } else {
                            obj.records[y][x].style.whiteSpace = '';
                        }
                    }
                }

                // Overflow
                if (x > 0) {
                    if (value) {
                        obj.records[y][x-1].style.overflow = 'hidden';
                    } else {
                        obj.records[y][x-1].style.overflow = '';
                    }
                }

                // On change
                obj.dispatch('onchange', el, (obj.records[y] && obj.records[y][x] ? obj.records[y][x] : null), x, y, value, record.oldValue);
            }

            return record;
        }

        /**
         * Helper function to copy data using the corner icon
         */
        obj.copyData = function(o, d) {
            // Get data from all selected cells
            var data = obj.getData(true, true);

            // Selected cells
            var h = obj.selectedContainer;

            // Cells
            var x1 = parseInt(o.getAttribute('data-x'));
            var y1 = parseInt(o.getAttribute('data-y'));
            var x2 = parseInt(d.getAttribute('data-x'));
            var y2 = parseInt(d.getAttribute('data-y'));

            // Records
            var records = [];
            var breakControl = false;

            if (h[0] == x1) {
                // Vertical copy
                if (y1 < h[1]) {
                    var rowNumber = y1 - h[1];
                } else {
                    var rowNumber = 1;
                }
                var colNumber = 0;
            } else {
                if (x1 < h[0]) {
                    var colNumber = x1 - h[0];
                } else {
                    var colNumber = 1;
                }
                var rowNumber = 0;
            }

            // Copy data procedure
            var posx = 0;
            var posy = 0;

            for (var j = y1; j <= y2; j++) {
                // Skip hidden rows
                if (obj.rows[j] && obj.rows[j].style.display == 'none') {
                    continue;
                }

                // Controls
                if (data[posy] == undefined) {
                    posy = 0;
                }
                posx = 0;

                // Data columns
                if (h[0] != x1) {
                    if (x1 < h[0]) {
                        var colNumber = x1 - h[0];
                    } else {
                        var colNumber = 1;
                    }
                }
                // Data columns
                for (var i = x1; i <= x2; i++) {
                    // Update non-readonly
                    if (obj.records[j][i] && ! obj.records[j][i].classList.contains('readonly') && obj.records[j][i].style.display != 'none' && breakControl == false) {
                        // Stop if contains value
                        if (! obj.selection.length) {
                            if (obj.options.data[j][i] != '') {
                                breakControl = true;
                                continue;
                            }
                        }
    
                        // Column
                        if (data[posy] == undefined) {
                            posx = 0;
                        } else if (data[posy][posx] == undefined) {
                            posx = 0;
                        }

                        // Value
                        var value = data[posy][posx];
    
                        if (value && ! data[1] && obj.options.autoIncrement == true) {
                            if (obj.options.columns[i].type == 'text' || obj.options.columns[i].type == 'number') {
                                if ((''+value).substr(0,1) == '=') {
                                    var tokens = value.match(/([A-Z]+[0-9]+)/g);
    
                                    if (tokens) {
                                        var affectedTokens = [];
                                        for (var index = 0; index < tokens.length; index++) {
                                            var position = jexcel.getIdFromColumnName(tokens[index], 1);
                                            position[0] += colNumber;
                                            position[1] += rowNumber;
                                            if (position[1] < 0) {
                                                position[1] = 0;
                                            }
                                            var token = jexcel.getColumnNameFromId([position[0], position[1]]);
    
                                            if (token != tokens[index]) {
                                                affectedTokens[tokens[index]] = token;
                                            }
                                        }
                                        // Update formula
                                        if (affectedTokens) {
                                            value = obj.updateFormula(value, affectedTokens)
                                        }
                                    }
                                } else {
                                    if (value == Number(value)) {
                                        value = Number(value) + rowNumber;
                                    }
                                }
                            } else if (obj.options.columns[i].type == 'calendar') {
                                var date = new Date(value);
                                date.setDate(date.getDate() + rowNumber);
                                value = date.getFullYear() + '-' + jexcel.doubleDigitFormat(parseInt(date.getMonth() + 1)) + '-' + jexcel.doubleDigitFormat(date.getDate()) + ' ' + '00:00:00';
                            }
                        }
    
                        records.push(obj.updateCell(i, j, value));
    
                        // Update all formulas in the chain
                        obj.updateFormulaChain(i, j, records);
                    }
                    posx++;
                    if (h[0] != x1) {
                        colNumber++;
                    }
                }
                posy++;
                rowNumber++;
            }
    
            // Update history
            obj.setHistory({
                action:'setValue',
                records:records,
                selection:obj.selectedCell,
            });
    
            // Update table with custom configuration if applicable
            obj.updateTable();
    
            // On after changes
            obj.onafterchanges(el, records);
        }
    
        /**
         * Refresh current selection
         */
        obj.refreshSelection = function() {
            if (obj.selectedCell) {
                obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
            }
        }
    
        /**
         * Move coords to A1 in case ovelaps with an excluded cell
         */
        obj.conditionalSelectionUpdate = function(type, o, d) {
            if (type == 1) {
                if (obj.selectedCell && ((o >= obj.selectedCell[1] && o <= obj.selectedCell[3]) || (d >= obj.selectedCell[1] && d <= obj.selectedCell[3]))) {
                    obj.resetSelection();
                    return;
                }
            } else {
                if (obj.selectedCell && ((o >= obj.selectedCell[0] && o <= obj.selectedCell[2]) || (d >= obj.selectedCell[0] && d <= obj.selectedCell[2]))) {
                    obj.resetSelection();
                    return;
                }
            }
        }
    
        /**
         * Clear table selection
         */
        obj.resetSelection = function(blur) {
            // Remove style
            if (! obj.highlighted.length) {
                var previousStatus = 0;
            } else {
                var previousStatus = 1;
    
                for (var i = 0; i < obj.highlighted.length; i++) {
                    obj.highlighted[i].classList.remove('highlight');
                    obj.highlighted[i].classList.remove('highlight-left');
                    obj.highlighted[i].classList.remove('highlight-right');
                    obj.highlighted[i].classList.remove('highlight-top');
                    obj.highlighted[i].classList.remove('highlight-bottom');
                    obj.highlighted[i].classList.remove('highlight-selected');
    
                    var px = parseInt(obj.highlighted[i].getAttribute('data-x'));
                    var py = parseInt(obj.highlighted[i].getAttribute('data-y'));
    
                    // Check for merged cells
                    if (obj.highlighted[i].getAttribute('data-merged')) {
                        var colspan = parseInt(obj.highlighted[i].getAttribute('colspan'));
                        var rowspan = parseInt(obj.highlighted[i].getAttribute('rowspan'));
                        var ux = colspan > 0 ? px + (colspan - 1) : px;
                        var uy = rowspan > 0 ? py + (rowspan - 1): py;
                    } else {
                        var ux = px;
                        var uy = py;
                    }
    
                    // Remove selected from headers
                    for (var j = px; j <= ux; j++) {
                        if (obj.headers[j]) {
                            obj.headers[j].classList.remove('selected');
                        }
                    }
    
                    // Remove selected from rows
                    for (var j = py; j <= uy; j++) {
                        if (obj.rows[j]) {
                            obj.rows[j].classList.remove('selected');
                        }
                    }
                }
            }
    
            // Reset highlighed cells
            obj.highlighted = [];
    
            // Reset
            obj.selectedCell = null;
    
            // Hide corner
            obj.corner.style.top = '-2000px';
            obj.corner.style.left = '-2000px';
    
            if (blur == true && previousStatus == 1) {
                obj.dispatch('onblur', el);
            }
    
            return previousStatus;
        }
    
        /**
         * Update selection based on two cells
         */
        obj.updateSelection = function(el1, el2, origin) {
            var x1 = el1.getAttribute('data-x');
            var y1 = el1.getAttribute('data-y');
            if (el2) {
                var x2 = el2.getAttribute('data-x');
                var y2 = el2.getAttribute('data-y');
            } else {
                var x2 = x1;
                var y2 = y1;
            }
    
            obj.updateSelectionFromCoords(x1, y1, x2, y2, origin);
        }
    
        /**
         * Update selection from coords
         */
        obj.updateSelectionFromCoords = function(x1, y1, x2, y2, origin) {
            // Reset Selection
            var updated = null;
            var previousState = obj.resetSelection();
    
            // Same element
            if (x2 == null) {
                x2 = x1;
            }
            if (y2 == null) {
                y2 = y1;
            }
    
            // Selection must be within the existing data
            if (x1 >= obj.headers.length) {
                x1 = obj.headers.length - 1;
            }
            if (y1 >= obj.rows.length) {
                y1 = obj.rows.length - 1;
            }
            if (x2 >= obj.headers.length) {
                x2 = obj.headers.length - 1;
            }
            if (y2 >= obj.rows.length) {
                y2 = obj.rows.length - 1;
            }
    
            // Keep selected cell
            obj.selectedCell = [x1, y1, x2, y2];
    
            // Select cells
            if (x1 != null) {
                // Add selected cell
                if (obj.records[y1][x1]) {
                    obj.records[y1][x1].classList.add('highlight-selected');
                }
    
                // Origin & Destination
                if (parseInt(x1) < parseInt(x2)) {
                    var px = parseInt(x1);
                    var ux = parseInt(x2);
                } else {
                    var px = parseInt(x2);
                    var ux = parseInt(x1);
                }
    
                if (parseInt(y1) < parseInt(y2)) {
                    var py = parseInt(y1);
                    var uy = parseInt(y2);
                } else {
                    var py = parseInt(y2);
                    var uy = parseInt(y1);
                }
    
                // Verify merged columns
                for (var i = px; i <= ux; i++) {
                    for (var j = py; j <= uy; j++) {
                        if (obj.records[j][i] && obj.records[j][i].getAttribute('data-merged')) {
                            var x = parseInt(obj.records[j][i].getAttribute('data-x'));
                            var y = parseInt(obj.records[j][i].getAttribute('data-y'));
                            var colspan = parseInt(obj.records[j][i].getAttribute('colspan'));
                            var rowspan = parseInt(obj.records[j][i].getAttribute('rowspan'));
    
                            if (colspan > 1) {
                                if (x < px) {
                                    px = x;
                                }
                                if (x + colspan > ux) {
                                    ux = x + colspan - 1;
                                }
                            }
    
                            if (rowspan) {
                                if (y < py) {
                                    py = y;
    
                                }
                                if (y + rowspan > uy) {
                                    uy = y + rowspan - 1;
                                }
                            }
                        }
                    }
                }
    
                // Limits
                var borderLeft = null;
                var borderRight = null;
                var borderTop = null;
                var borderBottom = null;
    
                // Vertical limits
                for (var j = py; j <= uy; j++) {
                    if (obj.rows[j].style.display != 'none') {
                        if (borderTop == null) {
                            borderTop = j;
                        }
                        borderBottom = j;
                    }
                }
    
                // Redefining styles
                for (var i = px; i <= ux; i++) {
                    for (var j = py; j <= uy; j++) {
                        if (obj.rows[j].style.display != 'none' && obj.records[j][i].style.display != 'none') {
                            obj.records[j][i].classList.add('highlight');
                            obj.highlighted.push(obj.records[j][i]);
                        }
                    }
    
                    // Horizontal limits
                    if (obj.options.columns[i].type != 'hidden') {
                        if (borderLeft == null) {
                            borderLeft = i;
                        }
                        borderRight = i;
                    }
                }
    
                // Create borders
                if (! borderLeft) {
                    borderLeft = 0;
                }
                if (! borderRight) {
                    borderRight = 0;
                }
                for (var i = borderLeft; i <= borderRight; i++) {
                    if (obj.options.columns[i].type != 'hidden') {
                        // Top border
                        if (obj.records[borderTop][i]) {
                            obj.records[borderTop][i].classList.add('highlight-top');
                        }
                        // Bottom border
                        if (obj.records[borderBottom][i]) {
                            obj.records[borderBottom][i].classList.add('highlight-bottom');
                        }
                        // Add selected from headers
                        obj.headers[i].classList.add('selected');
                    }
                }
    
                for (var j = borderTop; j <= borderBottom; j++) {
                    if (obj.rows[j].style.display != 'none') {
                        // Left border
                        obj.records[j][borderLeft].classList.add('highlight-left');
                        // Right border
                        obj.records[j][borderRight].classList.add('highlight-right');
                        // Add selected from rows
                        obj.rows[j].classList.add('selected');
                    }
                }
    
                obj.selectedContainer = [ borderLeft, borderTop, borderRight, borderBottom ];
            }
    
            // Handle events
            if (previousState == 0) {
                obj.dispatch('onfocus', el);

                obj.removeCopyingSelection();
            }

            obj.dispatch('onselection', el, borderLeft, borderTop, borderRight, borderBottom, origin);

            // Find corner cell
            obj.updateCornerPosition();
        }
    
        /**
         * Remove copy selection
         * 
         * @return void
         */
        obj.removeCopySelection = function() {
            // Remove current selection
            for (var i = 0; i < obj.selection.length; i++) {
                obj.selection[i].classList.remove('selection');
                obj.selection[i].classList.remove('selection-left');
                obj.selection[i].classList.remove('selection-right');
                obj.selection[i].classList.remove('selection-top');
                obj.selection[i].classList.remove('selection-bottom');
            }
    
            obj.selection = [];
        }
    
        /**
         * Update copy selection
         * 
         * @param int x, y
         * @return void
         */
        obj.updateCopySelection = function(x3, y3) {
            // Remove selection
            obj.removeCopySelection();
    
            // Get elements first and last
            var x1 = obj.selectedContainer[0];
            var y1 = obj.selectedContainer[1];
            var x2 = obj.selectedContainer[2];
            var y2 = obj.selectedContainer[3];
    
            if (x3 != null && y3 != null) {
                if (x3 - x2 > 0) {
                    var px = parseInt(x2) + 1;
                    var ux = parseInt(x3);
                } else {
                    var px = parseInt(x3);
                    var ux = parseInt(x1) - 1;
                }
    
                if (y3 - y2 > 0) {
                    var py = parseInt(y2) + 1;
                    var uy = parseInt(y3);
                } else {
                    var py = parseInt(y3);
                    var uy = parseInt(y1) - 1;
                }
    
                if (ux - px < uy - py) {
                    var px = parseInt(x1);
                    var ux = parseInt(x2);
                } else {
                    var py = parseInt(y1);
                    var uy = parseInt(y2);
                }
    
                for (var j = py; j <= uy; j++) {
                    for (var i = px; i <= ux; i++) {
                        if (obj.records[j][i] && obj.rows[j].style.display != 'none' && obj.records[j][i].style.display != 'none') {
                            obj.records[j][i].classList.add('selection');
                            obj.records[py][i].classList.add('selection-top');
                            obj.records[uy][i].classList.add('selection-bottom');
                            obj.records[j][px].classList.add('selection-left');
                            obj.records[j][ux].classList.add('selection-right');
    
                            // Persist selected elements
                            obj.selection.push(obj.records[j][i]);
                        }
                    }
                }
            }
        }
    
        /**
         * Update corner position
         * 
         * @return void
         */
        obj.updateCornerPosition = function() {
            // If any selected cells
            if (! obj.highlighted.length) {
                obj.corner.style.top = '-2000px';
                obj.corner.style.left = '-2000px';
            } else {
                // Get last cell
                var last = obj.highlighted[obj.highlighted.length-1];

                const contentRect = obj.content.getBoundingClientRect();
                var x1 = contentRect.left;
                var y1 = contentRect.top;

                const lastRect = last.getBoundingClientRect();
                var x2 = lastRect.left;
                var y2 = lastRect.top;
                var w2 = lastRect.width;
                var h2 = lastRect.height;

                var x = (x2 - x1) + obj.content.scrollLeft + w2 - 4;
                var y = (y2 - y1) + obj.content.scrollTop + h2 - 4;

                // Place the corner in the correct place
                obj.corner.style.top = y + 'px';
                obj.corner.style.left = x + 'px';

                if (obj.options.freezeColumns) {
                    var width = obj.getFreezeWidth();
                    if (x2 - x1 + w2 < width) {
                        obj.corner.style.display = 'none';
                    } else {
                        obj.corner.style.display = '';
                    }
                } else {
                    obj.corner.style.display = '';
                }
            }
        }
    
        /**
         * Update scroll position based on the selection
         */
        obj.updateScroll = function(direction) {
            // jExcel Container information
            const contentRect = obj.content.getBoundingClientRect();
            var x1 = contentRect.left;
            var y1 = contentRect.top;
            var w1 = contentRect.width;
            var h1 = contentRect.height;

            // Direction Left or Up
            var reference = obj.records[obj.selectedCell[3]][obj.selectedCell[2]];
    
            // Reference
            const referenceRect = reference.getBoundingClientRect();
            var x2 = referenceRect.left;
            var y2 = referenceRect.top;
            var w2 = referenceRect.width;
            var h2 = referenceRect.height;
    
            // Direction
            if (direction == 0 || direction == 1) {
                var x = (x2 - x1) + obj.content.scrollLeft;
                var y = (y2 - y1) + obj.content.scrollTop - 2;
            } else {
                var x = (x2 - x1) + obj.content.scrollLeft + w2;
                var y = (y2 - y1) + obj.content.scrollTop + h2;
            }
    
            // Top position check
            if (y > (obj.content.scrollTop + 30) && y < (obj.content.scrollTop + h1)) {
                // In the viewport
            } else {
                // Out of viewport
                if (y < obj.content.scrollTop + 30) {
                    obj.content.scrollTop = y - h2;
                } else {
                    obj.content.scrollTop = y - (h1 - 2);
                }
            }
    
            // Freeze columns? 
            var freezed = obj.getFreezeWidth();

            // Left position check - TODO: change that to the bottom border of the element
            if (x > (obj.content.scrollLeft + freezed) && x < (obj.content.scrollLeft + w1)) {
                // In the viewport
            } else {
                // Out of viewport
                if (x < obj.content.scrollLeft + 30) {
                    obj.content.scrollLeft = x;
                    if (obj.content.scrollLeft < 50) {
                        obj.content.scrollLeft = 0;
                    }
                } else if (x < obj.content.scrollLeft + freezed) {
                    obj.content.scrollLeft = x - freezed - 1;
                } else {
                    obj.content.scrollLeft = x - (w1 - 20);
                }
            }
        }
    
        /**
         * Get the column width
         * 
         * @param int column column number (first column is: 0)
         * @return int current width
         */
        obj.getWidth = function(column) {
            if (! column) {
                // Get all headers
                var data = [];
                for (var i = 0; i < obj.headers.length; i++) {
                    data.push(obj.options.columns[i].width);
                }
            } else {
                // In case the column is an object
                if (typeof(column) == 'object') {
                    column = $(column).getAttribute('data-x');
                }
    
                data = obj.colgroup[column].getAttribute('width')
            }
    
            return data;
        }


        /**
         * Set the column width
         * 
         * @param int column number (first column is: 0)
         * @param int new column width
         * @param int old column width
         */
        obj.setWidth = function (column, width, oldWidth) {
            if (width) {
                if (Array.isArray(column)) {
                    // Oldwidth
                    if (! oldWidth) {
                        var oldWidth = [];
                    }
                    // Set width
                    for (var i = 0; i < column.length; i++) {
                        if (! oldWidth[i]) {
                            oldWidth[i] = obj.colgroup[column[i]].getAttribute('width');
                        }
                        var w = Array.isArray(width) && width[i] ? width[i] : width;
                        obj.colgroup[column[i]].setAttribute('width', w);
                        obj.options.columns[column[i]].width = w;
                    }
                } else {
                    // Oldwidth
                    if (! oldWidth) {
                        oldWidth = obj.colgroup[column].getAttribute('width');
                    }
                    // Set width
                    obj.colgroup[column].setAttribute('width', width);
                    obj.options.columns[column].width = width;
                }

                // Keeping history of changes
                obj.setHistory({
                    action:'setWidth',
                    column:column,
                    oldValue:oldWidth,
                    newValue:width,
                });

                // On resize column
                obj.dispatch('onresizecolumn', el, column, width, oldWidth);

                // Update corner position
                obj.updateCornerPosition();
            }
        }

        /**
         * Set the row height
         * 
         * @param row - row number (first row is: 0)
         * @param height - new row height
         * @param oldHeight - old row height
         */
        obj.setHeight = function (row, height, oldHeight) {
            if (height > 0) {
                // In case the column is an object
                if (typeof(row) == 'object') {
                    row = row.getAttribute('data-y');
                }
    
                // Oldwidth
                if (! oldHeight) {
                    oldHeight = obj.rows[row].getAttribute('height');

                    if (! oldHeight) {
                        var rect = obj.rows[row].getBoundingClientRect();
                        oldHeight = rect.height;
                    }
                }

                // Integer
                height = parseInt(height);

                // Set width
                obj.rows[row].style.height = height + 'px';
    
                // Keep options updated
                if (! obj.options.rows[row]) {
                    obj.options.rows[row] = {};
                }
                obj.options.rows[row].height = height;
    
                // Keeping history of changes
                obj.setHistory({
                    action:'setHeight',
                    row:row,
                    oldValue:oldHeight,
                    newValue:height,
                });

                // On resize column
                obj.dispatch('onresizerow', el, row, height, oldHeight);

                // Update corner position
                obj.updateCornerPosition();
            }
        }
    
        /**
         * Get the row height
         * 
         * @param row - row number (first row is: 0)
         * @return height - current row height
         */
        obj.getHeight = function(row) {
            if (! row) {
                // Get height of all rows
                var data = [];
                for (var j = 0; j < obj.rows.length; j++) {
                    var h = obj.rows[j].style.height;
                    if (h) {
                        data[j] = h;
                    }
                }
            } else {
                // In case the row is an object
                if (typeof(row) == 'object') {
                    row = $(row).getAttribute('data-y');
                }
    
                var data = obj.rows[row].style.height;
            }
    
            return data;
        }
    
        obj.setFooter = function(data) {
            if (data) {
                obj.options.footers = data;
            }

            if (obj.options.footers) {
                if (! obj.tfoot) {
                    obj.tfoot = document.createElement('tfoot');
                    obj.table.appendChild(obj.tfoot);
                } 

                for (var j = 0; j < obj.options.footers.length; j++) {
                    if (obj.tfoot.children[j]) {
                        var tr = obj.tfoot.children[j];
                    } else {
                        var tr = document.createElement('tr');
                        var td = document.createElement('td');
                        tr.appendChild(td);
                        obj.tfoot.appendChild(tr);
                    }
                    for (var i = 0; i < obj.headers.length; i++) {
                        if (! obj.options.footers[j][i]) {
                            obj.options.footers[j][i] = '';
                        }
                        if (obj.tfoot.children[j].children[i+1]) {
                            var td = obj.tfoot.children[j].children[i+1];
                        } else {
                            var td = document.createElement('td');
                            tr.appendChild(td);

                            // Text align
                            var colAlign = obj.options.columns[i].align ? obj.options.columns[i].align : 'center';
                            td.style.textAlign = colAlign;
                        }
                        td.innerHTML = obj.parseValue(i, j, obj.options.footers[j][i]);
                    }
                }
            }
        }

        /**
         * Get the column title
         * 
         * @param column - column number (first column is: 0)
         * @param title - new column title
         */
        obj.getHeader = function(column) {
            return obj.headers[column].innerText;
        }
    
        /**
         * Set the column title
         * 
         * @param column - column number (first column is: 0)
         * @param title - new column title
         */
        obj.setHeader = function(column, newValue) {
            if (obj.headers[column]) {
                var oldValue = obj.headers[column].innerText;
    
                if (! newValue) {
                    newValue = prompt(obj.options.text.columnName, oldValue)
                }
    
                if (newValue) {
                    obj.headers[column].innerHTML = newValue;
                    // Keep the title property
                    obj.headers[column].setAttribute('title', newValue);
                    // Update title
                    obj.options.columns[column].title = newValue;
                }
    
                obj.setHistory({
                    action: 'setHeader',
                    column: column,
                    oldValue: oldValue,
                    newValue: newValue
                });
    
                // On onchange header
                obj.dispatch('onchangeheader', el, column, oldValue, newValue);
            }
        }
    
        /**
         * Get the headers
         * 
         * @param asArray
         * @return mixed
         */
        obj.getHeaders = function (asArray) {
            var title = [];
    
            for (var i = 0; i < obj.headers.length; i++) {
                title.push(obj.getHeader(i));
            }
    
            return asArray ? title : title.join(obj.options.csvDelimiter);
        }
    
        /**
         * Get meta information from cell(s)
         * 
         * @return integer
         */
        obj.getMeta = function(cell, key) {
            if (! cell) {
                return obj.options.meta;
            } else {
                if (key) {
                    return obj.options.meta[cell] && obj.options.meta[cell][key] ? obj.options.meta[cell][key] : null;
                } else {
                    return obj.options.meta[cell] ? obj.options.meta[cell] : null;
                }
            }
        }
    
        /**
         * Set meta information to cell(s)
         * 
         * @return integer
         */
        obj.setMeta = function(o, k, v) {
            if (! obj.options.meta) {
                obj.options.meta = {}
            }
    
            if (k && v) {
                // Set data value
                if (! obj.options.meta[o]) {
                    obj.options.meta[o] = {};
                }
                obj.options.meta[o][k] = v;
            } else {
                // Apply that for all cells
                var keys = Object.keys(o);
                for (var i = 0; i < keys.length; i++) {
                    if (! obj.options.meta[keys[i]]) {
                        obj.options.meta[keys[i]] = {};
                    }
    
                    var prop = Object.keys(o[keys[i]]);
                    for (var j = 0; j < prop.length; j++) {
                        obj.options.meta[keys[i]][prop[j]] = o[keys[i]][prop[j]];
                    }
                }
            }
    
            obj.dispatch('onchangemeta', el, o, k, v);
        }
    
        /**
         * Update meta information
         * 
         * @return integer
         */
        obj.updateMeta = function(affectedCells) {
            if (obj.options.meta) {
                var newMeta = {};
                var keys = Object.keys(obj.options.meta);
                for (var i = 0; i < keys.length; i++) {
                    if (affectedCells[keys[i]]) {
                        newMeta[affectedCells[keys[i]]] = obj.options.meta[keys[i]];
                    } else {
                        newMeta[keys[i]] = obj.options.meta[keys[i]];
                    }
                }
                // Update meta information
                obj.options.meta = newMeta;
            }
        }
    
        /**
         * Get style information from cell(s)
         * 
         * @return integer
         */
        obj.getStyle = function(cell, key) {
            // Cell
            if (! cell) {
                // Control vars
                var data = {};
    
                // Column and row length
                var x = obj.options.data[0].length;
                var y = obj.options.data.length;
    
                // Go through the columns to get the data
                for (var j = 0; j < y; j++) {
                    for (var i = 0; i < x; i++) {
                        // Value
                        var v = key ? obj.records[j][i].style[key] : obj.records[j][i].getAttribute('style');
    
                        // Any meta data for this column?
                        if (v) {
                            // Column name
                            var k = jexcel.getColumnNameFromId([i, j]);
                            // Value
                            data[k] = v;
                        }
                    }
                }
    
               return data;
            } else {
                cell = jexcel.getIdFromColumnName(cell, true);
    
                return key ? obj.records[cell[1]][cell[0]].style[key] : obj.records[cell[1]][cell[0]].getAttribute('style');
            }
        },
    
        obj.resetStyle = function(o, ignoreHistoryAndEvents) {
            var keys = Object.keys(o);
            for (var i = 0; i < keys.length; i++) {
                // Position
                var cell = jexcel.getIdFromColumnName(keys[i], true);
                if (obj.records[cell[1]] && obj.records[cell[1]][cell[0]]) {
                    obj.records[cell[1]][cell[0]].setAttribute('style', '');
                }
            }
            obj.setStyle(o, null, null, null, ignoreHistoryAndEvents);
        }
    
        /**
         * Set meta information to cell(s)
         * 
         * @return integer
         */
        obj.setStyle = function(o, k, v, force, ignoreHistoryAndEvents) {
            var newValue = {};
            var oldValue = {};
    
            // Apply style
            var applyStyle = function(cellId, key, value) {
                // Position
                var cell = jexcel.getIdFromColumnName(cellId, true);
    
                if (obj.records[cell[1]] && obj.records[cell[1]][cell[0]]) {
                    // Current value
                    var currentValue = obj.records[cell[1]][cell[0]].style[key];
    
                    // Change layout
                    if (currentValue == value && ! force) {
                        value = '';
                        obj.records[cell[1]][cell[0]].style[key] = '';
                    } else {
                        obj.records[cell[1]][cell[0]].style[key] = value;
                    }
    
                    // History
                    if (! oldValue[cellId]) {
                        oldValue[cellId] = [];
                    }
                    if (! newValue[cellId]) {
                        newValue[cellId] = [];
                    }
    
                    oldValue[cellId].push([key + ':' + currentValue]);
                    newValue[cellId].push([key + ':' + value]);
                }
            }
    
            if (k && v) {
                // Get object from string
                if (typeof(o) == 'string') {
                    applyStyle(o, k, v);
                } else {
                    // Avoid duplications
                    var oneApplication = [];
                    // Apply that for all cells
                    for (var i = 0; i < o.length; i++) {
                        var x = o[i].getAttribute('data-x');
                        var y = o[i].getAttribute('data-y');
                        var cellName = jexcel.getColumnNameFromId([x, y]);
                        // This happens when is a merged cell
                        if (! oneApplication[cellName]) {
                            applyStyle(cellName, k, v);
                            oneApplication[cellName] = true;
                        }
                    }
                }
            } else {
                var keys = Object.keys(o);
                for (var i = 0; i < keys.length; i++) {
                    var style = o[keys[i]];
                    if (typeof(style) == 'string') {
                        style = style.split(';');
                    }
                    for (var j = 0; j < style.length; j++) {
                        if (typeof(style[j]) == 'string') {
                            style[j] = style[j].split(':');
                        }
                        // Apply value
                        if (style[j][0].trim()) {
                            applyStyle(keys[i], style[j][0].trim(), style[j][1]);
                        }
                    }
                }
            }
    
            var keys = Object.keys(oldValue);
            for (var i = 0; i < keys.length; i++) {
                oldValue[keys[i]] = oldValue[keys[i]].join(';');
            }
            var keys = Object.keys(newValue);
            for (var i = 0; i < keys.length; i++) {
                newValue[keys[i]] = newValue[keys[i]].join(';');
            }
    
            if (! ignoreHistoryAndEvents) {
                // Keeping history of changes
                obj.setHistory({
                    action: 'setStyle',
                    oldValue: oldValue,
                    newValue: newValue,
                });
            }

            obj.dispatch('onchangestyle', el, o, k, v);
        }

        /**
         * Get cell comments, null cell for all
         */
        obj.getComments = function(cell, withAuthor) {
            if (cell) {
                if (typeof(cell) == 'string') {
                    var cell = jexcel.getIdFromColumnName(cell, true);
                }

                if (withAuthor) {
                    return [obj.records[cell[1]][cell[0]].getAttribute('title'), obj.records[cell[1]][cell[0]].getAttribute('author')];
                } else {
                    return obj.records[cell[1]][cell[0]].getAttribute('title') || '';
                }
            } else {
                var data = {};
                for (var j = 0; j < obj.options.data.length; j++) {
                    for (var i = 0; i < obj.options.columns.length; i++) {
                        var comments = obj.records[j][i].getAttribute('title');
                        if (comments) {
                            var cell = jexcel.getColumnNameFromId([i, j]);
                            data[cell] = comments;
                        }
                    }
                }
                return data;
            }
        }

        /**
         * Set cell comments
         */
        obj.setComments = function(cellId, comments, author) {
            if (typeof(cellId) == 'string') {
                var cell = jexcel.getIdFromColumnName(cellId, true);
            } else {
                var cell = cellId;
            }
    
            // Keep old value
            var title = obj.records[cell[1]][cell[0]].getAttribute('title');
            var author = obj.records[cell[1]][cell[0]].getAttribute('data-author');
            var oldValue = [ title, author ];
    
            // Set new values
            obj.records[cell[1]][cell[0]].setAttribute('title', comments ? comments : '');
            obj.records[cell[1]][cell[0]].setAttribute('data-author', author ? author : '');
    
            // Remove class if there is no comment
            if (comments) {
                obj.records[cell[1]][cell[0]].classList.add('jexcel_comments');
            } else {
                obj.records[cell[1]][cell[0]].classList.remove('jexcel_comments');
            }
    
            // Save history
            obj.setHistory({
                action:'setComments',
                column: cellId,
                newValue: [ comments, author ],
                oldValue: oldValue,
            });
        }
    
        /**
         * Get table config information
         */
        obj.getConfig = function() {
            var options = obj.options;
            options.style = obj.getStyle();
            options.mergeCells = obj.getMerge();
            options.comments = obj.getComments();
    
            return options;
        }
    
        /**
         * Sort data and reload table
         */
        obj.orderBy = function(column, order) {
            if (column >= 0) {
                // Merged cells
                if (Object.keys(obj.options.mergeCells).length > 0) {
                    if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {
                        return false;
                    } else {
                        // Remove merged cells
                        obj.destroyMerged();
                    }
                }
    
                // Direction
                if (order == null) {
                    order = obj.headers[column].classList.contains('arrow-down') ? 1 : 0;
                } else {
                    order = order ? 1 : 0;
                }
    
                // Filter
                Array.prototype.orderBy = function(p, o) {
                    return this.slice(0).sort(function(a, b) {
                        var valueA = a[p] == '' ? '' : Number(a[p]) == a[p] ? Number(a[p]) : a[p].toLowerCase();
                        var valueB = b[p] == '' ? '' : Number(b[p]) == b[p] ? Number(b[p]) : b[p].toLowerCase();
    
                        if (! o) {
                            return (valueA == '' && valueB != '') ? 1 : (valueA != '' && valueB == '') ? -1 : (valueA > valueB) ? 1 : (valueA < valueB) ? -1 :  0;
                        } else {
                            return (valueA == '' && valueB != '') ? 1 : (valueA != '' && valueB == '') ? -1 : (valueA > valueB) ? -1 : (valueA < valueB) ? 1 :  0;
                        }
                    });
                }
    
                // Test order
                var temp = [];
                if (obj.options.columns[column].type == 'calendar' ||
                    obj.options.columns[column].type == 'checkbox' ||
                    obj.options.columns[column].type == 'radio') {
                    for (var j = 0; j < obj.options.data.length; j++) {
                        temp[j] = [ j, obj.options.data[j][column] ];
                    }
                } else {
                    for (var j = 0; j < obj.options.data.length; j++) {
                        temp[j] = [ j, obj.records[j][column].innerHTML ];
                    }
                }
                temp = temp.orderBy(1, order);
    
                // Save history
                var newValue = [];
                for (var j = 0; j < temp.length; j++) {
                    newValue[j] = temp[j][0];
                }
    
                // Save history
                obj.setHistory({
                    action: 'orderBy',
                    rows: newValue,
                    column: column,
                    order: order,
                });
    
                // Update order
                obj.updateOrderArrow(column, order);
                obj.updateOrder(newValue);
    
                // On sort event
                obj.dispatch('onsort', el, column, order);
    
                return true;
            }
        }
    
        /**
         * Update order arrow
         */
        obj.updateOrderArrow = function(column, order) {
            // Remove order
            for (var i = 0; i < obj.headers.length; i++) {
                obj.headers[i].classList.remove('arrow-up');
                obj.headers[i].classList.remove('arrow-down');
            }
    
            // No order specified then toggle order
            if (order) {
                obj.headers[column].classList.add('arrow-up');
            } else {
                obj.headers[column].classList.add('arrow-down');
            }
        }
    
        /**
         * Update rows position
         */
        obj.updateOrder = function(rows) {
            // History
            var data = []
            for (var j = 0; j < rows.length; j++) {
                data[j] = obj.options.data[rows[j]];
            }
            obj.options.data = data;
    
            var data = []
            for (var j = 0; j < rows.length; j++) {
                data[j] = obj.records[rows[j]];
            }
            obj.records = data;
    
            var data = []
            for (var j = 0; j < rows.length; j++) {
                data[j] = obj.rows[rows[j]];
            }
            obj.rows = data;
    
            // Update references
            obj.updateTableReferences();
    
            // Redo search
            if (obj.results.length) {
                if (obj.searchInput.value) {
                    obj.search(obj.searchInput.value);
                } else {
                    obj.closeFilter();
                }
            } else {
                // Create page
                obj.results = null;
                obj.pageNumber = 0;
    
                if (obj.options.pagination > 0) {
                    obj.page(0);
                } else if (obj.options.lazyLoading == true) {
                    obj.loadPage(0);
                } else {
                    for (var j = 0; j < obj.rows.length; j++) {
                        obj.tbody.appendChild(obj.rows[j]);
                    }
                }
            }
        }
    
        /**
         * Move row
         * 
         * @return void
         */
        obj.moveRow = function(o, d, ignoreDom) {
            if (Object.keys(obj.options.mergeCells).length > 0) {
                if (o > d) {
                    var insertBefore = 1;
                } else {
                    var insertBefore = 0;
                }

                if (obj.isRowMerged(o).length || obj.isRowMerged(d, insertBefore).length) {
                    if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {
                        return false;
                    } else {
                        obj.destroyMerged();
                    }
                }
            }
    
            if (obj.options.search == true) {
                if (obj.results && obj.results.length != obj.rows.length) {
                    if (confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure)) {
                        obj.resetSearch();
                    } else {
                        return false;
                    }
                }
    
                obj.results = null;
            }
    
            if (! ignoreDom) {
                if (Array.prototype.indexOf.call(obj.tbody.children, obj.rows[d]) >= 0) {
                    if (o > d) {
                        obj.tbody.insertBefore(obj.rows[o], obj.rows[d]);
                    } else {
                        obj.tbody.insertBefore(obj.rows[o], obj.rows[d].nextSibling);
                    }
                } else {
                    obj.tbody.removeChild(obj.rows[o]);
                }
            }
    
            // Place references in the correct position
            obj.rows.splice(d, 0, obj.rows.splice(o, 1)[0]);
            obj.records.splice(d, 0, obj.records.splice(o, 1)[0]);
            obj.options.data.splice(d, 0, obj.options.data.splice(o, 1)[0]);
    
            // Respect pagination
            if (obj.options.pagination > 0 && obj.tbody.children.length != obj.options.pagination) {
                obj.page(obj.pageNumber);
            }
    
            // Keeping history of changes
            obj.setHistory({
                action:'moveRow',
                oldValue: o,
                newValue: d,
            });
    
            // Update table references
            obj.updateTableReferences();
    
            // Events
            obj.dispatch('onmoverow', el, o, d);
        }

        /**
         * Insert a new row
         * 
         * @param mixed - number of blank lines to be insert or a single array with the data of the new row
         * @param rowNumber
         * @param insertBefore
         * @return void
         */
        obj.insertRow = function(mixed, rowNumber, insertBefore) {
            // Configuration
            if (obj.options.allowInsertRow == true) {
                // Records
                var records = [];
    
                // Data to be insert
                var data = [];
    
                // The insert could be lead by number of rows or the array of data
                if (mixed > 0) {
                    var numOfRows = mixed;
                } else {
                    var numOfRows = 1;
    
                    if (mixed) {
                        data = mixed;
                    }
                }
    
                // Direction
                var insertBefore = insertBefore ? true : false;
    
                // Current column number
                var lastRow = obj.options.data.length - 1;
    
                if (rowNumber == undefined || rowNumber >= parseInt(lastRow) || rowNumber < 0) {
                    rowNumber = lastRow;
                }
    
                // Onbeforeinsertrow
                if (obj.dispatch('onbeforeinsertrow', el, rowNumber, numOfRows, insertBefore) === false) {
                    console.log('onbeforeinsertrow returned false');

                    return false;
                }
    
                // Merged cells
                if (Object.keys(obj.options.mergeCells).length > 0) {
                    if (obj.isRowMerged(rowNumber, insertBefore).length) {
                        if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {
                            return false;
                        } else {
                            obj.destroyMerged();
                        }
                    }
                }
    
                // Clear any search
                if (obj.options.search == true) {
                    if (obj.results && obj.results.length != obj.rows.length) {
                        if (confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure)) {
                            obj.resetSearch();
                        } else {
                            return false;
                        }
                    }
    
                    obj.results = null;
                }
    
                // Insertbefore
                var rowIndex = (! insertBefore) ? rowNumber + 1 : rowNumber;

                // Keep the current data
                var currentRecords = obj.records.splice(rowIndex);
                var currentData = obj.options.data.splice(rowIndex);
                var currentRows = obj.rows.splice(rowIndex);
    
                // Adding lines
                var rowRecords = [];
                var rowData = [];
                var rowNode = [];

                for (var row = rowIndex; row < (numOfRows + rowIndex); row++) {
                    // Push data to the data container
                    obj.options.data[row] = [];
                    for (var col = 0; col < obj.options.columns.length; col++) {
                        obj.options.data[row][col]  = data[col] ? data[col] : '';
                    }
                    // Create row
                    var tr = obj.createRow(row, obj.options.data[row]);
                    // Append node
                    if (currentRows[0]) {
                        if (Array.prototype.indexOf.call(obj.tbody.children, currentRows[0]) >= 0) {
                            obj.tbody.insertBefore(tr, currentRows[0]);
                        }
                    } else {
                        if (Array.prototype.indexOf.call(obj.tbody.children, obj.rows[rowNumber]) >= 0) {
                            obj.tbody.appendChild(tr);
                        }
                    }
                    // Record History
                    rowRecords.push(obj.records[row]);
                    rowData.push(obj.options.data[row]);
                    rowNode.push(tr);
                }
    
                // Copy the data back to the main data
                Array.prototype.push.apply(obj.records, currentRecords);
                Array.prototype.push.apply(obj.options.data, currentData);
                Array.prototype.push.apply(obj.rows, currentRows);
    
                // Respect pagination
                if (obj.options.pagination > 0) {
                    obj.page(obj.pageNumber);
                }
    
                // Keep history
                obj.setHistory({
                    action: 'insertRow',
                    rowNumber: rowNumber,
                    numOfRows: numOfRows,
                    insertBefore: insertBefore,
                    rowRecords: rowRecords,
                    rowData: rowData,
                    rowNode: rowNode,
                });
    
                // Remove table references
                obj.updateTableReferences();
    
                // Events
                obj.dispatch('oninsertrow', el, rowNumber, numOfRows, rowRecords, insertBefore);
            }
        }
    
        /**
         * Delete a row by number
         * 
         * @param integer rowNumber - row number to be excluded
         * @param integer numOfRows - number of lines
         * @return void
         */
        obj.deleteRow = function(rowNumber, numOfRows) {
            // Global Configuration
            if (obj.options.allowDeleteRow == true) {
                if (obj.options.allowDeletingAllRows == true || obj.options.data.length > 1) {
                    // Delete row definitions
                    if (rowNumber == undefined) {
                        var number = obj.getSelectedRows();
    
                        if (! number[0]) {
                            rowNumber = obj.options.data.length - 1;
                            numOfRows = 1;
                        } else {
                            rowNumber = parseInt(number[0].getAttribute('data-y'));
                            numOfRows = number.length;
                        }
                    }
    
                    // Last column
                    var lastRow = obj.options.data.length - 1;
    
                    if (rowNumber == undefined || rowNumber > lastRow || rowNumber < 0) {
                        rowNumber = lastRow;
                    }
    
                    if (! numOfRows) {
                        numOfRows = 1;
                    }
    
                    // Do not delete more than the number of recoreds
                    if (rowNumber + numOfRows >= obj.options.data.length) {
                        numOfRows = obj.options.data.length - rowNumber;
                    }

                    // Onbeforedeleterow
                    if (obj.dispatch('onbeforedeleterow', el, rowNumber, numOfRows) === false) {
                        console.log('onbeforedeleterow returned false');
                        return false;
                    }
    
                    if (parseInt(rowNumber) > -1) {
                        // Merged cells
                        var mergeExists = false;
                        if (Object.keys(obj.options.mergeCells).length > 0) {
                            for (var row = rowNumber; row < rowNumber + numOfRows; row++) {
                                if (obj.isRowMerged(row, false).length) {
                                    mergeExists = true;
                                }
                            }
                        }
                        if (mergeExists) {
                            if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {
                                return false;
                            } else {
                                obj.destroyMerged();
                            }
                        }
    
                        // Clear any search
                        if (obj.options.search == true) {
                            if (obj.results && obj.results.length != obj.rows.length) {
                                if (confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure)) {
                                    obj.resetSearch();
                                } else {
                                    return false;
                                }
                            }
    
                            obj.results = null;
                        }
    
                        // Remove node
                        for (var row = rowNumber; row < rowNumber + numOfRows; row++) {
                            if (Array.prototype.indexOf.call(obj.tbody.children, obj.rows[row]) >= 0) {
                                obj.rows[row].className = '';
                                obj.rows[row].parentNode.removeChild(obj.rows[row]);
                            }
                        }
    
                        // Remove data
                        var rowRecords = obj.records.splice(rowNumber, numOfRows);
                        var rowData = obj.options.data.splice(rowNumber, numOfRows);
                        var rowNode = obj.rows.splice(rowNumber, numOfRows);
    
                        // Respect pagination
                        if (obj.options.pagination > 0 && obj.tbody.children.length != obj.options.pagination) {
                            obj.page(obj.pageNumber);
                        }
    
                        // Remove selection
                        obj.conditionalSelectionUpdate(1, rowNumber, (rowNumber + numOfRows) - 1);
    
                        // Keep history
                        obj.setHistory({
                            action: 'deleteRow',
                            rowNumber: rowNumber,
                            numOfRows: numOfRows,
                            insertBefore: 1,
                            rowRecords: rowRecords,
                            rowData: rowData,
                            rowNode: rowNode
                        });
    
                        // Remove table references
                        obj.updateTableReferences();
    
                        // Events
                        obj.dispatch('ondeleterow', el, rowNumber, numOfRows, rowRecords);
                    }
                } else {
                    console.error('JEXCEL. It is not possible to delete the last row');
                }
            }
        }
    
    
        /**
         * Move column
         * 
         * @return void
         */
        obj.moveColumn = function(o, d) {
            if (Object.keys(obj.options.mergeCells).length > 0) {
                if (o > d) {
                    var insertBefore = 1;
                } else {
                    var insertBefore = 0;
                }

                if (obj.isColMerged(o).length || obj.isColMerged(d, insertBefore).length) {
                    if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {
                        return false;
                    } else {
                        obj.destroyMerged();
                    }
                }
            }
    
            var o = parseInt(o);
            var d = parseInt(d);
    
            if (o > d) {
                obj.headerContainer.insertBefore(obj.headers[o], obj.headers[d]);
                obj.colgroupContainer.insertBefore(obj.colgroup[o], obj.colgroup[d]);
    
                for (var j = 0; j < obj.rows.length; j++) {
                    obj.rows[j].insertBefore(obj.records[j][o], obj.records[j][d]);
                }
            } else {
                obj.headerContainer.insertBefore(obj.headers[o], obj.headers[d].nextSibling);
                obj.colgroupContainer.insertBefore(obj.colgroup[o], obj.colgroup[d].nextSibling);
    
                for (var j = 0; j < obj.rows.length; j++) {
                    obj.rows[j].insertBefore(obj.records[j][o], obj.records[j][d].nextSibling);
                }
            }
    
            obj.options.columns.splice(d, 0, obj.options.columns.splice(o, 1)[0]);
            obj.headers.splice(d, 0, obj.headers.splice(o, 1)[0]);
            obj.colgroup.splice(d, 0, obj.colgroup.splice(o, 1)[0]);
    
            for (var j = 0; j < obj.rows.length; j++) {
                obj.options.data[j].splice(d, 0, obj.options.data[j].splice(o, 1)[0]);
                obj.records[j].splice(d, 0, obj.records[j].splice(o, 1)[0]);
            }
    
            // Update footers position
            if (obj.options.footers) {
                for (var j = 0; j < obj.options.footers.length; j++) {
                    obj.options.footers[j].splice(d, 0, obj.options.footers[j].splice(o, 1)[0]);
                }
            }

            // Keeping history of changes
            obj.setHistory({
                action:'moveColumn',
                oldValue: o,
                newValue: d,
            });
    
            // Update table references
            obj.updateTableReferences();
    
            // Events
            obj.dispatch('onmovecolumn', el, o, d);
        }

        /**
         * Insert a new column
         * 
         * @param mixed - num of columns to be added or data to be added in one single column
         * @param int columnNumber - number of columns to be created
         * @param bool insertBefore
         * @param object properties - column properties
         * @return void
         */
        obj.insertColumn = function(mixed, columnNumber, insertBefore, properties) {
            // Configuration
            if (obj.options.allowInsertColumn == true) {
                // Records
                var records = [];
    
                // Data to be insert
                var data = [];
    
                // The insert could be lead by number of rows or the array of data
                if (mixed > 0) {
                    var numOfColumns = mixed;
                } else {
                    var numOfColumns = 1;
    
                    if (mixed) {
                        data = mixed;
                    }
                }
    
                // Direction
                var insertBefore = insertBefore ? true : false;
    
                // Current column number
                var lastColumn = obj.options.columns.length - 1;
    
                // Confirm position
                if (columnNumber == undefined || columnNumber >= parseInt(lastColumn) || columnNumber < 0) {
                    columnNumber = lastColumn;
                }
    
                // Onbeforeinsertcolumn
                if (obj.dispatch('onbeforeinsertcolumn', el, columnNumber, numOfColumns, insertBefore) === false) {
                    console.log('onbeforeinsertcolumn returned false');

                    return false;
                }
    
                // Merged cells
                if (Object.keys(obj.options.mergeCells).length > 0) {
                    if (obj.isColMerged(columnNumber, insertBefore).length) {
                        if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {
                            return false;
                        } else {
                            obj.destroyMerged();
                        }
                    }
                }
    
                // Create default properties
                if (! properties) {
                    properties = [];
                }
    
                for (var i = 0; i < numOfColumns; i++) {
                    if (! properties[i]) {
                        properties[i] = { type:'text', source:[], options:[], width:obj.options.defaultColWidth, align:obj.options.defaultColAlign };
                    }
                }
    
                // Insert before
                var columnIndex = (! insertBefore) ? columnNumber + 1 : columnNumber;
                obj.options.columns = jexcel.injectArray(obj.options.columns, columnIndex, properties);
    
                // Open space in the containers
                var currentHeaders = obj.headers.splice(columnIndex);
                var currentColgroup = obj.colgroup.splice(columnIndex);
    
                // History
                var historyHeaders = [];
                var historyColgroup = [];
                var historyRecords = [];
                var historyData = [];
                var historyFooters = [];
    
                // Add new headers
                for (var col = columnIndex; col < (numOfColumns + columnIndex); col++) {
                    obj.createCellHeader(col);
                    obj.headerContainer.insertBefore(obj.headers[col], obj.headerContainer.children[col+1]);
                    obj.colgroupContainer.insertBefore(obj.colgroup[col], obj.colgroupContainer.children[col+1]);
    
                    historyHeaders.push(obj.headers[col]);
                    historyColgroup.push(obj.colgroup[col]);
                }
    
                // Add new footer cells
                if (obj.options.footers) {
                    for (var j = 0; j < obj.options.footers.length; j++) {
                        historyFooters[j] = [];
                        for (var i = 0; i < numOfColumns; i++) {
                            historyFooters[j].push('');
                        }
                        obj.options.footers[j].splice(columnIndex, 0, historyFooters[j]);
                    }
                }

                // Adding visual columns
                for (var row = 0; row < obj.options.data.length; row++) {
                    // Keep the current data
                    var currentData = obj.options.data[row].splice(columnIndex);
                    var currentRecord = obj.records[row].splice(columnIndex);
    
                    // History
                    historyData[row] = [];
                    historyRecords[row] = [];
    
                    for (var col = columnIndex; col < (numOfColumns + columnIndex); col++) {
                        // New value
                        var value = data[row] ? data[row] : '';
                        obj.options.data[row][col] = value;
                        // New cell
                        var td = obj.createCell(col, row, obj.options.data[row][col]);
                        obj.records[row][col] = td;
                        // Add cell to the row
                        if (obj.rows[row]) {
                            obj.rows[row].insertBefore(td, obj.rows[row].children[col+1]);
                        }
    
                        // Record History
                        historyData[row].push(value);
                        historyRecords[row].push(td);
                    }
    
                    // Copy the data back to the main data
                    Array.prototype.push.apply(obj.options.data[row], currentData);
                    Array.prototype.push.apply(obj.records[row], currentRecord);
                }
    
                Array.prototype.push.apply(obj.headers, currentHeaders);
                Array.prototype.push.apply(obj.colgroup, currentColgroup);
    
                // Adjust nested headers
                if (obj.options.nestedHeaders && obj.options.nestedHeaders.length > 0) {
                    // Flexible way to handle nestedheaders
                    if (obj.options.nestedHeaders[0] && obj.options.nestedHeaders[0][0]) {
                        for (var j = 0; j < obj.options.nestedHeaders.length; j++) {
                            var colspan = parseInt(obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan) + numOfColumns;
                            obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan = colspan;
                            obj.thead.children[j].children[obj.thead.children[j].children.length-1].setAttribute('colspan', colspan);
                        }
                    } else {
                        var colspan = parseInt(obj.options.nestedHeaders[0].colspan) + numOfColumns;
                        obj.options.nestedHeaders[0].colspan = colspan;
                        obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute('colspan', colspan);
                    }
                }
    
                // Keep history
                obj.setHistory({
                    action: 'insertColumn',
                    columnNumber:columnNumber,
                    numOfColumns:numOfColumns,
                    insertBefore:insertBefore,
                    columns:properties,
                    headers:historyHeaders,
                    colgroup:historyColgroup,
                    records:historyRecords,
                    footers:historyFooters,
                    data:historyData,
                });
    
                // Remove table references
                obj.updateTableReferences();
    
                // Events
                obj.dispatch('oninsertcolumn', el, columnNumber, numOfColumns, historyRecords, insertBefore);
            }
        }
    
        /**
         * Delete a column by number
         * 
         * @param integer columnNumber - reference column to be excluded
         * @param integer numOfColumns - number of columns to be excluded from the reference column
         * @return void
         */
        obj.deleteColumn = function(columnNumber, numOfColumns) {
            // Global Configuration
            if (obj.options.allowDeleteColumn == true) {
                if (obj.headers.length > 1) {
                    // Delete column definitions
                    if (columnNumber == undefined) {
                        var number = obj.getSelectedColumns(true);
    
                        if (! number.length) {
                            // Remove last column
                            columnNumber = obj.headers.length - 1;
                            numOfColumns = 1;
                        } else {
                            // Remove selected
                            columnNumber = parseInt(number[0]);
                            numOfColumns = parseInt(number.length);
                        }
                    }
    
                    // Lasat column
                    var lastColumn = obj.options.data[0].length - 1;
    
                    if (columnNumber == undefined || columnNumber > lastColumn || columnNumber < 0) {
                        columnNumber = lastColumn;
                    }
    
                    // Minimum of columns to be delete is 1
                    if (! numOfColumns) {
                        numOfColumns = 1;
                    }
    
                    // Can't delete more than the limit of the table
                    if (numOfColumns > obj.options.data[0].length - columnNumber) {
                        numOfColumns = obj.options.data[0].length - columnNumber;
                    }
    
                    // onbeforedeletecolumn
                   if (obj.dispatch('onbeforedeletecolumn', el, columnNumber, numOfColumns) === false) {
                      console.log('onbeforedeletecolumn returned false');
                      return false;
                   }
    
                    // Can't remove the last column
                    if (parseInt(columnNumber) > -1) {
                        // Merged cells
                        var mergeExists = false;
                        if (Object.keys(obj.options.mergeCells).length > 0) {
                            for (var col = columnNumber; col < columnNumber + numOfColumns; col++) {
                                if (obj.isColMerged(col, false).length) {
                                    mergeExists = true;
                                }
                            }
                        }
                        if (mergeExists) {
                            if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {
                                return false;
                            } else {
                                obj.destroyMerged();
                            }
                        }
    
                        // Delete the column properties
                        var columns = obj.options.columns.splice(columnNumber, numOfColumns);
    
                        for (var col = columnNumber; col < columnNumber + numOfColumns; col++) {
                            obj.colgroup[col].className = '';
                            obj.headers[col].className = '';
                            obj.colgroup[col].parentNode.removeChild(obj.colgroup[col]);
                            obj.headers[col].parentNode.removeChild(obj.headers[col]);
                        }
    
                        var historyHeaders = obj.headers.splice(columnNumber, numOfColumns);
                        var historyColgroup = obj.colgroup.splice(columnNumber, numOfColumns);
                        var historyRecords = [];
                        var historyData = [];
                        var historyFooters = [];

                        for (var row = 0; row < obj.options.data.length; row++) {
                            for (var col = columnNumber; col < columnNumber + numOfColumns; col++) {
                                obj.records[row][col].className = '';
                                obj.records[row][col].parentNode.removeChild(obj.records[row][col]);
                            }
                        }
    
                        // Delete headers
                        for (var row = 0; row < obj.options.data.length; row++) {
                            // History
                            historyData[row] = obj.options.data[row].splice(columnNumber, numOfColumns);
                            historyRecords[row] = obj.records[row].splice(columnNumber, numOfColumns);
                        }

                        // Delete footers
                        if (obj.options.footers) {
                            for (var row = 0; row < obj.options.footers.length; row++) {
                                historyFooters[row] = obj.options.footers[row].splice(columnNumber, numOfColumns);
                            }
                        }

                        // Remove selection
                        obj.conditionalSelectionUpdate(0, columnNumber, (columnNumber + numOfColumns) - 1);
    
                        // Adjust nested headers
                        if (obj.options.nestedHeaders && obj.options.nestedHeaders.length > 0) {
                            // Flexible way to handle nestedheaders
                            if (obj.options.nestedHeaders[0] && obj.options.nestedHeaders[0][0]) {
                                for (var j = 0; j < obj.options.nestedHeaders.length; j++) {
                                    var colspan = parseInt(obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan) - numOfColumns;
                                    obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan = colspan;
                                    obj.thead.children[j].children[obj.thead.children[j].children.length-1].setAttribute('colspan', colspan);
                                }
                            } else {
                                var colspan = parseInt(obj.options.nestedHeaders[0].colspan) - numOfColumns;
                                obj.options.nestedHeaders[0].colspan = colspan;
                                obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute('colspan', colspan);
                            }
                        }
    
                        // Keeping history of changes
                        obj.setHistory({
                            action:'deleteColumn',
                            columnNumber:columnNumber,
                            numOfColumns:numOfColumns,
                            insertBefore: 1,
                            columns:columns,
                            headers:historyHeaders,
                            colgroup:historyColgroup,
                            records:historyRecords,
                            footers:historyFooters,
                            data:historyData,
                        });
    
                        // Update table references
                        obj.updateTableReferences();
    
                        // Delete
                        obj.dispatch('ondeletecolumn', el, columnNumber, numOfColumns, historyRecords);
                    }
                } else {
                    console.error('JEXCEL. It is not possible to delete the last column');
                }
            }
        }
    
        /**
         * Get seleted rows numbers
         * 
         * @return array
         */
        obj.getSelectedRows = function(asIds) {
            var rows = [];
            // Get all selected rows
            for (var j = 0; j < obj.rows.length; j++) {
                if (obj.rows[j].classList.contains('selected')) {
                    if (asIds) {
                        rows.push(j);
                    } else {
                        rows.push(obj.rows[j]);
                    }
                }
            }
    
            return rows;
        },
    
        /**
         * Get seleted column numbers
         * 
         * @return array
         */
        obj.getSelectedColumns = function() {
            var cols = [];
            // Get all selected cols
            for (var i = 0; i < obj.headers.length; i++) {
                if (obj.headers[i].classList.contains('selected')) {
                    cols.push(i);
                }
            }
    
            return cols;
        }
    
        /**
         * Get highlighted
         * 
         * @return array
         */
        obj.getHighlighted = function() {
            return obj.highlighted;
        }
    
        /**
         * Update cell references
         * 
         * @return void
         */
        obj.updateTableReferences = function() {
            // Update headers
            for (var i = 0; i < obj.headers.length; i++) {
                var x = obj.headers[i].getAttribute('data-x');
    
                if (x != i) {
                    // Update coords
                    obj.headers[i].setAttribute('data-x', i);
                    // Title
                    if (! obj.headers[i].getAttribute('title')) {
                        obj.headers[i].innerHTML = jexcel.getColumnName(i);
                    }
                }
            }
    
            // Update all rows
            for (var j = 0; j < obj.rows.length; j++) {
                if (obj.rows[j]) {
                    var y = obj.rows[j].getAttribute('data-y');
    
                    if (y != j) {
                        // Update coords
                        obj.rows[j].setAttribute('data-y', j);
                        obj.rows[j].children[0].setAttribute('data-y', j);
                        // Row number
                        obj.rows[j].children[0].innerHTML = j + 1;
                    }
                }
            }
    
            // Regular cells affected by this change
            var affectedTokens = [];
            var mergeCellUpdates = [];
    
            // Update cell
            var updatePosition = function(x,y,i,j) {
                if (x != i) {
                    obj.records[j][i].setAttribute('data-x', i);
                }
                if (y != j) {
                    obj.records[j][i].setAttribute('data-y', j);
                }
    
                // Other updates
                if (x != i || y != j) {
                    var columnIdFrom = jexcel.getColumnNameFromId([x, y]);
                    var columnIdTo = jexcel.getColumnNameFromId([i, j]);
                    affectedTokens[columnIdFrom] = columnIdTo;
                }
            }
    
            for (var j = 0; j < obj.records.length; j++) {
                for (var i = 0; i < obj.records[0].length; i++) {
                    if (obj.records[j][i]) {
                        // Current values
                        var x = obj.records[j][i].getAttribute('data-x');
                        var y = obj.records[j][i].getAttribute('data-y');
    
                        // Update column
                        if (obj.records[j][i].getAttribute('data-merged')) {
                            var columnIdFrom = jexcel.getColumnNameFromId([x, y]);
                            var columnIdTo = jexcel.getColumnNameFromId([i, j]);
                            if (mergeCellUpdates[columnIdFrom] == null) {
                                if (columnIdFrom == columnIdTo) {
                                    mergeCellUpdates[columnIdFrom] = false;
                                } else {
                                    var totalX = parseInt(i - x);
                                    var totalY = parseInt(j - y);
                                    mergeCellUpdates[columnIdFrom] = [ columnIdTo, totalX, totalY ];
                                }
                            }
                        } else {
                            updatePosition(x,y,i,j);
                        }
                    }
                }
            }
    
            // Update merged if applicable
            var keys = Object.keys(mergeCellUpdates);
            if (keys.length) {
                for (var i = 0; i < keys.length; i++) {
                    if (mergeCellUpdates[keys[i]]) {
                        var info = jexcel.getIdFromColumnName(keys[i], true)
                        var x = info[0];
                        var y = info[1];
                        updatePosition(x,y,x + mergeCellUpdates[keys[i]][1],y + mergeCellUpdates[keys[i]][2]);
    
                        var columnIdFrom = keys[i];
                        var columnIdTo = mergeCellUpdates[keys[i]][0];
                        for (var j = 0; j < obj.options.mergeCells[columnIdFrom][2].length; j++) {
                            var x = parseInt(obj.options.mergeCells[columnIdFrom][2][j].getAttribute('data-x'));
                            var y = parseInt(obj.options.mergeCells[columnIdFrom][2][j].getAttribute('data-y'));
                            obj.options.mergeCells[columnIdFrom][2][j].setAttribute('data-x', x + mergeCellUpdates[keys[i]][1]);
                            obj.options.mergeCells[columnIdFrom][2][j].setAttribute('data-y', y + mergeCellUpdates[keys[i]][2]);
                        }
    
                        obj.options.mergeCells[columnIdTo] = obj.options.mergeCells[columnIdFrom];
                        delete(obj.options.mergeCells[columnIdFrom]);
                    }
                }
            }
    
            // Update formulas
            obj.updateFormulas(affectedTokens);
    
            // Update meta data
            obj.updateMeta(affectedTokens);
    
            // Refresh selection
            obj.refreshSelection();
    
            // Update table with custom configuration if applicable
            obj.updateTable();
        }
    
        /**
         * Custom settings for the cells
         */
        obj.updateTable = function() {
            // Check for spare
            if (obj.options.minSpareRows > 0) {
                var numBlankRows = 0;
                for (var j = obj.rows.length - 1; j >= 0; j--) {
                    var test = false;
                    for (var i = 0; i < obj.headers.length; i++) {
                        if (obj.options.data[j][i]) {
                            test = true;
                        }
                    }
                    if (test) {
                        break;
                    } else {
                        numBlankRows++;
                    }
                }
    
                if (obj.options.minSpareRows - numBlankRows > 0) {
                    obj.insertRow(obj.options.minSpareRows - numBlankRows)
                }
            }
    
            if (obj.options.minSpareCols > 0) {
                var numBlankCols = 0;
                for (var i = obj.headers.length - 1; i >= 0 ; i--) {
                    var test = false;
                    for (var j = 0; j < obj.rows.length; j++) {
                        if (obj.options.data[j][i]) {
                            test = true;
                        }
                    }
                    if (test) {
                        break;
                    } else {
                        numBlankCols++;
                    }
                }
    
                if (obj.options.minSpareCols - numBlankCols > 0) {
                    obj.insertColumn(obj.options.minSpareCols - numBlankCols)
                }
            }
    
            // Customizations by the developer
            if (typeof(obj.options.updateTable) == 'function') {
                if (obj.options.detachForUpdates) {
                    el.removeChild(obj.content);
                }

                for (var j = 0; j < obj.rows.length; j++) {
                    for (var i = 0; i < obj.headers.length; i++) {
                        obj.options.updateTable(el, obj.records[j][i], i, j, obj.options.data[j][i], obj.records[j][i].innerText, jexcel.getColumnNameFromId([i, j]));
                    }
                }

                if (obj.options.detachForUpdates) {
                    el.insertBefore(obj.content, obj.pagination);
                }
            }
    
            // Update footers
            if (obj.options.footers) {
                obj.setFooter();
            }

            // Update corner position
            setTimeout(function() {
                obj.updateCornerPosition();
            },0);
        }

        /**
         * Show row
         */
        obj.showRow = function(rowNumber) {
            obj.rows[rowNumber].style.display = '';
        }

        /**
         * Hide row
         */
        obj.hideRow = function(rowNumber) {
            obj.rows[rowNumber].style.display = 'none';
        }

        /**
         * Show column
         */
        obj.showColumn = function(colNumber) {
            obj.headers[colNumber].style.display = '';
            obj.colgroup[colNumber].style.display = '';
            for (var j = 0; j < obj.options.data.length; j++) {
                obj.records[j][colNumber].style.display = '';
            }
        }

        /**
         * Hide column
         */
        obj.hideColumn = function(colNumber) {
            obj.headers[colNumber].style.display = 'none';
            obj.colgroup[colNumber].style.display = 'none';
            for (var j = 0; j < obj.options.data.length; j++) {
                obj.records[j][colNumber].style.display = 'none';
            }
        }

        /**
         * Show index column
         */
        obj.showIndex = function() {
            obj.table.classList.remove('jexcel_hidden_index');
        }
    
        /**
         * Hide index column
         */
        obj.hideIndex = function() {
            obj.table.classList.add('jexcel_hidden_index');
        }
    
        /**
         * Update all related cells in the chain
         */
        var chainLoopProtection = [];
    
        obj.updateFormulaChain = function(x, y, records) {
            var cellId = jexcel.getColumnNameFromId([x, y]);
            if (obj.formula[cellId] && obj.formula[cellId].length > 0) {
                if (chainLoopProtection[cellId]) {
                    obj.records[y][x].innerHTML = '#ERROR';
                    obj.formula[cellId] = '';
                } else {
                    // Protection
                    chainLoopProtection[cellId] = true;
    
                    for (var i = 0; i < obj.formula[cellId].length; i++) {
                        var cell = jexcel.getIdFromColumnName(obj.formula[cellId][i], true);
                        // Update cell
                        var value = ''+obj.options.data[cell[1]][cell[0]];
                        if (value.substr(0,1) == '=') {
                            records.push(obj.updateCell(cell[0], cell[1], value, true));
                        } else {
                            // No longer a formula, remove from the chain
                            Object.keys(obj.formula)[i] = null;
                        }
                        obj.updateFormulaChain(cell[0], cell[1], records);
                    }
                }
            }
    
            chainLoopProtection = [];
        }
    
        /**
         * Update formulas
         */
        obj.updateFormulas = function(referencesToUpdate) {
            // Update formulas
            for (var j = 0; j < obj.options.data.length; j++) {
                for (var i = 0; i < obj.options.data[0].length; i++) {
                    var value = '' + obj.options.data[j][i];
                    // Is formula
                    if (value.substr(0,1) == '=') {
                        // Replace tokens
                        var newFormula = obj.updateFormula(value, referencesToUpdate);
                        if (newFormula != value) {
                            obj.options.data[j][i] = newFormula;
                        }
                    }
                }
            }
    
            // Update formula chain
            var formula = [];
            var keys = Object.keys(obj.formula);
            for (var j = 0; j < keys.length; j++) {
                // Current key and values
                var key = keys[j];
                var value = obj.formula[key];
                // Update key
                if (referencesToUpdate[key]) {
                    key = referencesToUpdate[key];
                }
                // Update values
                formula[key] = [];
                for (var i = 0; i < value.length; i++) {
                    var letter = value[i];
                    if (referencesToUpdate[letter]) {
                        letter = referencesToUpdate[letter];
                    }
                    formula[key].push(letter);
                }
            }
            obj.formula = formula;
        }
    
        /**
         * Update formula
         */
        obj.updateFormula = function(formula, referencesToUpdate) {
            var testLetter = /[A-Z]/;
            var testNumber = /[0-9]/;
    
            var newFormula = '';
            var letter = null;
            var number = null;
            var token = '';
    
            for (var index = 0; index < formula.length; index++) {
                if (testLetter.exec(formula[index])) {
                    letter = 1;
                    number = 0;
                    token += formula[index];
                } else if (testNumber.exec(formula[index])) {
                    number = letter ? 1 : 0;
                    token += formula[index];
                } else {
                    if (letter && number) {
                        token = referencesToUpdate[token] ? referencesToUpdate[token] : token;
                    }
                    newFormula += token;
                    newFormula += formula[index];
                    letter = 0;
                    number = 0;
                    token = '';
                }
            }
    
            if (token) {
                if (letter && number) {
                    token = referencesToUpdate[token] ? referencesToUpdate[token] : token;
                }
                newFormula += token;
            }
    
            return newFormula;
        }
    
        /**
         * Parse formulas
         */
        obj.executeFormula = function(expression, x, y) {
    
            var formulaResults = [];
            var formulaLoopProtection = [];
    
            // Execute formula with loop protection
            var execute = function(expression, x, y) {
             // Parent column identification
                var parentId = jexcel.getColumnNameFromId([x, y]);
    
                // Code protection
                if (formulaLoopProtection[parentId]) {
                    console.error('Reference loop detected');
                    return '#ERROR';
                }
    
                formulaLoopProtection[parentId] = true;
    
                // Convert range tokens
                var tokensUpdate = function(tokens) {
                    for (var index = 0; index < tokens.length; index++) {
                        var f = [];
                        var token = tokens[index].split(':');
                        var e1 = jexcel.getIdFromColumnName(token[0], true);
                        var e2 = jexcel.getIdFromColumnName(token[1], true);
    
                        if (e1[0] <= e2[0]) {
                            var x1 = e1[0];
                            var x2 = e2[0];
                        } else {
                            var x1 = e2[0];
                            var x2 = e1[0];
                        }
    
                        if (e1[1] <= e2[1]) {
                            var y1 = e1[1];
                            var y2 = e2[1];
                        } else {
                            var y1 = e2[1];
                            var y2 = e1[1];
                        }
    
                        for (var j = y1; j <= y2; j++) {
                            for (var i = x1; i <= x2; i++) {
                                f.push(jexcel.getColumnNameFromId([i, j]));
                            }
                        }
    
                        expression = expression.replace(tokens[index], f.join(','));
                    }
                }
    
                var tokens = expression.match(/([A-Z]+[0-9]+)\:([A-Z]+[0-9]+)/g);
                if (tokens && tokens.length) {
                    tokensUpdate(tokens);
                }
    
                // String
                var evalstring = '';
    
                // Get tokens
                var tokens = expression.match(/([A-Z]+[0-9]+)/g);
    
                // Direct self-reference protection
                if (tokens && tokens.indexOf(parentId) > -1) {
                    console.error('Self Reference detected');
                    return '#ERROR';
                } else {
                    if (tokens) {
                        for (var i = 0; i < tokens.length; i++) {
                            // Keep chain
                            if (! obj.formula[tokens[i]]) {
                                obj.formula[tokens[i]] = [];
                            }
                            // Is already in the register
                            if (obj.formula[tokens[i]].indexOf(parentId) < 0) {
                                obj.formula[tokens[i]].push(parentId);
                            }
    
                            // Do not calculate again
                            if (eval('typeof(' + tokens[i] + ') == "undefined"')) {
                                // Coords
                                var position = jexcel.getIdFromColumnName(tokens[i], 1);
                                // Get value
                                if (typeof(obj.options.data[position[1]]) != 'undefined' && typeof(obj.options.data[position[1]][position[0]]) != 'undefined') {
                                    var value = obj.options.data[position[1]][position[0]];
                                } else {
                                    var value = '';
                                }
                                // Get column data
                                if ((''+value).substr(0,1) == '=') {
                                    if (formulaResults[tokens[i]]) {
                                        value = formulaResults[tokens[i]];
                                    } else {
                                        value = execute(value, position[0], position[1]);
                                        formulaResults[tokens[i]] = value;
                                    }
                                }
                                // Type!
                                if ((''+value).trim() == '') {
                                    // Null
                                    evalstring += "var " + tokens[i] + " = null;";
                                } else {
                                    if (value == Number(value) && obj.options.autoCasting == true) {
                                        // Number
                                        evalstring += "var " + tokens[i] + " = " + Number(value) + ";";
                                    } else {
                                        // Trying any formatted number
                                        var number = obj.parseNumber(value, position[0])
                                        if (obj.options.autoCasting == true && number) {
                                            // Render as number
                                            evalstring += "var " + tokens[i] + " = " + number + ";";
                                        } else {
                                            // Render as string
                                            evalstring += "var " + tokens[i] + " = '" + value + "';";
                                        }
                                    }
                                }
                            }
                        }
                    }
    
                    // Convert formula to javascript
                    try {
                        evalstring += "function COLUMN() { return parseInt(x) + 1; }; function ROW() { return parseInt(y) + 1; }; function CELL() { return parentId; }; function TABLE() { return obj; }; function VALUE(col, row) { return obj.records[row-1][col-1].innerHTML; }; function THISROWCELL(col) { var id = jexcel.getIdFromColumnName(col+(parseInt(y)+1), true); return obj.records[id[1]][id[0]].innerHTML; }";
    
                        var res = eval(evalstring + expression.substr(1));
                    } catch (e) {
                        var res = '#ERROR';
                    }
    
                    return res;
                }
            }
    
            return execute(expression, x, y);
        }
    
        /**
         * Trying to extract a number from a string
         */
        obj.parseNumber = function(value, columnNumber) {
            // Decimal point
            var decimal = columnNumber && obj.options.columns[columnNumber].decimal ? obj.options.columns[columnNumber].decimal : '.';
    
            // Parse both parts of the number
            var number = ('' + value);
            number = number.split(decimal);
            number[0] = number[0].match(/[+-]?[0-9]/g);
            if (number[0]) {
                number[0] = number[0].join('');
            }
            if (number[1]) {
                number[1] = number[1].match(/[0-9]*/g).join('');
            }
    
            // Is a valid number
            if (number[0] && Number(number[0]) >= 0) {
                if (! number[1]) {
                    var value = Number(number[0] + '.00');
                } else {
                    var value = Number(number[0] + '.' + number[1]);
                }
            } else {
                var value = null;
            }
    
            return value;
        }
    
        /**
         * Get row number
         */
        obj.row = function(cell) {
        }
    
        /**
         * Get col number
         */
        obj.col = function(cell) {
        }
    
        obj.up = function(shiftKey, ctrlKey) {
            if (shiftKey) {
                if (obj.selectedCell[3] > 0) {
                    obj.up.visible(1, ctrlKey ? 0 : 1)
                }
            } else {
                if (obj.selectedCell[1] > 0) {
                    obj.up.visible(0, ctrlKey ? 0 : 1)
                }
                obj.selectedCell[2] = obj.selectedCell[0];
                obj.selectedCell[3] = obj.selectedCell[1];
            }
    
            // Update selection
            obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
    
            // Change page
            if (obj.options.lazyLoading == true) {
                if (obj.selectedCell[1] == 0 || obj.selectedCell[3] == 0) {
                    obj.loadPage(0);
                    obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
                } else {
                    if (obj.loadValidation()) {
                        obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
                    } else {
                        var item = parseInt(obj.tbody.firstChild.getAttribute('data-y'));
                        if (obj.selectedCell[1] - item < 30) {
                            obj.loadUp();
                            obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
                        }
                    }
                }
            } else if (obj.options.pagination > 0) {
                var pageNumber = obj.whichPage(obj.selectedCell[3]);
                if (pageNumber != obj.pageNumber) {
                    obj.page(pageNumber);
                }
            }
    
            obj.updateScroll(1);
        }
    
        obj.up.visible = function(group, direction) {
            if (group == 0) {
                var x = parseInt(obj.selectedCell[0]);
                var y = parseInt(obj.selectedCell[1]);
            } else {
                var x = parseInt(obj.selectedCell[2]);
                var y = parseInt(obj.selectedCell[3]);
            }
    
            if (direction == 0) {
                for (var j = 0; j < y; j++) {
                    if (obj.records[j][x].style.display != 'none' && obj.rows[j].style.display != 'none') {
                        y = j;
                        break;
                    }
                }
            } else {
                y = obj.up.get(x, y);
            }
    
            if (group == 0) {
                obj.selectedCell[0] = x;
                obj.selectedCell[1] = y;
            } else {
                obj.selectedCell[2] = x;
                obj.selectedCell[3] = y;
            }
        }
    
        obj.up.get = function(x, y) {
            var x = parseInt(x);
            var y = parseInt(y);
            for (var j = (y - 1); j >= 0; j--) {
                if (obj.records[j][x].style.display != 'none' && obj.rows[j].style.display != 'none') {
                    if (obj.records[j][x].getAttribute('data-merged')) {
                        if (obj.records[j][x] == obj.records[y][x]) {
                            continue;
                        }
                    }
                    y = j;
                    break;
                }
            }
    
            return y;
        }
    
        obj.down = function(shiftKey, ctrlKey) {
            if (shiftKey) {
                if (obj.selectedCell[3] < obj.records.length - 1) {
                    obj.down.visible(1, ctrlKey ? 0 : 1)
                }
            } else {
                if (obj.selectedCell[1] < obj.records.length - 1) {
                    obj.down.visible(0, ctrlKey ? 0 : 1)
                }
                obj.selectedCell[2] = obj.selectedCell[0];
                obj.selectedCell[3] = obj.selectedCell[1];
            }
    
            obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
    
            // Change page
            if (obj.options.lazyLoading == true) {
                if ((obj.selectedCell[1] == obj.records.length - 1 || obj.selectedCell[3] == obj.records.length - 1)) {
                    obj.loadPage(-1);
                    obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
                } else {
                    if (obj.loadValidation()) {
                        obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
                    } else {
                        var item = parseInt(obj.tbody.lastChild.getAttribute('data-y'));
                        if (item - obj.selectedCell[3] < 30) {
                            obj.loadDown();
                            obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
                        }
                    }
                }
            } else if (obj.options.pagination > 0) {
                var pageNumber = obj.whichPage(obj.selectedCell[3]);
                if (pageNumber != obj.pageNumber) {
                    obj.page(pageNumber);
                }
            }
    
            obj.updateScroll(3);
        }
    
        obj.down.visible = function(group, direction) {
            if (group == 0) {
                var x = parseInt(obj.selectedCell[0]);
                var y = parseInt(obj.selectedCell[1]);
            } else {
                var x = parseInt(obj.selectedCell[2]);
                var y = parseInt(obj.selectedCell[3]);
            }
    
            if (direction == 0) {
                for (var j = obj.rows.length - 1; j > y; j--) {
                    if (obj.records[j][x].style.display != 'none' && obj.rows[j].style.display != 'none') {
                        y = j;
                        break;
                    }
                }
            } else {
                y = obj.down.get(x, y);
            }
    
            if (group == 0) {
                obj.selectedCell[0] = x;
                obj.selectedCell[1] = y;
            } else {
                obj.selectedCell[2] = x;
                obj.selectedCell[3] = y;
            }
        }
    
        obj.down.get = function(x, y) {
            var x = parseInt(x);
            var y = parseInt(y);
            for (var j = (y + 1); j < obj.rows.length; j++) {
                if (obj.records[j][x].style.display != 'none' && obj.rows[j].style.display != 'none') {
                    if (obj.records[j][x].getAttribute('data-merged')) {
                        if (obj.records[j][x] == obj.records[y][x]) {
                            continue;
                        }
                    }
                    y = j;
                    break;
                }
            }
    
            return y;
        }
    
        obj.right = function(shiftKey, ctrlKey) {
            if (shiftKey) {
                if (obj.selectedCell[2] < obj.headers.length - 1) {
                    obj.right.visible(1, ctrlKey ? 0 : 1)
                }
            } else {
                if (obj.selectedCell[0] < obj.headers.length - 1) {
                    obj.right.visible(0, ctrlKey ? 0 : 1)
                }
                obj.selectedCell[2] = obj.selectedCell[0];
                obj.selectedCell[3] = obj.selectedCell[1];
            }
    
            obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
            obj.updateScroll(2);
        }
    
        obj.right.visible = function(group, direction) {
            if (group == 0) {
                var x = parseInt(obj.selectedCell[0]);
                var y = parseInt(obj.selectedCell[1]);
            } else {
                var x = parseInt(obj.selectedCell[2]);
                var y = parseInt(obj.selectedCell[3]);
            }
    
            if (direction == 0) {
                for (var i = obj.headers.length - 1; i > x; i--) {
                    if (obj.records[y][i].style.display != 'none') {
                        x = i;
                        break;
                    }
                }
            } else {
                x = obj.right.get(x, y);
            }
    
            if (group == 0) {
                obj.selectedCell[0] = x;
                obj.selectedCell[1] = y;
            } else {
                obj.selectedCell[2] = x;
                obj.selectedCell[3] = y;
            }
        }
    
        obj.right.get = function(x, y) {
            var x = parseInt(x);
            var y = parseInt(y);
    
            for (var i = (x + 1); i < obj.headers.length; i++) {
                if (obj.records[y][i].style.display != 'none') {
                    if (obj.records[y][i].getAttribute('data-merged')) {
                        if (obj.records[y][i] == obj.records[y][x]) {
                            continue;
                        }
                    }
                    x = i;
                    break;
                }
            }
    
            return x;
        }
    
        obj.left = function(shiftKey, ctrlKey) {
            if (shiftKey) {
                if (obj.selectedCell[2] > 0) {
                    obj.left.visible(1, ctrlKey ? 0 : 1)
                }
            } else {
                if (obj.selectedCell[0] > 0) {
                    obj.left.visible(0, ctrlKey ? 0 : 1)
                }
                obj.selectedCell[2] = obj.selectedCell[0];
                obj.selectedCell[3] = obj.selectedCell[1];
            }
    
            obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
            obj.updateScroll(0);
        }
    
        obj.left.visible = function(group, direction) {
            if (group == 0) {
                var x = parseInt(obj.selectedCell[0]);
                var y = parseInt(obj.selectedCell[1]);
            } else {
                var x = parseInt(obj.selectedCell[2]);
                var y = parseInt(obj.selectedCell[3]);
            }
    
            if (direction == 0) {
                for (var i = 0; i < x; i++) {
                    if (obj.records[y][i].style.display != 'none') {
                        x = i;
                        break;
                    }
                }
            } else {
                x = obj.left.get(x, y);
            }
    
            if (group == 0) {
                obj.selectedCell[0] = x;
                obj.selectedCell[1] = y;
            } else {
                obj.selectedCell[2] = x;
                obj.selectedCell[3] = y;
            }
        }
    
        obj.left.get = function(x, y) {
            var x = parseInt(x);
            var y = parseInt(y);
            for (var i = (x - 1); i >= 0; i--) {
                if (obj.records[y][i].style.display != 'none') {
                    if (obj.records[y][i].getAttribute('data-merged')) {
                        if (obj.records[y][i] == obj.records[y][x]) {
                            continue;
                        }
                    }
                    x = i;
                    break;
                }
            }
    
            return x;
        }
    
        obj.first = function(shiftKey, ctrlKey) {
            if (shiftKey) {
                if (ctrlKey) {
                    obj.selectedCell[3] = 0;
                } else {
                    obj.left.visible(1, 0);
                }
            } else {
                if (ctrlKey) {
                    obj.selectedCell[1] = 0;
                } else {
                    obj.left.visible(0, 0);
                }
                obj.selectedCell[2] = obj.selectedCell[0];
                obj.selectedCell[3] = obj.selectedCell[1];
            }
    
            // Change page
            if (obj.options.lazyLoading == true && (obj.selectedCell[1] == 0 || obj.selectedCell[3] == 0)) {
                obj.loadPage(0);
            } else if (obj.options.pagination > 0) {
                var pageNumber = obj.whichPage(obj.selectedCell[3]);
                if (pageNumber != obj.pageNumber) {
                    obj.page(pageNumber);
                }
            }
    
            obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
            obj.updateScroll(1);
        }
    
        obj.last = function(shiftKey, ctrlKey) {
            if (shiftKey) {
                if (ctrlKey) {
                    obj.selectedCell[3] = obj.records.length - 1;
                } else {
                    obj.right.visible(1, 0);
                }
            } else {
                if (ctrlKey) {
                    obj.selectedCell[1] = obj.records.length - 1;
                } else {
                    obj.right.visible(0, 0);
                }
                obj.selectedCell[2] = obj.selectedCell[0];
                obj.selectedCell[3] = obj.selectedCell[1];
            }
    
            // Change page
            if (obj.options.lazyLoading == true && (obj.selectedCell[1] == obj.records.length - 1 || obj.selectedCell[3] == obj.records.length - 1)) {
                obj.loadPage(-1);
            } else if (obj.options.pagination > 0) {
                var pageNumber = obj.whichPage(obj.selectedCell[3]);
                if (pageNumber != obj.pageNumber) {
                    obj.page(pageNumber);
                }
            }
    
            obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
            obj.updateScroll(3);
        }
    
        obj.selectAll = function() {
            if (! obj.selectedCell) {
                obj.selectedCell = [];
            }
    
            obj.selectedCell[0] = 0;
            obj.selectedCell[1] = 0;
            obj.selectedCell[2] = obj.headers.length - 1;
            obj.selectedCell[3] = obj.records.length - 1;
    
            obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);
        }
    
        /**
         * Go to a page in a lazyLoading
         */
        obj.loadPage = function(pageNumber) {
            // Search
            if (obj.options.search == true && obj.results) {
                var results = obj.results;
            } else {
                var results = obj.rows;
            }
    
            // Per page
            var quantityPerPage = 100;
    
            // pageNumber
            if (pageNumber == null || pageNumber == -1) {
                // Last page
                pageNumber = Math.ceil(results.length / quantityPerPage); 
            }
    
            var startRow = (pageNumber * quantityPerPage);
            var finalRow = (pageNumber * quantityPerPage) + quantityPerPage;
            if (finalRow > results.length) {
                finalRow = results.length;
            }
            startRow = finalRow - 100;
            if (startRow < 0) {
                startRow = 0;
            }
    
            // Appeding items
            for (var j = startRow; j < finalRow; j++) {
                if (obj.options.search == true && obj.results) {
                    obj.tbody.appendChild(obj.rows[results[j]]);
                } else {
                    obj.tbody.appendChild(obj.rows[j]);
                }
    
                if (obj.tbody.children.length > quantityPerPage) {
                    obj.tbody.removeChild(obj.tbody.firstChild);
                }
            }
        }
    
        obj.loadUp = function() {
            // Search
            if (obj.options.search == true && obj.results) {
                var results = obj.results;
            } else {
                var results = obj.rows;
            }
            var test = 0;
            if (results.length > 100) {
                // Get the first element in the page
                var item = parseInt(obj.tbody.firstChild.getAttribute('data-y'));
                if (obj.options.search == true && obj.results) {
                    item = results.indexOf(item);
                }
                if (item > 0) {
                    for (var j = 0; j < 30; j++) {
                        item = item - 1;
                        if (item > -1) {
                            if (obj.options.search == true && obj.results) {
                                obj.tbody.insertBefore(obj.rows[results[item]], obj.tbody.firstChild);
                            } else {
                                obj.tbody.insertBefore(obj.rows[item], obj.tbody.firstChild);
                            }
                            if (obj.tbody.children.length > 100) {
                                obj.tbody.removeChild(obj.tbody.lastChild);
                                test = 1;
                            }
                        }
                    }
                }
            }
            return test;
        }
    
        obj.loadDown = function() {
            // Search
            if (obj.options.search == true && obj.results) {
                var results = obj.results;
            } else {
                var results = obj.rows;
            }
            var test = 0;
            if (results.length > 100) {
                // Get the last element in the page
                var item = parseInt(obj.tbody.lastChild.getAttribute('data-y'));
                if (obj.options.search == true && obj.results) {
                    item = results.indexOf(item);
                }
                if (item < obj.rows.length - 1) {
                    for (var j = 0; j <= 30; j++) {
                        if (item < results.length) {
                            if (obj.options.search == true && obj.results) {
                                obj.tbody.appendChild(obj.rows[results[item]]);
                            } else {
                                obj.tbody.appendChild(obj.rows[item]);
                            }
                            if (obj.tbody.children.length > 100) {
                                obj.tbody.removeChild(obj.tbody.firstChild);
                                test = 1;
                            }
                        }
                        item = item + 1;
                    }
                }
            }
    
            return test;
        }
    
        obj.loadValidation = function() {
            if (obj.selectedCell) {
                var currentPage = parseInt(obj.tbody.firstChild.getAttribute('data-y')) / 100;
                var selectedPage = parseInt(obj.selectedCell[3] / 100);
                var totalPages = parseInt(obj.rows.length / 100);
    
                if (currentPage != selectedPage && selectedPage <= totalPages) {
                    if (! Array.prototype.indexOf.call(obj.tbody.children, obj.rows[obj.selectedCell[3]])) {
                        obj.loadPage(selectedPage);
                        return true;
                    }
                }
            }
    
            return false;
        }
    
        /**
         * Reset search
         */
        obj.resetSearch = function() {
            obj.searchInput.value = '';
            obj.search('');
            obj.results = null;
        }

        /**
         * Search
         */
        obj.search = function(query) {
            // Query
            if (query) {
                var query = query.toLowerCase();
            }
    
            // Reset any filter
            if (obj.options.filters) {
                obj.resetFilters();
            }

            // Reset selection
            obj.resetSelection();
    
            // Total of results
            obj.pageNumber = 0;
            obj.results = [];
    
            if (query) {
                // Search filter
                var search = function(item, query, index) {
                    for (var i = 0; i < item.length; i++) {
                        if ((''+item[i]).toLowerCase().search(query) >= 0 ||
                            (''+obj.records[index][i].innerHTML).toLowerCase().search(query) >= 0) {
                            return true;
                        }
                    }
                    return false;
                }
    
                // Result
                var addToResult = function(k) {
                    if (obj.results.indexOf(k) == -1) {
                        obj.results.push(k);
                    }
                }
    
                // Filter
                var data = obj.options.data.filter(function(v, k) {
                    if (search(v, query, k)) {
                        // Merged rows found
                        var rows = obj.isRowMerged(k);
                        if (rows.length) {
                            for (var i = 0; i < rows.length; i++) {
                                var row = jexcel.getIdFromColumnName(rows[i], true);
                                for (var j = 0; j < obj.options.mergeCells[rows[i]][1]; j++) {
                                    addToResult(row[1]+j);
                                }
                            }
                        } else {
                            // Normal row found
                            addToResult(k);
                        }
                        return true;
                    } else {
                        return false;
                    }
                });
            } else {
                obj.results = null;
            }

            return obj.updateResult();
        }
    
        obj.updateResult = function() {
            var total = 0;
            var index = 0;
    
            // Page 1
            if (obj.options.lazyLoading == true) {
                total = 100;
            } else if (obj.options.pagination > 0) {
                total = obj.options.pagination;
            } else {
                if (obj.results) {
                    total = obj.results.length;
                } else {
                    total = obj.rows.length;
                }
            }
    
            // Reset current nodes
            while (obj.tbody.firstChild) {
                obj.tbody.removeChild(obj.tbody.firstChild);
            }
    
            // Hide all records from the table
            for (var j = 0; j < obj.rows.length; j++) {
                if (! obj.results || obj.results.indexOf(j) > -1) {
                    if (index < total) {
                        obj.tbody.appendChild(obj.rows[j]);
                        index++;
                    }
                    obj.rows[j].style.display = '';
                } else {
                    obj.rows[j].style.display = 'none';
                }
            }
    
            // Update pagination
            if (obj.options.pagination > 0) {
                obj.updatePagination();
            }

            obj.updateCornerPosition();
    
            return total;
        }

        /**
         * Which page the cell is
         */
        obj.whichPage = function(cell) {
            // Search
            if (obj.options.search == true && obj.results) {
                cell = obj.results.indexOf(cell);
            }
    
            return (Math.ceil((parseInt(cell) + 1) / parseInt(obj.options.pagination))) - 1;
        }
    
        /**
         * Go to page
         */
        obj.page = function(pageNumber) {
            var oldPage = obj.pageNumber;

            // Search
            if (obj.options.search == true && obj.results) {
                var results = obj.results;
            } else {
                var results = obj.rows;
            }
    
            // Per page
            var quantityPerPage = parseInt(obj.options.pagination);
    
            // pageNumber
            if (pageNumber == null || pageNumber == -1) {
                // Last page
                pageNumber = Math.ceil(results.length / quantityPerPage); 
            }
    
            // Page number
            obj.pageNumber = pageNumber;
    
            var startRow = (pageNumber * quantityPerPage);
            var finalRow = (pageNumber * quantityPerPage) + quantityPerPage;
            if (finalRow > results.length) {
                finalRow = results.length;
            }
            if (startRow < 0) {
                startRow = 0;
            }
    
            // Reset container
            while (obj.tbody.firstChild) {
                obj.tbody.removeChild(obj.tbody.firstChild);
            }
    
            // Appeding items
            for (var j = startRow; j < finalRow; j++) {
                if (obj.options.search == true && obj.results) {
                    obj.tbody.appendChild(obj.rows[results[j]]);
                } else {
                    obj.tbody.appendChild(obj.rows[j]);
                }
            }
    
            if (obj.options.pagination > 0) {
                obj.updatePagination();
            }
    
            // Update corner position
            obj.updateCornerPosition();

            // Events
            obj.dispatch('onchangepage', el, pageNumber, oldPage);
        }
    
        /**
         * Update the pagination
         */
        obj.updatePagination = function() {
            // Reset container
            obj.pagination.children[0].innerHTML = '';
            obj.pagination.children[1].innerHTML = '';
    
            // Start pagination
            if (obj.options.pagination) {
                // Searchable
                if (obj.options.search == true && obj.results) {
                    var results = obj.results.length;
                } else {
                    var results = obj.rows.length;
                }
    
                if (! results) {
                    // No records found
                    obj.pagination.children[0].innerHTML = obj.options.text.noRecordsFound;
                } else {
                    // Pagination container
                    var quantyOfPages = Math.ceil(results / obj.options.pagination);
    
                    if (obj.pageNumber < 6) {
                        var startNumber = 1;
                        var finalNumber = quantyOfPages < 10 ? quantyOfPages : 10;
                    } else if (quantyOfPages - obj.pageNumber < 5) {
                        var startNumber = quantyOfPages - 9;
                        var finalNumber = quantyOfPages;
                        if (startNumber < 1) {
                            startNumber = 1;
                        }
                    } else {
                        var startNumber = obj.pageNumber - 4;
                        var finalNumber = obj.pageNumber + 5;
                    }
    
                    // First
                    if (startNumber > 1) {
                        var paginationItem = document.createElement('div');
                        paginationItem.className = 'jexcel_page';
                        paginationItem.innerHTML = '<';
                        paginationItem.title = 1;
                        obj.pagination.children[1].appendChild(paginationItem);
                    }
    
                    // Get page links
                    for (var i = startNumber; i <= finalNumber; i++) {
                        var paginationItem = document.createElement('div');
                        paginationItem.className = 'jexcel_page';
                        paginationItem.innerHTML = i;
                        obj.pagination.children[1].appendChild(paginationItem);
    
                        if (obj.pageNumber == (i-1)) {
                            paginationItem.classList.add('jexcel_page_selected');
                        }
                    }
    
                    // Last
                    if (finalNumber < quantyOfPages) {
                        var paginationItem = document.createElement('div');
                        paginationItem.className = 'jexcel_page';
                        paginationItem.innerHTML = '>';
                        paginationItem.title = quantyOfPages;
                        obj.pagination.children[1].appendChild(paginationItem);
                    }
    
                    // Text
                    var format = function(format) {
                        var args = Array.prototype.slice.call(arguments, 1);
                        return format.replace(/{(\d+)}/g, function(match, number) {
                          return typeof args[number] != 'undefined'
                            ? args[number]
                            : match
                          ;
                        });
                    };
    
                    obj.pagination.children[0].innerHTML = format(obj.options.text.showingPage, obj.pageNumber + 1, quantyOfPages)
                }
            }
        }
    
        /**
         * Download CSV table
         * 
         * @return null
         */
        obj.download = function(includeHeaders) {
            if (obj.options.allowExport == false) {
                console.error('Export not allowed');
            } else {
                // Data
                var data = '';
                if (includeHeaders == true || obj.options.includeHeadersOnDownload == true) {
                    data += obj.getHeaders();
                    data += "\r\n";
                }

                // Get data
                data += obj.copy(false, obj.options.csvDelimiter, true);

                // Download element
                var blob = new Blob(["\uFEFF"+data], {type: 'text/csv;charset=utf-8;'});

                // IE Compatibility
                if (window.navigator && window.navigator.msSaveOrOpenBlob) {
                    window.navigator.msSaveOrOpenBlob(blob, options.csvFileName + '.csv');
                } else {
                    // Download element
                    var pom = document.createElement('a');
                    var url = URL.createObjectURL(blob);
                    pom.href = url;
                    pom.setAttribute('download', obj.options.csvFileName + '.csv');
                    document.body.appendChild(pom);
                    pom.click();
                    pom.parentNode.removeChild(pom);
                }
            }
        }
    
        /**
         * Initializes a new history record for undo/redo
         * 
         * @return null
         */
        obj.setHistory = function(changes) {
            if (obj.ignoreHistory != true) {
                // Increment and get the current history index
                var index = ++obj.historyIndex;
    
                // Slice the array to discard undone changes
                obj.history = (obj.history = obj.history.slice(0, index + 1));
    
                // Keep history
                obj.history[index] = changes;
            }
        }
    
        /**
         * Copy method
         * 
         * @param bool highlighted - Get only highlighted cells
         * @param delimiter - \t default to keep compatibility with excel
         * @return string value
         */
        obj.copy = function(highlighted, delimiter, returnData) {
            if (! delimiter) {
                delimiter = "\t";
            }
    
            // Controls
            var col = [];
            var colLabel = [];
            var row = [];
            var rowLabel = [];
            var x = obj.options.data[0].length
            var y = obj.options.data.length
            var tmp = '';

            // Headers
            if (obj.options.includeHeadersOnCopy == true) {
                if (obj.options.copyCompatibility == true) {
                    strLabel.push(obj.getHeaders(true).join(delimiter));
                } else {
                    str.push(obj.getHeaders(true).join(delimiter));
                }
            }

            // Reset container
            obj.style = [];
    
            // Go through the columns to get the data
            for (var j = 0; j < y; j++) {
                col = [];
                colLabel = [];
    
                for (var i = 0; i < x; i++) {
                    // If cell is highlighted
                    if (! highlighted || obj.records[j][i].classList.contains('highlight')) {
                        // Values
                        var value = obj.options.data[j][i];
                        if (value.match && (value.match(/,/g) || value.match(/\n/) || value.match(/\"/))) {
                            value = value.replace(new RegExp('"', 'g'), '""');
                            value = '"' + value + '"';
                        }
                        col.push(value);
    
                        // Labels
                        if (obj.options.columns[i].type == 'checkbox' || obj.options.columns[i].type == 'radio') {
                            var label = value;
                        } else {
                            var label = obj.records[j][i].innerHTML;
                            if (label.match && (label.match(/,/g) || label.match(/\n/) || label.match(/\"/))) {
                                // Scape double quotes
                                label = label.replace(new RegExp('"', 'g'), '""');
                                label = '"' + label + '"';
                            }
                        }
                        colLabel.push(label);
    
                        // Get style
                        tmp = obj.records[j][i].getAttribute('style');
                        tmp = tmp.replace('display: none;', '');
                        obj.style.push(tmp ? tmp : '');
                    }
                }
    
                if (col.length) {
                    row.push(col.join(delimiter));
                }
                if (colLabel.length) {
                    rowLabel.push(colLabel.join(delimiter));
                }
            }

            // Final string
            var str = row.join("\r\n");
            var strLabel = rowLabel.join("\r\n");

            // Create a hidden textarea to copy the values
            if (! returnData) {
                if (obj.options.copyCompatibility == true) {
                    obj.textarea.value = strLabel;
                } else {
                    obj.textarea.value = str;
                }
                obj.textarea.select();
                document.execCommand("copy");
            }
    
            // Keep data
            if (obj.options.copyCompatibility == true) {
                obj.data = strLabel;
            } else {
                obj.data = str;
            }
            // Keep non visible information
            obj.hashString = obj.hash(obj.data);
    
            // Border
            if (obj.highlighted) {
                for (var i = 0; i < obj.highlighted.length; i++) {
                    obj.highlighted[i].classList.add('copying');
                    if (obj.highlighted[i].classList.contains('highlight-left')) {
                        obj.highlighted[i].classList.add('copying-left');
                    }
                    if (obj.highlighted[i].classList.contains('highlight-right')) {
                        obj.highlighted[i].classList.add('copying-right');
                    }
                    if (obj.highlighted[i].classList.contains('highlight-top')) {
                        obj.highlighted[i].classList.add('copying-top');
                    }
                    if (obj.highlighted[i].classList.contains('highlight-bottom')) {
                        obj.highlighted[i].classList.add('copying-bottom');
                    }
                }
            }

            return obj.data;
        }
    
        /**
         * jExcel paste method
         * 
         * @param integer row number
         * @return string value
         */
        obj.paste = function(x, y, data) {
            // Paste filter
            var ret = obj.dispatch('onbeforepaste', el, data, x, y);

            if (ret === false) {
                return false;
            } else if (ret) {
                var data = ret;
            }
    
            // Controls
            var hash = obj.hash(data);
            var style = (hash == obj.hashString) ? obj.style : null;
    
            // Depending on the behavior
            if (obj.options.copyCompatibility == true && hash == obj.hashString) {
                var data = obj.data;
            }
    
            // Split new line
            var data = obj.parseCSV(data, "\t");
    
            if (x != null && y != null && data) {
                // Records
                var i = 0;
                var j = 0;
                var records = [];
                var newStyle = {};
                var oldStyle = {};
                var styleIndex = 0;
    
                // Index
                var colIndex = parseInt(x);
                var rowIndex = parseInt(y);
                var row = null;
    
                // Go through the columns to get the data
                while (row = data[j]) {
                    i = 0;
                    colIndex = parseInt(x);
    
                    while (row[i] != null) {
                        // Update and keep history
                        var record = obj.updateCell(colIndex, rowIndex, row[i]);
                        // Keep history
                        records.push(record);
                        // Update all formulas in the chain
                        obj.updateFormulaChain(colIndex, rowIndex, records);
                        // Style
                        if (style && style[styleIndex]) {
                            var columnName = jexcel.getColumnNameFromId([colIndex, rowIndex]);
                            newStyle[columnName] = style[styleIndex];
                            oldStyle[columnName] = obj.getStyle(columnName);
                            obj.records[rowIndex][colIndex].setAttribute('style', style[styleIndex]);
                            styleIndex++
                        }
                        i++;
                        if (row[i] != null) {
                            if (colIndex >= obj.headers.length - 1) {
                                obj.insertColumn();
                            }
                            colIndex = obj.right.get(colIndex, rowIndex);
                        }
                    }
    
                    j++;
                    if (data[j]) {
                        if (rowIndex >= obj.rows.length-1) {
                            obj.insertRow();
                        }
                        rowIndex = obj.down.get(x, rowIndex);
                    }
                }
    
                // Select the new cells
                obj.updateSelectionFromCoords(x, y, colIndex, rowIndex);
    
                // Update history
                obj.setHistory({
                    action:'setValue',
                    records:records,
                    selection:obj.selectedCell,
                    newStyle:newStyle,
                    oldStyle:oldStyle,
                });
    
                // Update table
                obj.updateTable();
    
                // Paste event
                obj.dispatch('onpaste', el, data);
    
                // On after changes
                obj.onafterchanges(el, records);
            }

            obj.removeCopyingSelection();
        }

        /**
         * Remove copying border
         */
        obj.removeCopyingSelection = function() {
            var copying = document.querySelectorAll('.jexcel .copying');
            for (var i = 0; i < copying.length; i++) {
                copying[i].classList.remove('copying');
                copying[i].classList.remove('copying-left');
                copying[i].classList.remove('copying-right');
                copying[i].classList.remove('copying-top');
                copying[i].classList.remove('copying-bottom');
            }
        }

        /**
         * Process row
         */
        obj.historyProcessRow = function(type, historyRecord) {
            var rowIndex = (! historyRecord.insertBefore) ? historyRecord.rowNumber + 1 : historyRecord.rowNumber;
    
            if (obj.options.search == true) {
                if (obj.results && obj.results.length != obj.rows.length) {
                    obj.resetSearch();
                }
            }
    
            // Remove row
            if (type == 1) {
                var numOfRows = historyRecord.numOfRows;
                // Remove nodes
                for (var j = rowIndex; j < (numOfRows + rowIndex); j++) {
                    obj.rows[j].parentNode.removeChild(obj.rows[j]);
                }
                // Remove references
                obj.records.splice(rowIndex, numOfRows);
                obj.options.data.splice(rowIndex, numOfRows);
                obj.rows.splice(rowIndex, numOfRows);
    
                obj.conditionalSelectionUpdate(1, rowIndex, (numOfRows + rowIndex) - 1);
            } else {
                // Insert data
                obj.records = jexcel.injectArray(obj.records, rowIndex, historyRecord.rowRecords);
                obj.options.data = jexcel.injectArray(obj.options.data, rowIndex, historyRecord.rowData);
                obj.rows = jexcel.injectArray(obj.rows, rowIndex, historyRecord.rowNode);
                // Insert nodes
                var index = 0
                for (var j = rowIndex; j < (historyRecord.numOfRows + rowIndex); j++) {
                    obj.tbody.insertBefore(historyRecord.rowNode[index], obj.tbody.children[j]);
                    index++;
                }
            }
    
            // Respect pagination
            if (obj.options.pagination > 0) {
                obj.page(obj.pageNumber);
            }
    
            obj.updateTableReferences();
        }
    
        /**
         * Process column
         */
        obj.historyProcessColumn = function(type, historyRecord) {
            var columnIndex = (! historyRecord.insertBefore) ? historyRecord.columnNumber + 1 : historyRecord.columnNumber;
    
            // Remove column
            if (type == 1) {
                var numOfColumns = historyRecord.numOfColumns;
    
                obj.options.columns.splice(columnIndex, numOfColumns);
                for (var i = columnIndex; i < (numOfColumns + columnIndex); i++) {
                    obj.headers[i].parentNode.removeChild(obj.headers[i]);
                    obj.colgroup[i].parentNode.removeChild(obj.colgroup[i]);
                }
                obj.headers.splice(columnIndex, numOfColumns);
                obj.colgroup.splice(columnIndex, numOfColumns);
                for (var j = 0; j < historyRecord.data.length; j++) {
                    for (var i = columnIndex; i < (numOfColumns + columnIndex); i++) {
                        obj.records[j][i].parentNode.removeChild(obj.records[j][i]);
                    }
                    obj.records[j].splice(columnIndex, numOfColumns);
                    obj.options.data[j].splice(columnIndex, numOfColumns);
                }
                // Process footers
                if (obj.options.footers) {
                    for (var j = 0; j < obj.options.footers.length; j++) {
                        obj.options.footers[j].splice(columnIndex, numOfColumns);
                    }
                }
            } else {
                // Insert data
                obj.options.columns = jexcel.injectArray(obj.options.columns, columnIndex, historyRecord.columns);
                obj.headers = jexcel.injectArray(obj.headers, columnIndex, historyRecord.headers);
                obj.colgroup = jexcel.injectArray(obj.colgroup, columnIndex, historyRecord.colgroup);
    
                var index = 0
                for (var i = columnIndex; i < (historyRecord.numOfColumns + columnIndex); i++) {
                    obj.headerContainer.insertBefore(historyRecord.headers[index], obj.headerContainer.children[i+1]);
                    obj.colgroupContainer.insertBefore(historyRecord.colgroup[index], obj.colgroupContainer.children[i+1]);
                    index++;
                }
    
                for (var j = 0; j < historyRecord.data.length; j++) {
                    obj.options.data[j] = jexcel.injectArray(obj.options.data[j], columnIndex, historyRecord.data[j]);
                    obj.records[j] = jexcel.injectArray(obj.records[j], columnIndex, historyRecord.records[j]);
                    var index = 0
                    for (var i = columnIndex; i < (historyRecord.numOfColumns + columnIndex); i++) {
                        obj.rows[j].insertBefore(historyRecord.records[j][index], obj.rows[j].children[i+1]);
                        index++;
                    }
                }
                // Process footers
                if (obj.options.footers) {
                    for (var j = 0; j < obj.options.footers.length; j++) {
                        obj.options.footers[j] = jexcel.injectArray(obj.options.footers[j], columnIndex, historyRecord.footers[j]);
                    }
                }
            }
    
            // Adjust nested headers
            if (obj.options.nestedHeaders && obj.options.nestedHeaders.length > 0) {
                // Flexible way to handle nestedheaders
                if (obj.options.nestedHeaders[0] && obj.options.nestedHeaders[0][0]) {
                    for (var j = 0; j < obj.options.nestedHeaders.length; j++) {
                        if (type == 1) {
                            var colspan = parseInt(obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan) - historyRecord.numOfColumns;
                        } else {
                            var colspan = parseInt(obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan) + historyRecord.numOfColumns;
                        }
                        obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan = colspan;
                        obj.thead.children[j].children[obj.thead.children[j].children.length-1].setAttribute('colspan', colspan);
                    }
                } else {
                    if (type == 1) {
                        var colspan = parseInt(obj.options.nestedHeaders[0].colspan) - historyRecord.numOfColumns;
                    } else {
                        var colspan = parseInt(obj.options.nestedHeaders[0].colspan) + historyRecord.numOfColumns;
                    }
                    obj.options.nestedHeaders[0].colspan = colspan;
                    obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute('colspan', colspan);
                }
            }
    
            obj.updateTableReferences();
        }
    
        /**
         * Undo last action
         */
        obj.undo = function() {
            // Ignore events and history
            var ignoreEvents = obj.ignoreEvents ? true : false;
            var ignoreHistory = obj.ignoreHistory ? true : false;
    
            obj.ignoreEvents = true;
            obj.ignoreHistory = true;
    
            // Records
            var records = [];
    
            // Update cells
            if (obj.historyIndex >= 0) {
                // History
                var historyRecord = obj.history[obj.historyIndex--];
    
                if (historyRecord.action == 'insertRow') {
                    obj.historyProcessRow(1, historyRecord);
                } else if (historyRecord.action == 'deleteRow') {
                    obj.historyProcessRow(0, historyRecord);
                } else if (historyRecord.action == 'insertColumn') {
                    obj.historyProcessColumn(1, historyRecord);
                } else if (historyRecord.action == 'deleteColumn') {
                    obj.historyProcessColumn(0, historyRecord);
                } else if (historyRecord.action == 'moveRow') {
                    obj.moveRow(historyRecord.newValue, historyRecord.oldValue);
                } else if (historyRecord.action == 'moveColumn') {
                    obj.moveColumn(historyRecord.newValue, historyRecord.oldValue);
                } else if (historyRecord.action == 'setMerge') {
                    obj.removeMerge(historyRecord.column, historyRecord.data);
                } else if (historyRecord.action == 'setStyle') {
                    obj.setStyle(historyRecord.oldValue, null, null, 1);
                } else if (historyRecord.action == 'setWidth') {
                    obj.setWidth(historyRecord.column, historyRecord.oldValue);
                } else if (historyRecord.action == 'setHeight') {
                    obj.setHeight(historyRecord.row, historyRecord.oldValue);
                } else if (historyRecord.action == 'setHeader') {
                    obj.setHeader(historyRecord.column, historyRecord.oldValue);
                } else if (historyRecord.action == 'setComments') {
                    obj.setComments(historyRecord.column, historyRecord.oldValue[0], historyRecord.oldValue[1]);
                } else if (historyRecord.action == 'orderBy') {
                    var rows = [];
                    for (var j = 0; j < historyRecord.rows.length; j++) {
                        rows[historyRecord.rows[j]] = j;
                    }
                    obj.updateOrderArrow(historyRecord.column, historyRecord.order ? 0 : 1);
                    obj.updateOrder(rows);
                } else if (historyRecord.action == 'setValue') {
                    // Redo for changes in cells
                    for (var i = 0; i < historyRecord.records.length; i++) {
                        records.push({
                            x: historyRecord.records[i].x,
                            y: historyRecord.records[i].y,
                            newValue: historyRecord.records[i].oldValue,
                        });

                        if (historyRecord.oldStyle) {
                            obj.resetStyle(historyRecord.oldStyle);
                        }
                    }
                    // Update records
                    obj.setValue(records);

                    // Update selection
                    if (historyRecord.selection) {
                        obj.updateSelectionFromCoords(historyRecord.selection[0], historyRecord.selection[1], historyRecord.selection[2], historyRecord.selection[3]);
                    }
                }
            }
            obj.ignoreEvents = ignoreEvents;
            obj.ignoreHistory = ignoreHistory;
    
            // Events
            obj.dispatch('onundo', el, historyRecord);
        }
    
        /**
         * Redo previously undone action
         */
        obj.redo = function() {
            // Ignore events and history
            var ignoreEvents = obj.ignoreEvents ? true : false;
            var ignoreHistory = obj.ignoreHistory ? true : false;
    
            obj.ignoreEvents = true;
            obj.ignoreHistory = true;
    
            // Records
            var records = [];
    
            // Update cells
            if (obj.historyIndex < obj.history.length - 1) {
                // History
                var historyRecord = obj.history[++obj.historyIndex];
    
                if (historyRecord.action == 'insertRow') {
                    obj.historyProcessRow(0, historyRecord);
                } else if (historyRecord.action == 'deleteRow') {
                    obj.historyProcessRow(1, historyRecord);
                } else if (historyRecord.action == 'insertColumn') {
                    obj.historyProcessColumn(0, historyRecord);
                } else if (historyRecord.action == 'deleteColumn') {
                    obj.historyProcessColumn(1, historyRecord);
                } else if (historyRecord.action == 'moveRow') {
                    obj.moveRow(historyRecord.oldValue, historyRecord.newValue);
                } else if (historyRecord.action == 'moveColumn') {
                    obj.moveColumn(historyRecord.oldValue, historyRecord.newValue);
                } else if (historyRecord.action == 'setMerge') {
                    obj.setMerge(historyRecord.column, historyRecord.colspan, historyRecord.rowspan, 1);
                } else if (historyRecord.action == 'setStyle') {
                    obj.setStyle(historyRecord.newValue, null, null, 1);
                } else if (historyRecord.action == 'setWidth') {
                    obj.setWidth(historyRecord.column, historyRecord.newValue);
                } else if (historyRecord.action == 'setHeight') {
                    obj.setHeight(historyRecord.row, historyRecord.newValue);
                } else if (historyRecord.action == 'setHeader') {
                    obj.setHeader(historyRecord.column, historyRecord.newValue);
                } else if (historyRecord.action == 'setComments') {
                    obj.setComments(historyRecord.column, historyRecord.newValue[0], historyRecord.newValue[1]);
                } else if (historyRecord.action == 'orderBy') {
                    obj.updateOrderArrow(historyRecord.column, historyRecord.order);
                    obj.updateOrder(historyRecord.rows);
                } else if (historyRecord.action == 'setValue') {
                    obj.setValue(historyRecord.records);
                    // Redo for changes in cells
                    for (var i = 0; i < historyRecord.records.length; i++) {
                        if (historyRecord.oldStyle) {
                            obj.resetStyle(historyRecord.newStyle);
                        }
                    }
                    // Update selection
                    if (historyRecord.selection) {
                        obj.updateSelectionFromCoords(historyRecord.selection[0], historyRecord.selection[1], historyRecord.selection[2], historyRecord.selection[3]);
                    }
                }
            }
            obj.ignoreEvents = ignoreEvents;
            obj.ignoreHistory = ignoreHistory;
    
            // Events
            obj.dispatch('onredo', el, historyRecord);
        }
    
        /**
         * Get dropdown value from key
         */
        obj.getDropDownValue = function(column, key) {
            var value = [];
    
            if (obj.options.columns[column] && obj.options.columns[column].source) {
                // Create array from source
                var combo = [];
                var source = obj.options.columns[column].source;
    
                for (var i = 0; i < source.length; i++) {
                    if (typeof(source[i]) == 'object') {
                        combo[source[i].id] = source[i].name;
                    } else {
                        combo[source[i]] = source[i];
                    }
                }
    
                // Garante single multiple compatibily
                var keys = ('' + key).split(';')
    
                for (var i = 0; i < keys.length; i++) {
                    if (combo[keys[i]]) {
                        value.push(combo[keys[i]]);
                    }
                }
            } else {
                console.error('Invalid column');
            }
    
            return (value.length > 0) ? value.join('; ') : '';
        }
    
        /**
         * From starckoverflow contributions
         */
        obj.parseCSV = function(str, delimiter) {
            // Remove last line break
            str = str.replace(/\r?\n$|\r$|\n$/g, "");
            // Last caracter is the delimiter
            if (str.charCodeAt(str.length-1) == 9) {
                str += "\0";
            }
            // user-supplied delimeter or default comma
            delimiter = (delimiter || ",");
    
            var arr = [];
            var quote = false;  // true means we're inside a quoted field
            // iterate over each character, keep track of current row and column (of the returned array)
            for (var row = 0, col = 0, c = 0; c < str.length; c++) {
                var cc = str[c], nc = str[c+1];
                arr[row] = arr[row] || [];
                arr[row][col] = arr[row][col] || '';
    
                // If the current character is a quotation mark, and we're inside a quoted field, and the next character is also a quotation mark, add a quotation mark to the current column and skip the next character
                if (cc == '"' && quote && nc == '"') { arr[row][col] += cc; ++c; continue; }  
    
                // If it's just one quotation mark, begin/end quoted field
                if (cc == '"') { quote = !quote; continue; }
    
                // If it's a comma and we're not in a quoted field, move on to the next column
                if (cc == delimiter && !quote) { ++col; continue; }
    
                // If it's a newline (CRLF) and we're not in a quoted field, skip the next character and move on to the next row and move to column 0 of that new row
                if (cc == '\r' && nc == '\n' && !quote) { ++row; col = 0; ++c; continue; }
    
                // If it's a newline (LF or CR) and we're not in a quoted field, move on to the next row and move to column 0 of that new row
                if (cc == '\n' && !quote) { ++row; col = 0; continue; }
                if (cc == '\r' && !quote) { ++row; col = 0; continue; }
    
                // Otherwise, append the current character to the current column
                arr[row][col] += cc;
            }
            return arr;
        }
    
        obj.hash = function(str) {
            var hash = 0, i, chr;
    
            if (str.length === 0) {
                return hash;
            } else {
                for (i = 0; i < str.length; i++) {
                  chr = str.charCodeAt(i);
                  hash = ((hash << 5) - hash) + chr;
                  hash |= 0;
                }
            }
            return hash;
        }
    
        obj.onafterchanges = function(el, records) {
            // Events
            obj.dispatch('onafterchanges', el, records);
        }
    
        obj.destroy = function() {
            jexcel.destroy(el);
        }

        /**
         * Initialization method
         */
        obj.init = function() {
            jexcel.current = obj;
    
            // Build handlers
            if (typeof(jexcel.build) == 'function') {
                if (obj.options.root) {
                    jexcel.build(obj.options.root);
                } else {
                    jexcel.build(document);
                    jexcel.build = null;
                }
            }
    
            // Event
            el.setAttribute('tabindex', 1);
            el.addEventListener('focus', function(e) {
                if (jexcel.current && ! obj.selectedCell) {
                    obj.updateSelectionFromCoords(0,0,0,0);
                    obj.left();
                }
            });

            // Load the table data based on an CSV file
            if (obj.options.csv) {
                // Loading
                if (obj.options.loadingSpin == true) {
                    jSuites.loading.show();
                }
    
                // Load CSV file
                jSuites.ajax({
                    url: obj.options.csv,
                    method: 'GET',
                    dataType: 'text',
                    success: function(result) {
                        // Convert data
                        var newData = obj.parseCSV(result, obj.options.csvDelimiter)
    
                        // Headers
                        if (obj.options.csvHeaders == true && newData.length > 0) {
                            var headers = newData.shift();
                            for(var i = 0; i < headers.length; i++) {
                                if (! obj.options.columns[i]) {
                                    obj.options.columns[i] = { type:'text', align:obj.options.defaultColAlign, width:obj.options.defaultColWidth };
                                }
                                // Precedence over pre-configurated titles
                                if (typeof obj.options.columns[i].title === 'undefined') {
                                  obj.options.columns[i].title = headers[i];
                                }
                            }
                        }
                        // Data
                        obj.options.data = newData;
                        // Prepare table
                        obj.prepareTable();
                        // Hide spin
                        if (obj.options.loadingSpin == true) {
                            jSuites.loading.hide();
                        }
                    }
                });
            } else if (obj.options.url) {
                // Loading
                if (obj.options.loadingSpin == true) {
                    jSuites.loading.show();
                }
    
                jSuites.ajax({
                    url: obj.options.url,
                    method: 'GET',
                    dataType: 'json',
                    success: function(result) {
                        // Data
                        obj.options.data = (result.data) ? result.data : result;
                        // Prepare table
                        obj.prepareTable();
                        // Hide spin
                        if (obj.options.loadingSpin == true) {
                            jSuites.loading.hide();
                        }
                    }
                });
            } else {
                // Prepare table
                obj.prepareTable();
            }
        }
    
        // Context menu
        if (options && options.contextMenu != null) {
            obj.options.contextMenu = options.contextMenu;
        } else {
            obj.options.contextMenu = function(el, x, y, e) {
                var items = [];
    
                if (y == null) {
                    // Insert a new column
                    if (obj.options.allowInsertColumn == true) {
                        items.push({
                            title:obj.options.text.insertANewColumnBefore,
                            onclick:function() {
                                obj.insertColumn(1, parseInt(x), 1);
                            }
                        });
                    }
    
                    if (obj.options.allowInsertColumn == true) {
                        items.push({
                            title:obj.options.text.insertANewColumnAfter,
                            onclick:function() {
                                obj.insertColumn(1, parseInt(x), 0);
                            }
                        });
                    }
    
                    // Delete a column
                    if (obj.options.allowDeleteColumn == true) {
                        items.push({
                            title:obj.options.text.deleteSelectedColumns,
                            onclick:function() {
                                obj.deleteColumn(obj.getSelectedColumns().length ? undefined : parseInt(x));
                            }
                        });
                    }
    
                    // Rename column
                    if (obj.options.allowRenameColumn == true) {
                        items.push({
                            title:obj.options.text.renameThisColumn,
                            onclick:function() {
                                obj.setHeader(x);
                            }
                        });
                    }
    
                    // Sorting
                    if (obj.options.columnSorting == true) {
                        // Line
                        items.push({ type:'line' });
    
                        items.push({
                            title:obj.options.text.orderAscending,
                            onclick:function() {
                                obj.orderBy(x, 0);
                            }
                        });
                        items.push({
                            title:obj.options.text.orderDescending,
                            onclick:function() {
                                obj.orderBy(x, 1);
                            }
                        });
                    }
                } else {
                    // Insert new row
                    if (obj.options.allowInsertRow == true) {
                        items.push({
                            title:obj.options.text.insertANewRowBefore,
                            onclick:function() {
                                obj.insertRow(1, parseInt(y), 1);
                            }
                        });
    
                        items.push({
                            title:obj.options.text.insertANewRowAfter,
                            onclick:function() {
                                obj.insertRow(1, parseInt(y));
                            }
                        });
                    }
    
                    if (obj.options.allowDeleteRow == true) {
                        items.push({
                            title:obj.options.text.deleteSelectedRows,
                            onclick:function() {
                                obj.deleteRow(obj.getSelectedRows().length ? undefined : parseInt(y));
                            }
                        });
                    }
    
                    if (x) {
                        if (obj.options.allowComments == true) {
                            items.push({ type:'line' });
    
                            var title = obj.records[y][x].getAttribute('title') || '';

                            items.push({
                                title: title ? obj.options.text.editComments : obj.options.text.addComments,
                                onclick:function() {
                                    var comment = prompt(obj.options.text.comments, title);
                                    if (comment) {
                                        obj.setComments([ x, y ], comment);
                                    }
                                }
                            });
    
                            if (title) {
                                items.push({
                                    title:obj.options.text.clearComments,
                                    onclick:function() {
                                        obj.setComments([ x, y ], '');
                                    }
                                });
                            }
                        }
                    }
                }
    
                // Line
                items.push({ type:'line' });
    
                // Copy
                items.push({
                    title:obj.options.text.copy,
                    shortcut:'Ctrl + C',
                    onclick:function() {
                        obj.copy(true);
                    }
                });
    
                // Paste
                if (navigator && navigator.clipboard) {
                    items.push({
                        title:obj.options.text.paste,
                        shortcut:'Ctrl + V',
                        onclick:function() {
                            if (obj.selectedCell) {
                                navigator.clipboard.readText().then(function(text) {
                                    if (text) {
                                        jexcel.current.paste(obj.selectedCell[0], obj.selectedCell[1], text);
                                    }
                                });
                            }
                        }
                    });
                }
    
                // Save
                if (obj.options.allowExport) {
                    items.push({
                        title: obj.options.text.saveAs,
                        shortcut: 'Ctrl + S',
                        onclick: function () {
                            obj.download();
                        }
                    });
                }
    
                // About
                if (obj.options.about) {
                    items.push({
                        title:obj.options.text.about,
                        onclick:function() {
                            alert(obj.options.about);
                        }
                    });
                }
    
                return items;
            }
        }
    
        obj.scrollControls = function(e) {
            obj.wheelControls();

            if (obj.options.freezeColumns > 0 && obj.content.scrollLeft != scrollLeft) {
                obj.updateFreezePosition();
            }

            // Close editor
            if (obj.options.lazyLoading == true || obj.options.tableOverflow == true) {
                if (obj.edition && e.target.className.substr(0,9) != 'jdropdown') {
                    obj.closeEditor(obj.edition[0], true);
                }
            }
        }

        obj.wheelControls = function(e) {
            if (obj.options.lazyLoading == true) {
                if (jexcel.timeControlLoading == null) {
                    jexcel.timeControlLoading = setTimeout(function() {
                        if (obj.content.scrollTop + obj.content.clientHeight >= obj.content.scrollHeight) {
                            if (obj.loadDown()) {
                                if (obj.content.scrollTop + obj.content.clientHeight > obj.content.scrollHeight - 10) {
                                    obj.content.scrollTop = obj.content.scrollTop - obj.content.clientHeight;
                                }
                                obj.updateCornerPosition();
                            }
                        } else if (obj.content.scrollTop <= obj.content.clientHeight) {
                            if (obj.loadUp()) {
                                if (obj.content.scrollTop < 10) {
                                    obj.content.scrollTop = obj.content.scrollTop + obj.content.clientHeight;
                                }
                                obj.updateCornerPosition();
                            }
                        }
    
                        jexcel.timeControlLoading = null;
                    }, 100);
                }
            }
        }

        // Get width of all freezed cells together
        obj.getFreezeWidth = function() {
            var width = 0;
            if (obj.options.freezeColumns > 0) {
                for (var i = 0; i < obj.options.freezeColumns; i++) {
                    width += parseInt(obj.options.columns[i].width);
                }
            }
            return width;
        }

        var scrollLeft = 0;

        obj.updateFreezePosition = function() {
            scrollLeft = obj.content.scrollLeft;
            var width = 0;
            if (scrollLeft > 50) {
                for (var i = 0; i < obj.options.freezeColumns; i++) {
                    if (i > 0) {
                        width += parseInt(obj.options.columns[i-1].width);
                    }
                    obj.headers[i].classList.add('jexcel_freezed');
                    obj.headers[i].style.left = width + 'px';
                    for (var j = 0; j < obj.rows.length; j++) {
                        if (obj.rows[j] && obj.records[j][i]) {
                            var shifted = (scrollLeft + (i > 0 ? obj.records[j][i-1].style.width : 0)) - 51 + 'px';
                            obj.records[j][i].classList.add('jexcel_freezed');
                            obj.records[j][i].style.left = shifted;
                        }
                    }
                }
            } else {
                for (var i = 0; i < obj.options.freezeColumns; i++) {
                    obj.headers[i].classList.remove('jexcel_freezed');
                    obj.headers[i].style.left = '';
                    for (var j = 0; j < obj.rows.length; j++) {
                        if (obj.records[j][i]) {
                            obj.records[j][i].classList.remove('jexcel_freezed');
                            obj.records[j][i].style.left = '';
                        }
                    }
                }
            }

            // Place the corner in the correct place
            obj.updateCornerPosition();
        }

        el.addEventListener("DOMMouseScroll", obj.wheelControls);
        el.addEventListener("mousewheel", obj.wheelControls);
    
        el.jexcel = obj;
    
        obj.init();
    
        return obj;
    });
    
    jexcel.current = null;
    jexcel.timeControl = null;
    jexcel.timeControlLoading = null;
    
    jexcel.destroy = function(element, destroyEventHandlers) {
        if (element.jexcel) {
            var root = element.jexcel.options.root ? element.jexcel.options.root : document;
            element.removeEventListener("DOMMouseScroll", element.jexcel.scrollControls);
            element.removeEventListener("mousewheel", element.jexcel.scrollControls);
            element.jexcel = null;
            element.innerHTML = '';
    
            if (destroyEventHandlers) {
                root.removeEventListener("mouseup", jexcel.mouseUpControls);
                root.removeEventListener("mousedown", jexcel.mouseDownControls);
                root.removeEventListener("mousemove", jexcel.mouseMoveControls);
                root.removeEventListener("mouseover", jexcel.mouseOverControls);
                root.removeEventListener("dblclick", jexcel.doubleClickControls);
                root.removeEventListener("paste", jexcel.pasteControls);
                root.removeEventListener("contextmenu", jexcel.contextMenuControls);
                root.removeEventListener("touchstart", jexcel.touchStartControls);
                root.removeEventListener("touchend", jexcel.touchEndControls);
                root.removeEventListener("touchcancel", jexcel.touchEndControls);
                document.removeEventListener("keydown", jexcel.keyDownControls);
                jexcel = null;
            }
        }
    }
    
    jexcel.build = function(root) {
        root.addEventListener("mouseup", jexcel.mouseUpControls);
        root.addEventListener("mousedown", jexcel.mouseDownControls);
        root.addEventListener("mousemove", jexcel.mouseMoveControls);
        root.addEventListener("mouseover", jexcel.mouseOverControls);
        root.addEventListener("dblclick", jexcel.doubleClickControls);
        root.addEventListener("paste", jexcel.pasteControls);
        root.addEventListener("contextmenu", jexcel.contextMenuControls);
        root.addEventListener("touchstart", jexcel.touchStartControls);
        root.addEventListener("touchend", jexcel.touchEndControls);
        root.addEventListener("touchcancel", jexcel.touchEndControls);
        root.addEventListener("touchmove", jexcel.touchEndControls);
        document.addEventListener("keydown", jexcel.keyDownControls);
    }
    
    /**
     * Events
     */
    jexcel.keyDownControls = function(e) {
        if (jexcel.current) {
            if (jexcel.current.edition) {
                if (e.which == 27) {
                    // Escape
                    if (jexcel.current.edition) {
                        // Exit without saving
                        jexcel.current.closeEditor(jexcel.current.edition[0], false);
                    }
                    e.preventDefault();
                } else if (e.which == 13) {
                    // Enter
                    if (jexcel.current.options.columns[jexcel.current.edition[2]].type == 'calendar') {
                        jexcel.current.closeEditor(jexcel.current.edition[0], true);
                    } else if (jexcel.current.options.columns[jexcel.current.edition[2]].type == 'dropdown' ||
                               jexcel.current.options.columns[jexcel.current.edition[2]].type == 'autocomplete') {
                        // Do nothing
                    } else {
                        // Alt enter -> do not close editor
                        if ((jexcel.current.options.wordWrap == true ||
                             jexcel.current.options.columns[jexcel.current.edition[2]].wordWrap == true ||
                             jexcel.current.options.data[jexcel.current.edition[3]][jexcel.current.edition[2]].length > 200) && e.altKey) {
                            // Add new line to the editor
                            var editorTextarea = jexcel.current.edition[0].children[0];
                            var editorValue = jexcel.current.edition[0].children[0].value;
                            var editorIndexOf = editorTextarea.selectionStart;
                            editorValue = editorValue.slice(0, editorIndexOf) + "\n" + editorValue.slice(editorIndexOf);
                            editorTextarea.value = editorValue;
                            editorTextarea.focus();
                            editorTextarea.selectionStart = editorIndexOf + 1;
                            editorTextarea.selectionEnd = editorIndexOf + 1;
                        } else {
                            jexcel.current.edition[0].children[0].blur();
                        }
                    }
                } else if (e.which == 9) {
                    // Tab
                    if (jexcel.current.options.columns[jexcel.current.edition[2]].type == 'calendar') {
                        jexcel.current.closeEditor(jexcel.current.edition[0], true);
                    } else {
                        jexcel.current.edition[0].children[0].blur();
                    }
                }
            }
    
            if (! jexcel.current.edition && jexcel.current.selectedCell) {
                // Which key
                if (e.which == 37) {
                    jexcel.current.left(e.shiftKey, e.ctrlKey);
                    e.preventDefault();
                } else if (e.which == 39) {
                    jexcel.current.right(e.shiftKey, e.ctrlKey);
                    e.preventDefault();
                } else if (e.which == 38) {
                    jexcel.current.up(e.shiftKey, e.ctrlKey);
                    e.preventDefault();
                } else if (e.which == 40) {
                    jexcel.current.down(e.shiftKey, e.ctrlKey);
                    e.preventDefault();
                } else if (e.which == 36) {
                    jexcel.current.first(e.shiftKey, e.ctrlKey);
                    e.preventDefault();
                } else if (e.which == 35) {
                    jexcel.current.last(e.shiftKey, e.ctrlKey);
                    e.preventDefault();
                } else if (e.which == 32) {
                    if (jexcel.current.options.editable == true) {
                        jexcel.current.setCheckRadioValue();
                    }
                    e.preventDefault();
                } else if (e.which == 46) {
                    // Delete
                    if (jexcel.current.options.editable == true) {
                        if (jexcel.current.selectedRow) {
                            if (jexcel.current.options.allowDeleteRow == true) {
                                if (confirm(jexcel.current.options.text.areYouSureToDeleteTheSelectedRows)) {
                                    jexcel.current.deleteRow();
                                }
                            }
                        } else if (jexcel.current.selectedHeader) {
                            if (jexcel.current.options.allowDeleteColumn == true) {
                                if (confirm(jexcel.current.options.text.areYouSureToDeleteTheSelectedColumns)) {
                                    jexcel.current.deleteColumn();
                                }
                            }
                        } else {
                            // Change value
                            jexcel.current.setValue(jexcel.current.highlighted, '');
                        }
                    }
                } else if (e.which == 13) {
                    // Move cursor
                    if (e.shiftKey) {
                        jexcel.current.up();
                    } else {
                        if (jexcel.current.options.allowInsertRow == true) {
                            if (jexcel.current.options.allowManualInsertRow == true) {
                                if (jexcel.current.selectedCell[1] == jexcel.current.options.data.length - 1) {
                                    // New record in case selectedCell in the last row
                                    jexcel.current.insertRow();
                                }
                            }
                        }
    
                        jexcel.current.down();
                    }
                    e.preventDefault();
                } else if (e.which == 9) {
                    // Tab
                    if (e.shiftKey) {
                        jexcel.current.left();
                    } else {
                        if (jexcel.current.options.allowInsertColumn == true) {
                            if (jexcel.current.options.allowManualInsertColumn == true) {
                                if (jexcel.current.selectedCell[0] == jexcel.current.options.data[0].length - 1) {
                                    // New record in case selectedCell in the last column
                                    jexcel.current.insertColumn();
                                }
                            }
                        }
    
                        jexcel.current.right();
                    }
                    e.preventDefault();
                } else {
                    if ((e.ctrlKey || e.metaKey) && ! e.shiftKey) {
                        if (e.which == 65) {
                            // Ctrl + A
                            jexcel.current.selectAll();
                            e.preventDefault();
                        } else if (e.which == 83) {
                            // Ctrl + S
                            jexcel.current.download();
                            e.preventDefault();
                        } else if (e.which == 89) {
                            // Ctrl + Y
                            jexcel.current.redo();
                            e.preventDefault();
                        } else if (e.which == 90) {
                            // Ctrl + Z
                            jexcel.current.undo();
                            e.preventDefault();
                        } else if (e.which == 67) {
                            // Ctrl + C
                            jexcel.current.copy(true);
                            e.preventDefault();
                        } else if (e.which == 67) {
                            // Ctrl + C
                            jexcel.current.copy(true);
                            e.preventDefault();
                        } else if (e.which == 88) {
                            // Ctrl + X
                            if (jexcel.current.options.editable == true) {
                                jexcel.cutControls();
                            } else {
                                jexcel.copyControls();
                            }
                            e.preventDefault();
                        } else if (e.which == 86) {
                            // Ctrl + V
                            jexcel.pasteControls();
                        }
                    } else {
                        if (jexcel.current.selectedCell) {
                            if (jexcel.current.options.editable == true) {
                                var rowId = jexcel.current.selectedCell[1];
                                var columnId = jexcel.current.selectedCell[0];
    
                                // If is not readonly
                                if (jexcel.current.options.columns[columnId].type != 'readonly') {
                                    // Characters able to start a edition
                                    if (e.keyCode == 32) {
                                        // Space
                                        if (jexcel.current.options.columns[columnId].type == 'checkbox' ||
                                            jexcel.current.options.columns[columnId].type == 'radio') {
                                            e.preventDefault();
                                        } else {
                                            // Start edition
                                            jexcel.current.openEditor(jexcel.current.records[rowId][columnId], true);
                                        }
                                    } else if (e.keyCode == 113) {
                                        // Start edition with current content F2
                                        jexcel.current.openEditor(jexcel.current.records[rowId][columnId], false);
                                    } else if ((e.keyCode == 8) ||
                                               (e.keyCode >= 48 && e.keyCode <= 57) ||
                                               (e.keyCode >= 96 && e.keyCode <= 111) ||
                                               (e.keyCode == 187) ||
                                               (e.keyCode == 189) ||
                                               ((String.fromCharCode(e.keyCode) == e.key || String.fromCharCode(e.keyCode).toLowerCase() == e.key.toLowerCase()) && jexcel.validLetter(String.fromCharCode(e.keyCode)))) {
                                        // Start edition
                                        jexcel.current.openEditor(jexcel.current.records[rowId][columnId], true);
                                        // Prevent entries in the calendar
                                        if (jexcel.current.options.columns[columnId].type == 'calendar') {
                                            e.preventDefault();
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            } else {
                if (e.target.classList.contains('jexcel_search')) {
                    if (jexcel.timeControl) {
                        clearTimeout(jexcel.timeControl);
                    }
    
                    jexcel.timeControl = setTimeout(function() {
                        jexcel.current.search(e.target.value);
                    }, 200);
                }
            }
        }
    }
    
    jexcel.isMouseAction = false;
    
    jexcel.mouseDownControls = function(e) {
        e = e || window.event;
        if (e.buttons) {
            var mouseButton = e.buttons;
        } else if (e.button) {
            var mouseButton = e.button;
        } else {
            var mouseButton = e.which;
        }

        // Get elements
        var jexcelTable = jexcel.getElement(e.target);

        if (jexcelTable[0]) {
            if (jexcel.current != jexcelTable[0].jexcel) {
                if (jexcel.current) {
                    if (jexcel.current.edition) {
                        jexcel.current.closeEditor(jexcel.current.edition[0], true);
                    }
                    jexcel.current.resetSelection();
                }
                jexcel.current = jexcelTable[0].jexcel;
            }
        } else {
            if (jexcel.current) {
                if (jexcel.current.edition) {
                    jexcel.current.closeEditor(jexcel.current.edition[0], true);
                }
                
                jexcel.current.resetSelection(true);
                jexcel.current = null;
            }
        }
    
        if (jexcel.current && mouseButton == 1) {
            if (e.target.classList.contains('jexcel_selectall')) {
                if (jexcel.current) {
                    jexcel.current.selectAll();
                }
            } else if (e.target.classList.contains('jexcel_corner')) {
                if (jexcel.current.options.editable == true) {
                    jexcel.current.selectedCorner = true;
                }
            } else {
                // Header found
                if (jexcelTable[1] == 1) {
                    var columnId = e.target.getAttribute('data-x');
                    if (columnId) {
                        // Update cursor
                        var info = e.target.getBoundingClientRect();
                        if (jexcel.current.options.columnResize == true && info.width - e.offsetX < 6) {
                            // Resize helper
                            jexcel.current.resizing = {
                                mousePosition: e.pageX,
                                column: columnId,
                                width: info.width,
                            };
    
                            // Border indication
                            jexcel.current.headers[columnId].classList.add('resizing');
                            for (var j = 0; j < jexcel.current.records.length; j++) {
                                if (jexcel.current.records[j][columnId]) {
                                    jexcel.current.records[j][columnId].classList.add('resizing');
                                }
                            }
                        } else if (jexcel.current.options.columnDrag == true && info.height - e.offsetY < 6) {
                            if (jexcel.current.isColMerged(columnId).length) {
                                console.error('JEXCEL: This column is part of a merged cell.');
                            } else {
                                // Reset selection
                                jexcel.current.resetSelection();
                                // Drag helper
                                jexcel.current.dragging = {
                                    element: e.target,
                                    column:columnId,
                                    destination:columnId,
                                };
                                // Border indication
                                jexcel.current.headers[columnId].classList.add('dragging');
                                for (var j = 0; j < jexcel.current.records.length; j++) {
                                    if (jexcel.current.records[j][columnId]) {
                                        jexcel.current.records[j][columnId].classList.add('dragging');
                                    }
                                }
                            }
                        } else {
                            if (jexcel.current.selectedHeader && (e.shiftKey || e.ctrlKey)) {
                                var o = jexcel.current.selectedHeader;
                                var d = columnId;
                            } else {
                                // Press to rename
                                if (jexcel.current.selectedHeader == columnId && jexcel.current.options.allowRenameColumn == true) {
                                    jexcel.timeControl = setTimeout(function() {
                                        jexcel.current.setHeader(columnId);
                                    }, 800);
                                }
    
                                // Keep track of which header was selected first
                                jexcel.current.selectedHeader = columnId;
    
                                // Update selection single column
                                var o = columnId;
                                var d = columnId;
                            }
    
                            // Update selection
                            jexcel.current.updateSelectionFromCoords(o, 0, d, jexcel.current.options.data.length - 1);
                        }
                    } else {
                        if (e.target.parentNode.classList.contains('jexcel_nested')) {
                            if (e.target.getAttribute('data-column')) {
                                var column = e.target.getAttribute('data-column').split(',');
                                var c1 = parseInt(column[0]);
                                var c2 = parseInt(column[column.length-1]);
                            } else {
                                var c1 = 0;
                                var c2 = jexcel.current.options.columns.length - 1;
                            }
                            jexcel.current.updateSelectionFromCoords(c1, 0, c2, jexcel.current.options.data.length - 1);
                        }
                    }
                } else {
                    jexcel.current.selectedHeader = false;
                }
    
                // Body found
                if (jexcelTable[1] == 2) {
                    var rowId = e.target.getAttribute('data-y');
                    
                    if (e.target.classList.contains('jexcel_row')) {
                        var info = e.target.getBoundingClientRect();
                        if (jexcel.current.options.rowResize == true && info.height - e.offsetY < 6) {
                            // Resize helper
                            jexcel.current.resizing = {
                                element: e.target.parentNode,
                                mousePosition: e.pageY,
                                row: rowId,
                                height: info.height,
                            };
                            // Border indication
                            e.target.parentNode.classList.add('resizing');
                        } else if (jexcel.current.options.rowDrag == true && info.width - e.offsetX < 6) {
                            if (jexcel.current.isRowMerged(rowId).length) {
                                console.error('JEXCEL: This row is part of a merged cell');
                            } else if (jexcel.current.options.search == true && jexcel.current.results) {
                                console.error('JEXCEL: Please clear your search before perform this action');
                            } else {
                                // Reset selection
                                jexcel.current.resetSelection();
                                // Drag helper
                                jexcel.current.dragging = {
                                    element: e.target.parentNode,
                                    row:rowId,
                                    destination:rowId,
                                };
                                // Border indication
                                e.target.parentNode.classList.add('dragging');
                            }
                        } else {
                            if (jexcel.current.selectedRow && (e.shiftKey || e.ctrlKey)) {
                                var o = jexcel.current.selectedRow;
                                var d = rowId;
                            } else {
                                // Keep track of which header was selected first
                                jexcel.current.selectedRow = rowId;
    
                                // Update selection single column
                                var o = rowId;
                                var d = rowId;
                            }
    
                            // Update selection
                            jexcel.current.updateSelectionFromCoords(0, o, jexcel.current.options.data[0].length - 1, d);
                        }
                    } else {
                        // Jclose
                        if (e.target.classList.contains('jclose') && e.target.clientWidth - e.offsetX < 50 && e.offsetY < 50) {
                            jexcel.current.closeEditor(jexcel.current.edition[0], true);
                        } else {
                            var getCellCoords = function(element) {
                                var x = element.getAttribute('data-x');
                                var y = element.getAttribute('data-y');
                                if (x && y) {
                                    return [x, y];
                                } else {
                                    if (element.parentNode) {
                                        return getCellCoords(element.parentNode);
                                    }
                                }
                            };

                            var position = getCellCoords(e.target);
                            if (position) {

                                var columnId = position[0];
                                var rowId = position[1];
                                // Close edition
                                if (jexcel.current.edition) {
                                    if (jexcel.current.edition[2] != columnId || jexcel.current.edition[3] != rowId) {
                                        jexcel.current.closeEditor(jexcel.current.edition[0], true);
                                    }
                                }

                                if (! jexcel.current.edition) {
                                    // Update cell selection
                                    if (e.shiftKey) {
                                        jexcel.current.updateSelectionFromCoords(jexcel.current.selectedCell[0], jexcel.current.selectedCell[1], columnId, rowId);
                                    } else {
                                        jexcel.current.updateSelectionFromCoords(columnId, rowId);
                                    }
                                }

                                // No full row selected
                                jexcel.current.selectedHeader = null;
                                jexcel.current.selectedRow = null;
                            }
                        }
                    }
                } else {
                    jexcel.current.selectedRow = false;
                }
    
                // Pagination
                if (e.target.classList.contains('jexcel_page')) {
                    if (e.target.innerText == '<') {
                        jexcel.current.page(0);
                    } else if (e.target.innerText == '>') {
                        jexcel.current.page(e.target.getAttribute('title') - 1);
                    } else {
                        jexcel.current.page(e.target.innerText - 1);
                    }
                }
            }
    
            if (jexcel.current.edition) {
                jexcel.isMouseAction = false;
            } else {
                jexcel.isMouseAction = true;
            }
        } else {
            jexcel.isMouseAction = false;
        }
    }
    
    jexcel.mouseUpControls = function(e) {
        if (jexcel.current) {
            // Update cell size
            if (jexcel.current.resizing) {
                // Columns to be updated
                if (jexcel.current.resizing.column) {
                    // New width
                    var newWidth = jexcel.current.colgroup[jexcel.current.resizing.column].getAttribute('width');
                    // Columns
                    var columns = jexcel.current.getSelectedColumns();
                    if (columns.length > 1) {
                        var currentWidth = [];
                        for (var i = 0; i < columns.length; i++) {
                            currentWidth.push(parseInt(jexcel.current.colgroup[columns[i]].getAttribute('width')));
                        }
                        // Previous width
                        var index = columns.indexOf(parseInt(jexcel.current.resizing.column));
                        currentWidth[index] = jexcel.current.resizing.width;
                        jexcel.current.setWidth(columns, newWidth, currentWidth);
                    } else {
                        jexcel.current.setWidth(jexcel.current.resizing.column, newWidth, jexcel.current.resizing.width);
                    }
                    // Remove border
                    jexcel.current.headers[jexcel.current.resizing.column].classList.remove('resizing');
                    for (var j = 0; j < jexcel.current.records.length; j++) {
                        if (jexcel.current.records[j][jexcel.current.resizing.column]) {
                            jexcel.current.records[j][jexcel.current.resizing.column].classList.remove('resizing');
                        }
                    }
                } else {
                    // Remove Class
                    jexcel.current.rows[jexcel.current.resizing.row].children[0].classList.remove('resizing');
                    var newHeight = jexcel.current.rows[jexcel.current.resizing.row].getAttribute('height');
                    jexcel.current.setHeight(jexcel.current.resizing.row, newHeight, jexcel.current.resizing.height);
                    // Remove border
                    jexcel.current.resizing.element.classList.remove('resizing');
                }
                // Reset resizing helper
                jexcel.current.resizing = null;
            } else if (jexcel.current.dragging) {
                // Reset dragging helper
                if (jexcel.current.dragging) {
                    if (jexcel.current.dragging.column) {
                        // Target
                        var columnId = e.target.getAttribute('data-x');
                        // Remove move style
                        jexcel.current.headers[jexcel.current.dragging.column].classList.remove('dragging');
                        for (var j = 0; j < jexcel.current.rows.length; j++) {
                            if (jexcel.current.records[j][jexcel.current.dragging.column]) {
                                jexcel.current.records[j][jexcel.current.dragging.column].classList.remove('dragging');
                            }
                        }
                        for (var i = 0; i < jexcel.current.headers.length; i++) {
                            jexcel.current.headers[i].classList.remove('dragging-left');
                            jexcel.current.headers[i].classList.remove('dragging-right');
                        }
                        // Update position
                        if (columnId) {
                            if (jexcel.current.dragging.column != jexcel.current.dragging.destination) {
                                jexcel.current.moveColumn(jexcel.current.dragging.column, jexcel.current.dragging.destination);
                            }
                        }
                    } else {
                        if (jexcel.current.dragging.element.nextSibling) {
                            var position = parseInt(jexcel.current.dragging.element.nextSibling.getAttribute('data-y'));
                            if (jexcel.current.dragging.row < position) {
                                position -= 1;
                            }
                        } else {
                            var position = parseInt(jexcel.current.dragging.element.previousSibling.getAttribute('data-y'));
                        }
                        if (jexcel.current.dragging.row != position) {
                            jexcel.current.moveRow(jexcel.current.dragging.row, position, true);
                        }
                        jexcel.current.dragging.element.classList.remove('dragging');
                    }
                    jexcel.current.dragging = null;
                }
            } else {
                // Close any corner selection
                if (jexcel.current.selectedCorner) {
                    jexcel.current.selectedCorner = false;
    
                    // Data to be copied
                    if (jexcel.current.selection.length > 0) {
                        // Copy data
                        jexcel.current.copyData(jexcel.current.selection[0], jexcel.current.selection[jexcel.current.selection.length - 1]);
    
                        // Remove selection
                        jexcel.current.removeCopySelection();
                    }
                }
            }
        }

        // Clear any time control
        if (jexcel.timeControl) {
            clearTimeout(jexcel.timeControl);
            jexcel.timeControl = null;
        }
    
        // Mouse up
        jexcel.isMouseAction = false;
    }
    
    // Mouse move controls
    jexcel.mouseMoveControls = function(e) {
        e = e || window.event;
        if (e.buttons) {
            var mouseButton = e.buttons;
        } else if (e.button) {
            var mouseButton = e.button;
        } else {
            var mouseButton = e.which;
        }
    
        if (! mouseButton) {
            jexcel.isMouseAction = false;
        }
    
        if (jexcel.current) {
            if (jexcel.isMouseAction == true) {
                // Resizing is ongoing
                if (jexcel.current.resizing) {
                    if (jexcel.current.resizing.column) {
                        var width = e.pageX - jexcel.current.resizing.mousePosition;
    
                        if (jexcel.current.resizing.width + width > 0) {
                            var tempWidth = jexcel.current.resizing.width + width;
                            jexcel.current.colgroup[jexcel.current.resizing.column].setAttribute('width', tempWidth);
    
                            jexcel.current.updateCornerPosition();
                        }
                    } else {
                        var height = e.pageY - jexcel.current.resizing.mousePosition;
    
                        if (jexcel.current.resizing.height + height > 0) {
                            var tempHeight = jexcel.current.resizing.height + height;
                            jexcel.current.rows[jexcel.current.resizing.row].setAttribute('height', tempHeight);
    
                            jexcel.current.updateCornerPosition();
                        }
                    }
                }
            } else {
                var x = e.target.getAttribute('data-x');
                var y = e.target.getAttribute('data-y');
                var rect = e.target.getBoundingClientRect();
    
                if (jexcel.current.cursor) {
                    jexcel.current.cursor.style.cursor = '';
                    jexcel.current.cursor = null;
                }

                if (e.target.parentNode.parentNode && e.target.parentNode.parentNode.className) {
                    if (e.target.parentNode.parentNode.classList.contains('resizable')) {
                        if (e.target && x && ! y && (rect.width - (e.clientX - rect.left) < 6)) {
                            jexcel.current.cursor = e.target;
                            jexcel.current.cursor.style.cursor = 'col-resize';
                        } else if (e.target && ! x && y && (rect.height - (e.clientY - rect.top) < 6)) {
                            jexcel.current.cursor = e.target;
                            jexcel.current.cursor.style.cursor = 'row-resize';
                        }
                    }
    
                    if (e.target.parentNode.parentNode.classList.contains('draggable')) {
                        if (e.target && ! x && y && (rect.width - (e.clientX - rect.left) < 6)) {
                            jexcel.current.cursor = e.target;
                            jexcel.current.cursor.style.cursor = 'move';
                        } else if (e.target && x && ! y && (rect.height - (e.clientY - rect.top) < 6)) {
                            jexcel.current.cursor = e.target;
                            jexcel.current.cursor.style.cursor = 'move';
                        }
                    }
                }
            }
        }
    }
    
    jexcel.mouseOverControls = function(e) {
        e = e || window.event;
        if (e.buttons) {
            var mouseButton = e.buttons;
        } else if (e.button) {
            var mouseButton = e.button;
        } else {
            var mouseButton = e.which;
        }
    
        if (! mouseButton) {
            jexcel.isMouseAction = false;
        }
    
        if (jexcel.current && jexcel.isMouseAction == true) {
            // Get elements
            var jexcelTable = jexcel.getElement(e.target);
    
            if (jexcelTable[0]) {
                // Avoid cross reference
                if (jexcel.current != jexcelTable[0].jexcel) {
                    if (jexcel.current) {
                        return false;
                    }
                }
    
                var columnId = e.target.getAttribute('data-x');
                var rowId = e.target.getAttribute('data-y');
    
                if (jexcel.current.dragging) {
                    if (jexcel.current.dragging.column) {
                        if (columnId) {
                            if (jexcel.current.isColMerged(columnId).length) {
                                console.error('JEXCEL: This column is part of a merged cell.');
                            } else {
                                for (var i = 0; i < jexcel.current.headers.length; i++) {
                                    jexcel.current.headers[i].classList.remove('dragging-left');
                                    jexcel.current.headers[i].classList.remove('dragging-right');
                                }
    
                                if (jexcel.current.dragging.column == columnId) {
                                    jexcel.current.dragging.destination = parseInt(columnId);
                                } else {
                                    if (e.target.clientWidth / 2 > e.offsetX) {
                                        if (jexcel.current.dragging.column < columnId) {
                                            jexcel.current.dragging.destination = parseInt(columnId) - 1;
                                        } else {
                                            jexcel.current.dragging.destination = parseInt(columnId);
                                        }
                                        jexcel.current.headers[columnId].classList.add('dragging-left');
                                    } else {
                                        if (jexcel.current.dragging.column < columnId) {
                                            jexcel.current.dragging.destination = parseInt(columnId);
                                        } else {
                                            jexcel.current.dragging.destination = parseInt(columnId) + 1;
                                        }
                                        jexcel.current.headers[columnId].classList.add('dragging-right');
                                    }
                                }
                            }
                        }
                    } else {
                        if (rowId) {
                            if (jexcel.current.isRowMerged(rowId).length) {
                                console.error('JEXCEL: This row is part of a merged cell.');
                            } else {
                                var target = (e.target.clientHeight / 2 > e.offsetY) ? e.target.parentNode.nextSibling : e.target.parentNode;
                                e.target.parentNode.parentNode.insertBefore(jexcel.current.dragging.element, target);
                            }
                        }
                    }
                } else if (jexcel.current.resizing) {
                } else {
                    // Header found
                    if (jexcelTable[1] == 1) {
                        if (jexcel.current.selectedHeader) {
                            var columnId = e.target.getAttribute('data-x');
                            var o = jexcel.current.selectedHeader;
                            var d = columnId;
                            // Update selection
                            jexcel.current.updateSelectionFromCoords(o, 0, d, jexcel.current.options.data.length - 1);
                        }
                    }
    
                    // Body found
                    if (jexcelTable[1] == 2) {
                        if (e.target.classList.contains('jexcel_row')) {
                            if (jexcel.current.selectedRow) {
                                var o = jexcel.current.selectedRow;
                                var d = rowId;
                                // Update selection
                                jexcel.current.updateSelectionFromCoords(0, o, jexcel.current.options.data[0].length - 1, d);
                            }
                        } else {
                            // Do not select edtion is in progress
                            if (! jexcel.current.edition) {
                                if (columnId && rowId) {
                                    if (jexcel.current.selectedCorner) {
                                        jexcel.current.updateCopySelection(columnId, rowId);
                                    } else {
                                        if (jexcel.current.selectedCell) {
                                            jexcel.current.updateSelectionFromCoords(jexcel.current.selectedCell[0], jexcel.current.selectedCell[1], columnId, rowId);
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    
        // Clear any time control
        if (jexcel.timeControl) {
            clearTimeout(jexcel.timeControl);
            jexcel.timeControl = null;
        }
    }
    
    /**
     * Double click event handler: controls the double click in the corner, cell edition or column re-ordering.
     */
    jexcel.doubleClickControls = function(e) {
        // Jexcel is selected
        if (jexcel.current) {
            // Corner action
            if (e.target.classList.contains('jexcel_corner')) {
                // Any selected cells
                if (jexcel.current.highlighted.length > 0) {
                    // Copy from this
                    var x1 = jexcel.current.highlighted[0].getAttribute('data-x');
                    var y1 = parseInt(jexcel.current.highlighted[jexcel.current.highlighted.length - 1].getAttribute('data-y')) + 1;
                    // Until this
                    var x2 = jexcel.current.highlighted[jexcel.current.highlighted.length - 1].getAttribute('data-x');
                    var y2 = jexcel.current.records.length - 1
                    // Execute copy
                    jexcel.current.copyData(jexcel.current.records[y1][x1], jexcel.current.records[y2][x2]);
                }
            } else if (e.target.classList.contains('jexcel_column_filter')) {
                // Column
                var columnId = e.target.getAttribute('data-x');
                // Open filter
                jexcel.current.openFilter(columnId);
                
            } else {
                // Get table
                var jexcelTable = jexcel.getElement(e.target);
    
                // Double click over header
                if (jexcelTable[1] == 1 && jexcel.current.options.columnSorting == true) {
                    // Check valid column header coords
                    var columnId = e.target.getAttribute('data-x');
                    if (columnId) {
                        jexcel.current.orderBy(columnId);
                    }
                }
    
                // Double click over body
                if (jexcelTable[1] == 2 && jexcel.current.options.editable == true) {
                    if (! jexcel.current.edition) {
                        var getCellCoords = function(element) {
                            if (element.parentNode) {
                                var x = element.getAttribute('data-x');
                                var y = element.getAttribute('data-y');
                                if (x && y) {
                                    return element;
                                } else {
                                    return getCellCoords(element.parentNode);
                                }
                            }
                        }
                        var cell = getCellCoords(e.target);
                        if (cell && cell.classList.contains('highlight')) {
                            jexcel.current.openEditor(cell);
                        }
                    }
                }
            }
        }
    }
    
    jexcel.copyControls = function(e) {
        if (jexcel.current && jexcel.copyControls.enabled) {
            if (! jexcel.current.edition) {
                jexcel.current.copy(true);
            }
        }
    }
    
    jexcel.cutControls = function(e) {
        if (jexcel.current) {
            if (! jexcel.current.edition) {
                jexcel.current.copy(true);
                if (jexcel.current.options.editable == true) {
                    jexcel.current.setValue(jexcel.current.highlighted, '');
                }
            }
        }
    }
    
    jexcel.pasteControls = function(e) {
        if (jexcel.current && jexcel.current.selectedCell) {
            if (! jexcel.current.edition) {
                if (jexcel.current.options.editable == true) {
                    if (e && e.clipboardData) {
                        jexcel.current.paste(jexcel.current.selectedCell[0], jexcel.current.selectedCell[1], e.clipboardData.getData('text'));
                        e.preventDefault();
                    } else if (window.clipboardData) {
                        jexcel.current.paste(jexcel.current.selectedCell[0], jexcel.current.selectedCell[1], window.clipboardData.getData('text'));
                    }
                }
            }
        }
    }
    
    jexcel.contextMenuControls = function(e) {
        e = e || window.event;
        if ("buttons" in e) {
            var mouseButton = e.buttons;
        } else {
            var mouseButton = e.which || e.button;
        }
    
        if (jexcel.current) {
            if (jexcel.current.edition) {
                e.preventDefault();
            } else if (jexcel.current.options.contextMenu) {
                jexcel.current.contextMenu.contextmenu.close();
    
                if (jexcel.current) {
                    var x = e.target.getAttribute('data-x');
                    var y = e.target.getAttribute('data-y');
    
                    if (x || y) {
                        // Table found
                        var items = jexcel.current.options.contextMenu(jexcel.current, x, y, e);
                        // The id is depending on header and body
                        jexcel.current.contextMenu.contextmenu.open(e, items);
                        // Avoid the real one
                        e.preventDefault();
                    }
                }
            }
        }
    }

    jexcel.touchStartControls = function(e) {
        var jexcelTable = jexcel.getElement(e.target);
    
        if (jexcelTable[0]) {
            if (jexcel.current != jexcelTable[0].jexcel) {
                if (jexcel.current) {
                    jexcel.current.resetSelection();
                }
                jexcel.current = jexcelTable[0].jexcel;
            }
        } else {
            if (jexcel.current) {
                jexcel.current.resetSelection();
                jexcel.current = null;
            }
        }
    
        if (jexcel.current) {
            if (! jexcel.current.edition) {
                var columnId = e.target.getAttribute('data-x');
                var rowId = e.target.getAttribute('data-y');
    
                if (columnId && rowId) {
                    jexcel.current.updateSelectionFromCoords(columnId, rowId);
    
                    jexcel.timeControl = setTimeout(function() {
                        // Keep temporary reference to the element
                        if (jexcel.current.options.columns[columnId].type == 'color') {
                            jexcel.tmpElement = null;
                        } else {
                            jexcel.tmpElement = e.target;
                        }
                        jexcel.current.openEditor(e.target, false, e);
                    }, 500);
                }
            }
        }
    }
    
    jexcel.touchEndControls = function(e) {
        // Clear any time control
        if (jexcel.timeControl) {
            clearTimeout(jexcel.timeControl);
            jexcel.timeControl = null;
            // Element
            if (jexcel.tmpElement && jexcel.tmpElement.children[0].tagName == 'INPUT') {
                jexcel.tmpElement.children[0].focus();
            }
            jexcel.tmpElement = null;
        }
    }
    
    /**
     * Jexcel extensions
     */
    
    jexcel.tabs = function(tabs, result) {
        // Create tab container
        if (! tabs.classList.contains('jexcel_tabs')) {
            tabs.innerHTML = '';
            tabs.classList.add('jexcel_tabs')
            tabs.jexcel = [];

            var div = document.createElement('div');
            var headers = tabs.appendChild(div);
            var div = document.createElement('div');
            var content = tabs.appendChild(div);
        } else {
            var headers = tabs.children[0];
            var content = tabs.children[1];
        }

        var spreadsheet = []
        var link = [];
        for (var i = 0; i < result.length; i++) {
            // Spreadsheet container
            spreadsheet[i] = document.createElement('div');
            spreadsheet[i].classList.add('jexcel_tab');
            var worksheet = jexcel(spreadsheet[i], result[i]);
            content.appendChild(spreadsheet[i]);
            tabs.jexcel.push(worksheet);

            // Tab link
            link[i] = document.createElement('div');
            link[i].classList.add('jexcel_tab_link');
            link[i].setAttribute('data-spreadsheet', tabs.jexcel.length-1);
            link[i].innerHTML = result[i].sheetName;
            link[i].onclick = function() {
                for (var j = 0; j < headers.children.length; j++) {
                    headers.children[j].classList.remove('selected');
                    content.children[j].style.display = 'none';
                }
                var i = this.getAttribute('data-spreadsheet');
                content.children[i].style.display = 'block';
                headers.children[i].classList.add('selected')
            }
            headers.appendChild(link[i]);
        }

        // First tab
        for (var j = 0; j < headers.children.length; j++) {
            headers.children[j].classList.remove('selected');
            content.children[j].style.display = 'none';
        }
        headers.children[headers.children.length - 1].classList.add('selected');
        content.children[headers.children.length - 1].style.display = 'block';
    }

    // Compability to older versions
    jexcel.createTabs = jexcel.tabs;

    jexcel.fromSpreadsheet = function(file, __callback) {
        var convert = function(workbook) {
            var spreadsheets = [];
            workbook.SheetNames.forEach(function(sheetName) {
                var spreadsheet = {};
                spreadsheet.rows = [];
                spreadsheet.columns = [];
                spreadsheet.data = [];
                spreadsheet.style = {};
                spreadsheet.sheetName = sheetName;
    
                // Column widths
                var temp = workbook.Sheets[sheetName]['!cols'];
                if (temp && temp.length) {
                    for (var i = 0; i < temp.length; i++) {
                        spreadsheet.columns[i] = {};
                        if (temp[i] && temp[i].wpx) {
                            spreadsheet.columns[i].width = temp[i].wpx + 'px';
                        }
                     }
                }
                // Rows heights
                var temp = workbook.Sheets[sheetName]['!rows'];
                if (temp && temp.length) {
                    for (var i = 0; i < temp.length; i++) {
                        if (temp[i] && temp[i].hpx) {
                            spreadsheet.rows[i] = {};
                            spreadsheet.rows[i].height = temp[i].hpx + 'px';
                        }
                    }
                }
                // Merge cells
                var temp = workbook.Sheets[sheetName]['!merges'];
                if (temp && temp.length > 0) {
                    spreadsheet.mergeCells = [];
                    for (var i = 0; i < temp.length; i++) {
                        var x1 = temp[i].s.c;
                        var y1 = temp[i].s.r;
                        var x2 = temp[i].e.c;
                        var y2 = temp[i].e.r;
                        var key = jexcel.getColumnNameFromId([x1,y1]);
                        spreadsheet.mergeCells[key] = [ x2-x1+1, y2-y1+1 ];
                    }
                }
                // Data container
                var max_x = 0;
                var max_y = 0;
                var temp = Object.keys(workbook.Sheets[sheetName]);
                for (var i = 0; i < temp.length; i++) {
                    if (temp[i].substr(0,1) != '!') {
                        var cell = workbook.Sheets[sheetName][temp[i]];
                        var info = jexcel.getIdFromColumnName(temp[i], true);
                        if (! spreadsheet.data[info[1]]) {
                            spreadsheet.data[info[1]] = [];
                        }
                        spreadsheet.data[info[1]][info[0]] = cell.f ? '=' + cell.f : cell.w;
                        if (max_x < info[0]) {
                            max_x = info[0];
                        }
                        if (max_y < info[1]) {
                            max_y = info[1];
                        }
                        // Style
                        if (cell.style && Object.keys(cell.style).length > 0) {
                            spreadsheet.style[temp[i]] = cell.style;
                        }
                        if (cell.s && cell.s.fgColor) {
                            if (spreadsheet.style[temp[i]]) {
                                spreadsheet.style[temp[i]] += ';';
                            }
                            spreadsheet.style[temp[i]] += 'background-color:#' + cell.s.fgColor.rgb;
                        }
                    }
                }
                var numColumns = spreadsheet.columns;
                for (var j = 0; j <= max_y; j++) {
                    for (var i = 0; i <= max_x; i++) {
                        if (! spreadsheet.data[j]) {
                            spreadsheet.data[j] = [];
                        }
                        if (! spreadsheet.data[j][i]) {
                            if (numColumns < i) {
                                spreadsheet.data[j][i] = '';
                            }
                        }
                    }
                }
                spreadsheets.push(spreadsheet);
            });
    
            return spreadsheets;
        }
    
        var oReq;
        oReq = new XMLHttpRequest();
        oReq.open("GET", file, true);
    
        if(typeof Uint8Array !== 'undefined') {
            oReq.responseType = "arraybuffer";
            oReq.onload = function(e) {
                var arraybuffer = oReq.response;
                var data = new Uint8Array(arraybuffer);
                var wb = XLSX.read(data, {type:"array", cellFormula:true, cellStyles:true });
                __callback(convert(wb))
            };
        } else {
            oReq.setRequestHeader("Accept-Charset", "x-user-defined");  
            oReq.onreadystatechange = function() { if(oReq.readyState == 4 && oReq.status == 200) {
                var ff = convertResponseBodyToText(oReq.responseBody);
                var wb = XLSX.read(ff, {type:"binary", cellFormula:true, cellStyles:true });
                __callback(convert(wb))
            }};
        }
    
        oReq.send();
    }
    
    /**
     * Valid international letter
     */
    
    jexcel.validLetter = function (text) {
        var regex = /([\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC-\u0400-\u04FF']+)/g;
        return text.match(regex) ? 1 : 0;
    }
    
    /**
     * Helper injectArray
     */
    jexcel.injectArray = function(o, idx, arr) {
        return o.slice(0, idx).concat(arr).concat(o.slice(idx));
    }
    
    /**
     * Get letter based on a number
     * 
     * @param integer i
     * @return string letter
     */
    jexcel.getColumnName = function(i) {
        var letter = '';
        if (i > 701) {
            letter += String.fromCharCode(64 + parseInt(i / 676));
            letter += String.fromCharCode(64 + parseInt((i % 676) / 26));
        } else if (i > 25) {
            letter += String.fromCharCode(64 + parseInt(i / 26));
        }
        letter += String.fromCharCode(65 + (i % 26));
    
        return letter;
    }
    
    /**
     * Convert excel like column to jexcel id
     * 
     * @param string id
     * @return string id
     */
    jexcel.getIdFromColumnName = function (id, arr) {
        // Get the letters
        var t = /^[a-zA-Z]+/.exec(id);
    
        if (t) {
            // Base 26 calculation
            var code = 0;
            for (var i = 0; i < t[0].length; i++) {
                code += parseInt(t[0].charCodeAt(i) - 64) * Math.pow(26, (t[0].length - 1 - i));
            }
            code--;
            // Make sure jexcel starts on zero
            if (code < 0) {
                code = 0;
            }
    
            // Number
            var number = parseInt(/[0-9]+$/.exec(id));
            if (number > 0) {
                number--;
            }
    
            if (arr == true) {
                id = [ code, number ];
            } else {
                id = code + '-' + number;
            }
        }
    
        return id;
    }
    
    /**
     * Convert jexcel id to excel like column name
     * 
     * @param string id
     * @return string id
     */
    jexcel.getColumnNameFromId = function (cellId) {
        if (! Array.isArray(cellId)) {
            cellId = cellId.split('-');
        }
    
        return jexcel.getColumnName(parseInt(cellId[0])) + (parseInt(cellId[1]) + 1);
    }
    
    /**
     * Verify element inside jexcel table
     * 
     * @param string id
     * @return string id
     */
    jexcel.getElement = function(element) {
        var jexcelSection = 0;
        var jexcelElement = 0;
    
        function path (element) {
            if (element.className) {
                if (element.classList.contains('jexcel_container')) {
                    jexcelElement = element;
                }
            }
    
            if (element.tagName == 'THEAD') {
                jexcelSection = 1;
            } else if (element.tagName == 'TBODY') {
                jexcelSection = 2;
            }
    
            if (element.parentNode) {
                if (! jexcelElement) {
                    path(element.parentNode);
                }
            }
        }
    
        path(element);
    
        return [ jexcelElement, jexcelSection ];
    }

    jexcel.doubleDigitFormat = function(v) {
        v = ''+v;
        if (v.length == 1) {
            v = '0'+v;
        }
        return v;
    }

    jexcel.createFromTable = function(el, options) {
        if (el.tagName != 'TABLE') {
            console.log('Element is not a table');
        } else {
            // Configuration
            if (! options) {
                options = {};
            }
            options.columns = [];
            options.data = [];

            // Colgroup
            var colgroup = el.querySelectorAll('colgroup > col');
            if (colgroup.length) {
                // Get column width
                for (var i = 0; i < colgroup.length; i++) {
                    var width = colgroup[i].style.width;
                    if (! width) {
                        var width = colgroup[i].getAttribute('width');
                    }
                    // Set column width
                    if (width) {
                        if (! options.columns[i]) {
                            options.columns[i] = {}
                        }
                        options.columns[i].width = width;
                    }
                }
            }

            // Parse header
            var parseHeader = function(header) {
                // Get width information
                var info = header.getBoundingClientRect();
                var width = info.width > 50 ? info.width : 50;

                // Create column option
                if (! options.columns[i]) {
                    options.columns[i] = {};
                } 
                if (header.getAttribute('data-celltype')) {
                    options.columns[i].type = header.getAttribute('data-celltype');
                } else {
                    options.columns[i].type = 'text';
                }
                options.columns[i].width = width + 'px';
                options.columns[i].title = header.innerText;
                options.columns[i].align = header.style.textAlign || 'center';
            }

            // Headers
            var headers = el.querySelectorAll('thead > tr');
            if (headers.length) {
                // Get the last row in the thead
                headers = headers[headers.length-1].children;
                // Go though the headers
                for (var i = 0; i < headers.length; i++) {
                    parseHeader(headers[i]);
                }
            }

            // Content
            var rowNumber = 0;
            var mergeCells = {};
            var rows = {};
            var style = {};

            var content = el.querySelectorAll('table > tr, tbody tr');
            for (var j = 0; j < content.length; j++) {
                options.data[rowNumber] = [];
                if (options.parseTableFirstRowAsHeader == true && j == 0) {
                    for (var i = 0; i < content[j].children.length; i++) {
                        parseHeader(content[j].children[i]);
                    }
                } else {
                    for (var i = 0; i < content[j].children.length; i++) {
                        // WickedGrid formula compatibility
                        var value = content[j].children[i].getAttribute('data-formula');
                        if (value) {
                            if (value.substr(0,1) != '=') {
                                value = '=' + value;
                            }
                        } else {
                            var value = content[j].children[i].innerText;
                        }
                        options.data[rowNumber].push(value);

                        // Key
                        var cellName = jexcel.getColumnNameFromId([ i, j ]);

                        // Merged cells
                        var mergedColspan = parseInt(content[j].children[i].getAttribute('colspan')) || 0;
                        var mergedRowspan = parseInt(content[j].children[i].getAttribute('rowspan')) || 0;
                        if (mergedColspan || mergedRowspan) {
                            mergeCells[cellName] = [ mergedColspan || 1, mergedRowspan || 1 ];
                        }

                        // Avoid problems with hidden cells
                        if (s = content[j].children[i].style && content[j].children[i].style.display == 'none') {
                            content[j].children[i].style.display = '';
                        }
                        // Get style
                        var s = content[j].children[i].getAttribute('style');
                        if (s) {
                            style[cellName] = s;
                        }
                        // Bold
                        if (content[j].children[i].classList.contains('styleBold')) {
                            if (style[cellName]) {
                                style[cellName] += '; font-weight:bold;';
                            } else {
                                style[cellName] = 'font-weight:bold;';
                            }
                        }
                    }

                    // Row Height
                    if (content[j].style && content[j].style.height) {
                        rows[j] = { height: content[j].style.height };
                    }

                    // Index
                    rowNumber++;
                }
            }

            // Style
            if (Object.keys(style).length > 0) {
                //options.style = style;
            }
            // Merged
            if (Object.keys(mergeCells).length > 0) {
                options.mergeCells = mergeCells;
            }
            // Row height
            if (Object.keys(rows).length > 0) {
                options.rows = rows;
            }

            // TODO: data-hiddencolumns="3,4"
            
            // I guess in terms the better column type
            if (options.parseTableAutoCellType == true) {
                var pattern = [];
                for (var i = 0; i < options.columns.length; i++) {
                    var test = true;
                    var testCalendar = true;
                    pattern[i] = [];
                    for (var j = 0; j < options.data.length; j++) {
                        var value = options.data[j][i];
                        if (! pattern[i][value]) {
                            pattern[i][value] = 0;
                        }
                        pattern[i][value]++;
                        if (value.length > 25) {
                            test = false;
                        }
                        if (value.length == 10) {
                            if (! (value.substr(4,1) == '-' && value.substr(7,1) == '-')) {
                                testCalendar = false;
                            }
                        } else {
                            testCalendar = false;
                        }
                    }

                    var keys = Object.keys(pattern[i]).length;
                    if (testCalendar) {
                        options.columns[i].type = 'calendar';
                    } else if (test == true && keys > 1 && keys <= parseInt(options.data.length * 0.1)) {
                        options.columns[i].type = 'dropdown';
                        options.columns[i].source = Object.keys(pattern[i]);
                    }
                }
            }

            return options;
        }
    }

    /**
     * Jquery Support
     */
    if (typeof(jQuery) != 'undefined') {
        (function($){
            $.fn.jexcel = function(method) {
                var spreadsheetContainer = $(this).get(0);
                if (! spreadsheetContainer.jexcel) {
                    return jexcel($(this).get(0), arguments[0]);
                } else {
                    return spreadsheetContainer.jexcel[method].apply(this, Array.prototype.slice.call( arguments, 1 ));
                }
            };
    
        })(jQuery);
    }
    
    
    // Based on sutoiku work (https://github.com/sutoiku)
    
    var error = (function() {
        var exports = {};
    
        exports.nil = new Error('#NULL!');
        exports.div0 = new Error('#DIV/0!');
        exports.value = new Error('#VALUE!');
        exports.ref = new Error('#REF!');
        exports.name = new Error('#NAME?');
        exports.num = new Error('#NUM!');
        exports.na = new Error('#N/A');
        exports.error = new Error('#ERROR!');
        exports.data = new Error('#GETTING_DATA');
    
        return exports;
    })();
    
    var utils = (function() {
        var exports = {};
    
        exports.flattenShallow = function(array) {
            if (!array || !array.reduce) {
                return array;
            }
    
            return array.reduce(function(a, b) {
                var aIsArray = Array.isArray(a);
                var bIsArray = Array.isArray(b);
    
                if (aIsArray && bIsArray) {
                    return a.concat(b);
                }
                if (aIsArray) {
                    a.push(b);
    
                    return a;
                }
                if (bIsArray) {
                    return [ a ].concat(b);
                }
    
                return [ a, b ];
            });
        };
    
        exports.isFlat = function(array) {
            if (!array) {
                return false;
            }
    
            for (var i = 0; i < array.length; ++i) {
                if (Array.isArray(array[i])) {
                    return false;
                }
            }
    
            return true;
        };
    
        exports.flatten = function() {
            var result = exports.argsToArray.apply(null, arguments);
    
            while (!exports.isFlat(result)) {
                result = exports.flattenShallow(result);
            }
    
            return result;
        };
    
        exports.argsToArray = function(args) {
            var result = [];
    
            exports.arrayEach(args, function(value) {
                result.push(value);
            });
    
            return result;
        };
    
        exports.numbers = function() {
            var possibleNumbers = this.flatten.apply(null, arguments);
            return possibleNumbers.filter(function(el) {
                return typeof el === 'number';
            });
        };
    
        exports.cleanFloat = function(number) {
            var power = 1e14;
            return Math.round(number * power) / power;
        };
    
        exports.parseBool = function(bool) {
            if (typeof bool === 'boolean') {
                return bool;
            }
    
            if (bool instanceof Error) {
                return bool;
            }
    
            if (typeof bool === 'number') {
                return bool !== 0;
            }
    
            if (typeof bool === 'string') {
                var up = bool.toUpperCase();
                if (up === 'TRUE') {
                    return true;
                }
    
                if (up === 'FALSE') {
                    return false;
                }
            }
    
            if (bool instanceof Date && !isNaN(bool)) {
                return true;
            }
    
            return error.value;
        };
    
        exports.parseNumber = function(string) {
            if (string === undefined || string === '') {
                return error.value;
            }
            if (!isNaN(string)) {
                return parseFloat(string);
            }
    
            return error.value;
        };
    
        exports.parseNumberArray = function(arr) {
            var len;
    
            if (!arr || (len = arr.length) === 0) {
                return error.value;
            }
    
            var parsed;
    
            while (len--) {
                parsed = exports.parseNumber(arr[len]);
                if (parsed === error.value) {
                    return parsed;
                }
                arr[len] = parsed;
            }
    
            return arr;
        };
    
        exports.parseMatrix = function(matrix) {
            var n;
    
            if (!matrix || (n = matrix.length) === 0) {
                return error.value;
            }
            var pnarr;
    
            for (var i = 0; i < matrix.length; i++) {
                pnarr = exports.parseNumberArray(matrix[i]);
                matrix[i] = pnarr;
    
                if (pnarr instanceof Error) {
                    return pnarr;
                }
            }
    
            return matrix;
        };
    
        var d1900 = new Date(Date.UTC(1900, 0, 1));
        exports.parseDate = function(date) {
            if (!isNaN(date)) {
                if (date instanceof Date) {
                    return new Date(date);
                }
                var d = parseInt(date, 10);
                if (d < 0) {
                    return error.num;
                }
                if (d <= 60) {
                    return new Date(d1900.getTime() + (d - 1) * 86400000);
                }
                return new Date(d1900.getTime() + (d - 2) * 86400000);
            }
            if (typeof date === 'string') {
                date = new Date(date);
                if (!isNaN(date)) {
                    return date;
                }
            }
            return error.value;
        };
    
        exports.parseDateArray = function(arr) {
            var len = arr.length;
            var parsed;
            while (len--) {
                parsed = this.parseDate(arr[len]);
                if (parsed === error.value) {
                    return parsed;
                }
                arr[len] = parsed;
            }
            return arr;
        };
    
        exports.anyIsError = function() {
            var n = arguments.length;
            while (n--) {
                if (arguments[n] instanceof Error) {
                    return true;
                }
            }
            return false;
        };
    
        exports.arrayValuesToNumbers = function(arr) {
            var n = arr.length;
            var el;
            while (n--) {
                el = arr[n];
                if (typeof el === 'number') {
                    continue;
                }
                if (el === true) {
                    arr[n] = 1;
                    continue;
                }
                if (el === false) {
                    arr[n] = 0;
                    continue;
                }
                if (typeof el === 'string') {
                    var number = this.parseNumber(el);
                    if (number instanceof Error) {
                        arr[n] = 0;
                    } else {
                        arr[n] = number;
                    }
                }
            }
            return arr;
        };
    
        exports.rest = function(array, idx) {
            idx = idx || 1;
            if (!array || typeof array.slice !== 'function') {
                return array;
            }
            return array.slice(idx);
        };
    
        exports.initial = function(array, idx) {
            idx = idx || 1;
            if (!array || typeof array.slice !== 'function') {
                return array;
            }
            return array.slice(0, array.length - idx);
        };
    
        exports.arrayEach = function(array, iteratee) {
            var index = -1, length = array.length;
    
            while (++index < length) {
                if (iteratee(array[index], index, array) === false) {
                    break;
                }
            }
    
            return array;
        };
    
        exports.transpose = function(matrix) {
            if (!matrix) {
                return error.value;
            }
    
            return matrix[0].map(function(col, i) {
                return matrix.map(function(row) {
                    return row[i];
                });
            });
        };
    
        return exports;
    })();
    
    jexcel.methods = {};
    
    jexcel.methods.datetime = (function() {
        var exports = {};
    
        var d1900 = new Date(1900, 0, 1);
        var WEEK_STARTS = [
            undefined,
            0,
            1,
            undefined,
            undefined,
            undefined,
            undefined,
            undefined,
            undefined,
            undefined,
            undefined,
            undefined,
            1,
            2,
            3,
            4,
            5,
            6,
            0
        ];
        var WEEK_TYPES = [
            [],
            [1, 2, 3, 4, 5, 6, 7],
            [7, 1, 2, 3, 4, 5, 6],
            [6, 0, 1, 2, 3, 4, 5],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [7, 1, 2, 3, 4, 5, 6],
            [6, 7, 1, 2, 3, 4, 5],
            [5, 6, 7, 1, 2, 3, 4],
            [4, 5, 6, 7, 1, 2, 3],
            [3, 4, 5, 6, 7, 1, 2],
            [2, 3, 4, 5, 6, 7, 1],
            [1, 2, 3, 4, 5, 6, 7]
        ];
        var WEEKEND_TYPES = [
            [],
            [6, 0],
            [0, 1],
            [1, 2],
            [2, 3],
            [3, 4],
            [4, 5],
            [5, 6],
            undefined,
            undefined,
            undefined, [0, 0],
            [1, 1],
            [2, 2],
            [3, 3],
            [4, 4],
            [5, 5],
            [6, 6]
        ];
    
        exports.DATE = function(year, month, day) {
            year = utils.parseNumber(year);
            month = utils.parseNumber(month);
            day = utils.parseNumber(day);
            if (utils.anyIsError(year, month, day)) {
                return error.value;
            }
            if (year < 0 || month < 0 || day < 0) {
                return error.num;
            }
            var date = new Date(year, month - 1, day);
            return date;
        };
    
        exports.DATEVALUE = function(date_text) {
            if (typeof date_text !== 'string') {
                return error.value;
            }
            var date = Date.parse(date_text);
            if (isNaN(date)) {
                return error.value;
            }
            if (date <= -2203891200000) {
                return (date - d1900) / 86400000 + 1;
            }
            return (date - d1900) / 86400000 + 2;
        };
    
        exports.DAY = function(serial_number) {
            var date = utils.parseDate(serial_number);
            if (date instanceof Error) {
                return date;
            }
            return date.getDate();
        };
    
        exports.DAYS = function(end_date, start_date) {
            end_date = utils.parseDate(end_date);
            start_date = utils.parseDate(start_date);
            if (end_date instanceof Error) {
                return end_date;
            }
            if (start_date instanceof Error) {
                return start_date;
            }
            return serial(end_date) - serial(start_date);
        };
    
        exports.DAYS360 = function(start_date, end_date, method) {
        };
    
        exports.EDATE = function(start_date, months) {
            start_date = utils.parseDate(start_date);
            if (start_date instanceof Error) {
                return start_date;
            }
            if (isNaN(months)) {
                return error.value;
            }
            months = parseInt(months, 10);
            start_date.setMonth(start_date.getMonth() + months);
            return serial(start_date);
        };
    
        exports.EOMONTH = function(start_date, months) {
            start_date = utils.parseDate(start_date);
            if (start_date instanceof Error) {
                return start_date;
            }
            if (isNaN(months)) {
                return error.value;
            }
            months = parseInt(months, 10);
            return serial(new Date(start_date.getFullYear(), start_date.getMonth() + months + 1, 0));
        };
    
        exports.HOUR = function(serial_number) {
            serial_number = utils.parseDate(serial_number);
            if (serial_number instanceof Error) {
                return serial_number;
            }
            return serial_number.getHours();
        };
    
        exports.INTERVAL = function(second) {
            if (typeof second !== 'number' && typeof second !== 'string') {
                return error.value;
            } else {
                second = parseInt(second, 10);
            }
    
            var year  = Math.floor(second/946080000);
            second    = second%946080000;
            var month = Math.floor(second/2592000);
            second    = second%2592000;
            var day   = Math.floor(second/86400);
            second    = second%86400;
    
            var hour  = Math.floor(second/3600);
            second    = second%3600;
            var min   = Math.floor(second/60);
            second    = second%60;
            var sec   = second;
    
            year  = (year  > 0) ? year  + 'Y' : '';
            month = (month > 0) ? month + 'M' : '';
            day   = (day   > 0) ? day   + 'D' : '';
            hour  = (hour  > 0) ? hour  + 'H' : '';
            min   = (min   > 0) ? min   + 'M' : '';
            sec   = (sec   > 0) ? sec   + 'S' : '';
    
            return 'P' + year + month + day + 'T' + hour + min + sec;
        };
    
        exports.ISOWEEKNUM = function(date) {
            date = utils.parseDate(date);
            if (date instanceof Error) {
                return date;
            }
    
            date.setHours(0, 0, 0);
            date.setDate(date.getDate() + 4 - (date.getDay() || 7));
            var yearStart = new Date(date.getFullYear(), 0, 1);
            return Math.ceil((((date - yearStart) / 86400000) + 1) / 7);
        };
    
        exports.MINUTE = function(serial_number) {
            serial_number = utils.parseDate(serial_number);
            if (serial_number instanceof Error) {
                return serial_number;
            }
            return serial_number.getMinutes();
        };
    
        exports.MONTH = function(serial_number) {
            serial_number = utils.parseDate(serial_number);
            if (serial_number instanceof Error) {
                return serial_number;
            }
            return serial_number.getMonth() + 1;
        };
    
        exports.NETWORKDAYS = function(start_date, end_date, holidays) {
        };
    
        exports.NETWORKDAYS.INTL = function(start_date, end_date, weekend, holidays) {
        };
    
        exports.NOW = function() {
            return new Date();
        };
    
        exports.SECOND = function(serial_number) {
            serial_number = utils.parseDate(serial_number);
            if (serial_number instanceof Error) {
                return serial_number;
            }
            return serial_number.getSeconds();
        };
    
        exports.TIME = function(hour, minute, second) {
            hour = utils.parseNumber(hour);
            minute = utils.parseNumber(minute);
            second = utils.parseNumber(second);
            if (utils.anyIsError(hour, minute, second)) {
                return error.value;
            }
            if (hour < 0 || minute < 0 || second < 0) {
                return error.num;
            }
            return (3600 * hour + 60 * minute + second) / 86400;
        };
    
        exports.TIMEVALUE = function(time_text) {
            time_text = utils.parseDate(time_text);
            if (time_text instanceof Error) {
                return time_text;
            }
            return (3600 * time_text.getHours() + 60 * time_text.getMinutes() + time_text.getSeconds()) / 86400;
        };
    
        exports.TODAY = function() {
            return new Date();
        };
    
        exports.WEEKDAY = function(serial_number, return_type) {
            serial_number = utils.parseDate(serial_number);
            if (serial_number instanceof Error) {
                return serial_number;
            }
            if (return_type === undefined) {
                return_type = 1;
            }
            var day = serial_number.getDay();
            return WEEK_TYPES[return_type][day];
        };
    
        exports.WEEKNUM = function(serial_number, return_type) {
        };
    
        exports.WORKDAY = function(start_date, days, holidays) {
        };
    
        exports.WORKDAY.INTL = function(start_date, days, weekend, holidays) {
        };
    
        exports.YEAR = function(serial_number) {
            serial_number = utils.parseDate(serial_number);
            if (serial_number instanceof Error) {
                return serial_number;
            }
            return serial_number.getFullYear();
        };
    
        function isLeapYear(year) {
            return new Date(year, 1, 29).getMonth() === 1;
        }
    
        exports.YEARFRAC = function(start_date, end_date, basis) {
        };
    
        function serial(date) {
            var addOn = (date > -2203891200000)?2:1;
            return (date - d1900) / 86400000 + addOn;
        }
    
        return exports;
    })();
    
    jexcel.methods.database = (function() {
        var exports = {};
    
        function compact(array) {
            if (!array) {
                return array;
            }
            var result = [];
            for (var i = 0; i < array.length; ++i) {
                if (!array[i]) {
                    continue;
                }
                result.push(array[i]);
            }
            return result;
        }
    
        exports.FINDFIELD = function(database, title) {
            var index = null;
            for (var i = 0; i < database.length; i++) {
                if (database[i][0] === title) {
                    index = i;
                    break;
                }
            }
    
            // Return error if the input field title is incorrect
            if (index == null) {
                return error.value;
            }
            return index;
        };
    
        function findResultIndex(database, criterias) {
            var matches = {};
            for (var i = 1; i < database[0].length; ++i) {
                matches[i] = true;
            }
            var maxCriteriaLength = criterias[0].length;
            for (i = 1; i < criterias.length; ++i) {
                if (criterias[i].length > maxCriteriaLength) {
                    maxCriteriaLength = criterias[i].length;
                }
            }
    
            for (var k = 1; k < database.length; ++k) {
                for (var l = 1; l < database[k].length; ++l) {
                    var currentCriteriaResult = false;
                    var hasMatchingCriteria = false;
                    for (var j = 0; j < criterias.length; ++j) {
                        var criteria = criterias[j];
                        if (criteria.length < maxCriteriaLength) {
                            continue;
                        }
    
                        var criteriaField = criteria[0];
                        if (database[k][0] !== criteriaField) {
                            continue;
                        }
                        hasMatchingCriteria = true;
                        for (var p = 1; p < criteria.length; ++p) {
                            currentCriteriaResult = currentCriteriaResult
                                    || eval(database[k][l] + criteria[p]); // jshint
                                                                            // ignore:line
                        }
                    }
                    if (hasMatchingCriteria) {
                        matches[l] = matches[l] && currentCriteriaResult;
                    }
                }
            }
    
            var result = [];
            for (var n = 0; n < database[0].length; ++n) {
                if (matches[n]) {
                    result.push(n - 1);
                }
            }
            return result;
        }
    
        // Database functions
        exports.DAVERAGE = function(database, field, criteria) {
            // Return error if field is not a number and not a string
            if (isNaN(field) && (typeof field !== "string")) {
                return error.value;
            }
            var resultIndexes = findResultIndex(database, criteria);
            var targetFields = [];
            if (typeof field === "string") {
                var index = exports.FINDFIELD(database, field);
                targetFields = utils.rest(database[index]);
            } else {
                targetFields = utils.rest(database[field]);
            }
            var sum = 0;
            for (var i = 0; i < resultIndexes.length; i++) {
                sum += targetFields[resultIndexes[i]];
            }
            return resultIndexes.length === 0 ? error.div0 : sum / resultIndexes.length;
        };
    
        exports.DCOUNT = function(database, field, criteria) {
        };
    
        exports.DCOUNTA = function(database, field, criteria) {
        };
    
        exports.DGET = function(database, field, criteria) {
            // Return error if field is not a number and not a string
            if (isNaN(field) && (typeof field !== "string")) {
                return error.value;
            }
            var resultIndexes = findResultIndex(database, criteria);
            var targetFields = [];
            if (typeof field === "string") {
                var index = exports.FINDFIELD(database, field);
                targetFields = utils.rest(database[index]);
            } else {
                targetFields = utils.rest(database[field]);
            }
            // Return error if no record meets the criteria
            if (resultIndexes.length === 0) {
                return error.value;
            }
            // Returns the #NUM! error value because more than one record meets the
            // criteria
            if (resultIndexes.length > 1) {
                return error.num;
            }
    
            return targetFields[resultIndexes[0]];
        };
    
        exports.DMAX = function(database, field, criteria) {
            // Return error if field is not a number and not a string
            if (isNaN(field) && (typeof field !== "string")) {
                return error.value;
            }
            var resultIndexes = findResultIndex(database, criteria);
            var targetFields = [];
            if (typeof field === "string") {
                var index = exports.FINDFIELD(database, field);
                targetFields = utils.rest(database[index]);
            } else {
                targetFields = utils.rest(database[field]);
            }
            var maxValue = targetFields[resultIndexes[0]];
            for (var i = 1; i < resultIndexes.length; i++) {
                if (maxValue < targetFields[resultIndexes[i]]) {
                    maxValue = targetFields[resultIndexes[i]];
                }
            }
            return maxValue;
        };
    
        exports.DMIN = function(database, field, criteria) {
            // Return error if field is not a number and not a string
            if (isNaN(field) && (typeof field !== "string")) {
                return error.value;
            }
            var resultIndexes = findResultIndex(database, criteria);
            var targetFields = [];
            if (typeof field === "string") {
                var index = exports.FINDFIELD(database, field);
                targetFields = utils.rest(database[index]);
            } else {
                targetFields = utils.rest(database[field]);
            }
            var minValue = targetFields[resultIndexes[0]];
            for (var i = 1; i < resultIndexes.length; i++) {
                if (minValue > targetFields[resultIndexes[i]]) {
                    minValue = targetFields[resultIndexes[i]];
                }
            }
            return minValue;
        };
    
        exports.DPRODUCT = function(database, field, criteria) {
            // Return error if field is not a number and not a string
            if (isNaN(field) && (typeof field !== "string")) {
                return error.value;
            }
            var resultIndexes = findResultIndex(database, criteria);
            var targetFields = [];
            if (typeof field === "string") {
                var index = exports.FINDFIELD(database, field);
                targetFields = utils.rest(database[index]);
            } else {
                targetFields = utils.rest(database[field]);
            }
            var targetValues = [];
            for (var i = 0; i < resultIndexes.length; i++) {
                targetValues[i] = targetFields[resultIndexes[i]];
            }
            targetValues = compact(targetValues);
            var result = 1;
            for (i = 0; i < targetValues.length; i++) {
                result *= targetValues[i];
            }
            return result;
        };
    
        exports.DSTDEV = function(database, field, criteria) {
        };
    
        exports.DSTDEVP = function(database, field, criteria) {
        };
    
        exports.DSUM = function(database, field, criteria) {
        };
    
        exports.DVAR = function(database, field, criteria) {
        };
    
        exports.DVARP = function(database, field, criteria) {
        };
    
        exports.MATCH = function(lookupValue, lookupArray, matchType) {
            if (!lookupValue && !lookupArray) {
                return error.na;
            }
            if (arguments.length === 2) {
                matchType = 1;
            }
            if (!(lookupArray instanceof Array)) {
                return error.na;
            }
            if (matchType !== -1 && matchType !== 0 && matchType !== 1) {
                return error.na;
            }
    
            var index;
            var indexValue;
    
            for (var idx = 0; idx < lookupArray.length; idx++) {
                if (matchType === 1) {
                    if (lookupArray[idx] === lookupValue) {
                        return idx + 1;
                    } else if (lookupArray[idx] < lookupValue) {
                        if (!indexValue) {
                            index = idx + 1;
                            indexValue = lookupArray[idx];
                        } else if (lookupArray[idx] > indexValue) {
                            index = idx + 1;
                            indexValue = lookupArray[idx];
                        }
                    }
                } else if (matchType === 0) {
                    if (typeof lookupValue === 'string') {
                        lookupValue = lookupValue.replace(/\?/g, '.');
                        if (lookupArray[idx].toLowerCase().match(lookupValue.toLowerCase())) {
                            return idx + 1;
                        }
                    } else {
                        if (lookupArray[idx] === lookupValue) {
                            return idx + 1;
                        }
                    }
                } else if (matchType === -1) {
                    if (lookupArray[idx] === lookupValue) {
                        return idx + 1;
                    } else if (lookupArray[idx] > lookupValue) {
                        if (!indexValue) {
                            index = idx + 1;
                            indexValue = lookupArray[idx];
                        } else if (lookupArray[idx] < indexValue) {
                            index = idx + 1;
                            indexValue = lookupArray[idx];
                        }
                    }
                }
            }
    
            return index ? index : error.na;
        };
    
        return exports;
    })();
    
    jexcel.methods.engineering = (function() {
        var exports = {};
    
        function isValidBinaryNumber(number) {
            return (/^[01]{1,10}$/).test(number);
        }
    
        exports.BESSELI = function(x, n) {
        };
    
        exports.BESSELJ = function(x, n) {
        };
    
        exports.BESSELK = function(x, n) {
        };
    
        exports.BESSELY = function(x, n) {
        };
    
        exports.BIN2DEC = function(number) {
            // Return error if number is not binary or contains more than 10
            // characters (10 digits)
            if (!isValidBinaryNumber(number)) {
                return error.num;
            }
    
            // Convert binary number to decimal
            var result = parseInt(number, 2);
    
            // Handle negative numbers
            var stringified = number.toString();
            if (stringified.length === 10 && stringified.substring(0, 1) === '1') {
                return parseInt(stringified.substring(1), 2) - 512;
            } else {
                return result;
            }
        };
    
        exports.BIN2HEX = function(number, places) {
            // Return error if number is not binary or contains more than 10
            // characters (10 digits)
            if (!isValidBinaryNumber(number)) {
                return error.num;
            }
    
            // Ignore places and return a 10-character hexadecimal number if number
            // is negative
            var stringified = number.toString();
            if (stringified.length === 10 && stringified.substring(0, 1) === '1') {
                return (1099511627264 + parseInt(stringified.substring(1), 2)).toString(16);
            }
    
            // Convert binary number to hexadecimal
            var result = parseInt(number, 2).toString(16);
    
            // Return hexadecimal number using the minimum number of characters
            // necessary if places is undefined
            if (places === undefined) {
                return result;
            } else {
                // Return error if places is nonnumeric
                if (isNaN(places)) {
                  return error.value;
                }
    
                // Return error if places is negative
                if (places < 0) {
                  return error.num;
                }
    
                // Truncate places in case it is not an integer
                places = Math.floor(places);
    
                // Pad return value with leading 0s (zeros) if necessary (using
                // Underscore.string)
                return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;
            }
        };
    
        exports.BIN2OCT = function(number, places) {
            // Return error if number is not binary or contains more than 10
            // characters (10 digits)
            if (!isValidBinaryNumber(number)) {
                return error.num;
            }
    
            // Ignore places and return a 10-character octal number if number is
            // negative
            var stringified = number.toString();
            if (stringified.length === 10 && stringified.substring(0, 1) === '1') {
                return (1073741312 + parseInt(stringified.substring(1), 2)).toString(8);
            }
    
            // Convert binary number to octal
            var result = parseInt(number, 2).toString(8);
    
            // Return octal number using the minimum number of characters necessary
            // if places is undefined
            if (places === undefined) {
                return result;
            } else {
                // Return error if places is nonnumeric
                if (isNaN(places)) {
                  return error.value;
                }
    
                // Return error if places is negative
                if (places < 0) {
                  return error.num;
                }
    
                // Truncate places in case it is not an integer
                places = Math.floor(places);
    
                // Pad return value with leading 0s (zeros) if necessary (using
                // Underscore.string)
                return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;
            }
        };
    
        exports.BITAND = function(number1, number2) {
            // Return error if either number is a non-numeric value
            number1 = utils.parseNumber(number1);
            number2 = utils.parseNumber(number2);
            if (utils.anyIsError(number1, number2)) {
                return error.value;
            }
    
            // Return error if either number is less than 0
            if (number1 < 0 || number2 < 0) {
                return error.num;
            }
    
            // Return error if either number is a non-integer
            if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {
                return error.num;
            }
    
            // Return error if either number is greater than (2^48)-1
            if (number1 > 281474976710655 || number2 > 281474976710655) {
                return error.num;
            }
    
            // Return bitwise AND of two numbers
            return number1 & number2;
        };
    
        exports.BITLSHIFT = function(number, shift) {
            number = utils.parseNumber(number);
            shift = utils.parseNumber(shift);
            if (utils.anyIsError(number, shift)) {
                return error.value;
            }
    
            // Return error if number is less than 0
            if (number < 0) {
                return error.num;
            }
    
            // Return error if number is a non-integer
            if (Math.floor(number) !== number) {
                return error.num;
            }
    
            // Return error if number is greater than (2^48)-1
            if (number > 281474976710655) {
                return error.num;
            }
    
            // Return error if the absolute value of shift is greater than 53
            if (Math.abs(shift) > 53) {
                return error.num;
            }
    
            // Return number shifted by shift bits to the left or to the right if
            // shift is negative
            return (shift >= 0) ? number << shift : number >> -shift;
        };
    
        exports.BITOR = function(number1, number2) {
            number1 = utils.parseNumber(number1);
            number2 = utils.parseNumber(number2);
            if (utils.anyIsError(number1, number2)) {
                return error.value;
            }
    
            // Return error if either number is less than 0
            if (number1 < 0 || number2 < 0) {
                return error.num;
            }
    
            // Return error if either number is a non-integer
            if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {
                return error.num;
            }
    
            // Return error if either number is greater than (2^48)-1
            if (number1 > 281474976710655 || number2 > 281474976710655) {
                return error.num;
            }
    
            // Return bitwise OR of two numbers
            return number1 | number2;
        };
    
        exports.BITRSHIFT = function(number, shift) {
            number = utils.parseNumber(number);
            shift = utils.parseNumber(shift);
            if (utils.anyIsError(number, shift)) {
                return error.value;
            }
    
            // Return error if number is less than 0
            if (number < 0) {
                return error.num;
            }
    
            // Return error if number is a non-integer
            if (Math.floor(number) !== number) {
                return error.num;
            }
    
            // Return error if number is greater than (2^48)-1
            if (number > 281474976710655) {
                return error.num;
            }
    
            // Return error if the absolute value of shift is greater than 53
            if (Math.abs(shift) > 53) {
                return error.num;
            }
    
            // Return number shifted by shift bits to the right or to the left if
            // shift is negative
            return (shift >= 0) ? number >> shift : number << -shift;
        };
    
        exports.BITXOR = function(number1, number2) {
            number1 = utils.parseNumber(number1);
            number2 = utils.parseNumber(number2);
            if (utils.anyIsError(number1, number2)) {
                return error.value;
            }
    
            // Return error if either number is less than 0
            if (number1 < 0 || number2 < 0) {
                return error.num;
            }
    
            // Return error if either number is a non-integer
            if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {
                return error.num;
            }
    
            // Return error if either number is greater than (2^48)-1
            if (number1 > 281474976710655 || number2 > 281474976710655) {
                return error.num;
            }
    
            // Return bitwise XOR of two numbers
            return number1 ^ number2;
        };
    
        exports.COMPLEX = function(real, imaginary, suffix) {
            real = utils.parseNumber(real);
            imaginary = utils.parseNumber(imaginary);
            if (utils.anyIsError(real, imaginary)) {
                return real;
            }
    
            // Set suffix
            suffix = (suffix === undefined) ? 'i' : suffix;
    
            // Return error if suffix is neither "i" nor "j"
            if (suffix !== 'i' && suffix !== 'j') {
                return error.value;
            }
    
            // Return complex number
            if (real === 0 && imaginary === 0) {
                return 0;
            } else if (real === 0) {
                return (imaginary === 1) ? suffix : imaginary.toString() + suffix;
            } else if (imaginary === 0) {
                return real.toString();
            } else {
                var sign = (imaginary > 0) ? '+' : '';
                return real.toString() + sign + ((imaginary === 1) ? suffix : imaginary.toString() + suffix);
            }
        };
    
        exports.CONVERT = function(number, from_unit, to_unit) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
    
            // List of units supported by CONVERT and units defined by the
            // International System of Units
            // [Name, Symbol, Alternate symbols, Quantity, ISU, CONVERT, Conversion
            // ratio]
            var units = [
                ["a.u. of action", "?", null, "action", false, false, 1.05457168181818e-34],
                ["a.u. of charge", "e", null, "electric_charge", false, false, 1.60217653141414e-19],
                ["a.u. of energy", "Eh", null, "energy", false, false, 4.35974417757576e-18],
                ["a.u. of length", "a?", null, "length", false, false, 5.29177210818182e-11],
                ["a.u. of mass", "m?", null, "mass", false, false, 9.10938261616162e-31],
                ["a.u. of time", "?/Eh", null, "time", false, false, 2.41888432650516e-17],
                ["admiralty knot", "admkn", null, "speed", false, true, 0.514773333],
                ["ampere", "A", null, "electric_current", true, false, 1],
                ["ampere per meter", "A/m", null, "magnetic_field_intensity", true, false, 1],
                ["ngstrm", "", ["ang"], "length", false, true, 1e-10],
                ["are", "ar", null, "area", false, true, 100],
                ["astronomical unit", "ua", null, "length", false, false, 1.49597870691667e-11],
                ["bar", "bar", null, "pressure", false, false, 100000],
                ["barn", "b", null, "area", false, false, 1e-28],
                ["becquerel", "Bq", null, "radioactivity", true, false, 1],
                ["bit", "bit", ["b"], "information", false, true, 1],
                ["btu", "BTU", ["btu"], "energy", false, true, 1055.05585262],
                ["byte", "byte", null, "information", false, true, 8],
                ["candela", "cd", null, "luminous_intensity", true, false, 1],
                ["candela per square metre", "cd/m?", null, "luminance", true, false, 1],
                ["coulomb", "C", null, "electric_charge", true, false, 1],
                ["cubic ngstrm", "ang3", ["ang^3"], "volume", false, true, 1e-30],
                ["cubic foot", "ft3", ["ft^3"], "volume", false, true, 0.028316846592],
                ["cubic inch", "in3", ["in^3"], "volume", false, true, 0.000016387064],
                ["cubic light-year", "ly3", ["ly^3"], "volume", false, true, 8.46786664623715e-47],
                ["cubic metre", "m?", null, "volume", true, true, 1],
                ["cubic mile", "mi3", ["mi^3"], "volume", false, true, 4168181825.44058],
                ["cubic nautical mile", "Nmi3", ["Nmi^3"], "volume", false, true, 6352182208],
                ["cubic Pica", "Pica3", ["Picapt3", "Pica^3", "Picapt^3"], "volume", false, true, 7.58660370370369e-8],
                ["cubic yard", "yd3", ["yd^3"], "volume", false, true, 0.764554857984],
                ["cup", "cup", null, "volume", false, true, 0.0002365882365],
                ["dalton", "Da", ["u"], "mass", false, false, 1.66053886282828e-27],
                ["day", "d", ["day"], "time", false, true, 86400],
                ["degree", "", null, "angle", false, false, 0.0174532925199433],
                ["degrees Rankine", "Rank", null, "temperature", false, true, 0.555555555555556],
                ["dyne", "dyn", ["dy"], "force", false, true, 0.00001],
                ["electronvolt", "eV", ["ev"], "energy", false, true, 1.60217656514141],
                ["ell", "ell", null, "length", false, true, 1.143],
                ["erg", "erg", ["e"], "energy", false, true, 1e-7],
                ["farad", "F", null, "electric_capacitance", true, false, 1],
                ["fluid ounce", "oz", null, "volume", false, true, 0.0000295735295625],
                ["foot", "ft", null, "length", false, true, 0.3048],
                ["foot-pound", "flb", null, "energy", false, true, 1.3558179483314],
                ["gal", "Gal", null, "acceleration", false, false, 0.01],
                ["gallon", "gal", null, "volume", false, true, 0.003785411784],
                ["gauss", "G", ["ga"], "magnetic_flux_density", false, true, 1],
                ["grain", "grain", null, "mass", false, true, 0.0000647989],
                ["gram", "g", null, "mass", false, true, 0.001],
                ["gray", "Gy", null, "absorbed_dose", true, false, 1],
                ["gross registered ton", "GRT", ["regton"], "volume", false, true, 2.8316846592],
                ["hectare", "ha", null, "area", false, true, 10000],
                ["henry", "H", null, "inductance", true, false, 1],
                ["hertz", "Hz", null, "frequency", true, false, 1],
                ["horsepower", "HP", ["h"], "power", false, true, 745.69987158227],
                ["horsepower-hour", "HPh", ["hh", "hph"], "energy", false, true, 2684519.538],
                ["hour", "h", ["hr"], "time", false, true, 3600],
                ["imperial gallon (U.K.)", "uk_gal", null, "volume", false, true, 0.00454609],
                ["imperial hundredweight", "lcwt", ["uk_cwt", "hweight"], "mass", false, true, 50.802345],
                ["imperial quart (U.K)", "uk_qt", null, "volume", false, true, 0.0011365225],
                ["imperial ton", "brton", ["uk_ton", "LTON"], "mass", false, true, 1016.046909],
                ["inch", "in", null, "length", false, true, 0.0254],
                ["international acre", "uk_acre", null, "area", false, true, 4046.8564224],
                ["IT calorie", "cal", null, "energy", false, true, 4.1868],
                ["joule", "J", null, "energy", true, true, 1],
                ["katal", "kat", null, "catalytic_activity", true, false, 1],
                ["kelvin", "K", ["kel"], "temperature", true, true, 1],
                ["kilogram", "kg", null, "mass", true, true, 1],
                ["knot", "kn", null, "speed", false, true, 0.514444444444444],
                ["light-year", "ly", null, "length", false, true, 9460730472580800],
                ["litre", "L", ["l", "lt"], "volume", false, true, 0.001],
                ["lumen", "lm", null, "luminous_flux", true, false, 1],
                ["lux", "lx", null, "illuminance", true, false, 1],
                ["maxwell", "Mx", null, "magnetic_flux", false, false, 1e-18],
                ["measurement ton", "MTON", null, "volume", false, true, 1.13267386368],
                ["meter per hour", "m/h", ["m/hr"], "speed", false, true, 0.00027777777777778],
                ["meter per second", "m/s", ["m/sec"], "speed", true, true, 1],
                ["meter per second squared", "m?s??", null, "acceleration", true, false, 1],
                ["parsec", "pc", ["parsec"], "length", false, true, 30856775814671900],
                ["meter squared per second", "m?/s", null, "kinematic_viscosity", true, false, 1],
                ["metre", "m", null, "length", true, true, 1],
                ["miles per hour", "mph", null, "speed", false, true, 0.44704],
                ["millimetre of mercury", "mmHg", null, "pressure", false, false, 133.322],
                ["minute", "?", null, "angle", false, false, 0.000290888208665722],
                ["minute", "min", ["mn"], "time", false, true, 60],
                ["modern teaspoon", "tspm", null, "volume", false, true, 0.000005],
                ["mole", "mol", null, "amount_of_substance", true, false, 1],
                ["morgen", "Morgen", null, "area", false, true, 2500],
                ["n.u. of action", "?", null, "action", false, false, 1.05457168181818e-34],
                ["n.u. of mass", "m?", null, "mass", false, false, 9.10938261616162e-31],
                ["n.u. of speed", "c?", null, "speed", false, false, 299792458],
                ["n.u. of time", "?/(me?c??)", null, "time", false, false, 1.28808866778687e-21],
                ["nautical mile", "M", ["Nmi"], "length", false, true, 1852],
                ["newton", "N", null, "force", true, true, 1],
                ["rsted", "Oe ", null, "magnetic_field_intensity", false, false, 79.5774715459477],
                ["ohm", "", null, "electric_resistance", true, false, 1],
                ["ounce mass", "ozm", null, "mass", false, true, 0.028349523125],
                ["pascal", "Pa", null, "pressure", true, false, 1],
                ["pascal second", "Pa?s", null, "dynamic_viscosity", true, false, 1],
                ["pferdestrke", "PS", null, "power", false, true, 735.49875],
                ["phot", "ph", null, "illuminance", false, false, 0.0001],
                ["pica (1/6 inch)", "pica", null, "length", false, true, 0.00035277777777778],
                ["pica (1/72 inch)", "Pica", ["Picapt"], "length", false, true, 0.00423333333333333],
                ["poise", "P", null, "dynamic_viscosity", false, false, 0.1],
                ["pond", "pond", null, "force", false, true, 0.00980665],
                ["pound force", "lbf", null, "force", false, true, 4.4482216152605],
                ["pound mass", "lbm", null, "mass", false, true, 0.45359237],
                ["quart", "qt", null, "volume", false, true, 0.000946352946],
                ["radian", "rad", null, "angle", true, false, 1],
                ["second", "?", null, "angle", false, false, 0.00000484813681109536],
                ["second", "s", ["sec"], "time", true, true, 1],
                ["short hundredweight", "cwt", ["shweight"], "mass", false, true, 45.359237],
                ["siemens", "S", null, "electrical_conductance", true, false, 1],
                ["sievert", "Sv", null, "equivalent_dose", true, false, 1],
                ["slug", "sg", null, "mass", false, true, 14.59390294],
                ["square ngstrm", "ang2", ["ang^2"], "area", false, true, 1e-20],
                ["square foot", "ft2", ["ft^2"], "area", false, true, 0.09290304],
                ["square inch", "in2", ["in^2"], "area", false, true, 0.00064516],
                ["square light-year", "ly2", ["ly^2"], "area", false, true, 8.95054210748189e+31],
                ["square meter", "m?", null, "area", true, true, 1],
                ["square mile", "mi2", ["mi^2"], "area", false, true, 2589988.110336],
                ["square nautical mile", "Nmi2", ["Nmi^2"], "area", false, true, 3429904],
                ["square Pica", "Pica2", ["Picapt2", "Pica^2", "Picapt^2"], "area", false, true, 0.00001792111111111],
                ["square yard", "yd2", ["yd^2"], "area", false, true, 0.83612736],
                ["statute mile", "mi", null, "length", false, true, 1609.344],
                ["steradian", "sr", null, "solid_angle", true, false, 1],
                ["stilb", "sb", null, "luminance", false, false, 0.0001],
                ["stokes", "St", null, "kinematic_viscosity", false, false, 0.0001],
                ["stone", "stone", null, "mass", false, true, 6.35029318],
                ["tablespoon", "tbs", null, "volume", false, true, 0.0000147868],
                ["teaspoon", "tsp", null, "volume", false, true, 0.00000492892],
                ["tesla", "T", null, "magnetic_flux_density", true, true, 1],
                ["thermodynamic calorie", "c", null, "energy", false, true, 4.184],
                ["ton", "ton", null, "mass", false, true, 907.18474],
                ["tonne", "t", null, "mass", false, false, 1000],
                ["U.K. pint", "uk_pt", null, "volume", false, true, 0.00056826125],
                ["U.S. bushel", "bushel", null, "volume", false, true, 0.03523907],
                ["U.S. oil barrel", "barrel", null, "volume", false, true, 0.158987295],
                ["U.S. pint", "pt", ["us_pt"], "volume", false, true, 0.000473176473],
                ["U.S. survey mile", "survey_mi", null, "length", false, true, 1609.347219],
                ["U.S. survey/statute acre", "us_acre", null, "area", false, true, 4046.87261],
                ["volt", "V", null, "voltage", true, false, 1],
                ["watt", "W", null, "power", true, true, 1],
                ["watt-hour", "Wh", ["wh"], "energy", false, true, 3600],
                ["weber", "Wb", null, "magnetic_flux", true, false, 1],
                ["yard", "yd", null, "length", false, true, 0.9144],
                ["year", "yr", null, "time", false, true, 31557600]
            ];
    
            // Binary prefixes
            // [Name, Prefix power of 2 value, Previx value, Abbreviation, Derived
            // from]
            var binary_prefixes = {
                Yi: ["yobi", 80, 1208925819614629174706176, "Yi", "yotta"],
                Zi: ["zebi", 70, 1180591620717411303424, "Zi", "zetta"],
                Ei: ["exbi", 60, 1152921504606846976, "Ei", "exa"],
                Pi: ["pebi", 50, 1125899906842624, "Pi", "peta"],
                Ti: ["tebi", 40, 1099511627776, "Ti", "tera"],
                Gi: ["gibi", 30, 1073741824, "Gi", "giga"],
                Mi: ["mebi", 20, 1048576, "Mi", "mega"],
                ki: ["kibi", 10, 1024, "ki", "kilo"]
            };
    
            // Unit prefixes
            // [Name, Multiplier, Abbreviation]
            var unit_prefixes = {
                Y: ["yotta", 1e+24, "Y"],
                Z: ["zetta", 1e+21, "Z"],
                E: ["exa", 1e+18, "E"],
                P: ["peta", 1e+15, "P"],
                T: ["tera", 1e+12, "T"],
                G: ["giga", 1e+09, "G"],
                M: ["mega", 1e+06, "M"],
                k: ["kilo", 1e+03, "k"],
                h: ["hecto", 1e+02, "h"],
                e: ["dekao", 1e+01, "e"],
                d: ["deci", 1e-01, "d"],
                c: ["centi", 1e-02, "c"],
                m: ["milli", 1e-03, "m"],
                u: ["micro", 1e-06, "u"],
                n: ["nano", 1e-09, "n"],
                p: ["pico", 1e-12, "p"],
                f: ["femto", 1e-15, "f"],
                a: ["atto", 1e-18, "a"],
                z: ["zepto", 1e-21, "z"],
                y: ["yocto", 1e-24, "y"]
            };
    
            // Initialize units and multipliers
            var from = null;
            var to = null;
            var base_from_unit = from_unit;
            var base_to_unit = to_unit;
            var from_multiplier = 1;
            var to_multiplier = 1;
            var alt;
    
            // Lookup from and to units
            for (var i = 0; i < units.length; i++) {
                alt = (units[i][2] === null) ? [] : units[i][2];
                if (units[i][1] === base_from_unit || alt.indexOf(base_from_unit) >= 0) {
                  from = units[i];
                }
                if (units[i][1] === base_to_unit || alt.indexOf(base_to_unit) >= 0) {
                  to = units[i];
                }
            }
    
            // Lookup from prefix
            if (from === null) {
                var from_binary_prefix = binary_prefixes[from_unit.substring(0, 2)];
                var from_unit_prefix = unit_prefixes[from_unit.substring(0, 1)];
    
                // Handle dekao unit prefix (only unit prefix with two characters)
                if (from_unit.substring(0, 2) === 'da') {
                  from_unit_prefix = ["dekao", 1e+01, "da"];
                }
    
                // Handle binary prefixes first (so that 'Yi' is processed before
                // 'Y')
                if (from_binary_prefix) {
                  from_multiplier = from_binary_prefix[2];
                  base_from_unit = from_unit.substring(2);
                } else if (from_unit_prefix) {
                  from_multiplier = from_unit_prefix[1];
                  base_from_unit = from_unit.substring(from_unit_prefix[2].length);
                }
    
                // Lookup from unit
                for (var j = 0; j < units.length; j++) {
                  alt = (units[j][2] === null) ? [] : units[j][2];
                  if (units[j][1] === base_from_unit || alt.indexOf(base_from_unit) >= 0) {
                      from = units[j];
                  }
                }
            }
    
            // Lookup to prefix
            if (to === null) {
                var to_binary_prefix = binary_prefixes[to_unit.substring(0, 2)];
                var to_unit_prefix = unit_prefixes[to_unit.substring(0, 1)];
    
                // Handle dekao unit prefix (only unit prefix with two characters)
                if (to_unit.substring(0, 2) === 'da') {
                  to_unit_prefix = ["dekao", 1e+01, "da"];
                }
    
                // Handle binary prefixes first (so that 'Yi' is processed before
                // 'Y')
                if (to_binary_prefix) {
                  to_multiplier = to_binary_prefix[2];
                  base_to_unit = to_unit.substring(2);
                } else if (to_unit_prefix) {
                  to_multiplier = to_unit_prefix[1];
                  base_to_unit = to_unit.substring(to_unit_prefix[2].length);
                }
    
                // Lookup to unit
                for (var k = 0; k < units.length; k++) {
                  alt = (units[k][2] === null) ? [] : units[k][2];
                  if (units[k][1] === base_to_unit || alt.indexOf(base_to_unit) >= 0) {
                      to = units[k];
                  }
                }
            }
    
            // Return error if a unit does not exist
            if (from === null || to === null) {
                return error.na;
            }
    
            // Return error if units represent different quantities
            if (from[3] !== to[3]) {
                return error.na;
            }
    
            // Return converted number
            return number * from[6] * from_multiplier / (to[6] * to_multiplier);
        };
    
        exports.DEC2BIN = function(number, places) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
    
            // Return error if number is not decimal, is lower than -512, or is
            // greater than 511
            if (!/^-?[0-9]{1,3}$/.test(number) || number < -512 || number > 511) {
                return error.num;
            }
    
            // Ignore places and return a 10-character binary number if number is
            // negative
            if (number < 0) {
                return '1' + REPT('0', 9 - (512 + number).toString(2).length) + (512 + number).toString(2);
            }
    
            // Convert decimal number to binary
            var result = parseInt(number, 10).toString(2);
    
            // Return binary number using the minimum number of characters necessary
            // if places is undefined
            if (typeof places === 'undefined') {
                return result;
            } else {
                // Return error if places is nonnumeric
                if (isNaN(places)) {
                  return error.value;
                }
    
                // Return error if places is negative
                if (places < 0) {
                  return error.num;
                }
    
                // Truncate places in case it is not an integer
                places = Math.floor(places);
    
                // Pad return value with leading 0s (zeros) if necessary (using
                // Underscore.string)
                return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;
            }
        };
    
        exports.DEC2HEX = function(number, places) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
    
            // Return error if number is not decimal, is lower than -549755813888,
            // or is greater than 549755813887
            if (!/^-?[0-9]{1,12}$/.test(number) || number < -549755813888 || number > 549755813887) {
                return error.num;
            }
    
            // Ignore places and return a 10-character hexadecimal number if number
            // is negative
            if (number < 0) {
                return (1099511627776 + number).toString(16);
            }
    
            // Convert decimal number to hexadecimal
            var result = parseInt(number, 10).toString(16);
    
            // Return hexadecimal number using the minimum number of characters
            // necessary if places is undefined
            if (typeof places === 'undefined') {
                return result;
            } else {
                // Return error if places is nonnumeric
                if (isNaN(places)) {
                  return error.value;
                }
    
                // Return error if places is negative
                if (places < 0) {
                  return error.num;
                }
    
                // Truncate places in case it is not an integer
                places = Math.floor(places);
    
                // Pad return value with leading 0s (zeros) if necessary (using
                // Underscore.string)
                return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;
            }
        };
    
        exports.DEC2OCT = function(number, places) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
    
            // Return error if number is not decimal, is lower than -549755813888,
            // or is greater than 549755813887
            if (!/^-?[0-9]{1,9}$/.test(number) || number < -536870912 || number > 536870911) {
                return error.num;
            }
    
            // Ignore places and return a 10-character octal number if number is
            // negative
            if (number < 0) {
                return (1073741824 + number).toString(8);
            }
    
            // Convert decimal number to octal
            var result = parseInt(number, 10).toString(8);
    
            // Return octal number using the minimum number of characters necessary
            // if places is undefined
            if (typeof places === 'undefined') {
                return result;
            } else {
                // Return error if places is nonnumeric
                if (isNaN(places)) {
                  return error.value;
                }
    
                // Return error if places is negative
                if (places < 0) {
                  return error.num;
                }
    
                // Truncate places in case it is not an integer
                places = Math.floor(places);
    
                // Pad return value with leading 0s (zeros) if necessary (using
                // Underscore.string)
                return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;
            }
        };
    
        exports.DELTA = function(number1, number2) {
            // Set number2 to zero if undefined
            number2 = (number2 === undefined) ? 0 : number2;
            number1 = utils.parseNumber(number1);
            number2 = utils.parseNumber(number2);
            if (utils.anyIsError(number1, number2)) {
                return error.value;
            }
    
            // Return delta
            return (number1 === number2) ? 1 : 0;
        };
    
        exports.ERF = function(lower_bound, upper_bound) {
        };
    
        exports.ERF.PRECISE = function() {
        };
    
        exports.ERFC = function(x) {
        };
    
        exports.ERFC.PRECISE = function() {
        };
    
        exports.GESTEP = function(number, step) {
            step = step || 0;
            number = utils.parseNumber(number);
            if (utils.anyIsError(step, number)) {
                return number;
            }
    
            // Return delta
            return (number >= step) ? 1 : 0;
        };
    
        exports.HEX2BIN = function(number, places) {
            // Return error if number is not hexadecimal or contains more than ten
            // characters (10 digits)
            if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {
                return error.num;
            }
    
            // Check if number is negative
            var negative = (number.length === 10 && number.substring(0, 1).toLowerCase() === 'f') ? true : false;
    
            // Convert hexadecimal number to decimal
            var decimal = (negative) ? parseInt(number, 16) - 1099511627776 : parseInt(number, 16);
    
            // Return error if number is lower than -512 or greater than 511
            if (decimal < -512 || decimal > 511) {
                return error.num;
            }
    
            // Ignore places and return a 10-character binary number if number is
            // negative
            if (negative) {
                return '1' + REPT('0', 9 - (512 + decimal).toString(2).length) + (512 + decimal).toString(2);
            }
    
            // Convert decimal number to binary
            var result = decimal.toString(2);
    
            // Return binary number using the minimum number of characters necessary
            // if places is undefined
            if (places === undefined) {
                return result;
            } else {
                // Return error if places is nonnumeric
                if (isNaN(places)) {
                  return error.value;
                }
    
                // Return error if places is negative
                if (places < 0) {
                  return error.num;
                }
    
                // Truncate places in case it is not an integer
                places = Math.floor(places);
    
                // Pad return value with leading 0s (zeros) if necessary (using
                // Underscore.string)
                return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;
            }
        };
    
        exports.HEX2DEC = function(number) {
            // Return error if number is not hexadecimal or contains more than ten
            // characters (10 digits)
            if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {
                return error.num;
            }
    
            // Convert hexadecimal number to decimal
            var decimal = parseInt(number, 16);
    
            // Return decimal number
            return (decimal >= 549755813888) ? decimal - 1099511627776 : decimal;
        };
    
        exports.HEX2OCT = function(number, places) {
            // Return error if number is not hexadecimal or contains more than ten
            // characters (10 digits)
            if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {
                return error.num;
            }
    
            // Convert hexadecimal number to decimal
            var decimal = parseInt(number, 16);
    
            // Return error if number is positive and greater than 0x1fffffff
            // (536870911)
            if (decimal > 536870911 && decimal < 1098974756864) {
                return error.num;
            }
    
            // Ignore places and return a 10-character octal number if number is
            // negative
            if (decimal >= 1098974756864) {
                return (decimal - 1098437885952).toString(8);
            }
    
            // Convert decimal number to octal
            var result = decimal.toString(8);
    
            // Return octal number using the minimum number of characters necessary
            // if places is undefined
            if (places === undefined) {
                return result;
            } else {
                // Return error if places is nonnumeric
                if (isNaN(places)) {
                  return error.value;
                }
    
                // Return error if places is negative
                if (places < 0) {
                  return error.num;
                }
    
                // Truncate places in case it is not an integer
                places = Math.floor(places);
    
                // Pad return value with leading 0s (zeros) if necessary (using
                // Underscore.string)
                return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;
            }
        };
    
        exports.IMABS = function(inumber) {
            // Lookup real and imaginary coefficients using exports.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            // Return error if either coefficient is not a number
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Return absolute value of complex number
            return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));
        };
    
        exports.IMAGINARY = function(inumber) {
            if (inumber === undefined || inumber === true || inumber === false) {
                return error.value;
            }
    
            // Return 0 if inumber is equal to 0
            if (inumber === 0 || inumber === '0') {
                return 0;
            }
    
            // Handle special cases
            if (['i', 'j'].indexOf(inumber) >= 0) {
                return 1;
            }
    
            // Normalize imaginary coefficient
            inumber = inumber.replace('+i', '+1i').replace('-i', '-1i').replace('+j', '+1j').replace('-j', '-1j');
    
            // Lookup sign
            var plus = inumber.indexOf('+');
            var minus = inumber.indexOf('-');
            if (plus === 0) {
                plus = inumber.indexOf('+', 1);
            }
    
            if (minus === 0) {
                minus = inumber.indexOf('-', 1);
            }
    
            // Lookup imaginary unit
            var last = inumber.substring(inumber.length - 1, inumber.length);
            var unit = (last === 'i' || last === 'j');
    
            if (plus >= 0 || minus >= 0) {
                // Return error if imaginary unit is neither i nor j
                if (!unit) {
                  return error.num;
                }
    
                // Return imaginary coefficient of complex number
                if (plus >= 0) {
                  return (isNaN(inumber.substring(0, plus)) || isNaN(inumber.substring(plus + 1, inumber.length - 1))) ?
                      error.num :
                      Number(inumber.substring(plus + 1, inumber.length - 1));
                } else {
                  return (isNaN(inumber.substring(0, minus)) || isNaN(inumber.substring(minus + 1, inumber.length - 1))) ?
                      error.num :
                      -Number(inumber.substring(minus + 1, inumber.length - 1));
                }
            } else {
                if (unit) {
                  return (isNaN(inumber.substring(0, inumber.length - 1))) ? error.num : inumber.substring(0, inumber.length - 1);
                } else {
                  return (isNaN(inumber)) ? error.num : 0;
                }
            }
        };
    
        exports.IMARGUMENT = function(inumber) {
            // Lookup real and imaginary coefficients using exports.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            // Return error if either coefficient is not a number
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Return error if inumber is equal to zero
            if (x === 0 && y === 0) {
                return error.div0;
            }
    
            // Return PI/2 if x is equal to zero and y is positive
            if (x === 0 && y > 0) {
                return Math.PI / 2;
            }
    
            // Return -PI/2 if x is equal to zero and y is negative
            if (x === 0 && y < 0) {
                return -Math.PI / 2;
            }
    
            // Return zero if x is negative and y is equal to zero
            if (y === 0 && x > 0) {
                return 0;
            }
    
            // Return zero if x is negative and y is equal to zero
            if (y === 0 && x < 0) {
                return -Math.PI;
            }
    
            // Return argument of complex number
            if (x > 0) {
                return Math.atan(y / x);
            } else if (x < 0 && y >= 0) {
                return Math.atan(y / x) + Math.PI;
            } else {
                return Math.atan(y / x) - Math.PI;
            }
        };
    
        exports.IMCONJUGATE = function(inumber) {
            // Lookup real and imaginary coefficients using exports.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit = inumber.substring(inumber.length - 1);
            unit = (unit === 'i' || unit === 'j') ? unit : 'i';
    
            // Return conjugate of complex number
            return (y !== 0) ? exports.COMPLEX(x, -y, unit) : inumber;
        };
    
        exports.IMCOS = function(inumber) {
            // Lookup real and imaginary coefficients using exports.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit = inumber.substring(inumber.length - 1);
            unit = (unit === 'i' || unit === 'j') ? unit : 'i';
    
            // Return cosine of complex number
            return exports.COMPLEX(Math.cos(x) * (Math.exp(y) + Math.exp(-y)) / 2, -Math.sin(x) * (Math.exp(y) - Math.exp(-y)) / 2, unit);
        };
    
        exports.IMCOSH = function(inumber) {
            // Lookup real and imaginary coefficients using exports.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit = inumber.substring(inumber.length - 1);
            unit = (unit === 'i' || unit === 'j') ? unit : 'i';
    
            // Return hyperbolic cosine of complex number
            return exports.COMPLEX(Math.cos(y) * (Math.exp(x) + Math.exp(-x)) / 2, Math.sin(y) * (Math.exp(x) - Math.exp(-x)) / 2, unit);
        };
    
        exports.IMCOT = function(inumber) {
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Return cotangent of complex number
            return exports.IMDIV(exports.IMCOS(inumber), exports.IMSIN(inumber));
        };
    
        exports.IMDIV = function(inumber1, inumber2) {
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var a = exports.IMREAL(inumber1);
            var b = exports.IMAGINARY(inumber1);
            var c = exports.IMREAL(inumber2);
            var d = exports.IMAGINARY(inumber2);
    
            if (utils.anyIsError(a, b, c, d)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit1 = inumber1.substring(inumber1.length - 1);
            var unit2 = inumber2.substring(inumber2.length - 1);
            var unit = 'i';
            if (unit1 === 'j') {
                unit = 'j';
            } else if (unit2 === 'j') {
                unit = 'j';
            }
    
            // Return error if inumber2 is null
            if (c === 0 && d === 0) {
                return error.num;
            }
    
            // Return exponential of complex number
            var den = c * c + d * d;
            return exports.COMPLEX((a * c + b * d) / den, (b * c - a * d) / den, unit);
        };
    
        exports.IMEXP = function(inumber) {
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit = inumber.substring(inumber.length - 1);
            unit = (unit === 'i' || unit === 'j') ? unit : 'i';
    
            // Return exponential of complex number
            var e = Math.exp(x);
            return exports.COMPLEX(e * Math.cos(y), e * Math.sin(y), unit);
        };
    
        exports.IMLN = function(inumber) {
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit = inumber.substring(inumber.length - 1);
            unit = (unit === 'i' || unit === 'j') ? unit : 'i';
    
            // Return exponential of complex number
            return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)), Math.atan(y / x), unit);
        };
    
        exports.IMLOG10 = function(inumber) {
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit = inumber.substring(inumber.length - 1);
            unit = (unit === 'i' || unit === 'j') ? unit : 'i';
    
            // Return exponential of complex number
            return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)) / Math.log(10), Math.atan(y / x) / Math.log(10), unit);
        };
    
        exports.IMLOG2 = function(inumber) {
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit = inumber.substring(inumber.length - 1);
            unit = (unit === 'i' || unit === 'j') ? unit : 'i';
    
            // Return exponential of complex number
            return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)) / Math.log(2), Math.atan(y / x) / Math.log(2), unit);
        };
    
        exports.IMPOWER = function(inumber, number) {
            number = utils.parseNumber(number);
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
            if (utils.anyIsError(number, x, y)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit = inumber.substring(inumber.length - 1);
            unit = (unit === 'i' || unit === 'j') ? unit : 'i';
    
            // Calculate power of modulus
            var p = Math.pow(exports.IMABS(inumber), number);
    
            // Calculate argument
            var t = exports.IMARGUMENT(inumber);
    
            // Return exponential of complex number
            return exports.COMPLEX(p * Math.cos(number * t), p * Math.sin(number * t), unit);
        };
    
        exports.IMPRODUCT = function() {
            // Initialize result
            var result = arguments[0];
    
            // Loop on all numbers
            for (var i = 1; i < arguments.length; i++) {
                // Lookup coefficients of two complex numbers
                var a = exports.IMREAL(result);
                var b = exports.IMAGINARY(result);
                var c = exports.IMREAL(arguments[i]);
                var d = exports.IMAGINARY(arguments[i]);
    
                if (utils.anyIsError(a, b, c, d)) {
                  return error.value;
                }
    
                // Complute product of two complex numbers
                result = exports.COMPLEX(a * c - b * d, a * d + b * c);
            }
    
            // Return product of complex numbers
            return result;
        };
    
        exports.IMREAL = function(inumber) {
            if (inumber === undefined || inumber === true || inumber === false) {
                return error.value;
            }
    
            // Return 0 if inumber is equal to 0
            if (inumber === 0 || inumber === '0') {
                return 0;
            }
    
            // Handle special cases
            if (['i', '+i', '1i', '+1i', '-i', '-1i', 'j', '+j', '1j', '+1j', '-j', '-1j'].indexOf(inumber) >= 0) {
                return 0;
            }
    
            // Lookup sign
            var plus = inumber.indexOf('+');
            var minus = inumber.indexOf('-');
            if (plus === 0) {
                plus = inumber.indexOf('+', 1);
            }
            if (minus === 0) {
                minus = inumber.indexOf('-', 1);
            }
    
            // Lookup imaginary unit
            var last = inumber.substring(inumber.length - 1, inumber.length);
            var unit = (last === 'i' || last === 'j');
    
            if (plus >= 0 || minus >= 0) {
                // Return error if imaginary unit is neither i nor j
                if (!unit) {
                  return error.num;
                }
    
                // Return real coefficient of complex number
                if (plus >= 0) {
                  return (isNaN(inumber.substring(0, plus)) || isNaN(inumber.substring(plus + 1, inumber.length - 1))) ?
                      error.num :
                      Number(inumber.substring(0, plus));
                } else {
                  return (isNaN(inumber.substring(0, minus)) || isNaN(inumber.substring(minus + 1, inumber.length - 1))) ?
                      error.num :
                      Number(inumber.substring(0, minus));
                }
            } else {
                if (unit) {
                  return (isNaN(inumber.substring(0, inumber.length - 1))) ? error.num : 0;
                } else {
                  return (isNaN(inumber)) ? error.num : inumber;
                }
            }
        };
    
        exports.IMSEC = function(inumber) {
            // Return error if inumber is a logical value
            if (inumber === true || inumber === false) {
                return error.value;
            }
    
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Return secant of complex number
            return exports.IMDIV('1', exports.IMCOS(inumber));
        };
    
        exports.IMSECH = function(inumber) {
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Return hyperbolic secant of complex number
            return exports.IMDIV('1', exports.IMCOSH(inumber));
        };
    
        exports.IMSIN = function(inumber) {
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit = inumber.substring(inumber.length - 1);
            unit = (unit === 'i' || unit === 'j') ? unit : 'i';
    
            // Return sine of complex number
            return exports.COMPLEX(Math.sin(x) * (Math.exp(y) + Math.exp(-y)) / 2, Math.cos(x) * (Math.exp(y) - Math.exp(-y)) / 2, unit);
        };
    
        exports.IMSINH = function(inumber) {
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit = inumber.substring(inumber.length - 1);
            unit = (unit === 'i' || unit === 'j') ? unit : 'i';
    
            // Return hyperbolic sine of complex number
            return exports.COMPLEX(Math.cos(y) * (Math.exp(x) - Math.exp(-x)) / 2, Math.sin(y) * (Math.exp(x) + Math.exp(-x)) / 2, unit);
        };
    
        exports.IMSQRT = function(inumber) {
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit = inumber.substring(inumber.length - 1);
            unit = (unit === 'i' || unit === 'j') ? unit : 'i';
    
            // Calculate power of modulus
            var s = Math.sqrt(exports.IMABS(inumber));
    
            // Calculate argument
            var t = exports.IMARGUMENT(inumber);
    
            // Return exponential of complex number
            return exports.COMPLEX(s * Math.cos(t / 2), s * Math.sin(t / 2), unit);
        };
    
        exports.IMCSC = function (inumber) {
            // Return error if inumber is a logical value
            if (inumber === true || inumber === false) {
                return error.value;
            }
    
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            // Return error if either coefficient is not a number
            if (utils.anyIsError(x, y)) {
                return error.num;
            }
    
            // Return cosecant of complex number
            return exports.IMDIV('1', exports.IMSIN(inumber));
        };
    
        exports.IMCSCH = function (inumber) {
            // Return error if inumber is a logical value
            if (inumber === true || inumber === false) {
                return error.value;
            }
    
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            // Return error if either coefficient is not a number
            if (utils.anyIsError(x, y)) {
                return error.num;
            }
    
            // Return hyperbolic cosecant of complex number
            return exports.IMDIV('1', exports.IMSINH(inumber));
        };
    
        exports.IMSUB = function(inumber1, inumber2) {
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var a = this.IMREAL(inumber1);
            var b = this.IMAGINARY(inumber1);
            var c = this.IMREAL(inumber2);
            var d = this.IMAGINARY(inumber2);
    
            if (utils.anyIsError(a, b, c, d)) {
                return error.value;
            }
    
            // Lookup imaginary unit
            var unit1 = inumber1.substring(inumber1.length - 1);
            var unit2 = inumber2.substring(inumber2.length - 1);
            var unit = 'i';
            if (unit1 === 'j') {
                unit = 'j';
            } else if (unit2 === 'j') {
                unit = 'j';
            }
    
            // Return _ of two complex numbers
            return this.COMPLEX(a - c, b - d, unit);
        };
    
        exports.IMSUM = function() {
            var args = utils.flatten(arguments);
    
            // Initialize result
            var result = args[0];
    
            // Loop on all numbers
            for (var i = 1; i < args.length; i++) {
                // Lookup coefficients of two complex numbers
                var a = this.IMREAL(result);
                var b = this.IMAGINARY(result);
                var c = this.IMREAL(args[i]);
                var d = this.IMAGINARY(args[i]);
    
                if (utils.anyIsError(a, b, c, d)) {
                  return error.value;
                }
    
                // Complute product of two complex numbers
                result = this.COMPLEX(a + c, b + d);
            }
    
            // Return sum of complex numbers
            return result;
        };
    
        exports.IMTAN = function(inumber) {
            // Return error if inumber is a logical value
            if (inumber === true || inumber === false) {
                return error.value;
            }
    
            // Lookup real and imaginary coefficients using Formula.js
            // [http://formulajs.org]
            var x = exports.IMREAL(inumber);
            var y = exports.IMAGINARY(inumber);
    
            if (utils.anyIsError(x, y)) {
                return error.value;
            }
    
            // Return tangent of complex number
            return this.IMDIV(this.IMSIN(inumber), this.IMCOS(inumber));
        };
    
        exports.OCT2BIN = function(number, places) {
            // Return error if number is not hexadecimal or contains more than ten
            // characters (10 digits)
            if (!/^[0-7]{1,10}$/.test(number)) {
                return error.num;
            }
    
            // Check if number is negative
            var negative = (number.length === 10 && number.substring(0, 1) === '7') ? true : false;
    
            // Convert octal number to decimal
            var decimal = (negative) ? parseInt(number, 8) - 1073741824 : parseInt(number, 8);
    
            // Return error if number is lower than -512 or greater than 511
            if (decimal < -512 || decimal > 511) {
                return error.num;
            }
    
            // Ignore places and return a 10-character binary number if number is
            // negative
            if (negative) {
                return '1' + REPT('0', 9 - (512 + decimal).toString(2).length) + (512 + decimal).toString(2);
            }
    
            // Convert decimal number to binary
            var result = decimal.toString(2);
    
            // Return binary number using the minimum number of characters necessary
            // if places is undefined
            if (typeof places === 'undefined') {
                return result;
            } else {
                // Return error if places is nonnumeric
                if (isNaN(places)) {
                  return error.value;
                }
    
                // Return error if places is negative
                if (places < 0) {
                  return error.num;
                }
    
                // Truncate places in case it is not an integer
                places = Math.floor(places);
    
                // Pad return value with leading 0s (zeros) if necessary (using
                // Underscore.string)
                return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;
            }
        };
    
        exports.OCT2DEC = function(number) {
            // Return error if number is not octal or contains more than ten
            // characters (10 digits)
            if (!/^[0-7]{1,10}$/.test(number)) {
                return error.num;
            }
    
            // Convert octal number to decimal
            var decimal = parseInt(number, 8);
    
            // Return decimal number
            return (decimal >= 536870912) ? decimal - 1073741824 : decimal;
        };
    
        exports.OCT2HEX = function(number, places) {
            // Return error if number is not octal or contains more than ten
            // characters (10 digits)
            if (!/^[0-7]{1,10}$/.test(number)) {
                return error.num;
            }
    
            // Convert octal number to decimal
            var decimal = parseInt(number, 8);
    
            // Ignore places and return a 10-character octal number if number is
            // negative
            if (decimal >= 536870912) {
                return 'ff' + (decimal + 3221225472).toString(16);
            }
    
            // Convert decimal number to hexadecimal
            var result = decimal.toString(16);
    
            // Return hexadecimal number using the minimum number of characters
            // necessary if places is undefined
            if (places === undefined) {
                return result;
            } else {
                // Return error if places is nonnumeric
                if (isNaN(places)) {
                  return error.value;
                }
    
                // Return error if places is negative
                if (places < 0) {
                  return error.num;
                }
    
                // Truncate places in case it is not an integer
                places = Math.floor(places);
    
                // Pad return value with leading 0s (zeros) if necessary (using
                // Underscore.string)
                return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;
            }
        };
    
        return exports;
    })();
    
    jexcel.methods.financial = (function() {
        var exports = {};
    
        function validDate(d) {
            return d && d.getTime && !isNaN(d.getTime());
        }
    
        function ensureDate(d) {
            return (d instanceof Date)?d:new Date(d);
        }
    
        exports.ACCRINT = function(issue, first, settlement, rate, par, frequency, basis) {
            // Return error if either date is invalid
            issue        = ensureDate(issue);
            first        = ensureDate(first);
            settlement = ensureDate(settlement);
            if (!validDate(issue) || !validDate(first) || !validDate(settlement)) {
                return '#VALUE!';
            }
    
            // Return error if either rate or par are lower than or equal to zero
            if (rate <= 0 || par <= 0) {
                return '#NUM!';
            }
    
            // Return error if frequency is neither 1, 2, or 4
            if ([1, 2, 4].indexOf(frequency) === -1) {
                return '#NUM!';
            }
    
            // Return error if basis is neither 0, 1, 2, 3, or 4
            if ([0, 1, 2, 3, 4].indexOf(basis) === -1) {
                return '#NUM!';
            }
    
            // Return error if settlement is before or equal to issue
            if (settlement <= issue) {
                return '#NUM!';
            }
    
            // Set default values
            par   = par   || 0;
            basis = basis || 0;
    
            // Compute accrued interest
            return par * rate * YEARFRAC(issue, settlement, basis);
        };
    
        exports.ACCRINTM = null;
    
        exports.AMORDEGRC = null;
    
        exports.AMORLINC = null;
    
        exports.COUPDAYBS = null;
    
        exports.COUPDAYS = null;
    
        exports.COUPDAYSNC = null;
    
        exports.COUPNCD = null;
    
        exports.COUPNUM = null;
    
        exports.COUPPCD = null;
    
        exports.CUMIPMT = function(rate, periods, value, start, end, type) {
            // Credits: algorithm inspired by Apache OpenOffice
            // Credits: Hannes Stiebitzhofer for the translations of function and
                // variable names
            // Requires exports.FV() and exports.PMT() from exports.js
                // [http://stoic.com/exports/]
    
            rate = utils.parseNumber(rate);
            periods = utils.parseNumber(periods);
            value = utils.parseNumber(value);
            if (utils.anyIsError(rate, periods, value)) {
                return error.value;
            }
    
            // Return error if either rate, periods, or value are lower than or
                // equal to zero
            if (rate <= 0 || periods <= 0 || value <= 0) {
                return error.num;
            }
    
            // Return error if start < 1, end < 1, or start > end
            if (start < 1 || end < 1 || start > end) {
                return error.num;
            }
    
            // Return error if type is neither 0 nor 1
            if (type !== 0 && type !== 1) {
                return error.num;
            }
    
            // Compute cumulative interest
            var payment = exports.PMT(rate, periods, value, 0, type);
            var interest = 0;
    
            if (start === 1) {
                if (type === 0) {
                    interest = -value;
                    start++;
                }
            }
    
            for (var i = start; i <= end; i++) {
                if (type === 1) {
                    interest += exports.FV(rate, i - 2, payment, value, 1) - payment;
                } else {
                    interest += exports.FV(rate, i - 1, payment, value, 0);
                }
            }
            interest *= rate;
    
            // Return cumulative interest
            return interest;
        };
    
        exports.CUMPRINC = function(rate, periods, value, start, end, type) {
            // Credits: algorithm inspired by Apache OpenOffice
            // Credits: Hannes Stiebitzhofer for the translations of function and
                // variable names
    
            rate = utils.parseNumber(rate);
            periods = utils.parseNumber(periods);
            value = utils.parseNumber(value);
            if (utils.anyIsError(rate, periods, value)) {
                return error.value;
            }
    
            // Return error if either rate, periods, or value are lower than or
                // equal to zero
            if (rate <= 0 || periods <= 0 || value <= 0) {
                return error.num;
            }
    
            // Return error if start < 1, end < 1, or start > end
            if (start < 1 || end < 1 || start > end) {
                return error.num;
            }
    
            // Return error if type is neither 0 nor 1
            if (type !== 0 && type !== 1) {
                return error.num;
            }
    
            // Compute cumulative principal
            var payment = exports.PMT(rate, periods, value, 0, type);
            var principal = 0;
            if (start === 1) {
                if (type === 0) {
                    principal = payment + value * rate;
                } else {
                    principal = payment;
                }
                start++;
            }
            for (var i = start; i <= end; i++) {
                if (type > 0) {
                    principal += payment - (exports.FV(rate, i - 2, payment, value, 1) - payment) * rate;
                } else {
                    principal += payment - exports.FV(rate, i - 1, payment, value, 0) * rate;
                }
            }
    
            // Return cumulative principal
            return principal;
        };
    
        exports.DB = function(cost, salvage, life, period, month) {
            // Initialize month
            month = (month === undefined) ? 12 : month;
    
            cost = utils.parseNumber(cost);
            salvage = utils.parseNumber(salvage);
            life = utils.parseNumber(life);
            period = utils.parseNumber(period);
            month = utils.parseNumber(month);
            if (utils.anyIsError(cost, salvage, life, period, month)) {
                return error.value;
            }
    
            // Return error if any of the parameters is negative
            if (cost < 0 || salvage < 0 || life < 0 || period < 0) {
                return error.num;
            }
    
            // Return error if month is not an integer between 1 and 12
            if ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].indexOf(month) === -1) {
                return error.num;
            }
    
            // Return error if period is greater than life
            if (period > life) {
                return error.num;
            }
    
            // Return 0 (zero) if salvage is greater than or equal to cost
            if (salvage >= cost) {
                return 0;
            }
    
            // Rate is rounded to three decimals places
            var rate = (1 - Math.pow(salvage / cost, 1 / life)).toFixed(3);
    
            // Compute initial depreciation
            var initial = cost * rate * month / 12;
    
            // Compute total depreciation
            var total = initial;
            var current = 0;
            var ceiling = (period === life) ? life - 1 : period;
            for (var i = 2; i <= ceiling; i++) {
                current = (cost - total) * rate;
                total += current;
            }
    
            // Depreciation for the first and last periods are special cases
            if (period === 1) {
                // First period
                return initial;
            } else if (period === life) {
                // Last period
                return (cost - total) * rate;
            } else {
                return current;
            }
        };
    
        exports.DDB = function(cost, salvage, life, period, factor) {
            // Initialize factor
            factor = (factor === undefined) ? 2 : factor;
    
            cost = utils.parseNumber(cost);
            salvage = utils.parseNumber(salvage);
            life = utils.parseNumber(life);
            period = utils.parseNumber(period);
            factor = utils.parseNumber(factor);
            if (utils.anyIsError(cost, salvage, life, period, factor)) {
                return error.value;
            }
    
            // Return error if any of the parameters is negative or if factor is
                // null
            if (cost < 0 || salvage < 0 || life < 0 || period < 0 || factor <= 0) {
                return error.num;
            }
    
            // Return error if period is greater than life
            if (period > life) {
                return error.num;
            }
    
            // Return 0 (zero) if salvage is greater than or equal to cost
            if (salvage >= cost) {
                return 0;
            }
    
            // Compute depreciation
            var total = 0;
            var current = 0;
            for (var i = 1; i <= period; i++) {
                current = Math.min((cost - total) * (factor / life), (cost - salvage - total));
                total += current;
            }
    
            // Return depreciation
            return current;
        };
    
        exports.DISC = null;
    
        exports.DOLLARDE = function(dollar, fraction) {
            // Credits: algorithm inspired by Apache OpenOffice
    
            dollar = utils.parseNumber(dollar);
            fraction = utils.parseNumber(fraction);
            if (utils.anyIsError(dollar, fraction)) {
                return error.value;
            }
    
            // Return error if fraction is negative
            if (fraction < 0) {
                return error.num;
            }
    
            // Return error if fraction is greater than or equal to 0 and less than
                // 1
            if (fraction >= 0 && fraction < 1) {
                return error.div0;
            }
    
            // Truncate fraction if it is not an integer
            fraction = parseInt(fraction, 10);
    
            // Compute integer part
            var result = parseInt(dollar, 10);
    
            // Add decimal part
            result += (dollar % 1) * Math.pow(10, Math.ceil(Math.log(fraction) / Math.LN10)) / fraction;
    
            // Round result
            var power = Math.pow(10, Math.ceil(Math.log(fraction) / Math.LN2) + 1);
            result = Math.round(result * power) / power;
    
            // Return converted dollar price
            return result;
        };
    
        exports.DOLLARFR = function(dollar, fraction) {
            // Credits: algorithm inspired by Apache OpenOffice
    
            dollar = utils.parseNumber(dollar);
            fraction = utils.parseNumber(fraction);
            if (utils.anyIsError(dollar, fraction)) {
                return error.value;
            }
    
            // Return error if fraction is negative
            if (fraction < 0) {
                return error.num;
            }
    
            // Return error if fraction is greater than or equal to 0 and less than
                // 1
            if (fraction >= 0 && fraction < 1) {
                return error.div0;
            }
    
            // Truncate fraction if it is not an integer
            fraction = parseInt(fraction, 10);
    
            // Compute integer part
            var result = parseInt(dollar, 10);
    
            // Add decimal part
            result += (dollar % 1) * Math.pow(10, -Math.ceil(Math.log(fraction) / Math.LN10)) * fraction;
    
            // Return converted dollar price
            return result;
        };
    
        exports.DURATION = null;
    
        exports.EFFECT = function(rate, periods) {
            rate = utils.parseNumber(rate);
            periods = utils.parseNumber(periods);
            if (utils.anyIsError(rate, periods)) {
                return error.value;
            }
    
            // Return error if rate <=0 or periods < 1
            if (rate <= 0 || periods < 1) {
                return error.num;
            }
    
            // Truncate periods if it is not an integer
            periods = parseInt(periods, 10);
    
            // Return effective annual interest rate
            return Math.pow(1 + rate / periods, periods) - 1;
        };
    
        exports.FV = function(rate, periods, payment, value, type) {
            // Credits: algorithm inspired by Apache OpenOffice
    
            value = value || 0;
            type = type || 0;
    
            rate = utils.parseNumber(rate);
            periods = utils.parseNumber(periods);
            payment = utils.parseNumber(payment);
            value = utils.parseNumber(value);
            type = utils.parseNumber(type);
            if (utils.anyIsError(rate, periods, payment, value, type)) {
                return error.value;
            }
    
            // Return future value
            var result;
            if (rate === 0) {
                result = value + payment * periods;
            } else {
                var term = Math.pow(1 + rate, periods);
                if (type === 1) {
                    result = value * term + payment * (1 + rate) * (term - 1) / rate;
                } else {
                    result = value * term + payment * (term - 1) / rate;
                }
            }
            return -result;
        };
    
        exports.FVSCHEDULE = function(principal, schedule) {
            principal = utils.parseNumber(principal);
            schedule = utils.parseNumberArray(utils.flatten(schedule));
            if (utils.anyIsError(principal, schedule)) {
                return error.value;
            }
    
            var n = schedule.length;
            var future = principal;
    
            // Apply all interests in schedule
            for (var i = 0; i < n; i++) {
                // Apply scheduled interest
                future *= 1 + schedule[i];
            }
    
            // Return future value
            return future;
        };
    
        exports.INTRATE = null;
    
        exports.IPMT = function(rate, period, periods, present, future, type) {
            // Credits: algorithm inspired by Apache OpenOffice
    
            future = future || 0;
            type = type || 0;
    
            rate = utils.parseNumber(rate);
            period = utils.parseNumber(period);
            periods = utils.parseNumber(periods);
            present = utils.parseNumber(present);
            future = utils.parseNumber(future);
            type = utils.parseNumber(type);
            if (utils.anyIsError(rate, period, periods, present, future, type)) {
                return error.value;
            }
    
            // Compute payment
            var payment = exports.PMT(rate, periods, present, future, type);
    
            // Compute interest
            var interest;
            if (period === 1) {
                if (type === 1) {
                    interest = 0;
                } else {
                    interest = -present;
                }
            } else {
                if (type === 1) {
                    interest = exports.FV(rate, period - 2, payment, present, 1) - payment;
                } else {
                    interest = exports.FV(rate, period - 1, payment, present, 0);
                }
            }
    
            // Return interest
            return interest * rate;
        };
    
        exports.IRR = function(values, guess) {
            // Credits: algorithm inspired by Apache OpenOffice
    
            guess = guess || 0;
    
            values = utils.parseNumberArray(utils.flatten(values));
            guess = utils.parseNumber(guess);
            if (utils.anyIsError(values, guess)) {
                return error.value;
            }
    
            // Calculates the resulting amount
            var irrResult = function(values, dates, rate) {
                var r = rate + 1;
                var result = values[0];
                for (var i = 1; i < values.length; i++) {
                    result += values[i] / Math.pow(r, (dates[i] - dates[0]) / 365);
                }
                return result;
            };
    
            // Calculates the first derivation
            var irrResultDeriv = function(values, dates, rate) {
                var r = rate + 1;
                var result = 0;
                for (var i = 1; i < values.length; i++) {
                    var frac = (dates[i] - dates[0]) / 365;
                    result -= frac * values[i] / Math.pow(r, frac + 1);
                }
                return result;
            };
    
            // Initialize dates and check that values contains at least one positive
                // value and one negative value
            var dates = [];
            var positive = false;
            var negative = false;
            for (var i = 0; i < values.length; i++) {
                dates[i] = (i === 0) ? 0 : dates[i - 1] + 365;
                if (values[i] > 0) {
                    positive = true;
                }
                if (values[i] < 0) {
                    negative = true;
                }
            }
    
            // Return error if values does not contain at least one positive value
                // and one negative value
            if (!positive || !negative) {
                return error.num;
            }
    
            // Initialize guess and resultRate
            guess = (guess === undefined) ? 0.1 : guess;
            var resultRate = guess;
    
            // Set maximum epsilon for end of iteration
            var epsMax = 1e-10;
    
            // Implement Newton's method
            var newRate, epsRate, resultValue;
            var contLoop = true;
            do {
                resultValue = irrResult(values, dates, resultRate);
                newRate = resultRate - resultValue / irrResultDeriv(values, dates, resultRate);
                epsRate = Math.abs(newRate - resultRate);
                resultRate = newRate;
                contLoop = (epsRate > epsMax) && (Math.abs(resultValue) > epsMax);
            } while (contLoop);
    
            // Return internal rate of return
            return resultRate;
        };
    
        exports.ISPMT = function(rate, period, periods, value) {
            rate = utils.parseNumber(rate);
            period = utils.parseNumber(period);
            periods = utils.parseNumber(periods);
            value = utils.parseNumber(value);
            if (utils.anyIsError(rate, period, periods, value)) {
                return error.value;
            }
    
            // Return interest
            return value * rate * (period / periods - 1);
        };
    
        exports.MDURATION = null;
    
        exports.MIRR = function(values, finance_rate, reinvest_rate) {
            values = utils.parseNumberArray(utils.flatten(values));
            finance_rate = utils.parseNumber(finance_rate);
            reinvest_rate = utils.parseNumber(reinvest_rate);
            if (utils.anyIsError(values, finance_rate, reinvest_rate)) {
                return error.value;
            }
    
            // Initialize number of values
            var n = values.length;
    
            // Lookup payments (negative values) and incomes (positive values)
            var payments = [];
            var incomes = [];
            for (var i = 0; i < n; i++) {
                if (values[i] < 0) {
                    payments.push(values[i]);
                } else {
                    incomes.push(values[i]);
                }
            }
    
            // Return modified internal rate of return
            var num = -exports.NPV(reinvest_rate, incomes) * Math.pow(1 + reinvest_rate, n - 1);
            var den = exports.NPV(finance_rate, payments) * (1 + finance_rate);
            return Math.pow(num / den, 1 / (n - 1)) - 1;
        };
    
        exports.NOMINAL = function(rate, periods) {
            rate = utils.parseNumber(rate);
            periods = utils.parseNumber(periods);
            if (utils.anyIsError(rate, periods)) {
                return error.value;
            }
    
            // Return error if rate <=0 or periods < 1
            if (rate <= 0 || periods < 1) {
                return error.num;
            }
    
            // Truncate periods if it is not an integer
            periods = parseInt(periods, 10);
    
            // Return nominal annual interest rate
            return (Math.pow(rate + 1, 1 / periods) - 1) * periods;
        };
    
        exports.NPER = function(rate, payment, present, future, type) {
            type = (type === undefined) ? 0 : type;
            future = (future === undefined) ? 0 : future;
    
            rate = utils.parseNumber(rate);
            payment = utils.parseNumber(payment);
            present = utils.parseNumber(present);
            future = utils.parseNumber(future);
            type = utils.parseNumber(type);
            if (utils.anyIsError(rate, payment, present, future, type)) {
                return error.value;
            }
    
            // Return number of periods
            var num = payment * (1 + rate * type) - future * rate;
            var den = (present * rate + payment * (1 + rate * type));
            return Math.log(num / den) / Math.log(1 + rate);
        };
    
        exports.NPV = function() {
            var args = utils.parseNumberArray(utils.flatten(arguments));
            if (args instanceof Error) {
                return args;
            }
    
            // Lookup rate
            var rate = args[0];
    
            // Initialize net present value
            var value = 0;
    
            // Loop on all values
            for (var j = 1; j < args.length; j++) {
                value += args[j] / Math.pow(1 + rate, j);
            }
    
            // Return net present value
            return value;
        };
    
        exports.ODDFPRICE = null;
    
        exports.ODDFYIELD = null;
    
        exports.ODDLPRICE = null;
    
        exports.ODDLYIELD = null;
    
        exports.PDURATION = function(rate, present, future) {
            rate = utils.parseNumber(rate);
            present = utils.parseNumber(present);
            future = utils.parseNumber(future);
            if (utils.anyIsError(rate, present, future)) {
                return error.value;
            }
    
            // Return error if rate <=0
            if (rate <= 0) {
                return error.num;
            }
    
            // Return number of periods
            return (Math.log(future) - Math.log(present)) / Math.log(1 + rate);
        };
    
        exports.PMT = function(rate, periods, present, future, type) {
            // Credits: algorithm inspired by Apache OpenOffice
    
            future = future || 0;
            type = type || 0;
    
            rate = utils.parseNumber(rate);
            periods = utils.parseNumber(periods);
            present = utils.parseNumber(present);
            future = utils.parseNumber(future);
            type = utils.parseNumber(type);
            if (utils.anyIsError(rate, periods, present, future, type)) {
                return error.value;
            }
    
            // Return payment
            var result;
            if (rate === 0) {
                result = (present + future) / periods;
            } else {
                var term = Math.pow(1 + rate, periods);
                if (type === 1) {
                    result = (future * rate / (term - 1) + present * rate / (1 - 1 / term)) / (1 + rate);
                } else {
                    result = future * rate / (term - 1) + present * rate / (1 - 1 / term);
                }
            }
            return -result;
        };
    
        exports.PPMT = function(rate, period, periods, present, future, type) {
            future = future || 0;
            type = type || 0;
    
            rate = utils.parseNumber(rate);
            periods = utils.parseNumber(periods);
            present = utils.parseNumber(present);
            future = utils.parseNumber(future);
            type = utils.parseNumber(type);
            if (utils.anyIsError(rate, periods, present, future, type)) {
                return error.value;
            }
    
            return exports.PMT(rate, periods, present, future, type) - exports.IPMT(rate, period, periods, present, future, type);
        };
    
        exports.PRICE = null;
    
        exports.PRICEDISC = null;
    
        exports.PRICEMAT = null;
    
        exports.PV = function(rate, periods, payment, future, type) {
            future = future || 0;
            type = type || 0;
    
            rate = utils.parseNumber(rate);
            periods = utils.parseNumber(periods);
            payment = utils.parseNumber(payment);
            future = utils.parseNumber(future);
            type = utils.parseNumber(type);
            if (utils.anyIsError(rate, periods, payment, future, type)) {
                return error.value;
            }
    
            // Return present value
            if (rate === 0) {
                return -payment * periods - future;
            } else {
                return (((1 - Math.pow(1 + rate, periods)) / rate) * payment * (1 + rate * type) - future) / Math.pow(1 + rate, periods);
            }
        };
    
        exports.RATE = function(periods, payment, present, future, type, guess) {
            // Credits: rabugento
    
            guess = (guess === undefined) ? 0.01 : guess;
            future = (future === undefined) ? 0 : future;
            type = (type === undefined) ? 0 : type;
    
            periods = utils.parseNumber(periods);
            payment = utils.parseNumber(payment);
            present = utils.parseNumber(present);
            future = utils.parseNumber(future);
            type = utils.parseNumber(type);
            guess = utils.parseNumber(guess);
            if (utils.anyIsError(periods, payment, present, future, type, guess)) {
                return error.value;
            }
    
            // Set maximum epsilon for end of iteration
            var epsMax = 1e-6;
    
            // Set maximum number of iterations
            var iterMax = 100;
            var iter = 0;
            var close = false;
            var rate = guess;
    
            while (iter < iterMax && !close) {
                var t1 = Math.pow(rate + 1, periods);
                var t2 = Math.pow(rate + 1, periods - 1);
    
                var f1 = future + t1 * present + payment * (t1 - 1) * (rate * type + 1) / rate;
                var f2 = periods * t2 * present - payment * (t1 - 1) *(rate * type + 1) / Math.pow(rate,2);
                var f3 = periods * payment * t2 * (rate * type + 1) / rate + payment * (t1 - 1) * type / rate;
    
                var newRate = rate - f1 / (f2 + f3);
    
                if (Math.abs(newRate - rate) < epsMax) close = true;
                iter++
                rate = newRate;
            }
    
            if (!close) return Number.NaN + rate;
            return rate;
        };
    
        // TODO
        exports.RECEIVED = null;
    
        exports.RRI = function(periods, present, future) {
            periods = utils.parseNumber(periods);
            present = utils.parseNumber(present);
            future = utils.parseNumber(future);
            if (utils.anyIsError(periods, present, future)) {
                return error.value;
            }
    
            // Return error if periods or present is equal to 0 (zero)
            if (periods === 0 || present === 0) {
                return error.num;
            }
    
            // Return equivalent interest rate
            return Math.pow(future / present, 1 / periods) - 1;
        };
    
        exports.SLN = function(cost, salvage, life) {
            cost = utils.parseNumber(cost);
            salvage = utils.parseNumber(salvage);
            life = utils.parseNumber(life);
            if (utils.anyIsError(cost, salvage, life)) {
                return error.value;
            }
    
            // Return error if life equal to 0 (zero)
            if (life === 0) {
                return error.num;
            }
    
            // Return straight-line depreciation
            return (cost - salvage) / life;
        };
    
        exports.SYD = function(cost, salvage, life, period) {
            // Return error if any of the parameters is not a number
            cost = utils.parseNumber(cost);
            salvage = utils.parseNumber(salvage);
            life = utils.parseNumber(life);
            period = utils.parseNumber(period);
            if (utils.anyIsError(cost, salvage, life, period)) {
                return error.value;
            }
    
            // Return error if life equal to 0 (zero)
            if (life === 0) {
                return error.num;
            }
    
            // Return error if period is lower than 1 or greater than life
            if (period < 1 || period > life) {
                return error.num;
            }
    
            // Truncate period if it is not an integer
            period = parseInt(period, 10);
    
            // Return straight-line depreciation
            return ((cost - salvage) * (life - period + 1) * 2) / (life * (life + 1));
        };
    
        exports.TBILLEQ = function(settlement, maturity, discount) {
            settlement = utils.parseDate(settlement);
            maturity = utils.parseDate(maturity);
            discount = utils.parseNumber(discount);
            if (utils.anyIsError(settlement, maturity, discount)) {
                return error.value;
            }
    
            // Return error if discount is lower than or equal to zero
            if (discount <= 0) {
                return error.num;
            }
    
            // Return error if settlement is greater than maturity
            if (settlement > maturity) {
                return error.num;
            }
    
            // Return error if maturity is more than one year after settlement
            if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {
                return error.num;
            }
    
            // Return bond-equivalent yield
            return (365 * discount) / (360 - discount * DAYS360(settlement, maturity, false));
        };
    
        exports.TBILLPRICE = function(settlement, maturity, discount) {
            settlement = utils.parseDate(settlement);
            maturity = utils.parseDate(maturity);
            discount = utils.parseNumber(discount);
            if (utils.anyIsError(settlement, maturity, discount)) {
                return error.value;
            }
    
            // Return error if discount is lower than or equal to zero
            if (discount <= 0) {
                return error.num;
            }
    
            // Return error if settlement is greater than maturity
            if (settlement > maturity) {
                return error.num;
            }
    
            // Return error if maturity is more than one year after settlement
            if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {
                return error.num;
            }
    
            // Return bond-equivalent yield
            return 100 * (1 - discount * DAYS360(settlement, maturity, false) / 360);
        };
    
        exports.TBILLYIELD = function(settlement, maturity, price) {
            settlement = utils.parseDate(settlement);
            maturity = utils.parseDate(maturity);
            price = utils.parseNumber(price);
            if (utils.anyIsError(settlement, maturity, price)) {
                return error.value;
            }
    
            // Return error if price is lower than or equal to zero
            if (price <= 0) {
                return error.num;
            }
    
            // Return error if settlement is greater than maturity
            if (settlement > maturity) {
                return error.num;
            }
    
            // Return error if maturity is more than one year after settlement
            if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {
                return error.num;
            }
    
            // Return bond-equivalent yield
            return (100 - price) * 360 / (price * DAYS360(settlement, maturity, false));
        };
    
        exports.VDB = null;
    
        exports.XIRR = function(values, dates, guess) {
            // Credits: algorithm inspired by Apache OpenOffice
    
            values = utils.parseNumberArray(utils.flatten(values));
            dates = utils.parseDateArray(utils.flatten(dates));
            guess = utils.parseNumber(guess);
            if (utils.anyIsError(values, dates, guess)) {
                return error.value;
            }
    
            // Calculates the resulting amount
            var irrResult = function(values, dates, rate) {
                var r = rate + 1;
                var result = values[0];
                for (var i = 1; i < values.length; i++) {
                    result += values[i] / Math.pow(r, DAYS(dates[i], dates[0]) / 365);
                }
                return result;
            };
    
            // Calculates the first derivation
            var irrResultDeriv = function(values, dates, rate) {
                var r = rate + 1;
                var result = 0;
                for (var i = 1; i < values.length; i++) {
                    var frac = DAYS(dates[i], dates[0]) / 365;
                    result -= frac * values[i] / Math.pow(r, frac + 1);
                }
                return result;
            };
    
            // Check that values contains at least one positive value and one
                // negative value
            var positive = false;
            var negative = false;
            for (var i = 0; i < values.length; i++) {
                if (values[i] > 0) {
                    positive = true;
                }
                if (values[i] < 0) {
                    negative = true;
                }
            }
    
            // Return error if values does not contain at least one positive value
                // and one negative value
            if (!positive || !negative) {
                return error.num;
            }
    
            // Initialize guess and resultRate
            guess = guess || 0.1;
            var resultRate = guess;
    
            // Set maximum epsilon for end of iteration
            var epsMax = 1e-10;
    
            // Implement Newton's method
            var newRate, epsRate, resultValue;
            var contLoop = true;
            do {
                resultValue = irrResult(values, dates, resultRate);
                newRate = resultRate - resultValue / irrResultDeriv(values, dates, resultRate);
                epsRate = Math.abs(newRate - resultRate);
                resultRate = newRate;
                contLoop = (epsRate > epsMax) && (Math.abs(resultValue) > epsMax);
            } while (contLoop);
    
            // Return internal rate of return
            return resultRate;
        };
    
        exports.XNPV = function(rate, values, dates) {
            rate = utils.parseNumber(rate);
            values = utils.parseNumberArray(utils.flatten(values));
            dates = utils.parseDateArray(utils.flatten(dates));
            if (utils.anyIsError(rate, values, dates)) {
                return error.value;
            }
    
            var result = 0;
            for (var i = 0; i < values.length; i++) {
                result += values[i] / Math.pow(1 + rate, DAYS(dates[i], dates[0]) / 365);
            }
            return result;
        };
    
        exports.YIELD = null;
    
        exports.YIELDDISC = null;
    
        exports.YIELDMAT = null;
    
        return exports;
    })();
    
    jexcel.methods.information = (function() {
        var exports = {};
        exports.CELL = null;
    
        exports.ERROR = {};
        exports.ERROR.TYPE = function(error_val) {
            switch (error_val) {
                case error.nil: return 1;
                case error.div0: return 2;
                case error.value: return 3;
                case error.ref: return 4;
                case error.name: return 5;
                case error.num: return 6;
                case error.na: return 7;
                case error.data: return 8;
            }
            return error.na;
        };
    
        exports.INFO = null;
    
        exports.ISBLANK = function(value) {
            return value === null;
        };
    
        exports.ISBINARY = function (number) {
            return (/^[01]{1,10}$/).test(number);
        };
    
        exports.ISERR = function(value) {
            return ([error.value, error.ref, error.div0, error.num, error.name, error.nil]).indexOf(value) >= 0 ||
                (typeof value === 'number' && (isNaN(value) || !isFinite(value)));
        };
    
        exports.ISERROR = function(value) {
            return exports.ISERR(value) || value === error.na;
        };
    
        exports.ISEVEN = function(number) {
            return (Math.floor(Math.abs(number)) & 1) ? false : true;
        };
    
        // TODO
        exports.ISFORMULA = null;
    
        exports.ISLOGICAL = function(value) {
            return value === true || value === false;
        };
    
        exports.ISNA = function(value) {
            return value === error.na;
        };
    
        exports.ISNONTEXT = function(value) {
            return typeof(value) !== 'string';
        };
    
        exports.ISNUMBER = function(value) {
            return typeof(value) === 'number' && !isNaN(value) && isFinite(value);
        };
    
        exports.ISODD = function(number) {
            return (Math.floor(Math.abs(number)) & 1) ? true : false;
        };
    
        exports.ISREF = null;
    
        exports.ISTEXT = function(value) {
            return typeof(value) === 'string';
        };
    
        exports.N = function(value) {
            if (this.ISNUMBER(value)) {
                return value;
            }
            if (value instanceof Date) {
                return value.getTime();
            }
            if (value === true) {
                return 1;
            }
            if (value === false) {
                return 0;
            }
            if (this.ISERROR(value)) {
                return value;
            }
            return 0;
        };
    
        exports.NA = function() {
            return error.na;
        };
    
        exports.SHEET = null;
    
        exports.SHEETS = null;
    
        exports.TYPE = function(value) {
            if (this.ISNUMBER(value)) {
                return 1;
            }
            if (this.ISTEXT(value)) {
                return 2;
            }
            if (this.ISLOGICAL(value)) {
                return 4;
            }
            if (this.ISERROR(value)) {
                return 16;
            }
            if (Array.isArray(value)) {
                return 64;
            }
        };
    
        return exports;
    })();
    
    jexcel.methods.logical = (function() {
        var exports = {};
    
        exports.AND = function() {
            var args = utils.flatten(arguments);
            var result = true;
            for (var i = 0; i < args.length; i++) {
                if (!args[i]) {
                    result = false;
                }
            }
            return result;
        };
    
        exports.CHOOSE = function() {
            if (arguments.length < 2) {
                return error.na;
            }
    
            var index = arguments[0];
            if (index < 1 || index > 254) {
                return error.value;
            }
    
            if (arguments.length < index + 1) {
                return error.value;
            }
    
            return arguments[index];
        };
    
        exports.FALSE = function() {
            return false;
        };
    
        exports.IF = function(test, then_value, otherwise_value) {
            return test ? then_value : otherwise_value;
        };
    
        exports.IFERROR = function(value, valueIfError) {
            if (ISERROR(value)) {
                return valueIfError;
            }
            return value;
        };
    
        exports.IFNA = function(value, value_if_na) {
            return value === error.na ? value_if_na : value;
        };
    
        exports.NOT = function(logical) {
            return !logical;
        };
    
        exports.OR = function() {
            var args = utils.flatten(arguments);
            var result = false;
            for (var i = 0; i < args.length; i++) {
                if (args[i]) {
                    result = true;
                }
            }
            return result;
        };
    
        exports.TRUE = function() {
            return true;
        };
    
        exports.XOR = function() {
            var args = utils.flatten(arguments);
            var result = 0;
            for (var i = 0; i < args.length; i++) {
                if (args[i]) {
                    result++;
                }
            }
            return (Math.floor(Math.abs(result)) & 1) ? true : false;
        };
    
        exports.SWITCH = function() {
            var result;
            if (arguments.length > 0)  {
                var targetValue = arguments[0];
                var argc = arguments.length - 1;
                var switchCount = Math.floor(argc / 2);
                var switchSatisfied = false;
                var defaultClause = argc % 2 === 0 ? null : arguments[arguments.length - 1];
    
                if (switchCount) {
                    for (var index = 0; index < switchCount; index++) {
                        if (targetValue === arguments[index * 2 + 1]) {
                          result = arguments[index * 2 + 2];
                          switchSatisfied = true;
                          break;
                        }
                    }
                }
    
                if (!switchSatisfied && defaultClause) {
                    result = defaultClause;
                }
            }
    
            return result;
        };
    
        return exports;
    })();
    
    jexcel.methods.math = (function() {
        var exports = {};
    
        exports.ABS = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.abs(utils.parseNumber(number));
        };
    
        exports.ACOS = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.acos(number);
        };
    
        exports.ACOSH = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.log(number + Math.sqrt(number * number - 1));
        };
    
        exports.ACOT = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.atan(1 / number);
        };
    
        exports.ACOTH = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return 0.5 * Math.log((number + 1) / (number - 1));
        };
    
        exports.AGGREGATE = null
    
        exports.ARABIC = function(text) {
            // Credits: Rafa? Kukawski
            if (!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(text)) {
                return error.value;
            }
            var r = 0;
            text.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g, function(i) {
                r += {
                    M: 1000,
                    CM: 900,
                    D: 500,
                    CD: 400,
                    C: 100,
                    XC: 90,
                    L: 50,
                    XL: 40,
                    X: 10,
                    IX: 9,
                    V: 5,
                    IV: 4,
                    I: 1
                }[i];
            });
            return r;
        };
    
        exports.ASIN = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.asin(number);
        };
    
        exports.ASINH = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.log(number + Math.sqrt(number * number + 1));
        };
    
        exports.ATAN = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.atan(number);
        };
    
        exports.ATAN2 = function(number_x, number_y) {
            number_x = utils.parseNumber(number_x);
            number_y = utils.parseNumber(number_y);
            if (utils.anyIsError(number_x, number_y)) {
                return error.value;
            }
            return Math.atan2(number_x, number_y);
        };
    
        exports.ATANH = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.log((1 + number) / (1 - number)) / 2;
        };
    
        exports.BASE = function(number, radix, min_length) {
            min_length = min_length || 0;
    
            number = utils.parseNumber(number);
            radix = utils.parseNumber(radix);
            min_length = utils.parseNumber(min_length);
            if (utils.anyIsError(number, radix, min_length)) {
                return error.value;
            }
            min_length = (min_length === undefined) ? 0 : min_length;
            var result = number.toString(radix);
            return new Array(Math.max(min_length + 1 - result.length, 0)).join('0') + result;
        };
    
        exports.CEILING = function(number, significance, mode) {
            significance = (significance === undefined) ? 1 : significance;
            mode = (mode === undefined) ? 0 : mode;
    
            number = utils.parseNumber(number);
            significance = utils.parseNumber(significance);
            mode = utils.parseNumber(mode);
            if (utils.anyIsError(number, significance, mode)) {
                return error.value;
            }
            if (significance === 0) {
                return 0;
            }
    
            significance = Math.abs(significance);
            if (number >= 0) {
                return Math.ceil(number / significance) * significance;
            } else {
                if (mode === 0) {
                    return -1 * Math.floor(Math.abs(number) / significance) * significance;
                } else {
                    return -1 * Math.ceil(Math.abs(number) / significance) * significance;
                }
            }
        };
    
        exports.CEILING.MATH = exports.CEILING;
    
        exports.CEILING.PRECISE = exports.CEILING;
    
        exports.COMBIN = function(number, number_chosen) {
            number = utils.parseNumber(number);
            number_chosen = utils.parseNumber(number_chosen);
            if (utils.anyIsError(number, number_chosen)) {
                return error.value;
            }
            return exports.FACT(number) / (exports.FACT(number_chosen) * exports.FACT(number - number_chosen));
        };
    
        exports.COMBINA = function(number, number_chosen) {
            number = utils.parseNumber(number);
            number_chosen = utils.parseNumber(number_chosen);
            if (utils.anyIsError(number, number_chosen)) {
                return error.value;
            }
            return (number === 0 && number_chosen === 0) ? 1 : exports.COMBIN(number + number_chosen - 1, number - 1);
        };
    
        exports.COS = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.cos(number);
        };
    
        exports.COSH = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return (Math.exp(number) + Math.exp(-number)) / 2;
        };
    
        exports.COT = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return 1 / Math.tan(number);
        };
    
        exports.COTH = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            var e2 = Math.exp(2 * number);
            return (e2 + 1) / (e2 - 1);
        };
    
        exports.CSC = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return 1 / Math.sin(number);
        };
    
        exports.CSCH = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return 2 / (Math.exp(number) - Math.exp(-number));
        };
    
        exports.DECIMAL = function(number, radix) {
            if (arguments.length < 1) {
                return error.value;
            }
    
    
            return parseInt(number, radix);
        };
    
        exports.DEGREES = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return number * 180 / Math.PI;
        };
    
        exports.EVEN = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return exports.CEILING(number, -2, -1);
        };
    
        exports.EXP = Math.exp;
    
        var MEMOIZED_FACT = [];
        exports.FACT = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            var n = Math.floor(number);
            if (n === 0 || n === 1) {
                return 1;
            } else if (MEMOIZED_FACT[n] > 0) {
                return MEMOIZED_FACT[n];
            } else {
                MEMOIZED_FACT[n] = exports.FACT(n - 1) * n;
                return MEMOIZED_FACT[n];
            }
        };
    
        exports.FACTDOUBLE = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            var n = Math.floor(number);
            if (n <= 0) {
                return 1;
            } else {
                return n * exports.FACTDOUBLE(n - 2);
            }
        };
    
        exports.FLOOR = function(number, significance, mode) {
            significance = (significance === undefined) ? 1 : significance;
            mode = (mode === undefined) ? 0 : mode;
    
            number = utils.parseNumber(number);
            significance = utils.parseNumber(significance);
            mode = utils.parseNumber(mode);
            if (utils.anyIsError(number, significance, mode)) {
                return error.value;
            }
            if (significance === 0) {
                return 0;
            }
    
            significance = Math.abs(significance);
            if (number >= 0) {
                return Math.floor(number / significance) * significance;
            } else {
                if (mode === 0) {
                    return -1 * Math.ceil(Math.abs(number) / significance) * significance;
                } else {
                    return -1 * Math.floor(Math.abs(number) / significance) * significance;
                }
            }
        };
    
        exports.FLOOR.MATH = exports.FLOOR;
    
        exports.GCD = null;
    
        exports.INT = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.floor(number);
        };
    
        exports.LCM = function() {
            // Credits: Jonas Raoni Soares Silva
            var o = utils.parseNumberArray(utils.flatten(arguments));
            if (o instanceof Error) {
                return o;
            }
            for (var i, j, n, d, r = 1;
                (n = o.pop()) !== undefined;) {
                while (n > 1) {
                    if (n % 2) {
                        for (i = 3, j = Math.floor(Math.sqrt(n)); i <= j && n % i; i += 2) {
                          //empty
                        }
                        d = (i <= j) ? i : n;
                    } else {
                        d = 2;
                    }
                    for (n /= d, r *= d, i = o.length; i;
                        (o[--i] % d) === 0 && (o[i] /= d) === 1 && o.splice(i, 1)) {
                        //empty
                    }
                }
            }
            return r;
        };
    
        exports.LN = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.log(number);
        };
    
        exports.LOG = function(number, base) {
            number = utils.parseNumber(number);
            base = (base === undefined) ? 10 : utils.parseNumber(base);
    
            if (utils.anyIsError(number, base)) {
                return error.value;
            }
    
            return Math.log(number) / Math.log(base);
        };
    
        exports.LOG10 = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.log(number) / Math.log(10);
        };
    
        exports.MDETERM = null;
    
        exports.MINVERSE = null;
    
        exports.MMULT = null;
    
        exports.MOD = function(dividend, divisor) {
            dividend = utils.parseNumber(dividend);
            divisor = utils.parseNumber(divisor);
            if (utils.anyIsError(dividend, divisor)) {
                return error.value;
            }
            if (divisor === 0) {
                return error.div0;
            }
            var modulus = Math.abs(dividend % divisor);
            return (divisor > 0) ? modulus : -modulus;
        };
    
        exports.MROUND = function(number, multiple) {
            number = utils.parseNumber(number);
            multiple = utils.parseNumber(multiple);
            if (utils.anyIsError(number, multiple)) {
                return error.value;
            }
            if (number * multiple < 0) {
                return error.num;
            }
    
            return Math.round(number / multiple) * multiple;
        };
    
        exports.MULTINOMIAL = function() {
            var args = utils.parseNumberArray(utils.flatten(arguments));
            if (args instanceof Error) {
                return args;
            }
            var sum = 0;
            var divisor = 1;
            for (var i = 0; i < args.length; i++) {
                sum += args[i];
                divisor *= exports.FACT(args[i]);
            }
            return exports.FACT(sum) / divisor;
        };
    
        exports.MUNIT = null;
    
        exports.ODD = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            var temp = Math.ceil(Math.abs(number));
            temp = (temp & 1) ? temp : temp + 1;
            return (number > 0) ? temp : -temp;
        };
    
        exports.PI = function() {
            return Math.PI;
        };
    
        exports.POWER = function(number, power) {
            number = utils.parseNumber(number);
            power = utils.parseNumber(power);
            if (utils.anyIsError(number, power)) {
                return error.value;
            }
            var result = Math.pow(number, power);
            if (isNaN(result)) {
                return error.num;
            }
    
            return result;
        };
    
        exports.PRODUCT = function() {
            var args = utils.parseNumberArray(utils.flatten(arguments));
            if (args instanceof Error) {
                return args;
            }
            var result = 1;
            for (var i = 0; i < args.length; i++) {
                result *= args[i];
            }
            return result;
        };
    
        exports.QUOTIENT = function(numerator, denominator) {
            numerator = utils.parseNumber(numerator);
            denominator = utils.parseNumber(denominator);
            if (utils.anyIsError(numerator, denominator)) {
                return error.value;
            }
            return parseInt(numerator / denominator, 10);
        };
    
        exports.RADIANS = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return number * Math.PI / 180;
        };
    
        exports.RAND = function() {
            return Math.random();
        };
    
        exports.RANDBETWEEN = function(bottom, top) {
            bottom = utils.parseNumber(bottom);
            top = utils.parseNumber(top);
            if (utils.anyIsError(bottom, top)) {
                return error.value;
            }
            // Creative Commons Attribution 3.0 License
            // Copyright (c) 2012 eqcode
            return bottom + Math.ceil((top - bottom + 1) * Math.random()) - 1;
        };
    
        exports.ROMAN = null;
    
        exports.ROUND = function(number, digits) {
            number = utils.parseNumber(number);
            digits = utils.parseNumber(digits);
            if (utils.anyIsError(number, digits)) {
                return error.value;
            }
            return Math.round(number * Math.pow(10, digits)) / Math.pow(10, digits);
        };
    
        exports.ROUNDDOWN = function(number, digits) {
            number = utils.parseNumber(number);
            digits = utils.parseNumber(digits);
            if (utils.anyIsError(number, digits)) {
                return error.value;
            }
            var sign = (number > 0) ? 1 : -1;
            return sign * (Math.floor(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);
        };
    
        exports.ROUNDUP = function(number, digits) {
            number = utils.parseNumber(number);
            digits = utils.parseNumber(digits);
            if (utils.anyIsError(number, digits)) {
                return error.value;
            }
            var sign = (number > 0) ? 1 : -1;
            return sign * (Math.ceil(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);
        };
    
        exports.SEC = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return 1 / Math.cos(number);
        };
    
        exports.SECH = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return 2 / (Math.exp(number) + Math.exp(-number));
        };
    
        exports.SERIESSUM = function(x, n, m, coefficients) {
            x = utils.parseNumber(x);
            n = utils.parseNumber(n);
            m = utils.parseNumber(m);
            coefficients = utils.parseNumberArray(coefficients);
            if (utils.anyIsError(x, n, m, coefficients)) {
                return error.value;
            }
            var result = coefficients[0] * Math.pow(x, n);
            for (var i = 1; i < coefficients.length; i++) {
                result += coefficients[i] * Math.pow(x, n + i * m);
            }
            return result;
        };
    
        exports.SIGN = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            if (number < 0) {
                return -1;
            } else if (number === 0) {
                return 0;
            } else {
                return 1;
            }
        };
    
        exports.SIN = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.sin(number);
        };
    
        exports.SINH = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return (Math.exp(number) - Math.exp(-number)) / 2;
        };
    
        exports.SQRT = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            if (number < 0) {
                return error.num;
            }
            return Math.sqrt(number);
        };
    
        exports.SQRTPI = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.sqrt(number * Math.PI);
        };
    
        exports.SUBTOTAL = null;
    
        exports.ADD = function (num1, num2) {
            if (arguments.length !== 2) {
                return error.na;
            }
    
            num1 = utils.parseNumber(num1);
            num2 = utils.parseNumber(num2);
            if (utils.anyIsError(num1, num2)) {
                return error.value;
            }
    
            return num1 + num2;
        };
    
        exports.MINUS = function (num1, num2) {
            if (arguments.length !== 2) {
                return error.na;
            }
    
            num1 = utils.parseNumber(num1);
            num2 = utils.parseNumber(num2);
            if (utils.anyIsError(num1, num2)) {
                return error.value;
            }
    
            return num1 - num2;
        };
    
        exports.DIVIDE = function (dividend, divisor) {
            if (arguments.length !== 2) {
                return error.na;
            }
    
            dividend = utils.parseNumber(dividend);
            divisor = utils.parseNumber(divisor);
            if (utils.anyIsError(dividend, divisor)) {
                return error.value;
            }
    
            if (divisor === 0) {
                return error.div0;
            }
    
            return dividend / divisor;
        };
    
        exports.MULTIPLY = function (factor1, factor2) {
            if (arguments.length !== 2) {
                return error.na;
            }
    
            factor1 = utils.parseNumber(factor1);
            factor2 = utils.parseNumber(factor2);
            if (utils.anyIsError(factor1, factor2)) {
                return error.value;
            }
    
            return factor1 * factor2;
        };
    
        exports.GTE = function (num1, num2) {
            if (arguments.length !== 2) {
                return error.na;
            }
    
            num1 = utils.parseNumber(num1);
            num2 = utils.parseNumber(num2);
            if (utils.anyIsError(num1, num2)) {
                return error.error;
            }
    
            return num1 >= num2;
        };
    
        exports.LT = function (num1, num2) {
            if (arguments.length !== 2) {
                return error.na;
            }
    
            num1 = utils.parseNumber(num1);
            num2 = utils.parseNumber(num2);
            if (utils.anyIsError(num1, num2)) {
                return error.error;
            }
    
            return num1 < num2;
        };
    
        exports.LTE = function (num1, num2) {
            if (arguments.length !== 2) {
                return error.na;
            }
    
            num1 = utils.parseNumber(num1);
            num2 = utils.parseNumber(num2);
            if (utils.anyIsError(num1, num2)) {
                return error.error;
            }
    
            return num1 <= num2;
        };
    
        exports.EQ = function (value1, value2) {
            if (arguments.length !== 2) {
                return error.na;
            }
    
            return value1 === value2;
        };
    
        exports.NE = function (value1, value2) {
            if (arguments.length !== 2) {
                return error.na;
            }
    
            return value1 !== value2;
        };
    
        exports.POW = function (base, exponent) {
            if (arguments.length !== 2) {
                return error.na;
            }
    
            base = utils.parseNumber(base);
            exponent = utils.parseNumber(exponent);
            if (utils.anyIsError(base, exponent)) {
                return error.error;
            }
    
            return exports.POWER(base, exponent);
        };
    
        exports.SUM = function() {
            var result = 0;
            var argsKeys = Object.keys(arguments);
            for (var i = 0; i < argsKeys.length; ++i) {
                var elt = arguments[argsKeys[i]];
                if (typeof elt === 'number') {
                    result += elt;
                } else if (typeof elt === 'string') {
                    var parsed = parseFloat(elt);
                    !isNaN(parsed) && (result += parsed);
                } else if (Array.isArray(elt)) {
                    result += exports.SUM.apply(null, elt);
                }
            }
            return result;
        };
    
        exports.SUMIF = function(range, criteria) {
            range = utils.parseNumberArray(utils.flatten(range));
            if (range instanceof Error) {
                return range;
            }
            var result = 0;
            for (var i = 0; i < range.length; i++) {
                result += (eval(range[i] + criteria)) ? range[i] : 0; // jshint ignore:line
            }
            return result;
        };
    
        exports.SUMIFS = function() {
            var args = utils.argsToArray(arguments);
            var range = utils.parseNumberArray(utils.flatten(args.shift()));
            if (range instanceof Error) {
                return range;
            }
            var criteria = args;
    
            var n_range_elements = range.length;
            var n_criterias = criteria.length;
    
            var result = 0;
            for (var i = 0; i < n_range_elements; i++) {
                var el = range[i];
                var condition = '';
                for (var c = 0; c < n_criterias; c++) {
                    condition += el + criteria[c];
                    if (c !== n_criterias - 1) {
                        condition += '&&';
                    }
                }
                if (eval(condition)) { // jshint ignore:line
                    result += el;
                }
            }
            return result;
        };
    
        exports.SUMPRODUCT = null;
    
        exports.SUMSQ = function() {
            var numbers = utils.parseNumberArray(utils.flatten(arguments));
            if (numbers instanceof Error) {
                return numbers;
            }
            var result = 0;
            var length = numbers.length;
            for (var i = 0; i < length; i++) {
                result += (ISNUMBER(numbers[i])) ? numbers[i] * numbers[i] : 0;
            }
            return result;
        };
    
        exports.SUMX2MY2 = function(array_x, array_y) {
            array_x = utils.parseNumberArray(utils.flatten(array_x));
            array_y = utils.parseNumberArray(utils.flatten(array_y));
            if (utils.anyIsError(array_x, array_y)) {
                return error.value;
            }
            var result = 0;
            for (var i = 0; i < array_x.length; i++) {
                result += array_x[i] * array_x[i] - array_y[i] * array_y[i];
            }
            return result;
        };
    
        exports.SUMX2PY2 = function(array_x, array_y) {
            array_x = utils.parseNumberArray(utils.flatten(array_x));
            array_y = utils.parseNumberArray(utils.flatten(array_y));
            if (utils.anyIsError(array_x, array_y)) {
                return error.value;
            }
            var result = 0;
            array_x = utils.parseNumberArray(utils.flatten(array_x));
            array_y = utils.parseNumberArray(utils.flatten(array_y));
            for (var i = 0; i < array_x.length; i++) {
                result += array_x[i] * array_x[i] + array_y[i] * array_y[i];
            }
            return result;
        };
    
        exports.SUMXMY2 = function(array_x, array_y) {
            array_x = utils.parseNumberArray(utils.flatten(array_x));
            array_y = utils.parseNumberArray(utils.flatten(array_y));
            if (utils.anyIsError(array_x, array_y)) {
                return error.value;
            }
            var result = 0;
            array_x = utils.flatten(array_x);
            array_y = utils.flatten(array_y);
            for (var i = 0; i < array_x.length; i++) {
                result += Math.pow(array_x[i] - array_y[i], 2);
            }
            return result;
        };
    
        exports.TAN = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return Math.tan(number);
        };
    
        exports.TANH = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            var e2 = Math.exp(2 * number);
            return (e2 - 1) / (e2 + 1);
        };
    
        exports.TRUNC = function(number, digits) {
            digits = (digits === undefined) ? 0 : digits;
            number = utils.parseNumber(number);
            digits = utils.parseNumber(digits);
            if (utils.anyIsError(number, digits)) {
                return error.value;
            }
            var sign = (number > 0) ? 1 : -1;
            return sign * (Math.floor(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);
        };
    
        return exports;
    })();
    
    jexcel.methods.misc = (function() {
        var exports = {};
    
        exports.UNIQUE = function () {
            var result = [];
            for (var i = 0; i < arguments.length; ++i) {
                var hasElement = false;
                var element = arguments[i];
    
                // Check if we've already seen this element.
                for (var j = 0; j < result.length; ++j) {
                    hasElement = result[j] === element;
                    if (hasElement) { break; }
                }
    
                // If we did not find it, add it to the result.
                if (!hasElement) {
                    result.push(element);
                }
            }
            return result;
        };
    
        exports.FLATTEN = utils.flatten;
    
        exports.ARGS2ARRAY = function () {
            return Array.prototype.slice.call(arguments, 0);
        };
    
        exports.REFERENCE = function (context, reference) {
            try {
                var path = reference.split('.');
                var result = context;
                for (var i = 0; i < path.length; ++i) {
                    var step = path[i];
                    if (step[step.length - 1] === ']') {
                        var opening = step.indexOf('[');
                        var index = step.substring(opening + 1, step.length - 1);
                        result = result[step.substring(0, opening)][index];
                    } else {
                        result = result[step];
                    }
                }
                return result;
            } catch (error) {}
        };
    
        exports.JOIN = function (array, separator) {
            return array.join(separator);
        };
    
        exports.NUMBERS = function () {
            var possibleNumbers = utils.flatten(arguments);
            return possibleNumbers.filter(function (el) {
                return typeof el === 'number';
            });
        };
    
        exports.NUMERAL = null;
    
        return exports;
    })();
    
    jexcel.methods.text = (function() {
        var exports = {};
    
        exports.ASC = null;
    
        exports.BAHTTEXT = null;
    
        exports.CHAR = function(number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return String.fromCharCode(number);
        };
    
        exports.CLEAN = function(text) {
            text = text || '';
            var re = /[\0-\x1F]/g;
            return text.replace(re, "");
        };
    
        exports.CODE = function(text) {
            text = text || '';
            return text.charCodeAt(0);
        };
    
        exports.CONCATENATE = function() {
            var args = utils.flatten(arguments);
    
            var trueFound = 0;
            while ((trueFound = args.indexOf(true)) > -1) {
                args[trueFound] = 'TRUE';
            }
    
            var falseFound = 0;
            while ((falseFound = args.indexOf(false)) > -1) {
                args[falseFound] = 'FALSE';
            }
    
            return args.join('');
        };
    
        exports.DBCS = null;
    
        exports.DOLLAR = null;
    
        exports.EXACT = function(text1, text2) {
            return text1 === text2;
        };
    
        exports.FIND = function(find_text, within_text, position) {
            position = (position === undefined) ? 0 : position;
            return within_text ? within_text.indexOf(find_text, position - 1) + 1 : null;
        };
    
        exports.FIXED = null;
    
        exports.HTML2TEXT = function (value) {
            var result = '';
    
            if (value) {
                if (value instanceof Array) {
                    value.forEach(function (line) {
                        if (result !== '') {
                          result += '\n';
                        }
                        result += (line.replace(/<(?:.|\n)*?>/gm, ''));
                    });
                } else {
                    result = value.replace(/<(?:.|\n)*?>/gm, '');
                }
            }
    
            return result;
        };
    
        exports.LEFT = function(text, number) {
            number = (number === undefined) ? 1 : number;
            number = utils.parseNumber(number);
            if (number instanceof Error || typeof text !== 'string') {
                return error.value;
            }
            return text ? text.substring(0, number) : null;
        };
    
        exports.LEN = function(text) {
            if (arguments.length === 0) {
                return error.error;
            }
    
            if (typeof text === 'string') {
                return text ? text.length : 0;
            }
    
            if (text.length) {
                return text.length;
            }
    
            return error.value;
        };
    
        exports.LOWER = function(text) {
            if (typeof text !== 'string') {
                return error.value;
            }
            return text ? text.toLowerCase() : text;
        };
    
        exports.MID = function(text, start, number) {
            start = utils.parseNumber(start);
            number = utils.parseNumber(number);
            if (utils.anyIsError(start, number) || typeof text !== 'string') {
                return number;
            }
    
            var begin = start - 1;
            var end = begin + number;
    
            return text.substring(begin, end);
        };
    
        exports.NUMBERVALUE = null;
    
        exports.PRONETIC = null;
    
        exports.PROPER = function(text) {
            if (text === undefined || text.length === 0) {
                return error.value;
            }
            if (text === true) {
                text = 'TRUE';
            }
            if (text === false) {
                text = 'FALSE';
            }
            if (isNaN(text) && typeof text === 'number') {
                return error.value;
            }
            if (typeof text === 'number') {
                text = '' + text;
            }
    
            return text.replace(/\w\S*/g, function(txt) {
                return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
            });
        };
    
        exports.REGEXEXTRACT = function (text, regular_expression) {
            var match = text.match(new RegExp(regular_expression));
            return match ? (match[match.length > 1 ? match.length - 1 : 0]) : null;
        };
    
        exports.REGEXMATCH = function (text, regular_expression, full) {
            var match = text.match(new RegExp(regular_expression));
            return full ? match : !!match;
        };
    
        exports.REGEXREPLACE = function (text, regular_expression, replacement) {
            return text.replace(new RegExp(regular_expression), replacement);
        };
    
        exports.REPLACE = function(text, position, length, new_text) {
            position = utils.parseNumber(position);
            length = utils.parseNumber(length);
            if (utils.anyIsError(position, length) ||
                typeof text !== 'string' ||
                typeof new_text !== 'string') {
                return error.value;
            }
            return text.substr(0, position - 1) + new_text + text.substr(position - 1 + length);
        };
    
        exports.REPT = function(text, number) {
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return new Array(number + 1).join(text);
        };
    
        exports.RIGHT = function(text, number) {
            number = (number === undefined) ? 1 : number;
            number = utils.parseNumber(number);
            if (number instanceof Error) {
                return number;
            }
            return text ? text.substring(text.length - number) : null;
        };
    
        exports.SEARCH = function(find_text, within_text, position) {
            var foundAt;
            if (typeof find_text !== 'string' || typeof within_text !== 'string') {
                return error.value;
            }
            position = (position === undefined) ? 0 : position;
            foundAt = within_text.toLowerCase().indexOf(find_text.toLowerCase(), position - 1)+1;
            return (foundAt === 0)?error.value:foundAt;
        };
    
        exports.SPLIT = function (text, separator) {
            return text.split(separator);
        };
    
        exports.SUBSTITUTE = function(text, old_text, new_text, occurrence) {
            if (!text || !old_text || !new_text) {
                return text;
            } else if (occurrence === undefined) {
                return text.replace(new RegExp(old_text, 'g'), new_text);
            } else {
                var index = 0;
                var i = 0;
                while (text.indexOf(old_text, index) > 0) {
                    index = text.indexOf(old_text, index + 1);
                    i++;
                    if (i === occurrence) {
                        return text.substring(0, index) + new_text + text.substring(index + old_text.length);
                    }
                }
            }
        };
    
        exports.T = function(value) {
            return (typeof value === "string") ? value : '';
        };
    
        exports.TEXT = null;
    
        exports.TRIM = function(text) {
            if (typeof text !== 'string') {
                return error.value;
            }
            return text.replace(/ +/g, ' ').trim();
        };
    
        exports.UNICHAR = exports.CHAR;
    
        exports.UNICODE = exports.CODE;
    
        exports.UPPER = function(text) {
            if (typeof text !== 'string') {
                return error.value;
            }
            return text.toUpperCase();
        };
    
        exports.VALUE = null;
    
        return exports;
    })();
    
    jexcel.methods.stats = (function() {
        var exports = {};
    
        var SQRT2PI = 2.5066282746310002;
    
        exports.AVEDEV = null;
    
        exports.AVERAGE = function() {
            var range = utils.numbers(utils.flatten(arguments));
            var n = range.length;
            var sum = 0;
            var count = 0;
            for (var i = 0; i < n; i++) {
                sum += range[i];
                count += 1;
            }
            return sum / count;
        };
    
        exports.AVERAGEA = function() {
            var range = utils.flatten(arguments);
            var n = range.length;
            var sum = 0;
            var count = 0;
            for (var i = 0; i < n; i++) {
                var el = range[i];
                if (typeof el === 'number') {
                    sum += el;
                }
                if (el === true) {
                    sum++;
                }
                if (el !== null) {
                    count++;
                }
            }
            return sum / count;
        };
    
        exports.AVERAGEIF = function(range, criteria, average_range) {
            average_range = average_range || range;
            range = utils.flatten(range);
            average_range = utils.parseNumberArray(utils.flatten(average_range));
            if (average_range instanceof Error) {
                return average_range;
            }
            var average_count = 0;
            var result = 0;
            for (var i = 0; i < range.length; i++) {
                if (eval(range[i] + criteria)) { // jshint ignore:line
                    result += average_range[i];
                    average_count++;
                }
            }
            return result / average_count;
        };
    
        exports.AVERAGEIFS = null;
    
        exports.COUNT = function() {
            return utils.numbers(utils.flatten(arguments)).length;
        };
    
        exports.COUNTA = function() {
            var range = utils.flatten(arguments);
            return range.length - exports.COUNTBLANK(range);
        };
    
        exports.COUNTIN = function (range, value) {
            var result = 0;
            for (var i = 0; i < range.length; i++) {
                if (range[i] === value) {
                    result++;
                }
            }
            return result;
        };
    
        exports.COUNTBLANK = function() {
            var range = utils.flatten(arguments);
            var blanks = 0;
            var element;
            for (var i = 0; i < range.length; i++) {
                element = range[i];
                if (element === null || element === '') {
                    blanks++;
                }
            }
            return blanks;
        };
    
        exports.COUNTIF = function(range, criteria) {
            range = utils.flatten(range);
            if (!/[<>=!]/.test(criteria)) {
                criteria = '=="' + criteria + '"';
            }
            var matches = 0;
            for (var i = 0; i < range.length; i++) {
                if (typeof range[i] !== 'string') {
                    if (eval(range[i] + criteria)) { // jshint ignore:line
                        matches++;
                    }
                } else {
                    if (eval('"' + range[i] + '"' + criteria)) { // jshint ignore:line
                        matches++;
                    }
                }
            }
            return matches;
        };
    
        exports.COUNTIFS = function() {
            var args = utils.argsToArray(arguments);
            var results = new Array(utils.flatten(args[0]).length);
            for (var i = 0; i < results.length; i++) {
                results[i] = true;
            }
            for (i = 0; i < args.length; i += 2) {
                var range = utils.flatten(args[i]);
                var criteria = args[i + 1];
                if (!/[<>=!]/.test(criteria)) {
                    criteria = '=="' + criteria + '"';
                }
                for (var j = 0; j < range.length; j++) {
                    if (typeof range[j] !== 'string') {
                        results[j] = results[j] && eval(range[j] + criteria); // jshint ignore:line
                    } else {
                        results[j] = results[j] && eval('"' + range[j] + '"' + criteria); // jshint ignore:line
                    }
                }
            }
            var result = 0;
            for (i = 0; i < results.length; i++) {
                if (results[i]) {
                    result++;
                }
            }
            return result;
        };
    
        exports.COUNTUNIQUE = function () {
            return UNIQUE.apply(null, utils.flatten(arguments)).length;
        };
    
        exports.FISHER = function(x) {
            x = utils.parseNumber(x);
            if (x instanceof Error) {
                return x;
            }
            return Math.log((1 + x) / (1 - x)) / 2;
        };
    
        exports.FISHERINV = function(y) {
            y = utils.parseNumber(y);
            if (y instanceof Error) {
                return y;
            }
            var e2y = Math.exp(2 * y);
            return (e2y - 1) / (e2y + 1);
        };
    
        exports.FREQUENCY = function(data, bins) {
            data = utils.parseNumberArray(utils.flatten(data));
            bins = utils.parseNumberArray(utils.flatten(bins));
            if (utils.anyIsError(data, bins)) {
                return error.value;
            }
            var n = data.length;
            var b = bins.length;
            var r = [];
            for (var i = 0; i <= b; i++) {
                r[i] = 0;
                for (var j = 0; j < n; j++) {
                    if (i === 0) {
                        if (data[j] <= bins[0]) {
                            r[0] += 1;
                        }
                    } else if (i < b) {
                        if (data[j] > bins[i - 1] && data[j] <= bins[i]) {
                            r[i] += 1;
                        }
                    } else if (i === b) {
                        if (data[j] > bins[b - 1]) {
                            r[b] += 1;
                        }
                    }
                }
            }
            return r;
        };
    
        exports.LARGE = function(range, k) {
            range = utils.parseNumberArray(utils.flatten(range));
            k = utils.parseNumber(k);
            if (utils.anyIsError(range, k)) {
                return range;
            }
            return range.sort(function(a, b) {
                return b - a;
            })[k - 1];
        };
    
        exports.MAX = function() {
            var range = utils.numbers(utils.flatten(arguments));
            return (range.length === 0) ? 0 : Math.max.apply(Math, range);
        };
    
        exports.MAXA = function() {
            var range = utils.arrayValuesToNumbers(utils.flatten(arguments));
            return (range.length === 0) ? 0 : Math.max.apply(Math, range);
        };
    
        exports.MIN = function() {
            var range = utils.numbers(utils.flatten(arguments));
            return (range.length === 0) ? 0 : Math.min.apply(Math, range);
        };
    
        exports.MINA = function() {
            var range = utils.arrayValuesToNumbers(utils.flatten(arguments));
            return (range.length === 0) ? 0 : Math.min.apply(Math, range);
        };
    
        exports.MODE = {};
    
        exports.MODE.MULT = function() {
            // Credits: Ronan
            var range = utils.parseNumberArray(utils.flatten(arguments));
            if (range instanceof Error) {
                return range;
            }
            var n = range.length;
            var count = {};
            var maxItems = [];
            var max = 0;
            var currentItem;
    
            for (var i = 0; i < n; i++) {
                currentItem = range[i];
                count[currentItem] = count[currentItem] ? count[currentItem] + 1 : 1;
                if (count[currentItem] > max) {
                    max = count[currentItem];
                    maxItems = [];
                }
                if (count[currentItem] === max) {
                    maxItems[maxItems.length] = currentItem;
                }
            }
            return maxItems;
        };
    
        exports.MODE.SNGL = function() {
            var range = utils.parseNumberArray(utils.flatten(arguments));
            if (range instanceof Error) {
                return range;
            }
            return exports.MODE.MULT(range).sort(function(a, b) {
                return a - b;
            })[0];
        };
    
        exports.PERCENTILE = {};
    
        exports.PERCENTILE.EXC = function(array, k) {
            array = utils.parseNumberArray(utils.flatten(array));
            k = utils.parseNumber(k);
            if (utils.anyIsError(array, k)) {
                return error.value;
            }
            array = array.sort(function(a, b) {
                {
                    return a - b;
                }
            });
            var n = array.length;
            if (k < 1 / (n + 1) || k > 1 - 1 / (n + 1)) {
                return error.num;
            }
            var l = k * (n + 1) - 1;
            var fl = Math.floor(l);
            return utils.cleanFloat((l === fl) ? array[l] : array[fl] + (l - fl) * (array[fl + 1] - array[fl]));
        };
    
        exports.PERCENTILE.INC = function(array, k) {
            array = utils.parseNumberArray(utils.flatten(array));
            k = utils.parseNumber(k);
            if (utils.anyIsError(array, k)) {
                return error.value;
            }
            array = array.sort(function(a, b) {
                return a - b;
            });
            var n = array.length;
            var l = k * (n - 1);
            var fl = Math.floor(l);
            return utils.cleanFloat((l === fl) ? array[l] : array[fl] + (l - fl) * (array[fl + 1] - array[fl]));
        };
    
        exports.PERCENTRANK = {};
    
        exports.PERCENTRANK.EXC = function(array, x, significance) {
            significance = (significance === undefined) ? 3 : significance;
            array = utils.parseNumberArray(utils.flatten(array));
            x = utils.parseNumber(x);
            significance = utils.parseNumber(significance);
            if (utils.anyIsError(array, x, significance)) {
                return error.value;
            }
            array = array.sort(function(a, b) {
                return a - b;
            });
            var uniques = UNIQUE.apply(null, array);
            var n = array.length;
            var m = uniques.length;
            var power = Math.pow(10, significance);
            var result = 0;
            var match = false;
            var i = 0;
            while (!match && i < m) {
                if (x === uniques[i]) {
                    result = (array.indexOf(uniques[i]) + 1) / (n + 1);
                    match = true;
                } else if (x >= uniques[i] && (x < uniques[i + 1] || i === m - 1)) {
                    result = (array.indexOf(uniques[i]) + 1 + (x - uniques[i]) / (uniques[i + 1] - uniques[i])) / (n + 1);
                    match = true;
                }
                i++;
            }
            return Math.floor(result * power) / power;
        };
    
        exports.PERCENTRANK.INC = function(array, x, significance) {
            significance = (significance === undefined) ? 3 : significance;
            array = utils.parseNumberArray(utils.flatten(array));
            x = utils.parseNumber(x);
            significance = utils.parseNumber(significance);
            if (utils.anyIsError(array, x, significance)) {
                return error.value;
            }
            array = array.sort(function(a, b) {
                return a - b;
            });
            var uniques = UNIQUE.apply(null, array);
            var n = array.length;
            var m = uniques.length;
            var power = Math.pow(10, significance);
            var result = 0;
            var match = false;
            var i = 0;
            while (!match && i < m) {
                if (x === uniques[i]) {
                    result = array.indexOf(uniques[i]) / (n - 1);
                    match = true;
                } else if (x >= uniques[i] && (x < uniques[i + 1] || i === m - 1)) {
                    result = (array.indexOf(uniques[i]) + (x - uniques[i]) / (uniques[i + 1] - uniques[i])) / (n - 1);
                    match = true;
                }
                i++;
            }
            return Math.floor(result * power) / power;
        };
    
        exports.PERMUT = function(number, number_chosen) {
            number = utils.parseNumber(number);
            number_chosen = utils.parseNumber(number_chosen);
            if (utils.anyIsError(number, number_chosen)) {
                return error.value;
            }
            return FACT(number) / FACT(number - number_chosen);
        };
    
        exports.PERMUTATIONA = function(number, number_chosen) {
            number = utils.parseNumber(number);
            number_chosen = utils.parseNumber(number_chosen);
            if (utils.anyIsError(number, number_chosen)) {
                return error.value;
            }
            return Math.pow(number, number_chosen);
        };
    
        exports.PHI = function(x) {
            x = utils.parseNumber(x);
            if (x instanceof Error) {
                return error.value;
            }
            return Math.exp(-0.5 * x * x) / SQRT2PI;
        };
    
        exports.PROB = function(range, probability, lower, upper) {
            if (lower === undefined) {
                return 0;
            }
            upper = (upper === undefined) ? lower : upper;
    
            range = utils.parseNumberArray(utils.flatten(range));
            probability = utils.parseNumberArray(utils.flatten(probability));
            lower = utils.parseNumber(lower);
            upper = utils.parseNumber(upper);
            if (utils.anyIsError(range, probability, lower, upper)) {
                return error.value;
            }
    
            if (lower === upper) {
                return (range.indexOf(lower) >= 0) ? probability[range.indexOf(lower)] : 0;
            }
    
            var sorted = range.sort(function(a, b) {
                return a - b;
            });
            var n = sorted.length;
            var result = 0;
            for (var i = 0; i < n; i++) {
                if (sorted[i] >= lower && sorted[i] <= upper) {
                    result += probability[range.indexOf(sorted[i])];
                }
            }
            return result;
        };
    
        exports.QUARTILE = {};
    
        exports.QUARTILE.EXC = function(range, quart) {
            range = utils.parseNumberArray(utils.flatten(range));
            quart = utils.parseNumber(quart);
            if (utils.anyIsError(range, quart)) {
                return error.value;
            }
            switch (quart) {
                case 1:
                    return exports.PERCENTILE.EXC(range, 0.25);
                case 2:
                    return exports.PERCENTILE.EXC(range, 0.5);
                case 3:
                    return exports.PERCENTILE.EXC(range, 0.75);
                default:
                    return error.num;
            }
        };
    
        exports.QUARTILE.INC = function(range, quart) {
            range = utils.parseNumberArray(utils.flatten(range));
            quart = utils.parseNumber(quart);
            if (utils.anyIsError(range, quart)) {
                return error.value;
            }
            switch (quart) {
                case 1:
                    return exports.PERCENTILE.INC(range, 0.25);
                case 2:
                    return exports.PERCENTILE.INC(range, 0.5);
                case 3:
                    return exports.PERCENTILE.INC(range, 0.75);
                default:
                    return error.num;
            }
        };
    
        exports.RANK = {};
    
        exports.RANK.AVG = function(number, range, order) {
            number = utils.parseNumber(number);
            range = utils.parseNumberArray(utils.flatten(range));
            if (utils.anyIsError(number, range)) {
                return error.value;
            }
            range = utils.flatten(range);
            order = order || false;
            var sort = (order) ? function(a, b) {
                return a - b;
            } : function(a, b) {
                return b - a;
            };
            range = range.sort(sort);
    
            var length = range.length;
            var count = 0;
            for (var i = 0; i < length; i++) {
                if (range[i] === number) {
                    count++;
                }
            }
    
            return (count > 1) ? (2 * range.indexOf(number) + count + 1) / 2 : range.indexOf(number) + 1;
        };
    
        exports.RANK.EQ = function(number, range, order) {
            number = utils.parseNumber(number);
            range = utils.parseNumberArray(utils.flatten(range));
            if (utils.anyIsError(number, range)) {
                return error.value;
            }
            order = order || false;
            var sort = (order) ? function(a, b) {
                return a - b;
            } : function(a, b) {
                return b - a;
            };
            range = range.sort(sort);
            return range.indexOf(number) + 1;
        };
    
        exports.RSQ = function(data_x, data_y) { // no need to flatten here, PEARSON will take care of that
            data_x = utils.parseNumberArray(utils.flatten(data_x));
            data_y = utils.parseNumberArray(utils.flatten(data_y));
            if (utils.anyIsError(data_x, data_y)) {
                return error.value;
            }
            return Math.pow(exports.PEARSON(data_x, data_y), 2);
        };
    
        exports.SMALL = function(range, k) {
            range = utils.parseNumberArray(utils.flatten(range));
            k = utils.parseNumber(k);
            if (utils.anyIsError(range, k)) {
                return range;
            }
            return range.sort(function(a, b) {
                return a - b;
            })[k - 1];
        };
    
        exports.STANDARDIZE = function(x, mean, sd) {
            x = utils.parseNumber(x);
            mean = utils.parseNumber(mean);
            sd = utils.parseNumber(sd);
            if (utils.anyIsError(x, mean, sd)) {
                return error.value;
            }
            return (x - mean) / sd;
        };
    
        exports.STDEV = {};
    
        exports.STDEV.P = function() {
            var v = exports.VAR.P.apply(this, arguments);
            return Math.sqrt(v);
        };
    
        exports.STDEV.S = function() {
            var v = exports.VAR.S.apply(this, arguments);
            return Math.sqrt(v);
        };
    
        exports.STDEVA = function() {
            var v = exports.VARA.apply(this, arguments);
            return Math.sqrt(v);
        };
    
        exports.STDEVPA = function() {
            var v = exports.VARPA.apply(this, arguments);
            return Math.sqrt(v);
        };
    
        exports.VAR = {};
    
        exports.VAR.P = function() {
            var range = utils.numbers(utils.flatten(arguments));
            var n = range.length;
            var sigma = 0;
            var mean = exports.AVERAGE(range);
            for (var i = 0; i < n; i++) {
                sigma += Math.pow(range[i] - mean, 2);
            }
            return sigma / n;
        };
    
        exports.VAR.S = function() {
            var range = utils.numbers(utils.flatten(arguments));
            var n = range.length;
            var sigma = 0;
            var mean = exports.AVERAGE(range);
            for (var i = 0; i < n; i++) {
                sigma += Math.pow(range[i] - mean, 2);
            }
            return sigma / (n - 1);
        };
    
        exports.VARA = function() {
            var range = utils.flatten(arguments);
            var n = range.length;
            var sigma = 0;
            var count = 0;
            var mean = exports.AVERAGEA(range);
            for (var i = 0; i < n; i++) {
                var el = range[i];
                if (typeof el === 'number') {
                    sigma += Math.pow(el - mean, 2);
                } else if (el === true) {
                    sigma += Math.pow(1 - mean, 2);
                } else {
                    sigma += Math.pow(0 - mean, 2);
                }
    
                if (el !== null) {
                    count++;
                }
            }
            return sigma / (count - 1);
        };
    
        exports.VARPA = function() {
            var range = utils.flatten(arguments);
            var n = range.length;
            var sigma = 0;
            var count = 0;
            var mean = exports.AVERAGEA(range);
            for (var i = 0; i < n; i++) {
                var el = range[i];
                if (typeof el === 'number') {
                    sigma += Math.pow(el - mean, 2);
                } else if (el === true) {
                    sigma += Math.pow(1 - mean, 2);
                } else {
                    sigma += Math.pow(0 - mean, 2);
                }
    
                if (el !== null) {
                    count++;
                }
            }
            return sigma / count;
        };
    
        exports.WEIBULL = {};
    
        exports.WEIBULL.DIST = function(x, alpha, beta, cumulative) {
            x = utils.parseNumber(x);
            alpha = utils.parseNumber(alpha);
            beta = utils.parseNumber(beta);
            if (utils.anyIsError(x, alpha, beta)) {
                return error.value;
            }
            return (cumulative) ? 1 - Math.exp(-Math.pow(x / beta, alpha)) : Math.pow(x, alpha - 1) * Math.exp(-Math.pow(x / beta, alpha)) * alpha / Math.pow(beta, alpha);
        };
    
        exports.Z = {};
    
        exports.Z.TEST = function(range, x, sd) {
            range = utils.parseNumberArray(utils.flatten(range));
            x = utils.parseNumber(x);
            if (utils.anyIsError(range, x)) {
                return error.value;
            }
    
            sd = sd || exports.STDEV.S(range);
            var n = range.length;
            return 1 - exports.NORM.S.DIST((exports.AVERAGE(range) - x) / (sd / Math.sqrt(n)), true);
        };
    
        return exports;
    })();

    jexcel.methods.utils = (function() {
        var exports = {};

        exports.PROGRESS = function(p, c) {
            var color = c ? c : 'red';
            var value = p ? p : '0';

            return '<div style="width:' + value + '%;height:4px;background-color:' + color + ';margin-top:1px;"></div>';
        };

        exports.RATING = function(v) {
            var html = '<div class="jrating">';
            for (var i = 0; i < 5; i++) {
                if (i < v) {
                    html += '<div class="jrating-selected"></div>';
                } else {
                    html += '<div></div>';
                }
            }
            html += '</div>';
            return html;
        }

        return exports;
    })();

    for (var i = 0; i < Object.keys(jexcel.methods).length; i++) {
        var methods = jexcel.methods[Object.keys(jexcel.methods)[i]];
        for (var j = 0; j < Object.keys(methods).length; j++) {
            if (typeof(methods[Object.keys(methods)[j]]) == 'function') {
                window[Object.keys(methods)[j]] = methods[Object.keys(methods)[j]];
            } else {
                window[Object.keys(methods)[j]] = function() {
                    return Object.keys(methods)[j] + 'Not implemented';
                }
            }
        }
    }

    return jexcel;
})));
},{"jsuites":4,"jsuites/dist/jsuites.css":3}],3:[function(require,module,exports){
var css = "/**\r\n * (c) jSuites Javascript Web Components\r\n *\r\n * Author: Paul Hodel <paul.hodel@gmail.com>\r\n * Website: https://bossanova.uk/jsuites/\r\n * Description: Create amazing web based applications.\r\n *\r\n * MIT License\r\n *\r\n */\n/** General **/\n:root {\n  --button-color: #298BA8;\n  --active-color: #007aff;\n}\n.jdragging {\n  opacity: 0.2;\n  filter: alpha(opacity=20);\n}\n.jupload {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7emlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTctMTItMzFUMjI6NDM6MzBaPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDEtMDFUMjA6MDM6MjNaPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOC0wMS0wMVQyMDowMzoyM1o8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6ZDE3NGVkY2UtNWZkNC0wODRkLTkzNzAtZDRhODVmMzdkNjdiPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjBmYzcxZDEyLTg1MGUtY2E0NS05MzE4LWRhYjI5YWZhMmQ4MjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjBmYzcxZDEyLTg1MGUtY2E0NS05MzE4LWRhYjI5YWZhMmQ4MjwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowZmM3MWQxMi04NTBlLWNhNDUtOTMxOC1kYWIyOWFmYTJkODI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMTItMzFUMjI6NDM6MzBaPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjk2MTA5Y2Y0LTEwM2ItNTc0Ny1hZWE3LWI5NDMxOWY0NWFkZjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxOC0wMS0wMVQyMDowMjoyMFo8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6ZDE3NGVkY2UtNWZkNC0wODRkLTkzNzAtZDRhODVmMzdkNjdiPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTAxLTAxVDIwOjAzOjIzWjwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj44MDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj44MDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+tc8AsgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAGjUlEQVR42uycW2xURRjHf91SoEIBUQpYI8VSVBDExniLERNUJBpQVEDFqE1AEYkX0JCC0YjgBdEYDOIFeVEEFRBilKBogg+KiQoV5Q6Khla8lrZRBLo+zLdazs7ZM2d3zsJu55/sy3dmz5797Vy+y8wWxONxnNJXzCFwAB1AB9ABdHIAHUAH0AF0Cq929fX1ufbMA4HLgSqgHOgPdJJrfwPbgb3AJuBD4KsoH6agrq4uF6CVAncC4wVYGP0ALAVeAva0NYDFwOPARKBzhvc6ArwG1AC/toU5cDSwFXjAAjyAQmACsAOozneATwLLgdMM2/8jLxN1AxYBC/J1CL8F3BjQZhOwCqgFvgd+AuJAT6ACOBMYCVwUcJ91siDlDcC3gRtSXF8IzAe+M7xfOXC3TAOFPm3WA0NzAeDp8oUGASeKrUF60R6Zn6an6CnTgI1pfnYFMAcY43N9GTDueAR4sQylK8RvS0dzgYcsPc9U4Bmfa9XA4uMF4GXypUdkeJ8Z0nNs6hbgdZ9rPcK6OLZX4XbisH5iAd68COABvAHc63NtwbHsgf2B94BKC/faAFwY8Zy8ErhWYx8EbM42wAuAj4ETAtptllh1N9AiC0t/YLCnXV9xT6JUJ6AOKPHYX5HIJ2sAK4BvgQ4+17fJ5LxKIgudzgBGySS/3sAPtKWZwCyPrQk4ydQxtwFwH9BbY4/LIvBEyF5RIF8iG+oC/K7xEUfLEI98EVnsA28/MCQkPIDmLMIDOCDOu1fXZGMVrgJu19gbZCKuJTek62mV2QD4XIoFZT+5o10a2ylRA6wCLtXYp8uikUv6Webr1uoOdIwS4HiNbS/wFLmnZuCgx9Y+hVdhBeBwjW1+BF9uFvBqFiDGDW3a0Cus+gADPLYWVB7PpiaJn5YYZjMigles6W2NskJH0gN1RZ1EJcyWJnvi0hpUbSQK9dRwaDGIqtIGeLbG9o3lnveCT2YmCogVPqvwdpOIKB2A7TU2W+XCiQEZkSggTvGxl8m0NNc2wDKNrcXCF5mASoUFaQYw2xK8Iv4vyvtpmsTxGQHsLPPQLp9frI+FYftyiPY1liAeBs5DZYNS/XgjgTXpApwq4Gaj0k86DbK4YISBmOlwjreaw+8CzvEDJa7bojAATwU+QtUQSg0Wlr4WFwxT2Z4Ta1GZ9Md8rlcDY00ADpFfZViID7/D8oJxrCACPCIjQ6elqOK8ryM9GPg64AM+B1YAW1BJ0r9M/aaQC0YYiAWWne0FQFf0dZnngdsgOaHaXVySLj43XSY3zCRVNclSz9NpTgQRywfAVRr7WcDWmKaxDl4TKuU+LkN4kyOEF1XEMk5GmFf3eOfAKcD5moY/ypy4OsMHeTjDBSPMcF5o8X4NPs70eKAoMYSLJIDuoOl5AwRiJroJWIIq1BwM8DcLDFyPpoAESTEqN/m0aVYlQF1RtRPviB2ZWEQeRJ//Gm0BHqhttieTutJVgkrGBu0FbEbtvmoMgNjLErxEL3yH5L01oxIA79O8aTVqj7ENmWSpGw1DwhZUJTBIf1ieGlZoAFbGxG3pESLIjkolBsMXaVNC9qWrnZTFZJh69SV283v5oHrNlNA9JvGfV0scL+3cm1Q7iaFPKNY6XimTD0fFwuWaRrscqyR11Hgqh2IkZ5gPy7LtdLRKNX7gnzHgkMdYGDIx0FZUrrHVxVBHBLzDup/jlaSrNbbdMWCn5sIAxyspsrlZY18TQ3/mYoxjdpQmkFx8OgKsjAHvat4wlFZZVyce1diWA80x4DOf7Ma8LD+kaYhmGvLZ0ovoa0LP0mpZ1qXXq4Fzs/igiSRBY8BrH3bq0Ca6HlWt82od6iTBfyn9Lj6+Xx2q2nYwSz3Q9FhrE/ZSVX66BPjU51q/RLCR6IEH0KfCe8sQL85SmNRo+Ioa3tgU8Ga2jtS8RaUdPj7gTtQRqS/yfLHogErf+6Xykk52ekOTESm67AbUrvuyPARXAtyPSvz6wduK5myx7pzIcPy3N4D6Z4w3pc0O1IbybAwrWyqSubZUOsYw4DrU4Ro/bUEd3m4wAZjoie8bPtARVNkvVwAWypxu6gqtRW0u0i6kqU4qDUEVUirasANdQ8BhoVSbizai/uRmbhsEtxp1lCPwpJXpWbmBqD++uTWPQ7xm1NaVJeIomzmvIQ8bdpO0zpWozea9Aibf41WHgd9QhaJtqAPia4FfQnv/7l98M5P79zYH0AF0AB1AJwfQAXQAHUCnNPTvAKemiFU6nb96AAAAAElFTkSuQmCC);\n  background-repeat: no-repeat;\n  background-size: 100px;\n  background-position: center;\n  background-color: rgba(230, 230, 230, 0.1);\n  border: 1px dotted #eee;\n  cursor: pointer;\n  box-sizing: border-box;\n  width: 100%;\n  min-height: 180px;\n}\n.jremove {\n  opacity: 0.2;\n  filter: alpha(opacity=20);\n}\n/** Animations **/\n.fade-in {\n  animation: fade-in 2s forwards;\n}\n.fade-out {\n  animation: fade-out 1s forwards;\n}\n.slide-left-in {\n  animation: slide-left-in 0.4s forwards;\n}\n.slide-left-out {\n  animation: slide-left-out 0.4s forwards;\n}\n.slide-right-in {\n  animation: slide-right-in 0.4s forwards;\n}\n.slide-right-out {\n  animation: slide-right-out 0.4s forwards;\n}\n.slide-top-in {\n  animation: slide-top-in 0.4s forwards;\n}\n.slide-top-out {\n  animation: slide-top-out 0.2s forwards;\n}\n.slide-bottom-in {\n  animation: slide-bottom-in 0.4s forwards;\n}\n.slide-bottom-out {\n  animation: slide-bottom-out 0.1s forwards;\n}\n/** Fadein and Fadeout **/\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 100;\n  }\n}\n@-webkit-keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 100;\n  }\n}\n@keyframes fade-out {\n  0% {\n    opacity: 100;\n  }\n\n  100% {\n    opacity: 0;\n  }\n}\n@-webkit-keyframes fade-out {\n  0% {\n    opacity: 100;\n  }\n\n  100% {\n    opacity: 0;\n  }\n}\n/** Keyframes Left to Right **/\n@keyframes slide-left-in {\n  0% {\n    transform: translateX(-100%);\n  }\n\n  100% {\n    transform: translateX(0%);\n  }\n}\n@-webkit-keyframes slide-left-in {\n  0% {\n    transform: translateX(-100%);\n  }\n\n  100% {\n    -webkit-transform: translateX(0%);\n  }\n}\n@keyframes slide-left-out {\n  0% {\n    transform: translateX(0%);\n  }\n\n  100% {\n    transform: translateX(-100%);\n  }\n}\n@-webkit-keyframes slide-left-out {\n  0% {\n    -webkit-transform: translateX(0%);\n  }\n\n  100% {\n    -webkit-transform: translateX(-100%);\n  }\n}\n/** Keyframes Right to Left **/\n@keyframes slide-right-in {\n  0% {\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(0%);\n  }\n}\n@-webkit-keyframes slide-right-in {\n  0% {\n    transform: translateX(100%);\n  }\n\n  100% {\n    -webkit-transform: translateX(0%);\n  }\n}\n@keyframes slide-right-out {\n  0% {\n    transform: translateX(0%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n}\n@-webkit-keyframes slide-right-out {\n  0% {\n    -webkit-transform: translateX(0%);\n  }\n\n  100% {\n    -webkit-transform: translateX(100%);\n  }\n}\n/** Keyframes Top to Bottom **/\n@keyframes slide-top-in {\n  0% {\n    transform: translateY(-100%);\n  }\n\n  100% {\n    transform: translateY(0%);\n  }\n}\n@-webkit-keyframes slide-top-in {\n  0% {\n    transform: translateY(-100%);\n  }\n\n  100% {\n    -webkit-transform: translateY(0%);\n  }\n}\n@keyframes slide-top-out {\n  0% {\n    transform: translateY(0%);\n  }\n\n  100% {\n    transform: translateY(-100%);\n  }\n}\n@-webkit-keyframes slide-top-out {\n  0% {\n    -webkit-transform: translateY(0%);\n  }\n\n  100% {\n    -webkit-transform: translateY(-100%);\n  }\n}\n/** Keyframes Bottom to Top **/\n@keyframes slide-bottom-in {\n  0% {\n    transform: translateY(100%);\n  }\n\n  100% {\n    transform: translateY(0%);\n  }\n}\n@-webkit-keyframes slide-bottom-in {\n  0% {\n    transform: translateY(100%);\n  }\n\n  100% {\n    -webkit-transform: translateY(0%);\n  }\n}\n@keyframes slide-bottom-out {\n  0% {\n    transform: translateY(0%);\n  }\n\n  100% {\n    transform: translateY(100%);\n  }\n}\n@-webkit-keyframes slide-bottom-out {\n  0% {\n    -webkit-transform: translateY(0%);\n  }\n\n  100% {\n    -webkit-transform: translateY(100%);\n  }\n}\n@supports (-webkit-overflow-scrolling: touch) {\n  .app .options input:checked:before {\n    top: -12px;\n  }\n}\n@-webkit-keyframes spin {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n\n  to {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n.unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.jbutton {\n  padding: 4px;\n  padding-left: 10px;\n  padding-right: 20px;\n  border: 1px solid #ddd;\n  display: inline-flex;\n  border-radius: 4px;\n  cursor: pointer;\n  line-height: 24px;\n  -webkit-font-smoothing: antialiased;\n}\n.jbutton.blue {\n  border: 1px solid transparent;\n  color: #fff;\n  background-color: #1a73e8;\n}\n.jbutton::before {\n  content: attr(data-icon);\n  width: 24px;\n  height: 24px;\n  font-size: 24px;\n  line-height: 24px;\n  font-family: 'Material icons';\n  color: #999;\n  margin-right: 2px;\n}\n.jbutton.blue::before {\n  color: #fff;\n}\n.jbutton:hover {\n  background-color: #eee;\n}\n.jbutton.blue:hover {\n  background-color: #1a73e8;\n  opacity: 0.8;\n}\n/**\n * Date & Datetime picker v1.0.1\n * Author: paul.hodel@gmail.com\n * https://github.com/paulhodel/jtools\n */\n.jcalendar {\n  position: relative;\n  z-index: 9000;\n  display: none;\n  box-sizing: border-box;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n  -webkit-tap-highlight-color: transparent;\n  min-width: 280px;\n}\n.jcalendar-focus {\n  display: block;\n}\n.jcalendar-backdrop {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  z-index: 9000;\n  min-width: 100%;\n  min-height: 100%;\n  background-color: rgba(0,0,0,0.5);\n  border: 0px;\n  padding: 0px;\n  display: none;\n}\n.jcalendar-container {\n  position: relative;\n  box-sizing: border-box;\n}\n.jcalendar-content {\n  position: absolute;\n  z-index: 9001;\n  -webkit-box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  -moz-box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  background-color: #fff;\n}\n.jcalendar-table > table {\n  width: 100%;\n  background-color: #fff;\n}\n.jcalendar-table > table > tbody td {\n  box-sizing: border-box;\n  cursor: pointer;\n  padding: 9px;\n  font-size: 0.9em;\n}\n.jcalendar-table > table > thead {\n  cursor: pointer;\n}\n.jcalendar-header {\n  text-align: center;\n}\n.jcalendar-header span {\n  margin-right: 4px;\n  font-size: 1.1em;\n  font-weight: bold;\n}\n.jcalendar-prev {\n  cursor: pointer;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z' fill='%23000' /%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3C/svg%3E\");\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.jcalendar-next {\n  cursor: pointer;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z' fill='%23000' /%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3C/svg%3E\");\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.jcalendar-weekday {\n  font-weight: 600;\n  background-color: #fcfcfc;\n  padding: 14px;\n}\n.jcalendar thead td {\n  padding: 10px;\n  height: 40px;\n}\n.jcalendar tfoot td {\n  padding: 10px;\n}\n.jcalendar-months td,\n.jcalendar-years td {\n  height: 24px;\n}\n.jcalendar-input {\n  padding-right: 18px;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='gray'%3E%3Cpath d='M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z'/%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3C/svg%3E\");\n  background-position: top 50% right 5px;\n  background-repeat: no-repeat;\n  box-sizing: border-box;\n}\n.jcalendar-done {\n  -webkit-box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  -moz-box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  background-color: #fff;\n}\n.jcalendar-update {\n  border: 1px solid #ccc;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 5px;\n  width: 100%;\n}\n.jcalendar select {\n  width: 55px;\n  display: inline-block;\n  border: 0px;\n  padding: 4px;\n  text-align: center;\n  font-size: 1.1em;\n  user-select: none;\n  margin-right: 10px;\n}\n.jcalendar select:first-child {\n  margin-right: 2px;\n}\n.jcalendar-selected {\n  background-color: #eee;\n}\n.jcalendar-reset,\n.jcalendar-confirm {\n  text-transform: uppercase;\n  cursor: pointer;\n  color: var(--active-color);\n}\n.jcalendar-controls {\n  padding: 15px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: middle;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-flow: row wrap;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #ddd;\n}\n.jcalendar-controls div {\n  font-weight: bold;\n}\n.jcalendar-fullsize {\n  position: fixed;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n}\n.jcalendar-fullsize .jcalendar-content {\n  position: fixed;\n  width: 100%;\n  left: 0px;\n  bottom: 0px;\n}\n.jcalendar-focus.jcalendar-fullsize .jcalendar-backdrop {\n  display: block;\n}\n.jcalendar-sunday {\n  color: red;\n}\n.jcalendar-disabled {\n  color: #ccc;\n}\n.jcolor {\n  position: absolute;\n  display: none;\n  outline: none;\n}\n.jcolor-content {\n  position: absolute;\n  left: 0px;\n  z-index: 9000;\n  user-select: none;\n  -webkit-font-smoothing: antialiased;\n  font-size: .875rem;\n  letter-spacing: .2px;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);\n  box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);\n  background-color: #fff;\n  box-sizing: border-box;\n}\n.jcolor-content table {\n  padding: 7px;\n  box-sizing: border-box;\n}\n.jcolor-focus {\n  display: block;\n}\n.jcolor table {\n  width: 100%;\n  height: 100%;\n}\n.jcolor td {\n  border: 2px solid #fff;\n}\n.jcolor-selected {\n  border: 2px solid #000 !important;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: 0 0;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z' fill='white'/%3E%3C/svg%3E\");\n}\n.jcolor-fullscreen {\n  position: fixed;\n  bottom: 0px;\n  width: 100%;\n  max-height: 250px;\n  border-radius: 0px;\n  box-sizing: border-box;\n}\n.jcolor-close {\n  display: none;\n  font-size: 1em;\n  color: var(--active-color);\n  text-transform: uppercase;\n  text-align: right;\n  padding: 15px;\n  font-weight: bold;\n  -webkit-box-shadow: 1px 0px 1px 0px rgba(0,0,0,0.39);\n  -moz-box-shadow: 1px 0px 1px 0px rgba(0,0,0,0.39);\n  box-shadow: 1px 0px 1px 0px rgba(0,0,0,0.39);\n  width: 100%;\n  box-sizing: border-box;\n}\n.jcolor-fullscreen .jcolor-close {\n  display: block;\n}\n.jcolor-backdrop {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  min-width: 100%;\n  min-height: 100%;\n  background-color: rgba(0,0,0,0.5);\n  border: 0px;\n  padding: 0px;\n  z-index: 8000;\n  display: none;\n  -webkit-touch-callout: none;\n  /* iOS Safari */\n  -webkit-user-select: none;\n  /* Safari */\n  -khtml-user-select: none;\n  /* Konqueror HTML */\n  -moz-user-select: none;\n  /* Firefox */\n  -ms-user-select: none;\n  /* Internet Explorer/Edge */\n  user-select: none;\n  /* Non-prefixed version, currently\r\n                                  supported by Chrome and Opera */\n}\n/**\r\n * Contextmenu v1.0.1\r\n * Author: paul.hodel@gmail.com\r\n * https://github.com/paulhodel/jsuites\r\n */\n.jcontextmenu {\n  position: fixed;\n  z-index: 10000;\n  background: #fff;\n  color: #555;\n  font-size: 11px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  -webkit-box-shadow: 2px 2px 2px 0px rgba(143, 144, 145, 1);\n  -moz-box-shadow: 2px 2px 2px 0px rgba(143, 144, 145, 1);\n  box-shadow: 2px 2px 2px 0px rgba(143, 144, 145, 1);\n  border: 1px solid #C6C6C6;\n  padding: 0px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  margin: 0px;\n  outline: none;\n  display: none;\n}\n.jcontextmenu.jcontextmenu-focus {\n  display: inline-block;\n}\n.jcontextmenu > div {\n  box-sizing: border-box;\n  display: block;\n  padding: 8px 8px 8px 28px;\n  width: 250px;\n  position: relative;\n  cursor: default;\n  font-size: 11px;\n  font-family: sans-serif;\n}\n.jcontextmenu > div a {\n  color: #555;\n  text-decoration: none;\n}\n.jcontextmenu > div span {\n  float: right;\n  margin-right: 10px;\n}\n.jcontextmenu .contextmenu-disabled {\n  color: #a1a192;\n}\n.jcontextmenu > div:not(.contextmenu-line):hover {\n  background: #ebebeb;\n}\n.jcontextmenu > div.contextmenu-line {\n  border-top: 1px solid #e9e9e9;\n  margin-top: 5px;\n  padding: 2px;\n}\n.jcontextmenu hr {\n  border: 1px solid #e9e9e9;\n  border-bottom: 0;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n/**\r\n * Dialog v1.0.1\r\n * Author: paul.hodel@gmail.com\r\n * https://github.com/paulhodel/jtools\r\n */\n.jdialog {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  min-height: 100%;\n  z-index: 10000;\n  background-color: rgba(0,0,0,0.5);\n  -webkit-transition-duration: .1s;\n  transition-duration: .1s;\n  display: flex;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  align-items: center;\n}\n.jdialog .jdialog-container {\n  width: 100%;\n  max-width: 280px;\n  box-sizing: border-box;\n  margin: 0 auto;\n  vertical-align: middle;\n  background-color: #fff;\n  border-radius: 10px;\n  opacity: 0;\n  transition: opacity .2s;\n  -webkit-transition: opacity .2s;\n}\n.jdialog .jdialog-header {\n  padding: 10px;\n  text-align: center;\n}\n.jdialog .jdialog-header .jdialog-title {\n  font-size: 1em;\n  font-weight: bold;\n  padding: 8px;\n}\n.jdialog .jdialog-header .jdialog-message {\n  padding: 4px;\n}\n.jdialog .jdialog-footer {\n  border-top: 1px solid #ccc;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: stretch;\n  align-items: center;\n  text-align: center;\n}\n.jdialog .jdialog-footer > div {\n  padding: 4px;\n  border-left: 1px solid #ccc;\n  text-align: center;\n  width: 100%;\n}\n.jdialog .jdialog-footer > div:first-child {\n  border-left: 0px;\n}\n.jdialog .jdialog-footer input {\n  border: 0px;\n  margin: 0px;\n  background-color: transparent;\n  color: var(--active-color);\n  width: 100%;\n  outline: none;\n}\n/**\n * (c) 2013 jDropdown\n * http://www.github.com/paulhodel/jdropdown\n *\n * @author: Paul Hodel <paul.hodel@gmail.com>\n * @description: Custom dropdowns\n */\n.jdropdown {\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  box-sizing: border-box;\n  background: #fff;\n  -webkit-tap-highlight-color: transparent;\n  display: inline-block;\n}\n.jdropdown-header::placeholder {\n  color: #000;\n}\n.jdropdown-backdrop {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  min-width: 100%;\n  min-height: 100%;\n  background-color: rgba(0,0,0,0.5);\n  border: 0px;\n  padding: 0px;\n  z-index: 8000;\n  display: none;\n}\n.jdropdown-focus {\n  position: relative;\n}\n.jdropdown-focus .jdropdown-container {\n  transform: translate3d(0,0,0);\n}\n.jdropdown-focus .jdropdown-header {\n  outline: auto 5px -webkit-focus-ring-color;\n}\n.jdropdown-container-header {\n  padding: 0px;\n  margin: 0px;\n  position: relative;\n}\n.jdropdown-header {\n  width: 100%;\n  appearance: none;\n  background-repeat: no-repeat;\n  background-position: top 50% right 5px;\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M7 10l5 5 5-5H7z' fill='gray'/%3E%3C/svg%3E\");\n  text-overflow: ellipsis;\n  cursor: pointer;\n  box-sizing: border-box;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  padding-right: 24px;\n}\n.jdropdown-insert-button {\n  font-size: 1.4em;\n  text-transform: uppercase;\n  position: absolute;\n  right: 30px;\n  top: 4px;\n  display: none;\n}\n.jdropdown-container {\n  min-width: inherit;\n  transform: translate3d(-10000px,0,0);\n  position: absolute;\n  z-index: 9001;\n}\n.jdropdown-close {\n  display: none;\n  font-size: 1em;\n  color: var(--active-color);\n  text-transform: uppercase;\n  text-align: right;\n  padding: 15px;\n  font-weight: bold;\n}\n.jdropdown-content {\n  min-width: inherit;\n  margin: 0px;\n  box-sizing: border-box;\n}\n\n.jdropdown-item {\n  white-space: nowrap;\n  text-align: left;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n  color: #000;\n  display: flex;\n  align-items: center;\n}\n.jdropdown-image {\n  margin-right: 10px;\n  width: 32px;\n  height: 32px;\n  border-radius: 20px;\n}\n.jdropdown-image-small {\n  width: 24px;\n  height: 24px;\n}\n.jdropdown-title {\n  font-size: 0.7em;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n  display: block;\n}\n/** Default visual **/\n.jdropdown-default .jdropdown-header {\n  border: 1px solid #ccc;\n  padding: 5px;\n  padding-left: 10px;\n  padding-right: 16px;\n}\n.jdropdown-default .jdropdown-container {\n  background-color: #fff;\n}\n.jdropdown-default.jdropdown-focus.jdropdown-insert .jdropdown-header {\n  padding-right: 50px;\n}\n.jdropdown-default.jdropdown-focus.jdropdown-insert .jdropdown-insert-button {\n  display: block;\n}\n.jdropdown-default .jdropdown-content {\n  min-width: inherit;\n  border: 1px solid #8fb1e3;\n  margin: 0px;\n  background-color: #fff;\n  box-sizing: border-box;\n  min-height: 10px;\n  max-height: 215px;\n  overflow-y: auto;\n}\n.jdropdown-default .jdropdown-item {\n  padding: 4px;\n  padding-left: 8px;\n  padding-right: 40px;\n}\n.jdropdown-default .jdropdown-item:hover {\n  background-color: #1f93ff;\n  color: #fff;\n}\n.jdropdown-default .jdropdown-cursor {\n  background-color: #1f93ff;\n  color: #fff;\n}\n.jdropdown-default .jdropdown-selected {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiAvPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiIGZpbGw9IndoaXRlIiAvPjwvc3ZnPgo=');\n  background-repeat: no-repeat;\n  background-position: top 50% right 5px;\n  background-color: #1f93ff;\n  color: #fff;\n}\n.jdropdown-default .jdropdown-group {\n  margin-top: 5px;\n}\n.jdropdown-default .jdropdown-group .jdropdown-item {\n  padding-left: 16px;\n}\n.jdropdown-default .jdropdown-group-name {\n  padding-left: 8px;\n  font-weight: bold;\n}\n/** Default render for mobile **/\n.jdropdown-picker.jdropdown-focus .jdropdown-header {\n  outline: none;\n}\n.jdropdown-picker.jdropdown-focus .jdropdown-backdrop {\n  display: block;\n}\n.jdropdown-picker .jdropdown-container {\n  position: fixed;\n  bottom: 0px;\n  left: 0px;\n  border-bottom: 1px solid #e6e6e8;\n  width: 100%;\n  background-color: #fff;\n  box-sizing: border-box;\n}\n.jdropdown-picker .jdropdown-close {\n  -webkit-box-shadow: 0px -1px 5px 0px rgba(0,0,0,0.39);\n  -moz-box-shadow: 0px -1px 5px 0px rgba(0,0,0,0.39);\n  box-shadow: 0px -1px 5px 0px rgba(0,0,0,0.39);\n  background-color: #fff;\n  display: block;\n}\n.jdropdown-picker .jdropdown-content {\n  overflow-y: scroll;\n  height: 280px;\n  background-color: #fafafa;\n  border-top: 1px solid #e6e6e8;\n}\n.jdropdown-picker .jdropdown-group-name {\n  font-size: 1em;\n  text-transform: uppercase;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  display: block;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 20px;\n  padding-right: 20px;\n  text-align: center;\n  font-weight: bold;\n}\n.jdropdown-picker .jdropdown-item {\n  font-size: 1em;\n  text-transform: uppercase;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 20px;\n  padding-right: 20px;\n}\n.jdropdown-picker .jdropdown-selected {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiAvPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiIGZpbGw9IndoaXRlIiAvPjwvc3ZnPgo=');\n  background-repeat: no-repeat;\n  background-position: top 50% right 15px;\n  background-color: #1f93ff;\n  color: #fff;\n}\n.jdropdown-picker .jdropdown-cursor {\n  background-color: #1f93ff;\n  color: #fff;\n}\n/** Default render for mobile searchbar **/\n.jdropdown-searchbar.jdropdown-focus {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  background-color: #fafafa;\n  padding: 0px;\n  z-index: 9001;\n  overflow-y: scroll;\n}\n.jdropdown-searchbar.jdropdown-focus .jdropdown-container-header {\n  padding: 10px;\n  background-color: #fff;\n  box-shadow: 0 1px 2px rgba(0,0,0,.1);\n}\n.jdropdown-searchbar.jdropdown-focus .jdropdown-header {\n  border: 0px;\n  background-repeat: no-repeat;\n  background-position-x: 0%;\n  background-position-y: 40%;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHoiIGZpbGw9IiNlNmU2ZTgiLz48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PC9zdmc+);\n  padding-left: 30px !important;\n  padding-right: 60px !important;\n  outline: none;\n}\n.jdropdown-searchbar.jdropdown-focus .jdropdown-close {\n  display: block;\n}\n.jdropdown-searchbar .jdropdown-container {\n  width: 100%;\n}\n.jdropdown-searchbar .jdropdown-close {\n  position: fixed;\n  top: 0px;\n  right: 0px;\n}\n.jdropdown-searchbar .jdropdown-content {\n  margin-top: 10px;\n}\n.jdropdown-searchbar .jdropdown-group {\n  margin-top: 10px;\n  margin-bottom: 15px;\n  background-color: #fff;\n}\n.jdropdown-searchbar .jdropdown-group-name {\n  border-top: 1px solid #e6e6e8;\n  border-bottom: 1px solid #e6e6e8;\n  padding: 10px;\n  padding-left: 12px;\n  font-weight: bold;\n}\n.jdropdown-searchbar .jdropdown-group-arrow {\n  float: right;\n  width: 24px;\n  height: 24px;\n  background-repeat: no-repeat;\n}\n.jdropdown-searchbar .jdropdown-group-arrow-down {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNy40MSA4LjU5TDEyIDEzLjE3bDQuNTktNC41OEwxOCAxMGwtNiA2LTYtNiAxLjQxLTEuNDF6Ii8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgwVjB6Ii8+PC9zdmc+);\n}\n.jdropdown-searchbar .jdropdown-group-arrow-up {\n  background-image: url(data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTcuNDEgMTUuNDFMMTIgMTAuODNsNC41OSA0LjU4TDE4IDE0bC02LTYtNiA2eiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=);\n}\n.jdropdown-searchbar .jdropdown-item {\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 15px;\n  padding-right: 40px;\n  background-color: #fff;\n  font-size: 0.9em;\n}\n.jdropdown-searchbar .jdropdown-description {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: calc(100% - 20px);\n}\n.jdropdown-searchbar .jdropdown-content > .jdropdown-item:first-child {\n  border-top: 1px solid #e6e6e8;\n}\n.jdropdown-searchbar .jdropdown-selected {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTYuMTdMNC44MyAxMmwtMS40MiAxLjQxTDkgMTkgMjEgN2wtMS40MS0xLjQxeiIgZmlsbD0iIzAwN2FmZiIvPjwvc3ZnPg==');\n  background-repeat: no-repeat;\n  background-position: top 50% right 15px;\n}\n/** List render **/\n\n.jdropdown-list .jdropdown-container {\n  display: block;\n}\n.jdropdown-list .jdropdown-header {\n  display: none;\n}\n.jdropdown-list .jdropdown-group {\n  background-color: #fff;\n}\n.jdropdown-list .jdropdown-group-name {\n  border-bottom: 1px solid #e6e6e8;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  font-weight: bold;\n}\n.jdropdown-list .jdropdown-item {\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 10px;\n  padding-right: 40px;\n  background-color: #fff;\n}\n.jdropdown-list .jdropdown-selected {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTYuMTdMNC44MyAxMmwtMS40MiAxLjQxTDkgMTkgMjEgN2wtMS40MS0xLjQxeiIgZmlsbD0iIzAwN2FmZiIvPjwvc3ZnPg==');\n  background-repeat: no-repeat;\n  background-position: top 50% right 10px;\n}\n@media only screen and (max-device-width : 800px) {\n  .jdropdown-list {\n    width: 100% !important;\n    border: 0px;\n    padding: 0px;\n  }\n\n  .jdropdown-list .jdropdown-container {\n    min-width: 100%;\n  }\n}\n.app .jdropdown-item {\n  text-transform: uppercase;\n}\n/**\r\n * (c) jTools Text Editor\r\n * https://github.com/paulhodel/jtools\r\n *\r\n * @author: Paul Hodel <paul.hodel@gmail.com>\r\n * @description: Inline richtext editor\r\n */\n.jeditor-container {\n  border: 1px solid #ccc;\n}\n.jeditor-dragging {\n  border: 1px dashed #000;\n}\n.jeditor-container.jeditor-padding {\n  padding: 10px;\n}\n.jeditor {\n  outline: none;\n  word-break: break-word;\n}\n.jeditor-container.jeditor-padding .jeditor {\n  min-height: 120px;\n  margin-bottom: 10px;\n  padding: 10px;\n}\n.jeditor-toolbar {\n  cursor: pointer;\n  display: -webkit-inline-box;\n  display: -webkit-inline-flex;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -webkit-align-items: center;\n  align-items: center;\n  border: none;\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n  -webkit-box-shadow: 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12), 0 2px 4px -1px rgba(0,0,0,0.2);\n  box-shadow: 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12), 0 2px 4px -1px rgba(0,0,0,0.2);\n  margin: 0px;\n  margin-bottom: 5px;\n  padding: 5px;\n  white-space: nowrap;\n  border-radius: 2px;\n}\n.jeditor-toolbar .jeditor-toolbar-group {\n  background-color: #f3f3f3;\n}\n.jeditor-toolbar div {\n  padding: 4px;\n}\n.jeditor-toolbar div.jeditor-toolbar-button {\n  padding-left: 20px;\n  padding-right: 20px;\n}\n.jeditor-toolbar div {\n  -webkit-user-select: none;\n  /* Chrome all / Safari all */\n  -moz-user-select: none;\n  /* Firefox all */\n  -ms-user-select: none;\n  /* IE 10+ */\n  user-select: none;\n  /* Likely future */\n}\n.jeditor-toolbar div i {\n  display: block;\n  font-size: 20px;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  color: #777;\n}\n.jeditor-toolbar select {\n  border: 0px;\n  background-color: transparent;\n  padding: 0px;\n  padding-left: 5px;\n  padding-right: 5px;\n  display: block;\n  height: 32px;\n  outline: none;\n  border-radius: 4px;\n  margin: 1px;\n}\n.jeditor-toolbar .jtoolbar-divisor {\n  width: 2px;\n  height: 28px;\n  padding: 0px;\n  margin: 4px;\n  background-color: #f2f2f2;\n}\n.jeditor-toolbar select option {\n  background-color: #fff;\n  padding: 20px;\n}\n.jeditor-toolbar div:hover,\n.toolbar select:hover {\n  background-color: #f2f2f2;\n  border-radius: 2px;\n}\n.jeditor-toolbar div:hover i {\n  color: #222;\n}\n.jeditor-toolbar div.selected {\n  background-color: #cecece;\n}\n.jeditor-thumbs {\n  display: inline-block;\n  margin-right: 5px;\n}\n.jeditor-thumbs-container {\n  margin-top: 15px;\n}\n.jeditor-thumbs .close {\n  position: absolute;\n  height: 1px;\n}\n.jeditor-thumbs .close i {\n  color: #fff;\n  text-shadow: 0px 0px 2px #000;\n  position: relative;\n  top: 5px;\n  left: 72px;\n}\n.jeditor-thumbs img {\n  border: 1px solid #eee;\n  width: 100px;\n  height: 100px;\n}\n.jeditor-users {\n  position: absolute;\n  border: 1px solid #ccc;\n  background-color: #fff;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  max-height: 220px;\n  overflow-y: scroll;\n}\n.jeditor-users > div {\n  display: flex;\n  align-items: center;\n  min-width: 220px;\n  padding: 10px;\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n.jeditor-users > div:hover {\n  background-color: #efefef;\n}\n.jeditor-users > div img {\n  width: 24px;\n  height: 24px;\n  border-radius: 12px;\n  margin-right: 5px;\n}\n/** Snippet **/\n.snippet {\n  margin-top: 15px;\n  cursor: pointer;\n  border: 1px solid #eee;\n  position: relative;\n}\n.snippet:focus {\n  outline: none;\n}\n.snippet img {\n  width: 25%;\n  max-width: 120px;\n  float: left;\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n.snippet .snippet-title {\n  margin-top: 15px;\n  font-size: 1.4em;\n}\n.snippet .snippet-description {\n  margin-top: 5px;\n  font-size: 1em;\n}\n.snippet .snippet-host {\n  margin-top: 10px;\n  margin-bottom: 10px;\n  text-transform: uppercase;\n  font-size: 0.8em;\n  color: #777;\n  text-align: right;\n}\n.snippet .snippet-url {\n  display: none;\n}\n.jeditor .snippet:after {\n  content: '';\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 14px;\n  font-size: 24px;\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n  text-shadow: 0px 0px 5px #fff;\n}\n.snippet div,\n.snippet img {\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n  -khtml-user-drag: none;\n  -moz-user-drag: none;\n  -o-user-drag: none;\n}\n.jeditor img {\n  border: 2px solid transparent;\n  box-sizing: border-box;\n}\n.jeditor img:focus {\n  border: 2px solid #0096FD;\n}\n.jeditor .pdf {\n  background-image: url(\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cpath style='fill:%23C30B15;' d='M511.344,274.266C511.77,268.231,512,262.143,512,256C512,114.615,397.385,0,256,0S0,114.615,0,256 c0,117.769,79.53,216.949,187.809,246.801L511.344,274.266z'/%3E%3Cpath style='fill:%2385080E;' d='M511.344,274.266L314.991,77.913L119.096,434.087l68.714,68.714C209.522,508.787,232.385,512,256,512 C391.243,512,501.976,407.125,511.344,274.266z'/%3E%3Cpolygon style='fill:%23FFFFFF;' points='278.328,333.913 255.711,77.913 119.096,77.913 119.096,311.652 '/%3E%3Cpolygon style='fill:%23E8E6E6;' points='392.904,311.652 392.904,155.826 337.252,133.565 314.991,77.913 255.711,77.913 256.067,333.913 '/%3E%3Cpolygon style='fill:%23FFFFFF;' points='314.991,155.826 314.991,77.913 392.904,155.826 '/%3E%3Crect x='119.096' y='311.652' style='fill:%23FC0F1A;' width='273.809' height='122.435'/%3E%3Cg%3E%3Cpath style='fill:%23FFFFFF;' d='M204.871,346.387c13.547,0,21.341,6.659,21.341,18.465c0,12.412-7.795,19.601-21.341,19.601h-9.611 v14.909h-13.471v-52.975L204.871,346.387L204.871,346.387z M195.26,373.858h8.93c5.904,0,9.308-2.952,9.308-8.552 c0-5.525-3.406-8.324-9.308-8.324h-8.93V373.858z'/%3E%3Cpath style='fill:%23FFFFFF;' d='M257.928,346.387c16.649,0,28.152,10.746,28.152,26.487c0,15.666-11.655,26.488-28.683,26.488 h-22.25v-52.975H257.928z M248.619,388.615h9.611c8.249,0,14.151-6.357,14.151-15.665c0-9.384-6.205-15.817-14.757-15.817h-9.006 V388.615z'/%3E%3Cpath style='fill:%23FFFFFF;' d='M308.563,356.982v12.26h23.763v10.596h-23.763v19.525h-13.471v-52.975h39.277v10.595h-25.806 V356.982z'/%3E%3C/g%3E%3C/svg%3E%0A\");\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 60px;\n  height: 60px;\n}\n/**\r\n * (c) jLoading\r\n * https://github.com/paulhodel/jtools\r\n *\r\n * @author: Paul Hodel <paul.hodel@gmail.com>\r\n * @description: Page loading spin\r\n */\n.jloading {\n  position: fixed;\n  z-index: 10001;\n  width: 100%;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: rgba(0,0,0,0.7);\n}\n.jloading::after {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  margin-top: 50vh;\n  width: 40px;\n  height: 40px;\n  border-style: solid;\n  border-color: white;\n  border-top-color: transparent;\n  border-width: 4px;\n  border-radius: 50%;\n  -webkit-animation: spin .8s linear infinite;\n  animation: spin .8s linear infinite;\n}\n.jloading.spin {\n  background-color: transparent;\n}\n.jloading.spin::after {\n  margin: 0 auto;\n  margin-top: 80px;\n  border-color: #aaa;\n  border-top-color: transparent;\n}\n.jlogin {\n  width: 100%;\n  box-sizing: border-box;\n  margin: 0 auto;\n  vertical-align: middle;\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  font-size: 1em;\n}\n.jlogin-fullscreen {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n  z-index: 9000;\n}\n.jlogin > form {\n  max-width: 480px;\n  padding: 20px;\n  margin: 0 auto;\n}\n.jlogin > form > div {\n  margin-bottom: 10px;\n}\n.jlogin label {\n  display: block;\n}\n.jlogin > form > div > input {\n  width: 100%;\n  outline: none;\n  padding: 15px;\n  margin: 0px;\n}\n.jlogin input[type='checkbox'] {\n  float: left;\n}\n.jlogin input[type='button'] {\n  padding: 10px;\n  background-color: var(--button-color);\n  border: 1px solid var(--button-color);\n  color: #fff;\n  cursor: pointer;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.jlogin span {\n  margin: 0 auto;\n}\n.jlogin img {\n  text-align: center;\n  max-width: 220px;\n}\n.jlogin .jlogin-logo {\n  text-align: center;\n  padding: 20px;\n}\n.jlogin .captcha {\n  width: 100%;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  border: 1px solid #ccc;\n  display: block;\n}\n.jlogin .facebookButton {\n  padding: 10px;\n  background-color: var(--button-color);\n  border: 1px solid var(--button-color);\n  color: #fff;\n  text-align: center;\n  background-repeat: no-repeat;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24px' height='24px'%3E%3Cpath d='M19,3H5C3.895,3,3,3.895,3,5v14c0,1.105,0.895,2,2,2h7.621v-6.961h-2.343v-2.725h2.343V9.309 c0-2.324,1.421-3.591,3.495-3.591c0.699-0.002,1.397,0.034,2.092,0.105v2.43h-1.428c-1.13,0-1.35,0.534-1.35,1.322v1.735h2.7 l-0.351,2.725h-2.365V21H19c1.105,0,2-0.895,2-2V5C21,3.895,20.105,3,19,3z' fill='white'/%3E%3C/svg%3E%0A\");\n  background-position: 10px 40%;\n  cursor: pointer;\n}\n.jlogin .rememberButton {\n  padding: 10px;\n  display: none;\n}\n.jlogin .requestButton,\n.jlogin .cancelButton,\n.jlogin .newProfileButton {\n  padding: 20px;\n  padding-bottom: 0px;\n  text-align: center;\n  cursor: pointer;\n}\n.jlogin-captcha img {\n  min-width: 280px;\n}\n.jlogin-loading:before {\n  content: \"\";\n  display: block;\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  width: 200px;\n  height: 4px;\n  background-color: var(--button-color);\n  animation: loading 2s linear infinite;\n}\n@keyframes loading {\n  from {\n    left: -200px;\n    width: 30%;\n  }\n\n  50% {\n    width: 30%;\n  }\n\n  70% {\n    width: 70%;\n  }\n\n  80% {\n    left: 50%;\n  }\n\n  95% {\n    left: 120%;\n  }\n\n  to {\n    left: 100%;\n  }\n}\n@media only screen and (max-device-width : 800px) {\n  .jsuites * {\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n  }\n\n  html.jsuites {\n    height: 100%;\n  }\n\n  .jsuites body {\n    margin: 0px;\n    padding: 0px;\n    width: 100%;\n    height: 100%;\n    min-height: 100%;\n    line-height: 1.4;\n    font-family: -apple-system,SF UI Text,Helvetica Neue,Helvetica,Arial,sans-serif !important;\n    background-color: #fff;\n  }\n\n  .jsuites input,\n  .jsuites select,\n  .jsuites textarea,\n  .jsuites div {\n    font-family: -apple-system,SF UI Text,Helvetica Neue,Helvetica,Arial,sans-serif !important;\n  }\n}\n.japp {\n  height: 100%;\n  box-sizing: border-box;\n  overflow: scroll;\n  background-color: #fafafa;\n}\n.jwarning::before {\n  content: 'No internet connection';\n  background-color: red;\n  color: #fff;\n  padding: 2px;\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  z-index: 20000;\n  width: 100%;\n  font-size: 0.55em;\n  text-align: center;\n}\n/*\r\n.japp .activeHighLight\r\n{\r\n    color:var(--active-color);\r\n}\r\n\r\n.japp .active a, .japp .active span, .japp .active i\r\n{\r\n    color:var(--active-color);\r\n}\r\n\r\n.japp .no-padding\r\n{\r\n    padding:0px;\r\n}\r\n\r\n.japp .action\r\n{\r\n    color:var(--active-color);\r\n    cursor:pointer;\r\n}\r\n\r\n\r\n.japp i.action\r\n{\r\n    position:absolute;\r\n    right:0px;\r\n    margin-right:15px;\r\n    cursor:pointer;\r\n}\r\n*/\n.japp button {\n  border-radius: 4px;\n  width: 100%;\n  border: 1px solid var(--active-color);\n  color: var(--active-color);\n  background-color: transparent;\n  padding: 4px;\n  outline: none;\n}\n.japp button:active {\n  border: 1px solid #000;\n  color: #000;\n}\n.japp .red {\n  color: red;\n  border-color: 1px solid red;\n}\n.japp .link {\n  color: var(--active-color);\n  cursor: pointer;\n}\n.japp .uppercase {\n  text-transform: uppercase;\n}\n/** Navbar **/\n.japp .navbar {\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 500;\n  margin: 0;\n  -webkit-backface-visibility: hidden;\n  -webkit-transform: translate3d(0,0,0);\n  -webkit-box-sizing: border-box;\n  backface-visibility: hidden;\n  box-sizing: border-box;\n  transform: translate3d(0,0,0);\n  height: 44px;\n  background-color: #fff;\n  box-shadow: 0 1px 2px rgba(0,0,0,.1);\n}\n.jwarning .navbar {\n  top: 16px;\n}\n.japp .navbar-container {\n  padding: 0 8px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: middle;\n  display: flex;\n  -webkit-flex-flow: row wrap;\n  justify-content: space-between;\n  align-items: center;\n}\n.japp .navbar-container div {\n  text-align: center;\n}\n.japp .navbar-container div.title {\n  display: flex;\n}\n.japp .navbar-container div.title div {\n  line-height: 24px;\n}\n.japp .navbar-container div.icon {\n  width: 24px;\n}\n.japp .navbar-container div i {\n  display: block;\n}\n.japp .navbar-container div img {\n  height: 28px;\n  display: block;\n}\n.japp .navbar-container div.title div img {\n  border-radius: 12px;\n  width: 24px;\n  height: 24px;\n  margin-right: 6px;\n}\n.japp .navbar .icon {\n  color: var(--active-color);\n}\n.japp .title {\n  font-size: 1.2em;\n}\n.japp .block {\n  padding: 15px;\n  color: #6d6d72;\n  font-size: 0.9em;\n  box-sizing: border-box;\n}\n.japp .block-title {\n  text-transform: uppercase;\n  color: #6d6d72;\n  margin: 25px 15px 10px;\n  line-height: 17px;\n  position: relative;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  line-height: 1;\n  font-size: 0.9em;\n}\n.japp .block-strong {\n  background-color: #fff;\n  color: #000;\n}\n.japp .block-border {\n  border-top: 1px solid #ddd;\n  border-bottom: 1px solid #ddd;\n}\n.japp .block-footer {\n  text-transform: uppercase;\n  padding: 15px;\n  color: #6d6d72;\n  font-size: 0.7em;\n}\n.japp .block-collapse {\n  max-height: 100px;\n  overflow-y: hidden;\n}\n.japp .block-instruction {\n  text-transform: uppercase;\n  padding: 15px;\n  color: #6d6d72;\n  font-size: 0.7em;\n  text-align: center;\n}\n.japp .pages {\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: flex-start;\n  height: 100%;\n}\n.japp .page {\n  padding-top: 45px;\n  padding-bottom: 45px;\n  min-height: 100%;\n  min-width: 100%;\n  box-sizing: border-box;\n  overflow-y: auto;\n  /*will-change: scroll-position;\r\n    -webkit-overflow-scrolling: touch;\r\n    -webkit-transform: translateZ(0px);\r\n    -webkit-transform: translate3d(0,0,0);\r\n    -webkit-perspective: 1000;*/\n}\n.warning .page {\n  padding-top: 60px;\n}\n.japp .progressbar-container {\n  margin: 15px;\n  margin-left: 0px;\n  margin-right: 0px;\n  margin-top: 5px;\n}\n.japp .progressbar {\n  width: 100%;\n  border: 1px solid var(--active-color);\n  border-radius: 1px;\n}\n.japp .progressbar-title {\n  margin-bottom: 2px;\n  text-transform: uppercase;\n  display: flex;\n  justify-content: space-between;\n}\n.japp .progressbar div {\n  background-color: var(--active-color);\n  height: 4px;\n  width: 0%;\n}\n.japp .panel {\n  position: fixed;\n  top: 0;\n  left: 0;\n  margin: 0;\n  width: 60vw;\n  max-width: 220px;\n  height: 100vh;\n  background: #fff;\n  z-index: 1003;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  box-shadow: 0 -1px 2px rgba(0,0,0,.1);\n  padding: 4px;\n}\n.japp .panel-left {\n  -webkit-box-shadow: 0px 2px 15px -5px rgba(0, 0, 0, 0.7);\n  box-shadow: 0px 2px 15px -5px rgba(0, 0, 0, 0.7);\n}\n.japp .panel a {\n  color: var(--active-color);\n}\n/** Toolbar **/\n.japp .jtoolbar {\n  position: fixed;\n  bottom: 0;\n  margin: 0;\n  left: 0;\n  width: 100%;\n  background: #f7f7f8;\n  z-index: 500;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  box-shadow: 0 -1px 2px rgba(0,0,0,.1);\n  padding: 4px;\n}\n.japp .jtoolbar > div {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: middle;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-flow: row wrap;\n  justify-content: space-evenly;\n  align-items: center;\n  width: 100%;\n  cursor: pointer;\n}\n.japp .jtoolbar > div > div {\n  text-align: center;\n  flex: 1;\n  margin: auto;\n}\n.japp .jtoolbar a {\n  text-decoration: none;\n  display: inline-block;\n}\n.japp .jtoolbar i {\n  color: #929292;\n}\n.japp .jtoolbar span {\n  font-size: 0.7em;\n  display: block;\n  color: #929292;\n}\n.japp .jtoolbar .selected a,\n.japp .jtoolbar .selected i,\n.japp .jtoolbar .selected span {\n  color: var(--active-color);\n}\n/** Options **/\n.japp .options {\n  background-color: #fff;\n  border-top: 1px solid #e6e6e8;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 15px;\n  margin-top: 10px;\n}\n.japp .options:empty {\n  display: none;\n}\n.japp .options .option {\n  padding-top: 10px;\n  padding-bottom: 10px;\n  text-transform: uppercase;\n  font-size: 1em;\n  border-bottom: 1px solid #e6e6e8;\n  overflow-x: hidden;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: middle;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-flow: row nowrap;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: nowrap;\n}\n.japp .options .option:last-child {\n  border-bottom: 0px;\n}\n.japp .options label {\n  width: 100%;\n}\n.japp .options input[type='text'],\n.japp .options textarea {\n  outline: none;\n  border: 1px solid transparent;\n  font-size: 1em;\n  margin: 0px;\n  padding: 0px;\n  width: 100%;\n  box-sizing: border-box;\n}\n.japp .options textarea {\n  height: 100px;\n}\n.japp .options input[type='checkbox'],\n.japp .options input[type='radio'] {\n  visibility: hidden;\n}\n.japp .options input[type='checkbox'] ~ i,\n.japp .options input[type='radio'] ~ i {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTYuMTdMNC44MyAxMmwtMS40MiAxLjQxTDkgMTkgMjEgN2wtMS40MS0xLjQxeiIgZmlsbD0iIzAwN2FmZiIvPjwvc3ZnPg==');\n  background-repeat: no-repeat;\n  content: '';\n  visibility: hidden;\n  margin-right: 10px;\n  line-height: 24px;\n  width: 24px;\n  height: 24px;\n}\n.japp .options input[type='checkbox']:checked ~ i,\n.japp .options input[type='radio']:checked  ~ i {\n  visibility: visible;\n}\n.japp .options .jdropdown {\n  display: block;\n}\n.japp .options .jdropdown .jdropdown-header {\n  border: 0px;\n  border-bottom: 1px solid #e6e6e8;\n  padding: 15px;\n  text-transform: uppercase;\n}\n.japp .options .jdropdown:last-child .jdropdown-header {\n  border-bottom: 0px;\n}\n.japp .options .jdropdown-searchbar.jdropdown-focus .jdropdown-header {\n  border: 0px;\n  padding: 5px;\n}\n.japp .options .icon {\n  float: left;\n  margin-right: 10px;\n  max-width: 40px;\n  max-height: 40px;\n  border-radius: 20px;\n  color: #929292;\n}\n.japp .options .option .option-actions {\n  display: flex;\n  transform: translateX(100%);\n  width: 0px;\n}\n.japp .options .option .option-actions > div {\n  padding-right: 5px;\n}\n.japp .options .option .option-actions > div > i {\n  width: 40px;\n  height: 40px;\n  color: #fff;\n  font-size: 24px;\n  line-height: 40px;\n  text-align: center;\n  border-radius: 30px;\n  background-color: red;\n}\n.japp .options .option .option-actions.small > div > i {\n  color: #000;\n  width: 24px;\n  height: 24px;\n  font-size: 24px;\n  line-height: 24px;\n  border-radius: 24px;\n  background-color: transparent;\n}\n.japp .options .option-title {\n  display: block;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  text-transform: uppercase;\n  font-size: 1em;\n  vertical-align: center;\n}\n.japp .options .option-title::after {\n  content: '\\e313';\n  font-family: 'material icons';\n  font-size: 24px;\n  margin-right: 10px;\n  float: right;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n}\n.japp .options .option-title.selected::after {\n  content: '\\e316';\n}\n.japp .options .option-title.selected ~ div {\n  display: block;\n}\n.japp .options .option-group {\n  border-top: 1px solid #e6e6e8;\n  background-color: #fff;\n  display: none;\n}\n.japp .options .option-link:after {\n  content: '\\e315';\n  font-family: 'material icons';\n  color: var(--active-color);\n  font-size: 24px;\n  margin-right: 10px;\n  float: right;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  display: block;\n}\n.japp .options .option-header {\n  padding-left: 10px;\n  padding-right: 10px;\n  flex-grow: 10;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.japp .options .option .option-name {\n  font-size: 1em;\n  text-overflow: ellipsis;\n  width: 100%;\n  overflow: hidden;\n}\n.japp .options .option .option-small {\n  font-size: 0.7em;\n  color: #6d6d72;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  display: block;\n}\n.japp .options .option .option-image img {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  display: block;\n}\n.japp .options .option .option-image-small img {\n  width: 24px;\n  height: auto;\n  border-radius: 50px;\n  display: block;\n}\n.japp .options .option .option-image .option-badge {\n  position: absolute;\n  background-color: red;\n  color: #fff;\n  width: 16px;\n  height: 16px;\n  line-height: 16px;\n  border-radius: 16px;\n  text-align: center;\n  font-size: 7px;\n  margin: 28px;\n}\n.japp .options .option .option-image-small .option-badge {\n  position: absolute;\n  background-color: red;\n  color: #fff;\n  width: 16px;\n  height: 16px;\n  line-height: 16px;\n  border-radius: 16px;\n  text-align: center;\n  font-size: 7px;\n  margin: 12px;\n}\n.japp .options .option .option-badge.solid {\n  background-color: red;\n  color: red;\n}\n.japp .options .option .option-badge.solid-green {\n  background-color: green;\n  color: green;\n}\n.japp .options .option .option-badge:empty {\n  display: none;\n}\n.japp .options .option .option-date {\n  float: right;\n  font-size: 0.6em;\n  color: #888;\n  margin-right: 15px;\n  white-space: nowrap;\n}\n.japp .options .option .option-right {\n  margin-right: 15px;\n}\n.japp .options .option .option-badget {\n  background-color: red;\n  border-radius: 12px;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  font-size: 0.7em;\n  color: #fff;\n  text-align: center;\n}\n.japp .options .option .option-badget:empty {\n  display: none;\n}\n/** Badge **/\n.japp .jbadge {\n  position: relative;\n  display: inline-block;\n  top: -12px;\n  left: -12px;\n}\n.japp .jbadge > div {\n  background-color: red;\n  color: #fff;\n  width: 16px;\n  height: 16px;\n  line-height: 16px;\n  border-radius: 16px;\n  text-align: center;\n  font-size: 8px;\n  position: absolute;\n}\n.japp .jbadge > div:empty {\n  display: none;\n}\n/** Picker **/\n.japp .picker {\n  background-color: #fff;\n  border-top: 1px solid #e6e6e8;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 15px;\n  margin-top: 10px;\n  position: absolute;\n  bottom: 0px;\n  width: 100%;\n  z-index: 700;\n}\n.japp .picker .picker-options {\n  -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,.2)), linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,.2));\n  -webkit-mask-size: 100% 50%;\n  -webkit-mask-repeat: no-repeat;\n  -webkit-mask-position: center bottom, top center;\n  overflow-y: scroll;\n  padding-top: 100px;\n  padding-bottom: 100px;\n}\n.japp .picker label {\n  display: block;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n.japp .picker .picker-selected {\n  border-top: 1px solid #e6e6e8;\n  border-bottom: 1px solid #e6e6e8;\n}\n.japp .picker input {\n  display: none;\n}\n/** Topsearch **/\n.japp .top-search {\n  margin: 0px;\n  padding: 10px;\n  border-bottom: 1px solid #ddd;\n}\n.japp .top-search input {\n  background-color: #e6e6e6;\n  border: 0px;\n  border-radius: 4px;\n  outline: none;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='gray'%3E%3Cpath d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: 5px center;\n  padding-left: 32px;\n  width: 100%;\n}\n.japp .searchbar-container i {\n  position: absolute;\n  margin-top: 5px;\n  margin-left: 8px;\n  color: #bbb;\n}\n/** Range **/\n.japp .range {\n  -webkit-appearance: none;\n  margin: 18px 0;\n  width: 100%;\n}\n.japp .range:focus {\n  outline: none;\n}\n.japp .range::-webkit-slider-runnable-track {\n  width: 100%;\n  height: 4px;\n  cursor: pointer;\n  animation: 0.2s;\n  background: #ccc;\n  border-radius: 1.3px;\n}\n.japp .range::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 24px;\n  height: 24px;\n  background: #fff;\n  cursor: pointer;\n  border-radius: 24px;\n  margin-top: -10px;\n  border: 0px;\n  box-shadow: 0px 1px 3px 1px #bbb;\n}\n.japp .range::-moz-range-track {\n  width: 100%;\n  cursor: pointer;\n  animation: 0.2s;\n  background: #ccc;\n  border-radius: 1.3px;\n}\n.japp .range::-moz-range-thumb {\n  width: 24px;\n  height: 24px;\n  background: #fff;\n  cursor: pointer;\n  border-radius: 24px;\n  border: 0px;\n  box-shadow: 0px 1px 3px 1px #bbb;\n}\n.japp .range::-ms-track {\n  width: 100%;\n  cursor: pointer;\n  animation: 0.2s;\n  background: transparent;\n  border-color: transparent;\n  border-width: 16px 0;\n  color: transparent;\n  border-radius: 1.3px;\n}\n.japp .range::-ms-fill-lower {\n  background: #ccc;\n  height: 5px;\n}\n.japp .range::-ms-fill-upper {\n  background: #ccc;\n  height: 5px;\n}\n.japp .range::-ms-thumb {\n  width: 24px;\n  height: 24px;\n  background: #fff;\n  cursor: pointer;\n  border-radius: 24px;\n  border: 0px;\n  box-shadow: 0px 1px 3px 1px #bbb;\n}\n.japp .range:focus::-ms-fill-lower {\n  background: #ccc;\n}\n.japp .range:focus::-ms-fill-upper {\n  background: #ccc;\n}\n/** Actionsheet **/\n.jactionsheet {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 100%;\n  z-index: 10000;\n  background-color: rgba(0,0,0,0.5);\n  -webkit-transition-duration: .2s;\n  transition-duration: .2s;\n  display: flex;\n  -ms-flex-align: baseline;\n  -webkit-align-items: baseline;\n  -webkit-box-align: baseline;\n  align-items: baseline;\n}\n.jactionsheet .jactionsheet-content {\n  width: 100%;\n  align-self: flex-end;\n}\n.jactionsheet .jactionsheet-title {\n  font-size: 1em;\n  font-weight: bold;\n  padding: 8px;\n}\n.jactionsheet .jactionsheet-message {\n  padding: 4px;\n}\n.jactionsheet .jactionsheet-group {\n  box-sizing: border-box;\n  margin: 10px;\n  background-color: #fff;\n  border-radius: 5px;\n}\n.jactionsheet .jactionsheet-group > div {\n  font-size: 1.4em;\n  font-weight: bold;\n  padding: 4px;\n  border-top: 1px solid #ccc;\n  text-align: center;\n  width: 100%;\n}\n.jactionsheet .jactionsheet-group > div:first-child {\n  border-top: 0px;\n}\n.jactionsheet .jactionsheet-group input {\n  border: 0px;\n  margin: 0px;\n  background-color: transparent;\n  color: var(--active-color);\n  width: 100%;\n  outline: none;\n  font-size: 1em;\n}\n.jactionsheet .jactionsheet-group input.jactionsheet-cancel {\n  color: red;\n}\n/** Toggle **/\n.jtoggle {\n  display: inline-block;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n}\n.jtoggle i {\n  position: relative;\n  display: inline-block;\n  margin-right: .5rem;\n  border-radius: 23px;\n  vertical-align: text-bottom;\n  transition: all 0.3s linear;\n  width: 46px !important;\n  height: 27px !important;\n  background: #e6e6e6 !important;\n  visibility: visible !important;\n}\n.jtoggle i::before {\n  content: \"\";\n  position: absolute;\n  left: 0;\n  width: 42px;\n  height: 22px;\n  background-color: #fff;\n  border-radius: 11px;\n  transform: translate3d(2px, 2px, 0) scale3d(1, 1, 1);\n  transition: all 0.25s linear;\n}\n.jtoggle i::after {\n  content: \"\";\n  position: absolute;\n  left: 0;\n  width: 22px;\n  height: 22px;\n  background-color: #fff;\n  border-radius: 11px;\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.24);\n  transform: translate3d(2px, 2px, 0);\n  transition: all 0.2s ease-in-out;\n}\n.jtoggle:active i::after {\n  width: 28px;\n  transform: translate3d(2px, 2px, 0);\n}\n.jtoggle:active input:checked + i::after {\n  transform: translate3d(16px, 2px, 0);\n}\n.jtoggle input {\n  display: none;\n}\n.jtoggle input:checked + i {\n  background-color: #4BD763 !important;\n}\n.jtoggle input:checked + i::before {\n  transform: translate3d(18px, 2px, 0) scale3d(0, 0, 0);\n}\n.jtoggle input:checked + i::after {\n  transform: translate3d(22px, 2px, 0);\n}\n/** Placeholders **/\n.japp .options input::-webkit-input-placeholder {\n  text-transform: uppercase;\n}\n.japp .options input::-moz-placeholder {\n  text-transform: uppercase;\n}\n.japp .options input:-ms-input-placeholder {\n  text-transform: uppercase;\n}\n.japp .options input:-moz-placeholder {\n  text-transform: uppercase;\n}\n::placeholder {\n  color: #cccccc;\n  opacity: 1;\n}\n:-ms-input-placeholder {\n  color: #cccccc;\n}\n::-ms-input-placeholder {\n  color: #cccccc;\n}\n::-webkit-input-placeholder {\n  color: #cccccc;\n}\n.jmodal {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  width: 60%;\n  height: 60%;\n  -webkit-box-shadow: 0 2px 10px rgba(0,0,0,.2);\n  -moz-box-shadow: 0 2px 10px rgba(0,0,0,.2);\n  border: 1px solid #ccc;\n  background-color: #fff;\n  transform: translate(-50%, -50%);\n  box-sizing: border-box;\n  padding-top: 50px;\n  z-index: 9002;\n  border-radius: 5px;\n}\n.jmodal:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  content: attr(title);\n  padding: 15px;\n  box-sizing: border-box;\n  background: #e3e3e3;\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ededed', endColorstr='#e3e3e3');\n  background: -webkit-gradient(linear, left top, left bottom, from(#ededed), to(#e3e3e3));\n  background: -moz-linear-gradient(top,  #ededed,  #e3e3e3);\n  font-size: 1.2em;\n}\n.jmodal_content {\n  padding: 20px;\n  overflow-y: auto;\n  max-height: 100%;\n}\n.jmodal.no-title {\n  padding-top: 0px;\n}\n.jmodal.no-title:before {\n  display: none;\n}\n.jmodal:after {\n  content: '';\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 14px;\n  font-size: 24px;\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n  text-shadow: 0px 0px 5px #fff;\n}\n.jmodal_fullscreen {\n  width: 100% !important;\n  height: 100% !important;\n  top: 0px;\n  left: 0px;\n  transform: none;\n  border-radius: 0px;\n}\n.jmodal_backdrop {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  min-width: 100%;\n  min-height: 100%;\n  background-color: rgba(0,0,0,0.5);\n  border: 0px;\n  padding: 0px;\n  z-index: 8000;\n  display: none;\n  -webkit-touch-callout: none;\n  /* iOS Safari */\n  -webkit-user-select: none;\n  /* Safari */\n  -khtml-user-select: none;\n  /* Konqueror HTML */\n  -moz-user-select: none;\n  /* Firefox */\n  -ms-user-select: none;\n  /* Internet Explorer/Edge */\n  user-select: none;\n  /* Non-prefixed version, currently\r\n                                  supported by Chrome and Opera */\n}\n.jnotification {\n  position: fixed;\n  z-index: 10000;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  padding: 10px;\n}\n.jnotification-container {\n  -webkit-box-shadow: 0px 2px 15px -5px rgba(0, 0, 0, 0.7);\n  box-shadow: 0px 2px 15px -5px rgba(0, 0, 0, 0.7);\n  padding: 12px;\n  border-radius: 8px;\n}\n.jnotification-close {\n  content: '';\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='gray'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  font-size: 20px;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n}\n.jnotification-title {\n  font-weight: bold;\n}\n.jnotification-header {\n  display: flex;\n  padding-bottom: 5px;\n}\n.jnotification-header:empty {\n  display: none;\n}\n.jnotification-image {\n  margin-right: 5px;\n}\n.jnotification-image:empty {\n  display: none;\n}\n.jnotification-image img {\n  width: 24px;\n}\n.jnotification-name {\n  text-transform: uppercase;\n  font-size: 0.9em;\n  flex: 1;\n  letter-spacing: 0.1em;\n}\n@media (min-width: 320px) and (max-width: 800px) {\n  .jnotification {\n    top: 0px;\n    width: 100%;\n  }\n\n  .jnotification-container {\n    background: rgba(255,255,255,0.95);\n    border: 1px solid #eee;\n  }\n}\n@media (min-width: 801px) {\n  .jnotification {\n    bottom: 0px;\n  }\n\n  .jnotification-container {\n    background-color: #000;\n    background: rgba(92,92,92,1);\n    background: linear-gradient(0deg, rgba(92,92,92,1) 0%, rgba(77,77,77,1) 100%);\n    color: #fff;\n    width: 320px;\n    margin: 30px;\n    padding: 20px;\n  }\n}\n.jnotification-header {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n  -webkit-justify-content: flex-start;\n  -ms-flex-pack: start;\n  justify-content: flex-start;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.jrating {\n  display: flex;\n}\n.jrating > div {\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z' fill='gray'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n}\n.jrating .jrating-over {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='black'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  opacity: 0.7;\n}\n.jrating .jrating-selected {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='red'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n}\n/**\r\n * (c) Image slider\r\n * https://github.com/paulhodel/jtools\r\n *\r\n * @author: Paul Hodel <paul.hodel@gmail.com>\r\n * @description: Image Slider\r\n */\n.jslider {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.jslider-container img {\n  width: 60px;\n  margin-right: 5px;\n  margin-bottom: 5px;\n}\n.jslider-attach {\n  cursor: pointer;\n}\n.jslider-left::before {\n  position: fixed;\n  left: 10px;\n  content: 'arrow_back_ios';\n  color: #fff;\n  width: 30px;\n  height: 30px;\n  font-family: 'Material Icons';\n  font-size: 30px;\n  text-shadow: 0px 0px 0px #000;\n  text-align: center;\n}\n.jslider-right::after {\n  position: fixed;\n  right: 5px;\n  content: 'arrow_forward_ios';\n  color: #fff;\n  width: 30px;\n  height: 30px;\n  font-family: 'Material Icons';\n  font-size: 30px;\n  text-shadow: 0px 0px 0px #000;\n  text-align: center;\n}\n.jslider-close {\n  width: 24px;\n  height: 24px;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  position: fixed;\n  top: 15px;\n  right: 15px;\n  display: none;\n  cursor: pointer;\n  z-index: 3000;\n}\n.jslider-preview {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  min-height: 100%;\n  z-index: 2000;\n  margin: 0px;\n  box-sizing: border-box;\n  background-color: rgba(0,0,0,0.9);\n  -webkit-transition-duration: .4s;\n  transition-duration: .4s;\n  display: flex;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  align-items: center;\n}\n.jslider-preview img {\n  min-width: 70%;\n  max-width: 100%;\n  height: auto;\n  box-sizing: border-box;\n  margin: 0 auto;\n  vertical-align: middle;\n  display: none;\n}\n.jtabs {\n  max-width: calc(100vw - 24px);\n  position: relative;\n}\n.jtabs > .jtabs-headers {\n  display: flex;\n  overflow-x: auto;\n}\n.jtabs > .jtabs-headers > div {\n  padding: 6px;\n  padding-left: 20px;\n  padding-right: 20px;\n  margin-left: 1px;\n  margin-right: 1px;\n  margin-bottom: 1px;\n  background-color: #f1f1f1;\n  cursor: pointer;\n}\n.jtabs > .jtabs-headers > div.jtabs-selected {\n  background-color: #e8e8e8;\n  color: #000;\n}\n.jtabs > .jtabs-content > div {\n  display: none;\n}\n.jtabs > .jtabs-content > div.jtabs-selected {\n  display: block;\n}\n.jtabs > .jtabs-border {\n  position: absolute;\n  height: 2px;\n  background-color: #888;\n  transform-origin: left;\n  transition: all .2s cubic-bezier(0.4,0,0.2,1);\n  transition-property: color,left,transform;\n}\n.jtabs .jtabs-add {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z' fill='%23bbbbbb'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  cursor: pointer;\n  background-position: center;\n  background-repeat: no-repeat;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  margin: 3px;\n  margin-left: 10px;\n}\n.jtags {\n  display: flex;\n  flex-wrap: wrap;\n  -ms-flex-direction: row;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n  -ms-flex-pack: flex-start;\n  -webkit-justify-content: space-between;\n  justify-content: flex-start;\n  padding: 2px;\n  border: 1px solid #ccc;\n}\n.jtags > div {\n  padding: 3px;\n  padding-left: 10px;\n  padding-right: 22px;\n  position: relative;\n  border-radius: 1px;\n  margin: 2px;\n  display: block;\n  outline: none;\n}\n.jtags > div::after {\n  content: 'x';\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  width: 12px;\n  height: 12px;\n  cursor: pointer;\n  font-size: 11px;\n  display: none;\n}\n.jtags_label {\n  background-color: #eeeeee !important;\n}\n.jtags_label::after {\n  display: inline-block !important;\n}\n.jtags_error::after {\n  color: #fff  !important;\n}\n.jtags_error {\n  background-color: #d93025 !important;\n  color: #fff;\n}\n.jtags_search {\n  position: absolute;\n  display: none;\n  box-shadow: 0 1px 2px 0 rgba(60,64,67,0.302), 0 2px 6px 2px rgba(60,64,67,0.149);\n  border: none;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  width: 280px;\n  padding: 8px 0;\n  -webkit-box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n  -webkit-transition: opacity .218s;\n  transition: opacity .218s;\n  background: #fff;\n  border: 1px solid rgba(0,0,0,.2);\n  cursor: pointer;\n  margin: 0;\n  min-width: 300px;\n  outline: none;\n  width: auto;\n  user-select: none;\n}\n.jtags_search > div {\n  color: #333;\n  cursor: pointer;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 5px 10px;\n  user-select: none;\n  -webkit-align-items: center;\n  align-items: center;\n}\n.jtags_search > div:hover {\n  background-color: #e8eaed;\n}\n.jtags_search > div > img {\n  width: 32px;\n  height: 32px;\n  user-select: none;\n  border-radius: 16px;\n  margin-right: 2px;\n}\n.jtags_search > div > div {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: 2px;\n  max-width: 300px;\n  white-space: nowrap;\n  user-select: none;\n}\n.jtags_search .selected {\n  background-color: #e8eaed;\n}\n"; (require("browserify-css").createStyle(css, { "href": "node_modules\\jsuites\\dist\\jsuites.css" }, { "insertAt": "bottom" })); module.exports = css;
},{"browserify-css":1}],4:[function(require,module,exports){

/**
 * (c) jSuites Javascript Web Components (v2.8)
 *
 * Author: Paul Hodel <paul.hodel@gmail.com>
 * Website: https://bossanova.uk/jsuites/
 * Description: Create amazing web based applications.
 *
 * MIT License
 *
 */
;(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.jSuites = factory();
}(this, (function () {

    'use strict';

var jSuites = function(options) {
    var obj = {}

    obj.init = function() {
        // Find root element
        var app = document.querySelector('.japp');

        // Root element
        if (app) {
            obj.el = app;
        } else {
            obj.el = document.body;
        }

        // Loading modules
        var modules = document.querySelectorAll('[data-autoload]');
        for (var i = 0; i < modules.length; i++) {
            var m = modules[i].getAttribute('data-autoload');
            if (typeof(window[m]) == 'function') {
                window[m](modules[i]);
            }
        }
    }

    obj.guid = function() {
        var guid = '';
        for (var i = 0; i < 32; i++) {
            guid += Math.floor(Math.random()*0xF).toString(0xF);
        }
        return guid;
    }

    obj.getWindowWidth = function() {
        var w = window,
        d = document,
        e = d.documentElement,
        g = d.getElementsByTagName('body')[0],
        x = w.innerWidth || e.clientWidth || g.clientWidth;
        return x;
    }

    obj.getWindowHeight = function() {
        var w = window,
        d = document,
        e = d.documentElement,
        g = d.getElementsByTagName('body')[0],
        y = w.innerHeight|| e.clientHeight|| g.clientHeight;
        return  y;
    }

    obj.getPosition = function(e) {
        if (e.changedTouches && e.changedTouches[0]) {
            var x = e.changedTouches[0].pageX;
            var y = e.changedTouches[0].pageY;
        } else {
            var x = (window.Event) ? e.pageX : e.clientX + (document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);
            var y = (window.Event) ? e.pageY : e.clientY + (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);
        }

        return [ x, y ];
    }

    obj.click = function(el) {
        if (el.click) {
            el.click();
        } else {
            var evt = new MouseEvent('click', {
                bubbles: true,
                cancelable: true,
                view: window
            });
            el.dispatchEvent(evt);
        }
    }

    obj.getElement = function(element, className) {
        var foundElement = false;

        function path (element) {
            if (element.className) {
                if (element.classList.contains(className)) {
                    foundElement = element;
                }
            }

            if (element.parentNode) {
                path(element.parentNode);
            }
        }

        path(element);

        return foundElement;
    }

    obj.getLinkElement = function(element) {
        var targetElement = false;

        function path (element) {
            if ((element.tagName == 'A' || element.tagName == 'DIV') && element.getAttribute('data-href')) {
                targetElement = element;
            }

            if (element.parentNode) {
                path(element.parentNode);
            }
        }

        path(element);

        return targetElement;
    }

    obj.getFormElements = function(formObject) {
        var ret = {};

        if (formObject) {
            var elements = formObject.querySelectorAll("input, select, textarea");
        } else {
            var elements = document.querySelectorAll("input, select, textarea");
        }

        for (var i = 0; i < elements.length; i++) {
            var element = elements[i];
            var name = element.name;
            var value = element.value;

            if (name) {
                ret[name] = value;
            }
        }

        return ret;
    }

    obj.exists = function(url, __callback) {
        var http = new XMLHttpRequest();
        http.open('HEAD', url, false);
        http.send();
        if (http.status) {
            __callback(http.status);
        }
    }

    obj.getFiles = function(element) {
        if (! element) {
            console.error('No element defined in the arguments of your method');
        }

        // Get attachments
        var files = element.querySelectorAll('.jfile');

        if (files.length > 0) {
            var data = [];
            for (var i = 0; i < files.length; i++) {
                var file = {};

                var src = files[i].getAttribute('src');

                if (files[i].classList.contains('jremove')) {
                    file.remove = 1;
                } else {
                    if (src.substr(0,4) == 'data') {
                        file.content = src.substr(src.indexOf(',') + 1);
                        file.extension = files[i].getAttribute('data-extension');
                    } else {
                        file.file = src;
                        file.extension = files[i].getAttribute('data-extension');
                        if (! file.extension) {
                            file.extension =  src.substr(src.lastIndexOf('.') + 1);
                        }
                        if (jSuites.files[file.file]) {
                            file.content = jSuites.files[file.file];
                        }
                    }

                    // Optional file information
                    if (files[i].getAttribute('data-name')) {
                        file.name = files[i].getAttribute('data-name');
                    }

                    if (files[i].getAttribute('data-file')) {
                        file.file = files[i].getAttribute('data-file');
                    }

                    if (files[i].getAttribute('data-size')) {
                        file.size = files[i].getAttribute('data-size');
                    }

                    if (files[i].getAttribute('data-date')) {
                        file.date = files[i].getAttribute('data-date');
                    }

                    if (files[i].getAttribute('data-cover')) {
                        file.cover = files[i].getAttribute('data-cover');
                    }
                }

                // TODO SMALL thumbs?

                data[i] = file;
            }

            return data;
        }
    }

    obj.ajax = function(options) {
        if (! options.data) {
            options.data = {};
        }

        if (options.type) {
            options.method = options.type;
        }

        if (options.data) {
            var data = [];
            var keys = Object.keys(options.data);

            if (keys.length) {
                for (var i = 0; i < keys.length; i++) {
                    if (typeof(options.data[keys[i]]) == 'object') {
                        var o = options.data[keys[i]];
                        for (var j = 0; j < o.length; j++) {
                            if (typeof(o[j]) == 'string') {
                                data.push(keys[i] + '[' + j + ']=' + encodeURIComponent(o[j]));
                            } else {
                                var prop = Object.keys(o[j]);
                                for (var z = 0; z < prop.length; z++) {
                                    data.push(keys[i] + '[' + j + '][' + prop[z] + ']=' + encodeURIComponent(o[j][prop[z]]));
                                }
                            }
                        }
                    } else {
                        data.push(keys[i] + '=' + encodeURIComponent(options.data[keys[i]]));
                    }
                }
            }

            if (options.method == 'GET' && data.length > 0) {
                if (options.url.indexOf('?') < 0) {
                    options.url += '?';
                }
                options.url += data.join('&');
            }
        }

        var httpRequest = new XMLHttpRequest();
        httpRequest.open(options.method, options.url, true);
        httpRequest.setRequestHeader('X-Requested-With', 'XMLHttpRequest');

        if (options.method == 'POST') {
            httpRequest.setRequestHeader('Accept', 'application/json');
            httpRequest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        } else {
            if (options.dataType == 'json') {
                httpRequest.setRequestHeader('Content-Type', 'text/json');
            }
        }

        // No cache
        if (options.cache != true) {
            httpRequest.setRequestHeader('pragma', 'no-cache');
            httpRequest.setRequestHeader('cache-control', 'no-cache');
        }

        // Authentication
        if (options.withCredentials == true) {
            httpRequest.withCredentials = true
        }

        // Before send
        if (typeof(options.beforeSend) == 'function') {
            options.beforeSend(httpRequest);
        }

        httpRequest.onload = function() {
            if (httpRequest.status === 200) {
                if (options.dataType == 'json') {
                    try {
                        var result = JSON.parse(httpRequest.responseText);

                        if (options.success && typeof(options.success) == 'function') {
                            options.success(result);
                        }
                    } catch(err) {
                        if (options.error && typeof(options.error) == 'function') {
                            options.error(result);
                        }
                    }
                } else {
                    var result = httpRequest.responseText;

                    if (options.success && typeof(options.success) == 'function') {
                        options.success(result);
                    }
                }
            } else {
                if (options.error && typeof(options.error) == 'function') {
                    options.error(httpRequest.responseText);
                }
            }

            // Global complete method
            if (obj.ajax.requests && obj.ajax.requests.length) {
                // Get index of this request in the container
                var index = obj.ajax.requests.indexOf(httpRequest)
                // Remove from the ajax requests container
                obj.ajax.requests.splice(index, 1);
                // Last one?
                if (! obj.ajax.requests.length) {
                    if (options.complete && typeof(options.complete) == 'function') {
                        options.complete(result);
                    }
                }
            }
        }

        if (data) {
            httpRequest.send(data.join('&'));
        } else {
            httpRequest.send();
        }

        obj.ajax.requests.push(httpRequest);

        return httpRequest;
    }

    obj.ajax.requests = [];

    obj.slideLeft = function(element, direction, done) {
        if (direction == true) {
            element.classList.add('slide-left-in');
            setTimeout(function() {
                element.classList.remove('slide-left-in');
                if (typeof(done) == 'function') {
                    done();
                }
            }, 400);
        } else {
            element.classList.add('slide-left-out');
            setTimeout(function() {
                element.classList.remove('slide-left-out');
                if (typeof(done) == 'function') {
                    done();
                }
            }, 400);
        }
    }

    obj.slideRight = function(element, direction, done) {
        if (direction == true) {
            element.classList.add('slide-right-in');
            setTimeout(function() {
                element.classList.remove('slide-right-in');
                if (typeof(done) == 'function') {
                    done();
                }
            }, 400);
        } else {
            element.classList.add('slide-right-out');
            setTimeout(function() {
                element.classList.remove('slide-right-out');
                if (typeof(done) == 'function') {
                    done();
                }
            }, 400);
        }
    }

    obj.slideTop = function(element, direction, done) {
        if (direction == true) {
            element.classList.add('slide-top-in');
            setTimeout(function() {
                element.classList.remove('slide-top-in');
                if (typeof(done) == 'function') {
                    done();
                }
            }, 400);
        } else {
            element.classList.add('slide-top-out');
            setTimeout(function() {
                element.classList.remove('slide-top-out');
                if (typeof(done) == 'function') {
                    done();
                }
            }, 400);
        }
    }

    obj.slideBottom = function(element, direction, done) {
        if (direction == true) {
            element.classList.add('slide-bottom-in');
            setTimeout(function() {
                element.classList.remove('slide-bottom-in');
                if (typeof(done) == 'function') {
                    done();
                }
            }, 400);
        } else {
            element.classList.add('slide-bottom-out');
            setTimeout(function() {
                element.classList.remove('slide-bottom-out');
                if (typeof(done) == 'function') {
                    done();
                }
            }, 100);
        }
    }

    obj.fadeIn = function(element, done) {
        element.classList.add('fade-in');
        setTimeout(function() {
            element.classList.remove('fade-in');
            if (typeof(done) == 'function') {
                done();
            }
        }, 2000);
    }

    obj.fadeOut = function(element, done) {
        element.classList.add('fade-out');
        setTimeout(function() {
            element.classList.remove('fade-out');
            if (typeof(done) == 'function') {
                done();
            }
        }, 1000);
    }

    obj.keyDownControls = function(e) {
        if (e.which == 27) {
            var nodes = document.querySelectorAll('.jslider');
            if (nodes.length > 0) {
                for (var i = 0; i < nodes.length; i++) {
                    nodes[i].slider.close();
                }
            }

            if (document.querySelector('.jdialog')) {
                jSuites.dialog.close();
            }
        } else if (e.which == 13) {
            if (document.querySelector('.jdialog')) {
                if (typeof(jSuites.dialog.options.onconfirm) == 'function') {
                    jSuites.dialog.options.onconfirm();
                }
                jSuites.dialog.close();
            }
        }

        // Verify mask
        if (jSuites.mask) {
            jSuites.mask.apply(e);
        }
    }

    var actionUpControl = function(e) {
        var element = null;
        if (element = jSuites.getLinkElement(e.target)) {
            var link = element.getAttribute('data-href');
            if (link == '#back') {
                window.history.back();
            } else if (link == '#panel') {
                jSuites.panel();
            } else {
                jSuites.pages(link);
            }
        }
    }

    var controlSwipeLeft = function(e) {
        var element = jSuites.getElement(e.target, 'option');

        if (element && element.querySelector('.option-actions')) {
            element.scrollTo({
                left: 100,
                behavior: 'smooth'
            });
        } else {
            var element = jSuites.getElement(e.target, 'jcalendar');
            if (element && jSuites.calendar.current) {
                jSuites.calendar.current.prev();
            } else {
                if (jSuites.panel) {
                    var element = jSuites.panel.get();
                    if (element) {
                        if (element.style.display != 'none') {
                            jSuites.panel.close();
                        }
                    }
                }
            }
        }
    }

    var controlSwipeRight = function(e) {
        var element = jSuites.getElement(e.target, 'option');
        if (element && element.querySelector('.option-actions')) {
            element.scrollTo({
                left: 0,
                behavior: 'smooth'
            });
        } else {
            var element = jSuites.getElement(e.target, 'jcalendar');
            if (element && jSuites.calendar.current) {
                jSuites.calendar.current.next();
            } else {
                if (jSuites.panel) {
                    var element = jSuites.panel.get();
                    if (element) {
                        if (element.style.display == 'none') {
                            jSuites.panel();
                        }
                    }
                }
            }
        }
    }

    var actionOverControl = function(e) {
        // Tooltip
        if (jSuites.tooltip) {
            jSuites.tooltip(e);
        }
    }

    var actionOutControl = function(e) {
        // Tooltip
        if (jSuites.tooltip) {
            jSuites.tooltip.hide();
        }
    }

    // Create page container
    document.addEventListener('swipeleft', controlSwipeLeft);
    document.addEventListener('swiperight', controlSwipeRight);
    document.addEventListener('keydown', obj.keyDownControls);

    if ('ontouchend' in document.documentElement === true) {
        document.addEventListener('touchend', actionUpControl);
    } else {
        document.addEventListener('mouseup', actionUpControl);
    }

    // Onmouseover
    document.addEventListener('mouseover', actionOverControl);
    document.addEventListener('mouseout', actionOutControl);
    document.addEventListener('DOMContentLoaded', function() {
        obj.init();
    });

    // Pop state control
    window.onpopstate = function(e) {
        if (e.state && e.state.route) {
            if (jSuites.pages.get(e.state.route)) {
                jSuites.pages(e.state.route, { ignoreHistory:true });
            }
        }
    }

    return obj;
}();

jSuites.files = [];

jSuites.calendar = (function(el, options) {
    var obj = {};
    obj.options = {};

    // Global container
    if (! jSuites.calendar.current) {
        jSuites.calendar.current = null;
    }

    // Default configuration
    var defaults = {
        // Data
        data: null,
        // Inline or not
        type: null,
        // Restrictions
        validRange: null,
        // Starting weekday - 0 for sunday, 6 for saturday
        startingDay: null, 
        // Date format
        format: 'DD/MM/YYYY',
        // Allow keyboard date entry
        readonly: true,
        // Today is default
        today: false,
        // Show timepicker
        time: false,
        // Show the reset button
        resetButton: true,
        // Placeholder
        placeholder: '',
        // Translations can be done here
        months: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        weekdays: ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],
        weekdays_short: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],
        // Value
        value: null,
        // Events
        onclose: null,
        onchange: null,
        // Fullscreen (this is automatic set for screensize < 800)
        fullscreen: false,
        // Internal mode controller
        mode: null,
        position: null,
        // Create the calendar closed as default
        opened: false,
    };

    // Loop through our object
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    // Value
    if (! obj.options.value) {
        if (el.tagName == 'INPUT' && el.value) {
            obj.options.value = el.value;
        }
    }

    // Make sure use upper case in the format
    obj.options.format = obj.options.format.toUpperCase();

    if (obj.options.value) {
        var date = obj.options.value.split(' ');
        var time = date[1];
        var date = date[0].split('-');
        var y = parseInt(date[0]);
        var m = parseInt(date[1]);
        var d = parseInt(date[2]);

        if (time) {
            var time = time.split(':');
            var h = parseInt(time[0]);
            var i = parseInt(time[1]);
        } else {
            var h = 0;
            var i = 0;
        }
    } else {
        var date = new Date();
        var y = date.getFullYear();
        var m = date.getMonth() + 1;
        var d = date.getDate();
        var h = date.getHours();
        var i = date.getMinutes();
    }

    // Current value
    obj.date = [ y, m, d, h, i, 0 ];

    // Two digits
    var two = function(value) {
        value = '' + value;
        if (value.length == 1) {
            value = '0' + value;
        }
        return value;
    }

    // Calendar elements
    var calendarReset = document.createElement('div');
    calendarReset.className = 'jcalendar-reset';
    calendarReset.innerHTML = 'Reset';

    var calendarConfirm = document.createElement('div');
    calendarConfirm.className = 'jcalendar-confirm';
    calendarConfirm.innerHTML = 'Done';

    var calendarControls = document.createElement('div');
    calendarControls.className = 'jcalendar-controls'
    if (obj.options.resetButton) {
        calendarControls.appendChild(calendarReset);
    }
    calendarControls.appendChild(calendarConfirm);

    var calendarContainer = document.createElement('div');
    calendarContainer.className = 'jcalendar-container';

    var calendarContent = document.createElement('div');
    calendarContent.className = 'jcalendar-content';
    calendarContent.appendChild(calendarControls);
    calendarContainer.appendChild(calendarContent);

    // Table container
    var calendarTableContainer = document.createElement('div');
    calendarTableContainer.className = 'jcalendar-table';
    calendarContent.appendChild(calendarTableContainer);

    // Main element
    if (el.tagName == 'INPUT') {
        var calendar = document.createElement('div');
    } else {
        var calendar = el;
    }
    calendar.className = 'jcalendar';
    calendar.appendChild(calendarContainer);

    // Previous button
    var calendarHeaderPrev = document.createElement('td');
    calendarHeaderPrev.setAttribute('colspan', '2');
    calendarHeaderPrev.className = 'jcalendar-prev';

    // Header with year and month
    var calendarLabelYear = document.createElement('span');
    calendarLabelYear.className = 'jcalendar-year';

    var calendarLabelMonth = document.createElement('span');
    calendarLabelMonth.className = 'jcalendar-month';

    var calendarHeaderTitle = document.createElement('td');
    calendarHeaderTitle.className = 'jcalendar-header';
    calendarHeaderTitle.setAttribute('colspan', '3');
    calendarHeaderTitle.appendChild(calendarLabelMonth);
    calendarHeaderTitle.appendChild(calendarLabelYear);

    var calendarHeaderNext = document.createElement('td');
    calendarHeaderNext.setAttribute('colspan', '2');
    calendarHeaderNext.className = 'jcalendar-next';

    var calendarHeaderRow = document.createElement('tr');
    calendarHeaderRow.appendChild(calendarHeaderPrev);
    calendarHeaderRow.appendChild(calendarHeaderTitle);
    calendarHeaderRow.appendChild(calendarHeaderNext);

    var calendarHeader = document.createElement('thead');
    calendarHeader.appendChild(calendarHeaderRow);

    var calendarBody = document.createElement('tbody');
    var calendarFooter = document.createElement('tfoot');

    // Calendar table
    var calendarTable = document.createElement('table');
    calendarTable.setAttribute('cellpadding', '0');
    calendarTable.setAttribute('cellspacing', '0');
    calendarTable.appendChild(calendarHeader);
    calendarTable.appendChild(calendarBody);
    calendarTable.appendChild(calendarFooter);
    calendarTableContainer.appendChild(calendarTable);

    var calendarSelectHour = document.createElement('select');
    calendarSelectHour.className = 'jcalendar-select';
    calendarSelectHour.onchange = function() {
        obj.date[3] = this.value; 
    }

    for (var i = 0; i < 24; i++) {
        var element = document.createElement('option');
        element.value = i;
        element.innerHTML = two(i);
        calendarSelectHour.appendChild(element);
    }

    var calendarSelectMin = document.createElement('select');
    calendarSelectMin.className = 'jcalendar-select';
    calendarSelectMin.onchange = function() {
        obj.date[4] = this.value; 
    }

    for (var i = 0; i < 60; i++) {
        var element = document.createElement('option');
        element.value = i;
        element.innerHTML = two(i);
        calendarSelectMin.appendChild(element);
    }

    // Footer controls
    var calendarControlsFooter = document.createElement('div');
    calendarControlsFooter.className = 'jcalendar-controls';

    var calendarControlsTime = document.createElement('div');
    calendarControlsTime.className = 'jcalendar-time';
    calendarControlsTime.style.maxWidth = '140px';
    calendarControlsTime.appendChild(calendarSelectHour);
    calendarControlsTime.appendChild(calendarSelectMin);

    var calendarControlsUpdateButton = document.createElement('input');
    calendarControlsUpdateButton.setAttribute('type', 'button');
    calendarControlsUpdateButton.className = 'jcalendar-update';
    calendarControlsUpdateButton.value = 'Update';

    var calendarControlsUpdate = document.createElement('div');
    calendarControlsUpdate.style.flexGrow = '10';
    calendarControlsUpdate.appendChild(calendarControlsUpdateButton);
    calendarControlsFooter.appendChild(calendarControlsTime);
    calendarControlsFooter.appendChild(calendarControlsUpdate);
    calendarContent.appendChild(calendarControlsFooter);

    var calendarBackdrop = document.createElement('div');
    calendarBackdrop.className = 'jcalendar-backdrop';
    calendar.appendChild(calendarBackdrop);

    // Update actions button
    var updateActions = function() {
        var currentDay = calendar.querySelector('.jcalendar-selected');

        if (currentDay && currentDay.classList.contains('jcalendar-disabled')) {
            calendarControlsUpdateButton.setAttribute('disabled', 'disabled');
            calendarSelectHour.setAttribute('disabled', 'disabled');
            calendarSelectMin.setAttribute('disabled', 'disabled');
        } else {
            calendarControlsUpdateButton.removeAttribute('disabled');
            calendarSelectHour.removeAttribute('disabled');
            calendarSelectMin.removeAttribute('disabled');
        }
    }

    // Methods
    obj.open = function (value) {
        if (! calendar.classList.contains('jcalendar-focus')) {
            if (jSuites.calendar.current) {
                jSuites.calendar.current.close();
            }
            // Current
            jSuites.calendar.current = obj;
            // Show calendar
            calendar.classList.add('jcalendar-focus');
            // Get days
            obj.getDays();
            // Hour
            if (obj.options.time) {
                calendarSelectHour.value = obj.date[3];
                calendarSelectMin.value = obj.date[4];
            }

            // Get the position of the corner helper
            if (jSuites.getWindowWidth() < 800 || obj.options.fullscreen) {
                // Full
                calendar.classList.add('jcalendar-fullsize');
                // Animation
                jSuites.slideBottom(calendarContent, 1);
            } else {
                const rect = el.getBoundingClientRect();
                const rectContent = calendarContent.getBoundingClientRect();

                if (obj.options.position) {
                    calendarContainer.style.position = 'fixed';
                    if (window.innerHeight < rect.bottom + rectContent.height) {
                        calendarContainer.style.top = (rect.top - (rectContent.height + 2)) + 'px';
                    } else {
                        calendarContainer.style.top = (rect.top + rect.height + 2) + 'px';
                    }
                    calendarContainer.style.left = rect.left + 'px';
                } else {
                    if (window.innerHeight < rect.bottom + rectContent.height) {
                        calendarContainer.style.bottom = (1 * rect.height + rectContent.height + 2) + 'px';
                    } else {
                        calendarContainer.style.top = 2 + 'px'; 
                    }
                }
            }
        }
    }

    obj.close = function (ignoreEvents, update) {
        if (jSuites.calendar.current) {
            // Current
            jSuites.calendar.current = null;

            if (update !== false) {
                var element = calendar.querySelector('.jcalendar-selected');

                if (typeof(update) == 'string') {
                    var value = update;
                } else if (element && element.classList.contains('jcalendar-disabled')) {
                    var value = obj.options.value
                } else {
                    var value = obj.getValue();
                }

                obj.setValue(value);
            }

            // Events
            if (! ignoreEvents && typeof(obj.options.onclose) == 'function') {
                obj.options.onclose(el);
            }

            // Hide
            calendar.classList.remove('jcalendar-focus');
        }

        return obj.options.value;
    }

    obj.prev = function() {
        // Check if the visualization is the days picker or years picker
        if (obj.options.mode == 'years') {
            obj.date[0] = obj.date[0] - 12;

            // Update picker table of days
            obj.getYears();
        } else {
            // Go to the previous month
            if (obj.date[1] < 2) {
                obj.date[0] = obj.date[0] - 1;
                obj.date[1] = 12;
            } else {
                obj.date[1] = obj.date[1] - 1;
            }

            // Update picker table of days
            obj.getDays();
        }
    }

    obj.next = function() {
        // Check if the visualization is the days picker or years picker
        if (obj.options.mode == 'years') {
            obj.date[0] = parseInt(obj.date[0]) + 12;

            // Update picker table of days
            obj.getYears();
        } else {
            // Go to the previous month
            if (obj.date[1] > 11) {
                obj.date[0] = parseInt(obj.date[0]) + 1;
                obj.date[1] = 1;
            } else {
                obj.date[1] = parseInt(obj.date[1]) + 1;
            }

            // Update picker table of days
            obj.getDays();
        }
    }

    obj.setValue = function(val) {
        if (! val) {
            val = '' + val;
        }
        // Values
        var newValue = val;
        var oldValue = obj.options.value;
        // Set label
        var value = obj.setLabel(newValue, obj.options.format);
        var date = newValue.split(' ');
        if (! date[1]) {
            date[1] = '00:00:00';
        }
        var time = date[1].split(':')
        var date = date[0].split('-');
        var y = parseInt(date[0]);
        var m = parseInt(date[1]);
        var d = parseInt(date[2]);
        var h = parseInt(time[0]);
        var i = parseInt(time[1]);
        obj.date = [ y, m, d, h, i, 0 ];
        var val = obj.setLabel(newValue, obj.options.format);

        if (oldValue != newValue) {
            // Input value
            if (el.tagName == 'INPUT') {
                el.value = val;
            }
            // New value
            obj.options.value = newValue;
            // On change
            if (typeof(obj.options.onchange) ==  'function') {
                obj.options.onchange(el, newValue, oldValue);
            }
        }

        obj.getDays();
    }

    obj.getValue = function() {
        if (obj.date) {
            if (obj.options.time) {
                return two(obj.date[0]) + '-' + two(obj.date[1]) + '-' + two(obj.date[2]) + ' ' + two(obj.date[3]) + ':' + two(obj.date[4]) + ':' + two(0);
            } else {
                return two(obj.date[0]) + '-' + two(obj.date[1]) + '-' + two(obj.date[2]) + ' ' + two(0) + ':' + two(0) + ':' + two(0);
            }
        } else {
            return "";
        }
    }

    /**
     *  Calendar
     */
    obj.update = function(element) {
        if (element.classList.contains('jcalendar-disabled')) {
            // Do nothing
        } else {
            obj.date[2] = element.innerText;

            if (! obj.options.time) {
                obj.close();
            } else {
                obj.date[3] = calendarSelectHour.value;
                obj.date[4] = calendarSelectMin.value;
            }

            var elements = calendar.querySelector('.jcalendar-selected');
            if (elements) {
                elements.classList.remove('jcalendar-selected');
            }
            element.classList.add('jcalendar-selected');
        }

        // Update
        updateActions();
    }

    /**
     * Set to blank
     */
    obj.reset = function() {
        // Close calendar
        obj.close(false, '');
    }

    /**
     * Get calendar days
     */
    obj.getDays = function() {
        // Mode
        obj.options.mode = 'days';

        // Setting current values in case of NULLs
        var date = new Date();

        // Current selection
        var year = obj.date && obj.date[0] ? obj.date[0] : parseInt(date.getFullYear());
        var month = obj.date && obj.date[1] ? obj.date[1] : parseInt(date.getMonth()) + 1;
        var day = obj.date && obj.date[2] ? obj.date[2] : parseInt(date.getDay());
        var hour = obj.date && obj.date[3] ? obj.date[3] : parseInt(date.getHours());
        var min = obj.date && obj.date[4] ? obj.date[4] : parseInt(date.getMinutes());

        // Selection container
        obj.date = [year, month, day, hour, min, 0 ];

        // Update title
        calendarLabelYear.innerHTML = year;
        calendarLabelMonth.innerHTML = obj.options.months[month - 1];

        // Current month and Year
        var isCurrentMonthAndYear = (date.getMonth() == month - 1) && (date.getFullYear() == year) ? true : false;
        var currentDay = date.getDate();

        // Number of days in the month
        var date = new Date(year, month, 0, 0, 0);
        var numberOfDays = date.getDate();

        // First day
        var date = new Date(year, month-1, 0, 0, 0);
        var firstDay = date.getDay() + 1;

        // Index value
        var index = obj.options.startingDay || 0;

        // First of day relative to the starting calendar weekday
        firstDay = firstDay - index;

        // Reset table
        calendarBody.innerHTML = '';

        // Weekdays Row
        var row = document.createElement('tr');
        row.setAttribute('align', 'center');
        calendarBody.appendChild(row);

        // Create weekdays row
        for (var i = 0; i < 7; i++) {
            var cell = document.createElement('td');
            cell.classList.add('jcalendar-weekday')
            cell.innerHTML = obj.options.weekdays_short[index];
            row.appendChild(cell);
            // Next week day
            index++;
            // Restart index
            if (index > 6) {
                index = 0;
            }
        }

        // Index of days
        var index = 0;
        var d = 0;
 
        // Calendar table
        for (var j = 0; j < 5; j++) {
            // Reset cells container
            var row = document.createElement('tr');
            row.setAttribute('align', 'center');
            // Data control
            var emptyRow = true;
            // Create cells
            for (var i = 0; i < 7; i++) {
                // Create cell
                var cell = document.createElement('td');
                cell.classList.add('jcalendar-set-day');

                if (index >= firstDay && index < (firstDay + numberOfDays)) {
                    // Day cell
                    d++;
                    cell.innerHTML = d;

                    // Selected
                    if (d == day) {
                        cell.classList.add('jcalendar-selected');
                    }

                    // Current selection day is today
                    if (isCurrentMonthAndYear && currentDay == d) {
                        cell.style.fontWeight = 'bold';
                    }

                    // Current selection day
                    var current = jSuites.calendar.now(new Date(year, month-1, d), true);

                    // Available ranges
                    if (obj.options.validRange) {
                        if (! obj.options.validRange[0] || current >= obj.options.validRange[0]) {
                            var test1 = true;
                        } else {
                            var test1 = false;
                        }

                        if (! obj.options.validRange[1] || current <= obj.options.validRange[1]) {
                            var test2 = true;
                        } else {
                            var test2 = false;
                        }

                        if (! (test1 && test2)) {
                            cell.classList.add('jcalendar-disabled');
                        }
                    }

                    // Control
                    emptyRow = false;
                }
                // Day cell
                row.appendChild(cell);
                // Index
                index++;
            }

            // Add cell to the calendar body
            if (emptyRow == false) {
                calendarBody.appendChild(row);
            }
        }

        // Show time controls
        if (obj.options.time) {
            calendarControlsTime.style.display = '';
        } else {
            calendarControlsTime.style.display = 'none';
        }

        // Update
        updateActions();
    }

    obj.getMonths = function() {
        // Mode
        obj.options.mode = 'months';

        // Loading month labels
        var months = obj.options.months;

        // Update title
        calendarLabelYear.innerHTML = obj.date[0];
        calendarLabelMonth.innerHTML = '';

        // Create months table
        var html = '<td colspan="7"><table width="100%"><tr align="center">';

        for (i = 0; i < 12; i++) {
            if ((i > 0) && (!(i % 4))) {
                html += '</tr><tr align="center">';
            }

            var month = parseInt(i) + 1;
            html += '<td class="jcalendar-set-month" data-value="' + month + '">' + months[i] +'</td>';
        }

        html += '</tr></table></td>';

        calendarBody.innerHTML = html;
    }

    obj.getYears = function() { 
        // Mode
        obj.options.mode = 'years';

        // Array of years
        var y = [];
        for (i = 0; i < 25; i++) {
            y[i] = parseInt(obj.date[0]) + (i - 12);
        }

        // Assembling the year tables
        var html = '<td colspan="7"><table width="100%"><tr align="center">';

        for (i = 0; i < 25; i++) {
            if ((i > 0) && (!(i % 5))) {
                html += '</tr><tr align="center">';
            }
            html += '<td class="jcalendar-set-year">'+ y[i] +'</td>';
        }

        html += '</tr></table></td>';

        calendarBody.innerHTML = html;
    }

    obj.setLabel = function(value, format) {
        return jSuites.calendar.getDateString(value, format);
    }

    obj.fromFormatted = function (value, format) {
        return jSuites.calendar.extractDateFromString(value, format);
    }

    var mouseUpControls = function(e) {
        var action = e.target.className;

        // Object id
        if (action == 'jcalendar-prev') {
            obj.prev();
            e.stopPropagation();
            e.preventDefault();
        } else if (action == 'jcalendar-next') {
            obj.next();
            e.stopPropagation();
            e.preventDefault();
        } else if (action == 'jcalendar-month') {
            obj.getMonths();
            e.stopPropagation();
            e.preventDefault();
        } else if (action == 'jcalendar-year') {
            obj.getYears();
            e.stopPropagation();
            e.preventDefault();
        } else if (action == 'jcalendar-set-year') {
            obj.date[0] = e.target.innerText;
            obj.getDays();
            e.stopPropagation();
            e.preventDefault();
        } else if (action == 'jcalendar-set-month') {
            obj.date[1] = parseInt(e.target.getAttribute('data-value'));
            obj.getDays();
            e.stopPropagation();
            e.preventDefault();
        } else if (action == 'jcalendar-confirm' || action == 'jcalendar-update') {
            obj.close();
            e.stopPropagation();
            e.preventDefault();
        } else if (action == 'jcalendar-close') {
            obj.close();
            e.stopPropagation();
            e.preventDefault();
        } else if (action == 'jcalendar-backdrop') {
            obj.close(false, false);
            e.stopPropagation();
            e.preventDefault();
        } else if (action == 'jcalendar-reset') {
            obj.reset();
            e.stopPropagation();
            e.preventDefault();
        } else if (e.target.classList.contains('jcalendar-set-day')) {
            if (e.target.innerText) {
                obj.update(e.target);
                e.stopPropagation();
                e.preventDefault();
            }
        }
    }

    var keyUpControls = function(e) {
        if (e.target.value && e.target.value.length > 3) {
            var test = jSuites.calendar.extractDateFromString(e.target.value, obj.options.format);
            if (test) {
                if (e.target.getAttribute('data-completed') == 'true') {
                    obj.setValue(test);
                }
            }
        }
    }

    // Handle events
    el.addEventListener("keyup", keyUpControls);

    // Add global events
    calendar.addEventListener("swipeleft", function(e) {
        jSuites.slideLeft(calendarTable, 0, function() {
            obj.next();
            jSuites.slideRight(calendarTable, 1);
        });
        e.preventDefault();
        e.stopPropagation();
    });

    calendar.addEventListener("swiperight", function(e) {
        jSuites.slideRight(calendarTable, 0, function() {
            obj.prev();
            jSuites.slideLeft(calendarTable, 1);
        });
        e.preventDefault();
        e.stopPropagation();
    });

    if ('ontouchend' in document.documentElement === true) {
        calendar.addEventListener("touchend", mouseUpControls);

        el.addEventListener("touchend", function(e) {
            obj.open();
        });
    } else {
        calendar.addEventListener("mouseup", mouseUpControls);

        el.addEventListener("mouseup", function(e) {
            obj.open();
        });
    }

    // Append element to the DOM
    if (el.tagName == 'INPUT') {
        el.parentNode.insertBefore(calendar, el.nextSibling);
        // Add properties
        el.setAttribute('autocomplete', 'off');
        el.setAttribute('data-mask', obj.options.format.toLowerCase());

        if (obj.options.readonly) {
            el.setAttribute('readonly', 'readonly');
        }
        if (obj.options.placeholder) {
            el.setAttribute('placeholder', obj.options.placeholder);
        }
        // Element
        el.classList.add('jcalendar-input');
        // Value
        el.value = obj.setLabel(obj.getValue(), obj.options.format);
    }

    // Keep object available from the node
    el.calendar = obj;

    if (obj.options.opened == true) {
        obj.open();
    }

    return obj;
});

jSuites.calendar.prettify = function(d, texts) {
    if (! texts) {
        var texts = {
            justNow: 'Just now',
            xMinutesAgo: '{0}m ago',
            xHoursAgo: '{0}h ago',
            xDaysAgo: '{0}d ago',
            xWeeksAgo: '{0}w ago',
            xMonthsAgo: '{0} mon ago',
            xYearsAgo: '{0}y ago',
        }
    }

    var d1 = new Date();
    var d2 = new Date(d);
    var total = parseInt((d1 - d2) / 1000 / 60);

    String.prototype.format = function(o) {
        return this.replace('{0}', o);
    }

    if (total == 0) {
        var text = texts.justNow;
    } else if (total < 90) {
        var text = texts.xMinutesAgo.format(total);
    } else if (total < 1440) { // One day
        var text = texts.xHoursAgo.format(Math.round(total/60));
    } else if (total < 20160) { // 14 days
        var text = texts.xDaysAgo.format(Math.round(total / 1440));
    } else if (total < 43200) { // 30 days
        var text = texts.xWeeksAgo.format(Math.round(total / 10080));
    } else if (total < 1036800) { // 24 months
        var text = texts.xMonthsAgo.format(Math.round(total / 43200));
    } else { // 24 months+
        var text = texts.xYearsAgo.format(Math.round(total / 525600));
    }

    return text;
}

jSuites.calendar.prettifyAll = function() {
    var elements = document.querySelectorAll('.prettydate');
    for (var i = 0; i < elements.length; i++) {
        if (elements[i].getAttribute('data-date')) {
            elements[i].innerHTML = jSuites.calendar.prettify(elements[i].getAttribute('data-date'));
        } else {
            elements[i].setAttribute('data-date', elements[i].innerHTML);
            elements[i].innerHTML = jSuites.calendar.prettify(elements[i].innerHTML);
        }
    }
}

jSuites.calendar.now = function(date, dateOnly) {
    if (! date) {
        var date = new Date();
    }
    var y = date.getFullYear();
    var m = date.getMonth() + 1;
    var d = date.getDate();
    var h = date.getHours();
    var i = date.getMinutes();
    var s = date.getSeconds();

    // Two digits
    var two = function(value) {
        value = '' + value;
        if (value.length == 1) {
            value = '0' + value;
        }
        return value;
    }

    if (dateOnly == true) {
        return two(y) + '-' + two(m) + '-' + two(d);
    } else {
        return two(y) + '-' + two(m) + '-' + two(d) + ' ' + two(h) + ':' + two(i) + ':' + two(s);
    }
}

// Helper to extract date from a string
jSuites.calendar.extractDateFromString = function(date, format) {
    var v1 = '' + date;
    var v2 = format.replace(/[0-9]/g,'');

    var test = 1;

    // Get year
    var y = v2.search("YYYY");
    y = v1.substr(y,4);
    if (parseInt(y) != y) {
        test = 0;
    }

    // Get month
    var m = v2.search("MM");
    m = v1.substr(m,2);
    if (parseInt(m) != m || d > 12) {
        test = 0;
    }

    // Get day
    var d = v2.search("DD");
    d = v1.substr(d,2);
    if (parseInt(d) != d  || d > 31) {
        test = 0;
    }

    // Get hour
    var h = v2.search("HH");
    if (h >= 0) {
        h = v1.substr(h,2);
        if (! parseInt(h) || h > 23) {
            h = '00';
        }
    } else {
        h = '00';
    }
    
    // Get minutes
    var i = v2.search("MI");
    if (i >= 0) {
        i = v1.substr(i,2);
        if (! parseInt(i) || i > 59) {
            i = '00';
        }
    } else {
        i = '00';
    }

    // Get seconds
    var s = v2.search("SS");
    if (s >= 0) {
        s = v1.substr(s,2);
        if (! parseInt(s) || s > 59) {
            s = '00';
        }
    } else {
        s = '00';
    }

    if (test == 1 && date.length == v2.length) {
        // Update source
        var data = y + '-' + m + '-' + d + ' ' + h + ':' +  i + ':' + s;

        return data;
    }

    return '';
}

// Helper to convert date into string
jSuites.calendar.getDateString = function(value, format) {
    // Default calendar
    if (! format) {
        var format = 'DD/MM/YYYY';
    }

    if (value) {
        var d = ''+value;
        d = d.split(' ');

        var h = '';
        var m = '';
        var s = '';

        if (d[1]) {
            h = d[1].split(':');
            m = h[1] ? h[1] : '00';
            s = h[2] ? h[2] : '00';
            h = h[0] ? h[0] : '00';
        } else {
            h = '00';
            m = '00';
            s = '00';
        }

        d = d[0].split('-');

        if (d[0] && d[1] && d[2] && d[0] > 0 && d[1] > 0 && d[1] < 13 && d[2] > 0 && d[2] < 32) {
            var calendar = new Date(d[0], d[1]-1, d[2]);
            var weekday = new Array('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday');
            var months = new Array('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec');

            d[1] = (d[1].length < 2 ? '0' : '') + d[1];
            d[2] = (d[2].length < 2 ? '0' : '') + d[2];
            h = (h.length < 2 ? '0' : '') + h;
            m = (m.length < 2 ? '0' : '') + m;
            s = (s.length < 2 ? '0' : '') + s;

            value = format;
            value = value.replace('WD', weekday[calendar.getDay()]);
            value = value.replace('DD', d[2]);
            value = value.replace('MM', d[1]);
            value = value.replace('YYYY', d[0]);
            value = value.replace('YY', d[0].substring(2,4));
            value = value.replace('MON', months[parseInt(d[1])-1].toUpperCase());

            if (h) {
                value = value.replace('HH24', h);
            }

            if (h > 12) {
                value = value.replace('HH12', h - 12);
                value = value.replace('HH', h);
            } else {
                value = value.replace('HH12', h);
                value = value.replace('HH', h);
            }

            value = value.replace('MI', m);
            value = value.replace('MM', m);
            value = value.replace('SS', s);
        } else {
            value = '';
        }
    }

    return value;
}

jSuites.calendar.isOpen = function(e) {
    if (jSuites.calendar.current) {
        if (! e.target.className || e.target.className.indexOf('jcalendar') == -1) {
            jSuites.calendar.current.close(false, false);
        }
    }
}

if ('ontouchstart' in document.documentElement === true) {
    document.addEventListener("touchstart", jSuites.calendar.isOpen);
} else {
    document.addEventListener("mousedown", jSuites.calendar.isOpen);
}

jSuites.color = (function(el, options) {
    var obj = {};
    obj.options = {};
    obj.values = [];

    // Global container
    if (! jSuites.color.current) {
        jSuites.color.current = null;
    }

    /**
     * @typedef {Object} defaults
     * @property {(string|Array)} value - Initial value of the compontent
     * @property {string} placeholder - The default instruction text on the element
     * @property {requestCallback} onchange - Method to be execute after any changes on the element
     * @property {requestCallback} onclose - Method to be execute when the element is closed
     */
    var defaults = {
        placeholder: '',
        value: null,
        onclose: null,
        onchange: null,
        closeOnChange: true,
    };

    // Loop through our object
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    var palette = {
          "red": {
            "50": "#ffebee",
            "100": "#ffcdd2",
            "200": "#ef9a9a",
            "300": "#e57373",
            "400": "#ef5350",
            "500": "#f44336",
            "600": "#e53935",
            "700": "#d32f2f",
            "800": "#c62828",
            "900": "#b71c1c",
          },
          "pink": {
            "50": "#fce4ec",
            "100": "#f8bbd0",
            "200": "#f48fb1",
            "300": "#f06292",
            "400": "#ec407a",
            "500": "#e91e63",
            "600": "#d81b60",
            "700": "#c2185b",
            "800": "#ad1457",
            "900": "#880e4f",
          },
          "purple": {
            "50": "#f3e5f5",
            "100": "#e1bee7",
            "200": "#ce93d8",
            "300": "#ba68c8",
            "400": "#ab47bc",
            "500": "#9c27b0",
            "600": "#8e24aa",
            "700": "#7b1fa2",
            "800": "#6a1b9a",
            "900": "#4a148c",
          },
          "indigo": {
            "50": "#e8eaf6",
            "100": "#c5cae9",
            "200": "#9fa8da",
            "300": "#7986cb",
            "400": "#5c6bc0",
            "500": "#3f51b5",
            "600": "#3949ab",
            "700": "#303f9f",
            "800": "#283593",
            "900": "#1a237e",
          },
          "blue": {
            "50": "#e3f2fd",
            "100": "#bbdefb",
            "200": "#90caf9",
            "300": "#64b5f6",
            "400": "#42a5f5",
            "500": "#2196f3",
            "600": "#1e88e5",
            "700": "#1976d2",
            "800": "#1565c0",
            "900": "#0d47a1",
          },
          "cyan": {
            "50": "#e0f7fa",
            "100": "#b2ebf2",
            "200": "#80deea",
            "300": "#4dd0e1",
            "400": "#26c6da",
            "500": "#00bcd4",
            "600": "#00acc1",
            "700": "#0097a7",
            "800": "#00838f",
            "900": "#006064",
          },
          "teal": {
            "50": "#e0f2f1",
            "100": "#b2dfdb",
            "200": "#80cbc4",
            "300": "#4db6ac",
            "400": "#26a69a",
            "500": "#009688",
            "600": "#00897b",
            "700": "#00796b",
            "800": "#00695c",
            "900": "#004d40",
          },
          "green": {
            "50": "#e8f5e9",
            "100": "#c8e6c9",
            "200": "#a5d6a7",
            "300": "#81c784",
            "400": "#66bb6a",
            "500": "#4caf50",
            "600": "#43a047",
            "700": "#388e3c",
            "800": "#2e7d32",
            "900": "#1b5e20",
          },
          "lightgreen": {
            "50": "#f1f8e9",
            "100": "#dcedc8",
            "200": "#c5e1a5",
            "300": "#aed581",
            "400": "#9ccc65",
            "500": "#8bc34a",
            "600": "#7cb342",
            "700": "#689f38",
            "800": "#558b2f",
            "900": "#33691e",
          },
          "lime": {
            "50": "#f9fbe7",
            "100": "#f0f4c3",
            "200": "#e6ee9c",
            "300": "#dce775",
            "400": "#d4e157",
            "500": "#cddc39",
            "600": "#c0ca33",
            "700": "#afb42b",
            "800": "#9e9d24",
            "900": "#827717",
          },
          "yellow": {
            "50": "#fffde7",
            "100": "#fff9c4",
            "200": "#fff59d",
            "300": "#fff176",
            "400": "#ffee58",
            "500": "#ffeb3b",
            "600": "#fdd835",
            "700": "#fbc02d",
            "800": "#f9a825",
            "900": "#f57f17",
          },
          "amber": {
            "50": "#fff8e1",
            "100": "#ffecb3",
            "200": "#ffe082",
            "300": "#ffd54f",
            "400": "#ffca28",
            "500": "#ffc107",
            "600": "#ffb300",
            "700": "#ffa000",
            "800": "#ff8f00",
            "900": "#ff6f00",
          },
          "orange": {
            "50": "#fff3e0",
            "100": "#ffe0b2",
            "200": "#ffcc80",
            "300": "#ffb74d",
            "400": "#ffa726",
            "500": "#ff9800",
            "600": "#fb8c00",
            "700": "#f57c00",
            "800": "#ef6c00",
            "900": "#e65100",
          },
          "deeporange": {
            "50": "#fbe9e7",
            "100": "#ffccbc",
            "200": "#ffab91",
            "300": "#ff8a65",
            "400": "#ff7043",
            "500": "#ff5722",
            "600": "#f4511e",
            "700": "#e64a19",
            "800": "#d84315",
            "900": "#bf360c",
          },
          "brown": {
            "50": "#efebe9",
            "100": "#d7ccc8",
            "200": "#bcaaa4",
            "300": "#a1887f",
            "400": "#8d6e63",
            "500": "#795548",
            "600": "#6d4c41",
            "700": "#5d4037",
            "800": "#4e342e",
            "900": "#3e2723"
          },
          "grey": {
            "50": "#fafafa",
            "100": "#f5f5f5",
            "200": "#eeeeee",
            "300": "#e0e0e0",
            "400": "#bdbdbd",
            "500": "#9e9e9e",
            "600": "#757575",
            "700": "#616161",
            "800": "#424242",
            "900": "#212121"
          },
          "bluegrey": {
            "50": "#eceff1",
            "100": "#cfd8dc",
            "200": "#b0bec5",
            "300": "#90a4ae",
            "400": "#78909c",
            "500": "#607d8b",
            "600": "#546e7a",
            "700": "#455a64",
            "800": "#37474f",
            "900": "#263238"
          }
    };

    var x = 0;
    var y = 0;
    var colors = [];

    var col = Object.keys(palette);
    var shade = Object.keys(palette[col[0]]);

    for (var i = 0; i < col.length; i++) {
        for (var j = 0; j < shade.length; j++) {
            if (! colors[j]) {
                colors[j] = [];
            }
            colors[j][i] = palette[col[i]][shade[j]];
        }
    };

    // Value
    if (obj.options.value) {
        el.value = obj.options.value;
    }

    // Table container
    var container = document.createElement('div');
    container.className = 'jcolor';

    // Table container
    var backdrop = document.createElement('div');
    backdrop.className = 'jcolor-backdrop';
    container.appendChild(backdrop);

    // Content
    var content = document.createElement('div');
    content.className = 'jcolor-content';

    // Close button
    var closeButton  = document.createElement('div');
    closeButton.className = 'jcolor-close';
    closeButton.innerHTML = 'Done';
    closeButton.onclick = function() {
        obj.close();
    }
    content.appendChild(closeButton);

    // Table pallete
    var table = document.createElement('table');
    table.setAttribute('cellpadding', '7');
    table.setAttribute('cellspacing', '0');

    for (var i = 0; i < colors.length; i++) {
        var tr = document.createElement('tr');
        for (var j = 0; j < colors[i].length; j++) {
            var td = document.createElement('td');
            td.style.backgroundColor = colors[i][j];
            td.setAttribute('data-value', colors[i][j]);
            td.innerHTML = '';
            tr.appendChild(td);

            // Selected color
            if (obj.options.value == colors[i][j]) {
                td.classList.add('jcolor-selected');
            }

            // Possible values
            obj.values[colors[i][j]] = td;
        }
        table.appendChild(tr);
    }

    /**
     * Open color pallete
     */
    obj.open = function() {
        if (jSuites.color.current) {
            if (jSuites.color.current != obj) {
                jSuites.color.current.close();
            }
        }

        if (! jSuites.color.current) {
            // Persist element
            jSuites.color.current = obj;
            // Show colorpicker
            container.classList.add('jcolor-focus');

            const rectContent = content.getBoundingClientRect();

            if (jSuites.getWindowWidth() < 800) {
                content.style.top = '';
                content.classList.add('jcolor-fullscreen');
                jSuites.slideBottom(content, 1);
                backdrop.style.display = 'block';
            } else {
                if (content.classList.contains('jcolor-fullscreen')) {
                    content.classList.remove('jcolor-fullscreen');
                    backdrop.style.display = '';
                }

                const rect = el.getBoundingClientRect();

                if (window.innerHeight < rect.bottom + rectContent.height) {
                    content.style.top = -1 * (rectContent.height + rect.height + 2) + 'px';
                } else {
                    content.style.top = '2px';
                }
            }

            container.focus();
        }
    }

    /**
     * Close color pallete
     */
    obj.close = function(ignoreEvents) {
        if (jSuites.color.current) {
            jSuites.color.current = null;
            if (! ignoreEvents && typeof(obj.options.onclose) == 'function') {
                obj.options.onclose(el);
            }
            container.classList.remove('jcolor-focus');
        }

        // Make sure backdrop is hidden
        backdrop.style.display = '';

        return obj.options.value;
    }

    /**
     * Set value
     */
    obj.setValue = function(color) {
        if (color) {
            el.value = color;
            obj.options.value = color;
        }

        // Remove current selecded mark
        var selected = container.querySelector('.jcolor-selected');
        if (selected) {
            selected.classList.remove('jcolor-selected');
        }

        // Mark cell as selected
        obj.values[color].classList.add('jcolor-selected');

        // Onchange
        if (typeof(obj.options.onchange) == 'function') {
            obj.options.onchange(el, color);
        }

        if (obj.options.closeOnChange == true) {
            obj.close();
        }
    }

    /**
     * Get value
     */
    obj.getValue = function() {
        return obj.options.value;
    }

    /**
     * If element is focus open the picker
     */
    el.addEventListener("focus", function(e) {
        obj.open();
    });

    el.addEventListener("mousedown", function(e) {
        if (! jSuites.color.current) {
            setTimeout(function() {
        obj.open();
                e.preventDefault();
            }, 200);
        }
    });

    // Select color
    container.addEventListener("mouseup", function(e) {
        if (e.target.tagName == 'TD') {
            jSuites.color.current.setValue(e.target.getAttribute('data-value'));

            if (jSuites.color.current) {
                jSuites.color.current.close();
            }
        }
    });

    // Close controller
    document.addEventListener("mousedown", function(e) {
        if (jSuites.color.current) {
            var element = jSuites.getElement(e.target, 'jcolor');
            if (! element) {
                jSuites.color.current.close();
            }
        }
    });

    // Possible to focus the container
    container.setAttribute('tabindex', '900');

    // Placeholder
    if (obj.options.placeholder) {
        el.setAttribute('placeholder', obj.options.placeholder);
    }

    // Append to the table
    content.appendChild(table);
    container.appendChild(content);

    // Insert picker after the element
    if (el.tagName == 'INPUT') {
        el.parentNode.insertBefore(container, el.nextSibling);
    } else {
        el.appendChild(container);
    }

    // Keep object available from the node
    el.color = obj;

    return obj;
});


jSuites.contextmenu = (function(el, options) {
    var obj = {};
    obj.options = {};

    // Default configuration
    var defaults = {
        items: null,
        onclick: null,
    };

    // Loop through our object
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    // Class definition
    el.classList.add('jcontextmenu');
    // Focusable
    el.setAttribute('tabindex', '900');

    /**
     * Open contextmenu
     */
    obj.open = function(e, items) {
        if (items) {
            // Update content
            obj.options.items = items;
            // Create items
            obj.create(items);
        }
        // Coordinates
        if (e.target) {
            var x = e.clientX;
            var y = e.clientY;
        } else {
            var x = e.x;
            var y = e.y;
        }

        el.classList.add('jcontextmenu-focus');
        el.focus();

        const rect = el.getBoundingClientRect();

        if (window.innerHeight < y + rect.height) {
            el.style.top = (y - rect.height) + 'px';
        } else {
            el.style.top = y + 'px';
        }

        if (window.innerWidth < x + rect.width) {
            if (x - rect.width > 0) {
                el.style.left = (x - rect.width) + 'px';
            } else {
                el.style.left = '10px';
            }
        } else {
            el.style.left = x + 'px';
        }
    }

    /**
     * Close menu
     */
    obj.close = function() {
        if (el.classList.contains('jcontextmenu-focus')) {
            el.classList.remove('jcontextmenu-focus');
        }
    }

    /**
     * Create items based on the declared objectd
     * @param {object} items - List of object
     */
    obj.create = function(items) {
        // Update content
        el.innerHTML = '';

        // Append items
        for (var i = 0; i < items.length; i++) {
            if (items[i].type && items[i].type == 'line') {
                var itemContainer = document.createElement('hr');
            } else {
                var itemContainer = document.createElement('div');
                var itemText = document.createElement('a');
                itemText.innerHTML = items[i].title;

                if (items[i].disabled) {
                    itemContainer.className = 'jcontextmenu-disabled';
                } else if (items[i].onclick) {
                    itemContainer.method = items[i].onclick;
                    itemContainer.addEventListener("mouseup", function() {
                        // Execute method
                        this.method(this);
                    });
                }
                itemContainer.appendChild(itemText);

                if (items[i].shortcut) {
                    var itemShortCut = document.createElement('span');
                    itemShortCut.innerHTML = items[i].shortcut;
                    itemContainer.appendChild(itemShortCut);
                }
            }

            el.appendChild(itemContainer);
        }
    }

    if (typeof(obj.options.onclick) == 'function') {
        el.addEventListener('click', function(e) {
            obj.options.onclick(obj);
        });
    }

    el.addEventListener('blur', function(e) {
        setTimeout(function() {
            obj.close();
        }, 120);
    });

    window.addEventListener("mousewheel", function() {
        obj.close();
    });

    // Create items
    if (obj.options.items) {
        obj.create(obj.options.items);
    }

    el.contextmenu = obj;

    return obj;
});

jSuites.contextmenu.getElement = function(element) {
    var foundId = 0;

    function path (element) {
        if (element.parentNode && element.getAttribute('aria-contextmenu-id')) {
            foundId = element.getAttribute('aria-contextmenu-id')
        } else {
            if (element.parentNode) {
                path(element.parentNode);
            }
        }
    }

    path(element);

    return foundId;
}

document.addEventListener("contextmenu", function(e) {
    var id = jSuites.contextmenu.getElement(e.target);
    if (id) {
        var element = document.querySelector('#' + id);
        if (! element) {
            console.error('JSUITES: Contextmenu id not found');
        } else {
            element.contextmenu.open(e);
            e.preventDefault();
        }
    }
});

/**
 * Dialog v1.0.1
 * Author: paul.hodel@gmail.com
 * https://github.com/paulhodel/jtools
 */
 
jSuites.dialog = (function() {
    var obj = {};
    obj.options = {};

    var dialog = document.createElement('div');
    dialog.setAttribute('tabindex', '901');
    dialog.className = 'jdialog';
    dialog.id = 'dialog';

    var dialogHeader = document.createElement('div');
    dialogHeader.className = 'jdialog-header';

    var dialogTitle = document.createElement('div');
    dialogTitle.className = 'jdialog-title';
    dialogHeader.appendChild(dialogTitle);

    var dialogMessage = document.createElement('div');
    dialogMessage.className = 'jdialog-message';
    dialogHeader.appendChild(dialogMessage);

    var dialogFooter = document.createElement('div');
    dialogFooter.className = 'jdialog-footer';

    var dialogContainer = document.createElement('div');
    dialogContainer.className = 'jdialog-container';
    dialogContainer.appendChild(dialogHeader);
    dialogContainer.appendChild(dialogFooter);

    // Confirm
    var dialogConfirm = document.createElement('div');
    var dialogConfirmButton = document.createElement('input');
    dialogConfirmButton.value = obj.options.confirmLabel;
    dialogConfirmButton.type = 'button';
    dialogConfirmButton.onclick = function() {
        if (typeof(obj.options.onconfirm) == 'function') {
            obj.options.onconfirm();
        }
        obj.close();
    };
    dialogConfirm.appendChild(dialogConfirmButton);
    dialogFooter.appendChild(dialogConfirm);

    // Cancel
    var dialogCancel = document.createElement('div');
    var dialogCancelButton = document.createElement('input');
    dialogCancelButton.value = obj.options.cancelLabel;
    dialogCancelButton.type = 'button';
    dialogCancelButton.onclick = function() {
        if (typeof(obj.options.oncancel) == 'function') {
            obj.options.oncancel();
        }
        obj.close();
    }
    dialogCancel.appendChild(dialogCancelButton);
    dialogFooter.appendChild(dialogCancel);

    // Dialog
    dialog.appendChild(dialogContainer);

    obj.open = function(options) {
        obj.options = options;

        if (obj.options.title) {
            dialogTitle.innerHTML = obj.options.title;
        }

        if (obj.options.message) {
            dialogMessage.innerHTML = obj.options.message;
        }

        if (! obj.options.confirmLabel) {
            obj.options.confirmLabel = 'OK';
        }
        dialogConfirmButton.value = obj.options.confirmLabel;

        if (! obj.options.cancelLabel) {
            obj.options.cancelLabel = 'Cancel';
        }
        dialogCancelButton.value = obj.options.cancelLabel;

        if (obj.options.type == 'confirm') {
            dialogCancelButton.parentNode.style.display = '';
        } else {
            dialogCancelButton.parentNode.style.display = 'none';
        }

        // Append element to the app
        dialog.style.opacity = 100;

        // Append to the page
        if (jSuites.el) {
            jSuites.el.appendChild(dialog);
        } else {
            document.body.appendChild(dialog);
        }

        // Focus
        dialog.focus();

        // Show
        setTimeout(function() {
            dialogContainer.style.opacity = 100;
        }, 0);
    };

    obj.close = function() {
        dialog.style.opacity = 0;
        dialogContainer.style.opacity = 0;
        setTimeout(function() {
            dialog.remove();
        }, 100);
    };

    return obj;
})();

jSuites.confirm = (function(message, onconfirm) {
    if (jSuites.getWindowWidth() < 800) {
        jSuites.dialog.open({
            type: 'confirm',
            message: message,
            title: 'Confirmation',
            onconfirm: onconfirm,
        });
    } else {
        if (confirm(message)) {
            onconfirm();
        }
    }
});

jSuites.alert = function(message) {
    if (jSuites.getWindowWidth() < 800) {
        jSuites.dialog.open({
            title:'Alert',
            message:message,
        });
    } else {
        alert(message);
    }
}


jSuites.dropdown = (function(el, options) {
    var obj = {};
    obj.options = {};

    // If the element is a SELECT tag, create a configuration object
    if (el.tagName == 'SELECT') {
        var ret = jSuites.dropdown.extractFromDom(el, options);
        el = ret.el;
        options = ret.options;
    }

    // Default configuration
    var defaults = {
        url: null,
        data: [],
        multiple: false,
        autocomplete: false,
        type: null,
        width: null,
        opened: false,
        value: null,
        placeholder: '',
        position: false,
        onchange: null,
        onload: null,
        onopen: null,
        onclose: null,
        onblur: null,
    };

    // Loop through our object
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    // Global container
    if (! jSuites.dropdown.current) {
        jSuites.dropdown.current = null;
    }

    // Containers
    obj.items = [];
    obj.groups = [];
    obj.selected = [];

    // Create dropdown
    el.classList.add('jdropdown');
 
    if (obj.options.type == 'searchbar') {
        el.classList.add('jdropdown-searchbar');
    } else if (obj.options.type == 'list') {
        el.classList.add('jdropdown-list');
    } else if (obj.options.type == 'picker') {
        el.classList.add('jdropdown-picker');
    } else {
        if (jSuites.getWindowWidth() < 800) {
            el.classList.add('jdropdown-picker');
            obj.options.type = 'picker';
        } else {
            if (obj.options.width) {
                el.style.width = obj.options.width;
                el.style.minWidth = obj.options.width;
            }
            el.classList.add('jdropdown-default');
            obj.options.type = 'default';
        }
    }

    // Header container
    var containerHeader = document.createElement('div');
    containerHeader.className = 'jdropdown-container-header';

    // Header
    var header = document.createElement('input');
    header.className = 'jdropdown-header';
    if (typeof(obj.options.onblur) == 'function') {
        header.onblur = function() {
            obj.options.onblur(el);
        }
    }

    // Container
    var container = document.createElement('div');
    container.className = 'jdropdown-container';

    // Dropdown content
    var content = document.createElement('div');
    content.className = 'jdropdown-content';

    // Close button
    var closeButton  = document.createElement('div');
    closeButton.className = 'jdropdown-close';
    closeButton.innerHTML = 'Done';

    // Create backdrop
    var backdrop  = document.createElement('div');
    backdrop.className = 'jdropdown-backdrop';

    // Autocomplete
    if (obj.options.autocomplete == true) {
        el.setAttribute('data-autocomplete', true);

        // Handler
        var keyTimer = null;
        header.addEventListener('keyup', function(e) {
            if (keyTimer) {
                clearTimeout(keyTimer);
            }
            keyTimer = setTimeout(function() {
                obj.find(header.value);
                keyTimer = null;
            }, 500);

            if (! el.classList.contains('jdropdown-focus')) {
                if (e.which > 65) {
                    obj.open();
                }
            }
        });
    } else {
        header.setAttribute('readonly', 'readonly');
    }

    // Place holder
    if (! obj.options.placeholder && el.getAttribute('placeholder')) {
        obj.options.placeholder = el.getAttribute('placeholder');
    }

    if (obj.options.placeholder) {
        header.setAttribute('placeholder', obj.options.placeholder);
    }

    // Append elements
    containerHeader.appendChild(header);
    if (obj.options.type == 'searchbar') {
        containerHeader.appendChild(closeButton);
    } else {
        container.appendChild(closeButton);
    }
    container.appendChild(content);
    el.appendChild(containerHeader);
    el.appendChild(container);
    el.appendChild(backdrop);

    /**
     * Init dropdown
     */
    obj.init = function() {
        if (obj.options.url) {
            jSuites.ajax({
                url: obj.options.url,
                method: 'GET',
                dataType: 'json',
                success: function(data) {
                    if (data) {
                        // Set data
                        obj.setData(data);
                        // Set value
                        if (obj.options.value != null) {
                            obj.setValue(obj.options.value);
                        }
                        // Onload method
                        if (typeof(obj.options.onload) == 'function') {
                            obj.options.onload(el, obj, data);
                        }
                    }
                }
            });
        } else {
            // Set data
            obj.setData();
            // Set value
            if (obj.options.value != null) {
                obj.setValue(obj.options.value);
            }
            // Onload
            if (typeof(obj.options.onload) == 'function') {
                obj.options.onload(el, obj, data);
            }
        }

        // Open dropdown
        if (obj.options.opened == true) {
            obj.open();
        }
    }

    obj.getUrl = function() {
        return obj.options.url;
    }

    obj.setUrl = function(url) {
        obj.options.url = url;

        jSuites.ajax({
            url: obj.options.url,
            method: 'GET',
            dataType: 'json',
            success: function(data) {
                obj.setData(data);
            }
        });
    }

    /**
     * Create a new item
     */
    obj.createItem = function(data) {
        // Create item
        var item = {};
        item.element = document.createElement('div');
        item.element.className = 'jdropdown-item';
        item.value = data.id;
        item.text = data.name;
        item.textLowerCase = '' + data.name.toLowerCase();

        // Image
        if (data.image) {
            var image = document.createElement('img');
            image.className = 'jdropdown-image';
            image.src = data.image;
            if (! data.title) {
               image.classList.add('jdropdown-image-small');
            }
            item.element.appendChild(image);
        }

        // Set content
        var node = document.createElement('div');
        node.className = 'jdropdown-description';
        node.innerHTML = data.name;

        // Title
        if (data.title) {
            var title = document.createElement('div');
            title.className = 'jdropdown-title';
            title.innerHTML = data.title;
            node.appendChild(title);
        }

        // Add node to item
        item.element.appendChild(node);

        return item;
    }

    obj.setData = function(data) {
        // Update data
        if (data) {
            obj.options.data = data;
        }

        // Data
        var data = obj.options.data;

        // Remove content from the DOM
        container.removeChild(content);

        // Make sure the content container is blank
        content.innerHTML = '';

        // Reset
        obj.reset();

        // Reset items
        obj.items = [];

        // Helpers
        var items = [];
        var groups = [];

        // Create elements
        if (data.length) {
            // Prepare data
            for (var i = 0; i < data.length; i++) {
                // Compatibility
                if (typeof(data[i]) != 'object') {
                    // Correct format
                    obj.options.data[i] = data[i] = { id: data[i], name: data[i] };
                }

                // Process groups
                if (data[i].group) {
                    if (! groups[data[i].group]) {
                        groups[data[i].group] = [];
                    }
                    groups[data[i].group].push(i);
                } else {
                    items.push(i);
                }
            }

            // Groups
            var groupNames = Object.keys(groups);

            // Append groups in case exists
            if (groupNames.length > 0) {
                for (var i = 0; i < groupNames.length; i++) {
                    // Group container
                    var group = document.createElement('div');
                    group.className = 'jdropdown-group';
                    // Group name
                    var groupName = document.createElement('div');
                    groupName.className = 'jdropdown-group-name';
                    groupName.innerHTML = groupNames[i];
                    // Group arrow
                    var groupArrow = document.createElement('i');
                    groupArrow.className = 'jdropdown-group-arrow jdropdown-group-arrow-down';
                    groupName.appendChild(groupArrow);
                    // Group items
                    var groupContent = document.createElement('div');
                    groupContent.className = 'jdropdown-group-items';
                    for (var j = 0; j < groups[groupNames[i]].length; j++) {
                        var item = obj.createItem(data[groups[groupNames[i]][j]]);
                        groupContent.appendChild(item.element);
                        // Items
                        obj.items.push(item);
                    }
                    // Group itens
                    group.appendChild(groupName);
                    group.appendChild(groupArrow);
                    group.appendChild(groupContent);
                    content.appendChild(group);
                }
            }

            if (items.length) {
                for (var i = 0; i < items.length; i++) {
                    var item = obj.createItem(data[items[i]]);
                    obj.items.push(item);
                    content.appendChild(item.element);
                }
            }

            // Create the Indexes
            for (var i = 0; i < obj.items.length; i++) {
                obj.items[i].element.setAttribute('data-index', i);
            }
        }

        // Re-insert the content to the container
        container.appendChild(content);
    }

    obj.getText = function(asArray) {
        // Result
        var result = [];
        // Append options
        for (var i = 0; i < obj.selected.length; i++) {
            if (obj.items[obj.selected[i]]) {
                result.push(obj.items[obj.selected[i]].text);
            }
        }

        if (asArray) {
            return result;
        } else {
            return result.join('; ');
        }
    }

    obj.getValue = function(asArray) {
        // Result
        var result = [];
        // Append options
        for (var i = 0; i < obj.selected.length; i++) {
            if (obj.items[obj.selected[i]]) {
                result.push(obj.items[obj.selected[i]].value);
            }
        }

        if (asArray) {
            return result;
        } else {
            return result.join(';');
        }
    }

    obj.setValue = function(value) {
        // Remove values
        for (var i = 0; i < obj.selected.length; i++) {
            obj.items[obj.selected[i]].element.classList.remove('jdropdown-selected')
        } 

        // Reset selected
        obj.selected = [];

        // Set values
        if (value != null) {
            if (Array.isArray(value)) {
                for (var i = 0; i < obj.items.length; i++) {
                    for (var j = 0; j < value.length; j++) {
                        if (obj.items[i].value == value[j]) {
                            // Keep index of the selected item
                            obj.selected.push(i);
                            // Visual selection
                            obj.items[i].element.classList.add('jdropdown-selected');
                        }
                    }
                }
            } else {
                for (var i = 0; i < obj.items.length; i++) {
                    if (obj.items[i].value == value) {
                        // Keep index of the selected item
                        obj.selected.push(i);
                        // Visual selection
                        obj.items[i].element.classList.add('jdropdown-selected');
                    }
                }
            }
        }

        // Update labels
        obj.updateLabel();
    }

    obj.selectIndex = function(index) {
        // Only select those existing elements
        if (obj.items && obj.items[index]) {
            var index = index = parseInt(index);
            // Current selection
            var oldValue = obj.getValue();
            var oldLabel = obj.getText();

            // Remove cursor style
            if (obj.currentIndex != null) {
                obj.items[obj.currentIndex].element.classList.remove('jdropdown-cursor');
            }
            // Set cursor style
            obj.items[index].element.classList.add('jdropdown-cursor');

            // Update cursor position
            obj.currentIndex = index;

            // Focus behaviour
            if (! obj.options.multiple) {
                // Unselect option
                if (obj.items[index].element.classList.contains('jdropdown-selected')) {
                    // Reset selected
                    obj.resetSelected();
                } else {
                    // Reset selected
                    obj.resetSelected();
                    // Update selected item
                    obj.items[index].element.classList.add('jdropdown-selected');
                    // Add to the selected list
                    obj.selected.push(index);
                    // Close
                    obj.close();
                }
            } else {
                // Toggle option
                if (obj.items[index].element.classList.contains('jdropdown-selected')) {
                    obj.items[index].element.classList.remove('jdropdown-selected');
                    // Remove from selected list
                    var indexToRemove = obj.selected.indexOf(index);
                    // Remove select
                    obj.selected.splice(indexToRemove, 1);
                } else {
                    // Select element
                    obj.items[index].element.classList.add('jdropdown-selected');
                    // Add to the selected list
                    obj.selected.push(index);
                }

                // Update labels for multiple dropdown
                if (! obj.options.autocomplete) {
                    obj.updateLabel();
                }
            }

            // Current selection
            var newValue = obj.getValue();
            var newLabel = obj.getText();

            // Events
            if (typeof(obj.options.onchange) == 'function') {
                obj.options.onchange(el, index, oldValue, newValue, oldLabel, newLabel);
            }
        }
    }

    obj.selectItem = function(item) {
        if (jSuites.dropdown.current) {
            var index = item.getAttribute('data-index');
            if (index != null) {
                obj.selectIndex(index);
            }
        }
    }

    obj.find = function(str) {
        // Force lowercase
        var str = str ? str.toLowerCase() : null;

        // Append options
        for (var i = 0; i < obj.items.length; i++) {
            if (str == null || obj.items[i].textLowerCase.indexOf(str) != -1) {
                obj.items[i].element.style.display = '';
            } else {
                if (obj.selected.indexOf(i) == -1) {
                    obj.items[i].element.style.display = 'none';
                } else {
                    obj.items[i].element.style.display = '';
                }
            }
        }

        var numVisibleItems = function(items) {
            var visible = 0;
            for (var j = 0; j < items.length; j++) {
                if (items[j].style.display != 'none') {
                    visible++;
                }
            }
            return visible;
        }

        // Hide groups
        /*for (var i = 0; i < obj.groups.length; i++) {
            if (numVisibleItems(obj.groups[i].querySelectorAll('.jdropdown-item'))) {
                obj.groups[i].children[0].style.display = '';
            } else {
                obj.groups[i].children[0].style.display = 'none';
            }
        }*/
    }

    obj.updateLabel = function() {
        // Update label
        header.value = obj.getText();
    }

    obj.open = function() {
        if (jSuites.dropdown.current != el) {
            if (jSuites.dropdown.current) {
                jSuites.dropdown.current.dropdown.close();
            }
            jSuites.dropdown.current = el;
        }

        // Focus
        if (! el.classList.contains('jdropdown-focus')) {
            // Add focus
            el.classList.add('jdropdown-focus');

            // Animation
            if (jSuites.getWindowWidth() < 800) {
                if (obj.options.type == null || obj.options.type == 'picker') {
                    jSuites.slideBottom(container, 1);
                }
            }

            // Filter
            if (obj.options.autocomplete == true) {
                // Redo search
                obj.find();
                // Clear search field
                header.value = '';
                header.focus();
            }

            // Set cursor for the first or first selected element
            var cursor = (obj.selected && obj.selected[0]) ? obj.selected[0] : 0;
            obj.updateCursor(cursor);

            // Container Size
            if (! obj.options.type || obj.options.type == 'default') {
                const rect = el.getBoundingClientRect();
                const rectContainer = container.getBoundingClientRect();

                if (obj.options.position) {
                    container.style.position = 'fixed';
                    if (window.innerHeight < rect.bottom + rectContainer.height) {
                        container.style.top = '';
                        container.style.bottom = (window.innerHeight - rect.top ) + 1 + 'px';
                    } else {
                        container.style.top = rect.bottom + 'px';
                        container.style.bottom = '';
                    }
                    container.style.left = rect.left + 'px';
                } else {
                    if (window.innerHeight < rect.bottom + rectContainer.height) {
                        container.style.top = '';
                        container.style.bottom = rect.height + 1 + 'px';
                    } else {
                        container.style.top = '';
                        container.style.bottom = '';
                    }
                }

                container.style.minWidth = rect.width + 'px';
            }
        }

        // Events
        if (typeof(obj.options.onopen) == 'function') {
            obj.options.onopen(el);
        }
    }

    obj.close = function(ignoreEvents) {
        if (jSuites.dropdown.current) {
            // Remove controller
            jSuites.dropdown.current = null
            // Remove cursor
            obj.resetCursor();
            // Update labels
            obj.updateLabel();
            // Events
            if (! ignoreEvents && typeof(obj.options.onclose) == 'function') {
                obj.options.onclose(el);
            }
            // Blur
            if (header.blur) {
                header.blur();
            }
            // Remove focus
            el.classList.remove('jdropdown-focus');
        }

        return obj.getValue();
    }

    /**
     * Update position cursor
     */
    obj.updateCursor = function(index) {
        // Set new cursor
        if (obj.items && obj.items[index] && obj.items[index].element) {
            // Reset cursor
            obj.resetCursor();

            // Set new cursor
            obj.items[index].element.classList.add('jdropdown-cursor');

            // Update position
            obj.currentIndex = parseInt(index);
    
            // Update scroll to the cursor element
            var container = content.scrollTop;
            var element = obj.items[obj.currentIndex].element;
            content.scrollTop = element.offsetTop - element.scrollTop + element.clientTop - 95;
        }
    }

    /**
     * Reset cursor
     */
    obj.resetCursor = function() {
        // Remove current cursor
        if (obj.currentIndex != null) {
            // Remove visual cursor
            if (obj.items && obj.items[obj.currentIndex]) {
                obj.items[obj.currentIndex].element.classList.remove('jdropdown-cursor');
            }
            // Reset cursor
            obj.currentIndex = null;
        }
    }

    /**
     * Reset cursor
     */
    obj.resetSelected = function() {
        // Unselected all
        if (obj.selected) {
            // Remove visual selection
            for (var i = 0; i < obj.selected.length; i++) {
                if (obj.items[obj.selected[i]]) {
                    obj.items[obj.selected[i]].element.classList.remove('jdropdown-selected');
                }
            }
            // Reset current selected items
            obj.selected = [];
        }
    }

    /**
     * Reset cursor and selected items
     */
    obj.reset = function() {
        // Reset cursor
        obj.resetCursor();

        // Reset selected
        obj.resetSelected();

        // Update labels
        obj.updateLabel();
    }

    /**
     * First visible item
     */
    obj.firstVisible = function() {
        var newIndex = null;
        for (var i = 0; i < obj.items.length; i++) {
            if (obj.items[i].element.style.display != 'none') {
                newIndex = i;
                break;
            }
        }

        if (newIndex == null) {
            return false;
        }

        obj.updateCursor(newIndex);
    }

    /**
     * Navigation
     */
    obj.first = function() {
        var newIndex = null;
        for (var i = obj.currentIndex - 1; i >= 0; i--) {
            if (obj.items[i].element.style.display != 'none') {
                newIndex = i;
            }
        }

        if (newIndex == null) {
            return false;
        }

        obj.updateCursor(newIndex);
    }

    obj.last = function() {
        var newIndex = null;
        for (var i = obj.currentIndex + 1; i < obj.items.length; i++) {
            if (obj.items[i].element.style.display != 'none') {
                newIndex = i;
            }
        }

        if (newIndex == null) {
            return false;
        }

        obj.updateCursor(newIndex);
    }

    obj.next = function() {
        var newIndex = null;
        for (var i = obj.currentIndex + 1; i < obj.items.length; i++) {
            if (obj.items[i].element.style.display != 'none') {
                newIndex = i;
                break;
            }
        }

        if (newIndex == null) {
            return false;
        }

        obj.updateCursor(newIndex);
    }

    obj.prev = function() {
        var newIndex = null;
        for (var i = obj.currentIndex - 1; i >= 0; i--) {
            if (obj.items[i].element.style.display != 'none') {
                newIndex = i;
                break;
            }
        }

        if (newIndex == null) {
            return false;
        }

        obj.updateCursor(newIndex);
    }

    if (! jSuites.dropdown.hasEvents) {
        if ('ontouchsend' in document.documentElement === true) {
            document.addEventListener('touchsend', jSuites.dropdown.mouseup);
        } else {
            document.addEventListener('mouseup', jSuites.dropdown.mouseup);
        }
        document.addEventListener('keydown', jSuites.dropdown.onkeydown);

        jSuites.dropdown.hasEvents = true;
    }

    // Start dropdown
    obj.init();

    // Keep object available from the node
    el.dropdown = obj;

    return obj;
});

jSuites.dropdown.hasEvents = false;

jSuites.dropdown.mouseup = function(e) {
    var element = jSuites.getElement(e.target, 'jdropdown');
    if (element) {
        var dropdown = element.dropdown;
        if (e.target.classList.contains('jdropdown-header')) {
            if (element.classList.contains('jdropdown-focus') && element.classList.contains('jdropdown-default')) {
                dropdown.close();
            } else {
                dropdown.open();
            }
        } else if (e.target.classList.contains('jdropdown-group-name')) {
            var items = e.target.nextSibling.children;
            if (e.target.nextSibling.style.display != 'none') {
                for (var i = 0; i < items.length; i++) {
                    if (items[i].style.display != 'none') {
                        dropdown.selectItem(items[i]);
                    }
                }
            }
        } else if (e.target.classList.contains('jdropdown-group-arrow')) {
            if (e.target.classList.contains('jdropdown-group-arrow-down')) {
                e.target.classList.remove('jdropdown-group-arrow-down');
                e.target.classList.add('jdropdown-group-arrow-up');
                e.target.parentNode.nextSibling.style.display = 'none';
            } else {
                e.target.classList.remove('jdropdown-group-arrow-up');
                e.target.classList.add('jdropdown-group-arrow-down');
                e.target.parentNode.nextSibling.style.display = '';
            }
        } else if (e.target.classList.contains('jdropdown-item')) {
            dropdown.selectItem(e.target);
        } else if (e.target.classList.contains('jdropdown-image')) {
            dropdown.selectIndex(e.target.parentNode.getAttribute('data-index'));
        } else if (e.target.classList.contains('jdropdown-description')) {
            dropdown.selectIndex(e.target.parentNode.getAttribute('data-index'));
        } else if (e.target.classList.contains('jdropdown-title')) {
            dropdown.selectIndex(e.target.parentNode.parentNode.getAttribute('data-index'));
        } else if (e.target.classList.contains('jdropdown-close') || e.target.classList.contains('jdropdown-backdrop')) {
            // Close
            dropdown.close();
        }

        e.stopPropagation();
        e.preventDefault();
    } else {
        if (jSuites.dropdown.current) {
            jSuites.dropdown.current.dropdown.close();
        }
    }
}


// Keydown controls
jSuites.dropdown.onkeydown = function(e) {
    if (jSuites.dropdown.current) {
        // Element
        var element = jSuites.dropdown.current.dropdown;
        // Index
        var index = element.currentIndex;

        if (e.shiftKey) {

        } else {
            if (e.which == 13 || e.which == 27 || e.which == 35 || e.which == 36 || e.which == 38 || e.which == 40) {
                // Move cursor
                if (e.which == 13) {
                    element.selectIndex(index)
                } else if (e.which == 38) {
                    if (index == null) {
                        element.firstVisible();
                    } else if (index > 0) {
                        element.prev();
                    }
                } else if (e.which == 40) {
                    if (index == null) {
                        element.firstVisible();
                    } else if (index + 1 < element.options.data.length) {
                        element.next();
                    }
                } else if (e.which == 36) {
                    element.first();
                } else if (e.which == 35) {
                    element.last();
                } else if (e.which == 27) {
                    element.close();
                }

                e.stopPropagation();
                e.preventDefault();
            }
        }
    }
}

jSuites.dropdown.extractFromDom = function(el, options) {
    // Keep reference
    var select = el;
    if (! options) {
        options = {};
    }
    // Prepare configuration
    if (el.getAttribute('multiple') && (! options || options.multiple == undefined)) {
        options.multiple = true;
    }
    if (el.getAttribute('placeholder') && (! options || options.placeholder == undefined)) {
        options.placeholder = el.getAttribute('placeholder');
    }
    if (el.getAttribute('data-autocomplete') && (! options || options.autocomplete == undefined)) {
        options.autocomplete = true;
    }
    if (! options || options.width == undefined) {
        options.width = el.offsetWidth;
    }
    if (el.value && (! options || options.value == undefined)) {
        options.value = el.value;
    }
    if (! options || options.data == undefined) {
        options.data = [];
        for (var j = 0; j < el.children.length; j++) {
            if (el.children[j].tagName == 'OPTGROUP') {
                for (var i = 0; i < el.children[j].children.length; i++) {
                    options.data.push({
                        id: el.children[j].children[i].value,
                        name: el.children[j].children[i].innerHTML,
                        group: el.children[j].getAttribute('label'),
                    });
                }
            } else {
                options.data.push({
                    id: el.children[j].value,
                    name: el.children[j].innerHTML,
                });
            }
        }
    }
    if (! options || options.onchange == undefined) {
        options.onchange = function(a,b,c,d) {
            if (options.multiple == true) {
                if (obj.items[b].classList.contains('jdropdown-selected')) {
                    select.options[b].setAttribute('selected', 'selected');
                } else {
                    select.options[b].removeAttribute('selected');
                }
            } else {
                select.value = d;
            }
        }
    }
    // Create DIV
    var div = document.createElement('div');
    el.parentNode.insertBefore(div, el);
    el.style.display = 'none';
    el = div;

    return { el:el, options:options };
}

/**
 * (c) jTools Text Editor
 * https://github.com/paulhodel/jtools
 *
 * @author: Paul Hodel <paul.hodel@gmail.com>
 * @description: Inline richtext editor
 */

jSuites.editor = (function(el, options) {
    var obj = {};
    obj.options = {};

    // Default configuration
    var defaults = {
        // Initial HTML content
        value: null,
        // Initial snippet
        snippet: null,
        // Add toolbar
        toolbar: null,
        // Max height
        maxHeight: null,
        // Website parser is to read websites and images from cross domain
        remoteParser: null,
        // Key from youtube to read properties from URL
        youtubeKey: null,
        // User list
        userSearch: null,
        // Parse URL
        parseURL: false,
        // Accept drop files
        dropZone: true,
        dropAsAttachment: false,
        acceptImages: true,
        acceptFiles: false,
        maxFileSize: 5000000, 
        // Border
        border: true,
        padding: true,
        focus: false,
        // Events
        onclick: null,
        onfocus: null,
        onblur: null,
        onload: null,
        onenter: null,
        onkeyup: null,
        onkeydown: null,
    };

    // Loop through our object
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    // Private controllers
    var imageResize = 0;
    var editorTimer = null;
    var editorAction = null;

    // Make sure element is empty
    el.innerHTML = '';

    // Prepare container
    el.classList.add('jeditor-container');

    // Padding
    if (obj.options.padding == true) {
        el.classList.add('jeditor-padding');
    }

    // Border
    if (obj.options.border == false) {
        el.style.border = '0px';
    }

    // Snippet
    var snippet = document.createElement('div');
    snippet.className = 'snippet';
    snippet.setAttribute('contenteditable', false);

    // Toolbar
    var toolbar = document.createElement('div');
    toolbar.className = 'jeditor-toolbar';

    // Create editor
    var editor = document.createElement('div');
    editor.setAttribute('contenteditable', true);
    editor.setAttribute('spellcheck', false);
    editor.className = 'jeditor';

    // Max height
    if (obj.options.maxHeight) {
        editor.style.overflowY = 'auto';
        editor.style.maxHeight = obj.options.maxHeight;
    }

    // Set editor initial value
    if (obj.options.value) {
        var value = obj.options.value;
    } else {
        var value = el.innerHTML ? el.innerHTML : ''; 
    }

    if (! value) {
        var value = '<br>';
    }

    /**
     * Extract images from a HTML string
     */
    var extractImageFromHtml = function(html) {
        // Create temp element
        var div = document.createElement('div');
        div.innerHTML = html;

        // Extract images
        var img = div.querySelectorAll('img');

        if (img.length) {
            for (var i = 0; i < img.length; i++) {
                obj.addImage(img[i].src);
            }
        }
    }

    /**
     * Insert node at caret
     */
    var insertNodeAtCaret = function(newNode) {
        var sel, range;

        if (window.getSelection) {
            sel = window.getSelection();
            if (sel.rangeCount) {
                range = sel.getRangeAt(0);
                var selectedText = range.toString();
                range.deleteContents();
                range.insertNode(newNode); 
                // move the cursor after element
                range.setStartAfter(newNode);
                range.setEndAfter(newNode); 
                sel.removeAllRanges();
                sel.addRange(range);
            }
        }
    }

    /**
     * Append snippet or thumbs in the editor
     * @Param object data
     */
    var appendElement = function(data) {
        // Reset snippet
        snippet.innerHTML = '';

        if (data.image) {
            var div = document.createElement('div');
            div.className = 'snippet-image';
            div.setAttribute('data-k', 'image');
            snippet.appendChild(div);

            var image = document.createElement('img');
            image.src = data.image;
            div.appendChild(image);
        }

        var div = document.createElement('div');
        div.className = 'snippet-title';
        div.setAttribute('data-k', 'title');
        div.innerHTML = data.title;
        snippet.appendChild(div);

        var div = document.createElement('div');
        div.className = 'snippet-description';
        div.setAttribute('data-k', 'description');
        div.innerHTML = data.description;
        snippet.appendChild(div);

        var div = document.createElement('div');
        div.className = 'snippet-host';
        div.setAttribute('data-k', 'host');
        div.innerHTML = data.host;
        snippet.appendChild(div);

        var div = document.createElement('div');
        div.className = 'snippet-url';
        div.setAttribute('data-k', 'url');
        div.innerHTML = data.url;
        snippet.appendChild(div);

        editor.appendChild(snippet);
    }

    var verifyEditor = function() {
        clearTimeout(editorTimer);
        editorTimer = setTimeout(function() {
            var snippet = editor.querySelector('.snippet');
            var thumbsContainer = el.querySelector('.jeditor-thumbs-container');

            if (! snippet && ! thumbsContainer) {
                var html = editor.innerHTML.replace(/\n/g, ' ');
                var container = document.createElement('div');
                container.innerHTML = html;
                var thumbsContainer = container.querySelector('.jeditor-thumbs-container');
                if (thumbsContainer) {
                    thumbsContainer.remove();
                }
                var text = container.innerText; 
                var url = jSuites.editor.detectUrl(text);

                if (url) {
                    if (url[0].substr(-3) == 'jpg' || url[0].substr(-3) == 'png' || url[0].substr(-3) == 'gif') {
                        if (jSuites.editor.getDomain(url[0]) == window.location.hostname) {
                            obj.importImage(url[0], '');
                        } else {
                            obj.importImage(obj.options.remoteParser + url[0], '');
                        }
                    } else {
                        var id = jSuites.editor.youtubeParser(url[0]);

                        if (id) {
                            obj.getYoutube(id);
                        } else {
                            obj.getWebsite(url[0]);
                        }
                    }
                }
            }
        }, 1000);
    }

    obj.parseContent = function() {
        verifyEditor();
    }

    /**
     * Get metadata from a youtube video
     */
    obj.getYoutube = function(id) {
        if (! obj.options.youtubeKey) {
            console.error('The youtubeKey is not defined');
        } else {
            jSuites.ajax({
                url: 'https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&key=' + obj.options.youtubeKey + '&id=' + id,
                method: 'GET',
                dataType: 'json',
                success: function(result) {
                    // Only valid elements to be appended
                    if (result.items && result.items[0]) {
                        var p = {
                            title: '',
                            description: '',
                            image: '',
                            host: 'www.youtube.com',
                            url: 'https://www.youtube.com?watch=' + id,
                        }
                        if (result.items[0].snippet.title) {
                            p.title = result.items[0].snippet.title;
                        }
                        if (result.items[0].snippet.description) {
                            p.description = result.items[0].snippet.description;

                            if (p.description.length > 150) {
                                p.description = p.description.substr(0, 150) + '...';
                            }
                        }
                        if (result.items[0].snippet.thumbnails.medium.url) {
                            p.image = result.items[0].snippet.thumbnails.medium.url;
                        }

                        appendElement(p);
                    }
                }
            });
        }
    }

    /**
     * Get meta information from a website
     */
    obj.getWebsite = function(url) {
        if (! obj.options.remoteParser) {
            console.log('The remoteParser is not defined');
        } else {
            jSuites.ajax({
                url: obj.options.remoteParser + encodeURI(url.trim()),
                method: 'GET',
                dataType: 'json',
                success: function(result) {
                    var p = {
                        title: '',
                        description: '',
                        image: '',
                        host: url,
                        url: url,
                    }

                    if (result.title) {
                        p.title = result.title;
                    }
                    if (result.description) {
                        p.description = result.description;
                    }
                    if (result.image) {
                        p.image = result.image;
                    } else if (result['og:image']) {
                        p.image = result['og:image'];
                    }
                    if (result.host) {
                        p.host = result.host;
                    }
                    if (result.url) {
                        p.url = result.url;
                    }

                    appendElement(p);
                }
            });
        }
    }

    /**
     * Set editor value
     */
    obj.setData = function(html) {
        editor.innerHTML = html;
        cursor();
    }

    /**
     * Get editor data
     */
    obj.getData = function(json) {
        if (! json) {
            var data = editor.innerHTML;
        } else {
            var data = {
                content : '',
            }

            // Get tag users
            var tagged = editor.querySelectorAll('.post-tag');
            if (tagged.length) {
                data.users = [];
                for (var i = 0; i < tagged.length; i++) {
                    var userId = tagged[i].getAttribute('data-user');
                    if (userId) {
                        data.users.push(userId);
                    }
                }
                data.users = data.users.join(',');
            }

            if (snippet.innerHTML) {
                var index = 0;
                data.snippet = {};
                for (var i = 0; i < snippet.children.length; i++) {
                    // Get key from element
                    var key = snippet.children[i].getAttribute('data-k');
                    if (key) {
                        if (key == 'image') {
                            data.snippet.image = snippet.children[i].children[0].getAttribute('src');
                        } else {
                            data.snippet[key] = snippet.children[i].innerHTML;
                        }
                    }
                }

                snippet.innerHTML = '';
                snippet.remove();
            }

            var text = editor.innerHTML;
            text = text.replace(/<br>/g, "\n");
            text = text.replace(/<\/div>/g, "<\/div>\n");
            text = text.replace(/<(?:.|\n)*?>/gm, "");
            data.content = text.trim();
            data = JSON.stringify(data);
        }

        return data;
    }

    // Reset
    obj.reset = function() {
        editor.innerHTML = '';
    }

    obj.addPdf = function(data) {
        if (data.result.substr(0,4) != 'data') {
            console.error('Invalid source');
        } else {
            var canvas = document.createElement('canvas');
            canvas.width = 60;
            canvas.height = 60;

            var img = new Image();
            var ctx = canvas.getContext('2d');
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

            canvas.toBlob(function(blob) {
                var newImage = document.createElement('img');
                newImage.src = window.URL.createObjectURL(blob);
                newImage.setAttribute('data-extension', 'pdf');
                if (data.name) {
                    newImage.setAttribute('data-name', data.name);
                }
                if (data.size) {
                    newImage.setAttribute('data-size', data.size);
                }
                if (data.date) {
                    newImage.setAttribute('data-date', data.date);
                }
                newImage.className = 'jfile pdf';

                insertNodeAtCaret(newImage);
                jSuites.files[newImage.src] = data.result.substr(data.result.indexOf(',') + 1);
            });
        }
    }

    obj.addImage = function(src, name, size, date) {
        if (src.substr(0,4) != 'data' && ! obj.options.remoteParser) {
            console.error('remoteParser not defined in your initialization');
        } else {
            // This is to process cross domain images
            if (src.substr(0,4) == 'data') {
                var extension = src.split(';')
                extension = extension[0].split('/');
                extension = extension[1];
            } else {
                var extension = src.substr(src.lastIndexOf('.') + 1);
                // Work for cross browsers
                src = obj.options.remoteParser + src;
            }

            var img = new Image();

            img.onload = function onload() {
                var canvas = document.createElement('canvas');
                canvas.width = img.width;
                canvas.height = img.height;

                var ctx = canvas.getContext('2d');
                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

                canvas.toBlob(function(blob) {
                    var newImage = document.createElement('img');
                    newImage.src = window.URL.createObjectURL(blob);
                    newImage.setAttribute('tabindex', '900');
                    newImage.setAttribute('data-extension', extension);
                    if (name) {
                        newImage.setAttribute('data-name', name);
                    }
                    if (size) {
                        newImage.setAttribute('data-size', size);
                    }
                    if (date) {
                        newImage.setAttribute('data-date', date);
                    }
                    newImage.className = 'jfile';
                    var content = canvas.toDataURL();
                    insertNodeAtCaret(newImage);

                    jSuites.files[newImage.src] = content.substr(content.indexOf(',') + 1);
                });
            };

            img.src = src;
        }
    }

    obj.addFile = function(files) {
        var reader = [];

        for (var i = 0; i < files.length; i++) {
            if (files[i].size > obj.options.maxFileSize) {
                alert('The file is too big');
            } else {
                // Only PDF or Images
                var type = files[i].type.split('/');

                if (type[0] == 'image') {
                    type = 1;
                } else if (type[1] == 'pdf') {
                    type = 2;
                } else {
                    type = 0;
                }

                if (type) {
                    // Create file
                    reader[i] = new FileReader();
                    reader[i].index = i;
                    reader[i].type = type;
                    reader[i].name = files[i].name;
                    reader[i].date = files[i].lastModified;
                    reader[i].size = files[i].size;
                    reader[i].addEventListener("load", function (data) {
                        // Get result
                        if (data.target.type == 2) {
                            if (obj.options.acceptFiles == true) {
                                obj.addPdf(data.target);
                            }
                        } else {
                            obj.addImage(data.target.result, data.target.name, data.total, data.target.lastModified);
                        }
                    }, false);

                    reader[i].readAsDataURL(files[i])
                } else {
                    alert('The extension is not allowed');
                }
            }
        }
    }

    // Destroy
    obj.destroy = function() {
        editor.removeEventListener('mouseup', editorMouseUp);
        editor.removeEventListener('mousedown', editorMouseDown);
        editor.removeEventListener('mousemove', editorMouseMove);
        editor.removeEventListener('keyup', editorKeyUp);
        editor.removeEventListener('keydown', editorKeyDown);
        editor.removeEventListener('dragstart', editorDragStart);
        editor.removeEventListener('dragenter', editorDragEnter);
        editor.removeEventListener('dragover', editorDragOver);
        editor.removeEventListener('drop', editorDrop);
        editor.removeEventListener('paste', editorPaste);

        if (typeof(obj.options.onblur) == 'function') {
            editor.removeEventListener('blur', editorBlur);
        }
        if (typeof(obj.options.onfocus) == 'function') {
            editor.removeEventListener('focus', editorFocus);
        }

        el.editor = null;
        el.classList.remove('jeditor-container');

        toolbar.remove();
        snippet.remove();
        editor.remove();
    }

    var isLetter = function (str) {
        var regex = /([\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]+)/g;
        return str.match(regex) ? 1 : 0;
    }

    // Event handlers
    var editorMouseUp = function(e) {
        editorAction = false;
    }

    var editorMouseDown = function(e) {
        var close = function(snippet) {
            var rect = snippet.getBoundingClientRect();
            if (rect.width - (e.clientX - rect.left) < 40 && e.clientY - rect.top < 40) {
                snippet.innerHTML = '';
                snippet.remove();
            }
        }

        if (e.target.tagName == 'IMG') {
            if (e.target.style.cursor) {
                var rect = e.target.getBoundingClientRect();
                editorAction = {
                    e: e.target,
                    x: e.clientX,
                    y: e.clientY,
                    w: rect.width,
                    h: rect.height,
                    d: e.target.style.cursor,
                }

                if (! e.target.style.width) {
                    e.target.style.width = rect.width + 'px';
                }

                if (! e.target.style.height) {
                    e.target.style.height = rect.height + 'px';
                }

                var s = window.getSelection();
                if (s.rangeCount) {
                    for (var i = 0; i < s.rangeCount; i++) {
                        s.removeRange(s.getRangeAt(i));
                    }
                }
            } else {
                editorAction = true;
            }
        } else { 
            if (e.target.classList.contains('snippet')) {
                close(e.target);
            } else if (e.target.parentNode.classList.contains('snippet')) {
                close(e.target.parentNode);
            }

            editorAction = true;
        }
    }

    var editorMouseMove = function(e) {
        if (e.target.tagName == 'IMG') {
            if (e.target.getAttribute('tabindex')) {
                var rect = e.target.getBoundingClientRect();
                if (e.clientY - rect.top < 5) {
                    if (rect.width - (e.clientX - rect.left) < 5) {
                        e.target.style.cursor = 'ne-resize';
                    } else if (e.clientX - rect.left < 5) {
                        e.target.style.cursor = 'nw-resize';
                    } else {
                        e.target.style.cursor = 'n-resize';
                    }
                } else if (rect.height - (e.clientY - rect.top) < 5) {
                    if (rect.width - (e.clientX - rect.left) < 5) {
                        e.target.style.cursor = 'se-resize';
                    } else if (e.clientX - rect.left < 5) {
                        e.target.style.cursor = 'sw-resize';
                    } else {
                        e.target.style.cursor = 's-resize';
                    }
                } else if (rect.width - (e.clientX - rect.left) < 5) {
                    e.target.style.cursor = 'e-resize';
                } else if (e.clientX - rect.left < 5) {
                    e.target.style.cursor = 'w-resize';
                } else {
                    e.target.style.cursor = '';
                }
            }
        }

        // Move
        if (e.which == 1 && editorAction && editorAction.d) {
            if (editorAction.d == 'e-resize' || editorAction.d == 'ne-resize' ||  editorAction.d == 'se-resize') {
                editorAction.e.style.width = (editorAction.w + (e.clientX - editorAction.x)) + 'px';

                if (e.shiftKey) {
                    var newHeight = (e.clientX - editorAction.x) * (editorAction.h / editorAction.w);
                    editorAction.e.style.height = editorAction.h + newHeight + 'px';
                } else {
                    var newHeight =  null;
                }
            }

            if (! newHeight) {
                if (editorAction.d == 's-resize' || editorAction.d == 'se-resize' || editorAction.d == 'sw-resize') {
                    if (! e.shiftKey) {
                        editorAction.e.style.height = editorAction.h + (e.clientY - editorAction.y);
                    }
                }
            }
        }
    }

    var editorKeyUp = function(e) {
        if (! editor.innerHTML) {
            editor.innerHTML = '<div><br></div>';
        }

        if (typeof(obj.options.onkeyup) == 'function') { 
            obj.options.onkeyup(e, el);
        }
    }


    var editorKeyDown = function(e) {
        // Check for URL
        if (obj.options.parseURL == true) {
            verifyEditor();
        }

        // Closable
        if (typeof(obj.options.onenter) == 'function' && e.which == 13) {
            var data = obj.getData();
            obj.options.onenter(obj, el, data, e);
        }

        if (typeof(obj.options.onkeydown) == 'function') { 
            obj.options.onkeydown(e, el);
        }
    }

    var editorPaste = function(e) {
        if (e.clipboardData || e.originalEvent.clipboardData) {
            var html = (e.originalEvent || e).clipboardData.getData('text/html');
            var text = (e.originalEvent || e).clipboardData.getData('text/plain');
            var file = (e.originalEvent || e).clipboardData.files
        } else if (window.clipboardData) {
            var html = window.clipboardData.getData('Html');
            var text = window.clipboardData.getData('Text');
            var file = window.clipboardData.files
        }

        if (file.length) {
            // Paste a image from the clipboard
            obj.addFile(file);
        } else {
            // Paste text
            text = text.split('\r\n');
            var str = '';
            if (e.target.nodeName == 'DIV' && ! e.target.classList.contains('jeditor')) {
                for (var i = 0; i < text.length; i++) {
                    if (text[i]) {
                        str += text[i] + "<br>\r\n";
                    }
                }
            } else {
                for (var i = 0; i < text.length; i++) {
                    if (text[i]) {
                        str += '<div>' + text[i] + '</div>';
                    } else {
                        str += '<div><br></div>';
                    }
                }
            }
            // Insert text
            document.execCommand('insertHtml', false, str);

            // Extra images from the paste
            if (obj.options.acceptImages == true) {
                extractImageFromHtml(html);
            }
        }

        e.preventDefault();
    }

    var editorDragStart = function(e) {
        if (editorAction && editorAction.e) {
            e.preventDefault();
        }
    }

    var editorDragEnter = function(e) {
        if (editorAction || obj.options.dropZone == false) {
            // Do nothing
        } else {
            el.classList.add('jeditor-dragging');
        }
    }

    var editorDragOver = function(e) {
        if (editorAction || obj.options.dropZone == false) {
            // Do nothing
        } else {
            if (editorTimer) {
                clearTimeout(editorTimer);
            }

            editorTimer = setTimeout(function() {
                el.classList.remove('jeditor-dragging');
            }, 100);
        }
    }

    var editorDrop = function(e) {
        if (editorAction || obj.options.dropZone == false) {
            // Do nothing
        } else {
            // Position caret on the drop
            var range = null;
            if (document.caretRangeFromPoint) {
                range=document.caretRangeFromPoint(e.clientX, e.clientY);
            } else if (e.rangeParent) {
                range=document.createRange();
                range.setStart(e.rangeParent,e.rangeOffset);
            }
            var sel = window.getSelection();
            sel.removeAllRanges();
            sel.addRange(range);
            sel.anchorNode.parentNode.focus();

            var html = (e.originalEvent || e).dataTransfer.getData('text/html');
            var text = (e.originalEvent || e).dataTransfer.getData('text/plain');
            var file = (e.originalEvent || e).dataTransfer.files;
    
            if (file.length) {
                obj.addFile(file);
            } else if (text) {
                extractImageFromHtml(html);
            }

            el.classList.remove('jeditor-dragging');
            e.preventDefault();
        }
    }

    var editorBlur = function() {
        obj.options.onblur(obj, el, obj.getData());
    }

    var editorFocus = function() {
        obj.options.onfocus(obj, el, obj.getData());
    }

    editor.addEventListener('mouseup', editorMouseUp);
    editor.addEventListener('mousedown', editorMouseDown);
    editor.addEventListener('mousemove', editorMouseMove);
    editor.addEventListener('keyup', editorKeyUp);
    editor.addEventListener('keydown', editorKeyDown);
    editor.addEventListener('dragstart', editorDragStart);
    editor.addEventListener('dragenter', editorDragEnter);
    editor.addEventListener('dragover', editorDragOver);
    editor.addEventListener('drop', editorDrop);
    editor.addEventListener('paste', editorPaste);

    // Blur
    if (typeof(obj.options.onblur) == 'function') {
        editor.addEventListener('blur', editorBlur);
    }

    // Focus
    if (typeof(obj.options.onfocus) == 'function') {
        editor.addEventListener('focus', editorFocus);
    }

    // Onload
    if (typeof(obj.options.onload) == 'function') {
        obj.options.onload(el, editor);
    }

    // Set value to the editor
    editor.innerHTML = value;

    // Append editor to the containre
    el.appendChild(editor);

    // Snippet
    if (obj.options.snippet) {
        appendElement(obj.options.snippet);
    }

    // Default toolbar
    if (obj.options.toolbar == null) {
        obj.options.toolbar = jSuites.editor.getDefaultToolbar();
    }

    // Add toolbar
    if (obj.options.toolbar) {
        for (var i = 0; i < obj.options.toolbar.length; i++) {
            if (obj.options.toolbar[i].icon) {
                var item = document.createElement('div');
                item.style.userSelect = 'none';
                var itemIcon = document.createElement('i');
                itemIcon.className = 'material-icons';
                itemIcon.innerHTML = obj.options.toolbar[i].icon;
                itemIcon.onclick = (function (a) {
                    var b = a;
                    return function () {
                        obj.options.toolbar[b].onclick(el, obj, this)
                    };
                })(i);
                item.appendChild(itemIcon);
                toolbar.appendChild(item);
            } else {
                if (obj.options.toolbar[i].type == 'divisor') {
                    var item = document.createElement('div');
                    item.className = 'jeditor-toolbar-divisor';
                    toolbar.appendChild(item);
                } else if (obj.options.toolbar[i].type == 'button') {
                    var item = document.createElement('div');
                    item.classList.add('jeditor-toolbar-button');
                    item.innerHTML = obj.options.toolbar[i].value;
                    toolbar.appendChild(item);
                }
            }
        }

        el.appendChild(toolbar);
    }

    // Focus to the editor
    if (obj.options.focus) {
        jSuites.editor.setCursor(editor, obj.options.focus == 'initial' ? true : false);
    }

    el.editor = obj;

    return obj;
});

jSuites.editor.setCursor = function(element, first) {
    element.focus();
    document.execCommand('selectAll');
    var sel = window.getSelection();
    var range = sel.getRangeAt(0);
    if (first == true) {
        var node = range.startContainer;
        var size = 0;
    } else {
        var node = range.endContainer;
        var size = node.length;
    }
    range.setStart(node, size);
    range.setEnd(node, size);
    sel.removeAllRanges();
    sel.addRange(range);
}

jSuites.editor.getDomain = function(url) {
    return url.replace('http://','').replace('https://','').replace('www.','').split(/[/?#]/)[0].split(/:/g)[0];
}

jSuites.editor.detectUrl = function(text) {
    var expression = /(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/ig;
    var links = text.match(expression);

    if (links) {
        if (links[0].substr(0,3) == 'www') {
            links[0] = 'http://' + links[0];
        }
    }

    return links;
}

jSuites.editor.youtubeParser = function(url) {
    var regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
    var match = url.match(regExp);

    return (match && match[7].length == 11) ? match[7] : false;
}

jSuites.editor.getDefaultToolbar = function() { 
    return [
        {
            icon:'undo',
            onclick: function() {
                document.execCommand('undo');
            }
        },
        {
            icon:'redo',
            onclick: function() {
                document.execCommand('redo');
            }
        },
        {
            type:'divisor'
        },
        {
            icon:'format_bold',
            onclick: function(a,b,c) {
                document.execCommand('bold');

                if (document.queryCommandState("bold")) {
                    c.classList.add('selected');
                } else {
                    c.classList.remove('selected');
                }
            }
        },
        {
            icon:'format_italic',
            onclick: function(a,b,c) {
                document.execCommand('italic');

                if (document.queryCommandState("italic")) {
                    c.classList.add('selected');
                } else {
                    c.classList.remove('selected');
                }
            }
        },
        {
            icon:'format_underline',
            onclick: function(a,b,c) {
                document.execCommand('underline');

                if (document.queryCommandState("underline")) {
                    c.classList.add('selected');
                } else {
                    c.classList.remove('selected');
                }
            }
        },
        {
            type:'divisor'
        },
        {
            icon:'format_list_bulleted',
            onclick: function(a,b,c) {
                document.execCommand('insertUnorderedList');

                if (document.queryCommandState("insertUnorderedList")) {
                    c.classList.add('selected');
                } else {
                    c.classList.remove('selected');
                }
            }
        },
        {
            icon:'format_list_numbered',
            onclick: function(a,b,c) {
                document.execCommand('insertOrderedList');

                if (document.queryCommandState("insertOrderedList")) {
                    c.classList.add('selected');
                } else {
                    c.classList.remove('selected');
                }
            }
        },
        {
            icon:'format_indent_increase',
            onclick: function(a,b,c) {
                document.execCommand('indent', true, null);

                if (document.queryCommandState("indent")) {
                    c.classList.add('selected');
                } else {
                    c.classList.remove('selected');
                }
            }
        },
        {
            icon:'format_indent_decrease',
            onclick: function(a,b,c) {
                document.execCommand('outdent');

                if (document.queryCommandState("outdent")) {
                    c.classList.add('selected');
                } else {
                    c.classList.remove('selected');
                }
            }
        }
        /*{
            type:'select',
            items: ['Verdana','Arial','Courier New'],
            onchange: function() {
            }
        },
        {
            type:'select',
            items: ['10px','12px','14px','16px','18px','20px','22px'],
            onchange: function() {
            }
        },
        {
            icon:'format_align_left',
            onclick: function() {
                document.execCommand('JustifyLeft');

                if (document.queryCommandState("JustifyLeft")) {
                    this.classList.add('selected');
                } else {
                    this.classList.remove('selected');
                }
            }
        },
        {
            icon:'format_align_center',
            onclick: function() {
                document.execCommand('justifyCenter');

                if (document.queryCommandState("justifyCenter")) {
                    this.classList.add('selected');
                } else {
                    this.classList.remove('selected');
                }
            }
        },
        {
            icon:'format_align_right',
            onclick: function() {
                document.execCommand('justifyRight');

                if (document.queryCommandState("justifyRight")) {
                    this.classList.add('selected');
                } else {
                    this.classList.remove('selected');
                }
            }
        },
        {
            icon:'format_align_justify',
            onclick: function() {
                document.execCommand('justifyFull');

                if (document.queryCommandState("justifyFull")) {
                    this.classList.add('selected');
                } else {
                    this.classList.remove('selected');
                }
            }
        },
        {
            icon:'format_list_bulleted',
            onclick: function() {
                document.execCommand('insertUnorderedList');

                if (document.queryCommandState("insertUnorderedList")) {
                    this.classList.add('selected');
                } else {
                    this.classList.remove('selected');
                }
            }
        }*/
    ];
}


jSuites.image = (function(el, options) {
    var obj = {};
    obj.options = {};

    // Default configuration
    var defaults = {
        minWidth: false,
        onchange: null,
        singleFile: true,
        remoteParser: null,
        text:{
            extensionNotAllowed:'The extension is not allowed',
            imageTooSmall:'The resolution is too low, try a image with a better resolution. width > 800px',
        }
    };

    // Loop through our object
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    // Upload icon
    el.classList.add('jupload');

    // Add image
    obj.addImage = function(file) {
        if (! file.date) {
            file.date = '';
        }
        var img = document.createElement('img');
        img.setAttribute('data-date', file.lastmodified ? file.lastmodified : file.date);
        img.setAttribute('data-name', file.name);
        img.setAttribute('data-size', file.size);
        img.setAttribute('data-small', file.small ? file.small : '');
        img.setAttribute('data-cover', file.cover ? 1 : 0);
        img.setAttribute('data-extension', file.extension);
        img.setAttribute('src', file.file);
        img.className = 'jfile';
        img.style.width = '100%';

        return img;
    }

    // Add image
    obj.addImages = function(files) {
        if (obj.options.singleFile == true) {
            el.innerHTML = '';
        }

        for (var i = 0; i < files.length; i++) {
            el.appendChild(obj.addImage(files[i]));
        }
    }

    obj.addFromFile = function(file) {
        var type = file.type.split('/');
        if (type[0] == 'image') {
            if (obj.options.singleFile == true) {
                el.innerHTML = '';
            }

            var imageFile = new FileReader();
            imageFile.addEventListener("load", function (v) {

                var img = new Image();

                img.onload = function onload() {
                    var canvas = document.createElement('canvas');
                    canvas.width = img.width;
                    canvas.height = img.height;

                    var ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

                    var data = {
                        file: canvas.toDataURL(),
                        extension: file.name.substr(file.name.lastIndexOf('.') + 1),
                        name: file.name,
                        size: file.size,
                        lastmodified: file.lastModified,
                    }
                    var newImage = obj.addImage(data);
                    el.appendChild(newImage);

                    // Onchange
                    if (typeof(obj.options.onchange) == 'function') {
                        obj.options.onchange(newImage);
                    }
                };

                img.src = v.srcElement.result;
            });

            imageFile.readAsDataURL(file);
        } else {
            alert(text.extentionNotAllowed);
        }
    }

    obj.addFromUrl = function(src) {
        if (src.substr(0,4) != 'data' && ! obj.options.remoteParser) {
            console.error('remoteParser not defined in your initialization');
        } else {
            // This is to process cross domain images
            if (src.substr(0,4) == 'data') {
                var extension = src.split(';')
                extension = extension[0].split('/');
                extension = extension[1];
            } else {
                var extension = src.substr(src.lastIndexOf('.') + 1);
                // Work for cross browsers
                src = obj.options.remoteParser + src;
            }

            var img = new Image();

            img.onload = function onload() {
                var canvas = document.createElement('canvas');
                canvas.width = img.width;
                canvas.height = img.height;

                var ctx = canvas.getContext('2d');
                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

                canvas.toBlob(function(blob) {
                    var data = {
                        file: window.URL.createObjectURL(blob),
                        extension: extension
                    }
                    var newImage = obj.addImage(data);
                    el.appendChild(newImage);

                    // Keep base64 ready to go
                    var content = canvas.toDataURL();
                    jSuites.files[data.file] = content.substr(content.indexOf(',') + 1);

                    // Onchange
                    if (typeof(obj.options.onchange) == 'function') {
                        obj.options.onchange(newImage);
                    }
                });
            };

            img.src = src;
        }
    }

    var attachmentInput = document.createElement('input');
    attachmentInput.type = 'file';
    attachmentInput.setAttribute('accept', 'image/*');
    attachmentInput.onchange = function() {
        for (var i = 0; i < this.files.length; i++) {
            obj.addFromFile(this.files[i]);
        }
    }

    el.addEventListener("dblclick", function(e) {
        jSuites.click(attachmentInput);
    });

    el.addEventListener('dragenter', function(e) {
        el.style.border = '1px dashed #000';
    });

    el.addEventListener('dragleave', function(e) {
        el.style.border = '1px solid #eee';
    });

    el.addEventListener('dragstop', function(e) {
        el.style.border = '1px solid #eee';
    });

    el.addEventListener('dragover', function(e) {
        e.preventDefault();
    });

    el.addEventListener('drop', function(e) {
        e.preventDefault();  
        e.stopPropagation();


        var html = (e.originalEvent || e).dataTransfer.getData('text/html');
        var file = (e.originalEvent || e).dataTransfer.files;

        if (file.length) {
            for (var i = 0; i < e.dataTransfer.files.length; i++) {
                obj.addFromFile(e.dataTransfer.files[i]);
            }
        } else if (html) {
            if (obj.options.singleFile == true) {
                el.innerHTML = '';
            }

            // Create temp element
            var div = document.createElement('div');
            div.innerHTML = html;

            // Extract images
            var img = div.querySelectorAll('img');

            if (img.length) {
                for (var i = 0; i < img.length; i++) {
                    obj.addFromUrl(img[i].src);
                }
            }
        }

        el.style.border = '1px solid #eee';

        return false;
    });

    el.image = obj;

    return obj;
});

/**
 * (c) jLoading
 * https://github.com/paulhodel/jtools
 *
 * @author: Paul Hodel <paul.hodel@gmail.com>
 * @description: Page loading spin
 */

jSuites.loading = (function() {
    var obj = {};

    var loading = document.createElement('div');
    loading.className = 'jloading';

    obj.show = function() {
        document.body.appendChild(loading);
    };

    obj.hide = function() {
        document.body.removeChild(loading);
    };

    return obj;
})();

/**
 * (c) jLogin
 * https://github.com/paulhodel/jtools
 *
 * @author: Paul Hodel <paul.hodel@gmail.com>
 * @description: Login helper
 */

jSuites.login = (function(el, options) {
    var obj = {};
    obj.options = {};

    // Default configuration
    var defaults = {
        url: window.location.href,
        prepareRequest: null,
        accessToken: null,
        deviceToken: null,
        facebookUrl: null,
        facebookAuthentication: null,
        maxHeight: null,
        onload: null,
        onsuccess: null,
        onerror: null,
        message: null,
        logo: null,
        newProfile: false,
        newProfileUrl: false,
        newProfileLogin: false,
        fullscreen: false,
        newPasswordValidation: null,
    };

    // Loop through our object
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    // Message console container
    if (! obj.options.message) {
        var messageElement = document.querySelector('.message');
        if (messageElement) {
            obj.options.message = messageElement;
        }
    }

    // Action
    var action = null;

    // Container
    var container = document.createElement('form');
    el.appendChild(container);

    // Logo
    var divLogo = document.createElement('div');
    divLogo.className = 'jlogin-logo'
    container.appendChild(divLogo);

    if (obj.options.logo) {
        var logo = document.createElement('img');
        logo.src = obj.options.logo;
        divLogo.appendChild(logo);
    }

    // Code
    var labelCode = document.createElement('label');
    labelCode.innerHTML = 'Please enter here the code received';
    var inputCode = document.createElement('input');
    inputCode.type = 'number';
    inputCode.id = 'code';
    inputCode.setAttribute('maxlength', 6);
    var divCode = document.createElement('div');
    divCode.appendChild(labelCode);
    divCode.appendChild(inputCode);

    // Hash
    var inputHash = document.createElement('input');
    inputHash.type = 'hidden';
    inputHash.name = 'h';
    var divHash = document.createElement('div');
    divHash.appendChild(inputHash);

    // Recovery
    var inputRecovery = document.createElement('input');
    inputRecovery.type = 'hidden';
    inputRecovery.name = 'recovery';
    inputRecovery.value = '1';
    var divRecovery = document.createElement('div');
    divRecovery.appendChild(inputRecovery);

    // Login
    var labelLogin = document.createElement('label');
    labelLogin.innerHTML = 'Login';
    var inputLogin = document.createElement('input');
    inputLogin.type = 'text';
    inputLogin.name = 'login';
    inputLogin.setAttribute('autocomplete', 'off');
    inputLogin.onkeyup = function() {
        this.value = this.value.toLowerCase().replace(/[^a-zA-Z0-9_+]+/gi, '');
    } 
    var divLogin = document.createElement('div');
    divLogin.appendChild(labelLogin);
    divLogin.appendChild(inputLogin);

    // Name
    var labelName = document.createElement('label');
    labelName.innerHTML = 'Name';
    var inputName = document.createElement('input');
    inputName.type = 'text';
    inputName.name = 'name';
    var divName = document.createElement('div');
    divName.appendChild(labelName);
    divName.appendChild(inputName);

    // Email
    var labelUsername = document.createElement('label');
    labelUsername.innerHTML = 'E-mail';
    var inputUsername = document.createElement('input');
    inputUsername.type = 'text';
    inputUsername.name = 'username';
    inputUsername.setAttribute('autocomplete', 'new-username');
    var divUsername = document.createElement('div');
    divUsername.appendChild(labelUsername);
    divUsername.appendChild(inputUsername);

    // Password
    var labelPassword = document.createElement('label');
    labelPassword.innerHTML = 'New password';
    var inputPassword = document.createElement('input');
    inputPassword.type = 'password';
    inputPassword.name = 'password';
    inputPassword.setAttribute('autocomplete', 'new-password');
    var divPassword = document.createElement('div');
    divPassword.appendChild(labelPassword);
    divPassword.appendChild(inputPassword);
    divPassword.onkeydown = function(e) {
        if (e.keyCode == 13) {
            obj.execute();
        }
    }

    // Repeat password
    var labelRepeatPassword = document.createElement('label');
    labelRepeatPassword.innerHTML = 'Repeat the new password';
    var inputRepeatPassword = document.createElement('input');
    inputRepeatPassword.type = 'password';
    inputRepeatPassword.name = 'password';
    var divRepeatPassword = document.createElement('div');
    divRepeatPassword.appendChild(labelRepeatPassword);
    divRepeatPassword.appendChild(inputRepeatPassword);

    // Remember checkbox
    var labelRemember = document.createElement('label');
    labelRemember.innerHTML = 'Remember me on this device';
    var inputRemember = document.createElement('input');
    inputRemember.type = 'checkbox';
    inputRemember.name = 'remember';
    inputRemember.value = '1';
    labelRemember.appendChild(inputRemember);
    var divRememberButton = document.createElement('div');
    divRememberButton.className = 'rememberButton';
    divRememberButton.appendChild(labelRemember);

    // Login button
    var actionButton = document.createElement('input');
    actionButton.type = 'button';
    actionButton.value = 'Log In';
    actionButton.onclick = function() {
        obj.execute();
    }
    var divActionButton = document.createElement('div');
    divActionButton.appendChild(actionButton);

    // Cancel button
    var cancelButton = document.createElement('div');
    cancelButton.innerHTML = 'Cancel';
    cancelButton.className = 'cancelButton';
    cancelButton.onclick = function() {
        obj.requestAccess();
    }
    var divCancelButton = document.createElement('div');
    divCancelButton.appendChild(cancelButton);

    // Captcha
    var labelCaptcha = document.createElement('label');
    labelCaptcha.innerHTML = 'Please type here the code below';
    var inputCaptcha = document.createElement('input');
    inputCaptcha.type = 'text';
    inputCaptcha.name = 'captcha';
    var imageCaptcha = document.createElement('img');
    var divCaptcha = document.createElement('div');
    divCaptcha.className = 'jlogin-captcha';
    divCaptcha.appendChild(labelCaptcha);
    divCaptcha.appendChild(inputCaptcha);
    divCaptcha.appendChild(imageCaptcha);

    // Facebook
    var facebookButton = document.createElement('div');
    facebookButton.innerHTML = 'Login with Facebook';
    facebookButton.className = 'facebookButton';
    var divFacebookButton = document.createElement('div');
    divFacebookButton.appendChild(facebookButton);
    divFacebookButton.onclick = function() {
        obj.requestLoginViaFacebook();
    }
    // Forgot password
    var inputRequest = document.createElement('span');
    inputRequest.innerHTML = 'Request a new password';
    var divRequestButton = document.createElement('div');
    divRequestButton.className = 'requestButton';
    divRequestButton.appendChild(inputRequest);
    divRequestButton.onclick = function() {
        obj.requestNewPassword();
    }
    // Create a new Profile
    var inputNewProfile = document.createElement('span');
    inputNewProfile.innerHTML = 'Create a new profile';
    var divNewProfileButton = document.createElement('div');
    divNewProfileButton.className = 'newProfileButton';
    divNewProfileButton.appendChild(inputNewProfile);
    divNewProfileButton.onclick = function() {
        obj.newProfile();
    }

    el.className = 'jlogin';

    if (obj.options.fullscreen == true) {
        el.classList.add('jlogin-fullscreen');
    }

    /** 
     * Show message
     */
    obj.showMessage = function(data) {
        var message = (typeof(data) == 'object') ? data.message : data;

        if (typeof(obj.options.showMessage) == 'function') {
            obj.options.showMessage(data);
        } else {
            jSuites.alert(data);
        }
    }

    /**
     * New profile
     */
    obj.newProfile = function() {
        container.innerHTML = '';
        container.appendChild(divLogo);
        if (obj.options.newProfileLogin) {
            container.appendChild(divLogin);
        }
        container.appendChild(divName);
        container.appendChild(divUsername);
        container.appendChild(divActionButton);
        if (obj.options.facebookAuthentication == true) {
            container.appendChild(divFacebookButton);
        }
        container.appendChild(divCancelButton);

        // Reset inputs
        inputLogin.value = '';
        inputUsername.value = '';
        inputPassword.value = '';

        // Button
        actionButton.value = 'Create new profile';

        // Action
        action = 'newProfile';
    }

    /**
     * Request the email with the recovery instructions
     */
    obj.requestNewPassword = function() {
        if (Array.prototype.indexOf.call(container.children, divCaptcha) >= 0) {
            var captcha = true;
        }

        container.innerHTML = '';
        container.appendChild(divLogo);
        container.appendChild(divRecovery);
        container.appendChild(divUsername);
        if (captcha) {
            container.appendChild(divCaptcha);
        }
        container.appendChild(divActionButton);
        container.appendChild(divCancelButton);
        actionButton.value = 'Request a new password';
        inputRecovery.value = 1;

        // Action
        action = 'requestNewPassword';
    }

    /**
     * Confirm recovery code
     */
    obj.codeConfirmation = function() {
        container.innerHTML = '';
        container.appendChild(divLogo);
        container.appendChild(divHash);
        container.appendChild(divCode);
        container.appendChild(divActionButton);
        container.appendChild(divCancelButton);
        actionButton.value = 'Confirm code';
        inputRecovery.value = 2;

        // Action
        action = 'codeConfirmation';
    }

    /**
     * Update my password
     */
    obj.changeMyPassword = function(hash) {
        container.innerHTML = '';
        container.appendChild(divLogo);
        container.appendChild(divHash);
        container.appendChild(divPassword);
        container.appendChild(divRepeatPassword);
        container.appendChild(divActionButton);
        container.appendChild(divCancelButton);
        actionButton.value = 'Change my password';
        inputHash.value = hash;

        // Action
        action = 'changeMyPassword';
    }

    /**
     * Request access default method
     */
    obj.requestAccess = function() {
        container.innerHTML = '';
        container.appendChild(divLogo);
        container.appendChild(divUsername);
        container.appendChild(divPassword);
        container.appendChild(divActionButton);
        if (obj.options.facebookAuthentication == true) {
            container.appendChild(divFacebookButton);
        }
        container.appendChild(divRequestButton);
        container.appendChild(divRememberButton);
        container.appendChild(divRequestButton);
        if (obj.options.newProfile == true) {
            container.appendChild(divNewProfileButton);
        }

        // Button
        actionButton.value = 'Login';

        // Password
        inputPassword.value = '';

        // Email persistence
        if (window.localStorage.getItem('username')) {
            inputUsername.value = window.localStorage.getItem('username');
            inputPassword.focus();
        } else {
            inputUsername.focus();
        }

        // Action
        action = 'requestAccess';
    }

    /**
     * Request login via facebook
     */
    obj.requestLoginViaFacebook = function() {
        if (typeof(deviceNotificationToken) == 'undefined') {
            FB.getLoginStatus(function(response) {
                if (! response.status || response.status != 'connected') {
                    FB.login(function(response) {
                        if (response.authResponse) {
                            obj.execute({ f:response.authResponse.accessToken });
                        } else {
                            obj.showMessage('Not authorized by facebook');
                        }
                    }, {scope: 'public_profile,email'});
                } else {
                    obj.execute({ f:response.authResponse.accessToken });
                }
            }, true);
        } else {
            jDestroy = function() {
                fbLogin.removeEventListener('loadstart', jStart);
                fbLogin.removeEventListener('loaderror', jError);
                fbLogin.removeEventListener('exit', jExit);
                fbLogin.close();
                fbLogin = null;
            }

            jStart = function(event) {
                var url = event.url;
                if (url.indexOf("access_token") >= 0) {
                    setTimeout(function(){
                        var u = url.match(/=(.*?)&/);
                        if (u[1].length > 32) {
                            obj.execute({ f:u[1] });
                        }
                        jDestroy();
                   },500);
                }

                if (url.indexOf("error=access_denied") >= 0) {
                   setTimeout(jDestroy ,500);
                   // Not authorized by facebook
                   obj.showMessage('Not authorized by facebook');
                }
            }

            jError = function(event) {
                jDestroy();
            }
        
            jExit = function(event) {
                jDestroy();
            }

            fbLogin = window.open(obj.options.facebookUrl, "_blank", "location=no,closebuttoncaption=Exit,disallowoverscroll=yes,toolbar=no");
            fbLogin.addEventListener('loadstart', jStart);
            fbLogin.addEventListener('loaderror', jError);
            fbLogin.addEventListener('exit', jExit);
        }

        // Action
        action = 'requestLoginViaFacebook';
    }

    // Perform request
    obj.execute = function(data) {
        // New profile
        if (action == 'newProfile') {
            var pattern = new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);
            if (! inputUsername.value || ! pattern.test(inputUsername.value)) {
                var message = 'Invalid e-mail address'; 
            }

            var pattern = new RegExp(/^[a-zA-Z0-9\_\-\.\s+]+$/);
            if (! inputLogin.value || ! pattern.test(inputLogin.value)) {
                var message = 'Invalid username, please use only characters and numbers';
            }

            if (message) {
                obj.showMessage(message);
                return false;
            }
        } else if (action == 'changeMyPassword') {
            if (inputPassword.value.length < 3) {
                var message = 'Password is too short';
            } else  if (inputPassword.value != inputRepeatPassword.value) {
                var message = 'Password should match';
            } else {
                if (typeof(obj.options.newPasswordValidation) == 'function') {
                    var val = obj.options.newPasswordValidation(obj, inputPassword.value, inputPassword.value);
                    if (val != undefined) {
                        message = val;
                    }
                }
            }

            if (message) {
                obj.showMessage(message);
                return false;
            }
        }

        // Keep email
        if (inputUsername.value != '') {
            window.localStorage.setItem('username', inputUsername.value);
        }

        // Captcha
        if (Array.prototype.indexOf.call(container.children, divCaptcha) >= 0) {
            if (inputCaptcha.value == '') {
                obj.showMessage('Please enter the captch code below');
                return false;
            }
        }

        // Url
        var url = obj.options.url;

        // Device token
        if (obj.options.deviceToken) {
            url += '?token=' + obj.options.deviceToken;
        }

        // Callback
        var onsuccess = function(result) {
            if (result) {
                // Successfully response
                if (result.success == 1) {
                    // Recovery process
                    if (action == 'requestNewPassword') {
                        obj.codeConfirmation();
                    } else if (action == 'codeConfirmation') {
                        obj.requestAccess();
                    } else if (action == 'newProfile') {
                        obj.requestAccess();
                        // New profile
                        result.newProfile = true;
                    }

                    // Token
                    if (result.token) {
                        // Set token
                        obj.options.accessToken = result.token;
                        // Save token
                        window.localStorage.setItem('Access-Token', result.token);
                    }
                }

                // Show message
                if (result.message) {
                    // Show message
                    obj.showMessage(result.message)
                }

                // Request captcha code
                if (! result.data) {
                    if (Array.prototype.indexOf.call(container.children, divCaptcha) >= 0) {
                        divCaptcha.remove();
                    }
                } else {
                    container.insertBefore(divCaptcha, divActionButton);
                    imageCaptcha.setAttribute('src', 'data:image/png;base64,' + result.data);
                }

                // Give time to user see the message
                if (result.hash) {
                    // Change password
                    obj.changeMyPassword(result.hash);
                } else if (result.url) {
                    // App initialization
                    if (result.success == 1) {
                        if (typeof(obj.options.onsuccess) == 'function') {
                            obj.options.onsuccess(result);
                        } else {
                            if (result.message) {
                                setTimeout(function() { window.location.href = result.url; }, 2000);
                            } else {
                                window.location.href = result.url;
                            }
                        }
                    } else {
                        if (typeof(obj.options.onerror) == 'function') {
                            obj.options.onerror(result);
                        }
                    }
                }
            }
        }

        // Password
        if (! data) {
            var data = jSuites.getFormElements(el);
            // Encode passworfd
            if (data.password) {
                data.password = jSuites.login.sha512(data.password);
            }
            // Recovery code
            if (Array.prototype.indexOf.call(container.children, divCode) >= 0 && inputCode.value) {
                data.h = jSuites.login.sha512(inputCode.value);
            }
        }

        // Loading
        el.classList.add('jlogin-loading');

        // Url
        var url = (action == 'newProfile' && obj.options.newProfileUrl) ? obj.options.newProfileUrl : obj.options.url;

        // Remote call
        jSuites.ajax({
            url: url,
            method: 'POST',
            dataType: 'json',
            data: data,
            success: function(result) {
                // Remove loading
                el.classList.remove('jlogin-loading');
                // Callback
                onsuccess(result);
            },
            error: function(result) {
                // Error
                el.classList.remove('jlogin-loading');

                if (typeof(obj.options.onerror) == 'function') {
                    obj.options.onerror(result);
                }
            }
        });
    }

    var queryString = window.location.href.split('?');
    if (queryString[1] && queryString[1].length == 130 && queryString[1].substr(0,2) == 'h=') {
        obj.changeMyPassword(queryString[1].substr(2));
    } else {
        obj.requestAccess();
    }

    return obj;
});

jSuites.login.sha512 = (function(str) {
    function int64(msint_32, lsint_32) {
        this.highOrder = msint_32;
        this.lowOrder = lsint_32;
    }

    var H = [new int64(0x6a09e667, 0xf3bcc908), new int64(0xbb67ae85, 0x84caa73b),
        new int64(0x3c6ef372, 0xfe94f82b), new int64(0xa54ff53a, 0x5f1d36f1),
        new int64(0x510e527f, 0xade682d1), new int64(0x9b05688c, 0x2b3e6c1f),
        new int64(0x1f83d9ab, 0xfb41bd6b), new int64(0x5be0cd19, 0x137e2179)];

    var K = [new int64(0x428a2f98, 0xd728ae22), new int64(0x71374491, 0x23ef65cd),
        new int64(0xb5c0fbcf, 0xec4d3b2f), new int64(0xe9b5dba5, 0x8189dbbc),
        new int64(0x3956c25b, 0xf348b538), new int64(0x59f111f1, 0xb605d019),
        new int64(0x923f82a4, 0xaf194f9b), new int64(0xab1c5ed5, 0xda6d8118),
        new int64(0xd807aa98, 0xa3030242), new int64(0x12835b01, 0x45706fbe),
        new int64(0x243185be, 0x4ee4b28c), new int64(0x550c7dc3, 0xd5ffb4e2),
        new int64(0x72be5d74, 0xf27b896f), new int64(0x80deb1fe, 0x3b1696b1),
        new int64(0x9bdc06a7, 0x25c71235), new int64(0xc19bf174, 0xcf692694),
        new int64(0xe49b69c1, 0x9ef14ad2), new int64(0xefbe4786, 0x384f25e3),
        new int64(0x0fc19dc6, 0x8b8cd5b5), new int64(0x240ca1cc, 0x77ac9c65),
        new int64(0x2de92c6f, 0x592b0275), new int64(0x4a7484aa, 0x6ea6e483),
        new int64(0x5cb0a9dc, 0xbd41fbd4), new int64(0x76f988da, 0x831153b5),
        new int64(0x983e5152, 0xee66dfab), new int64(0xa831c66d, 0x2db43210),
        new int64(0xb00327c8, 0x98fb213f), new int64(0xbf597fc7, 0xbeef0ee4),
        new int64(0xc6e00bf3, 0x3da88fc2), new int64(0xd5a79147, 0x930aa725),
        new int64(0x06ca6351, 0xe003826f), new int64(0x14292967, 0x0a0e6e70),
        new int64(0x27b70a85, 0x46d22ffc), new int64(0x2e1b2138, 0x5c26c926),
        new int64(0x4d2c6dfc, 0x5ac42aed), new int64(0x53380d13, 0x9d95b3df),
        new int64(0x650a7354, 0x8baf63de), new int64(0x766a0abb, 0x3c77b2a8),
        new int64(0x81c2c92e, 0x47edaee6), new int64(0x92722c85, 0x1482353b),
        new int64(0xa2bfe8a1, 0x4cf10364), new int64(0xa81a664b, 0xbc423001),
        new int64(0xc24b8b70, 0xd0f89791), new int64(0xc76c51a3, 0x0654be30),
        new int64(0xd192e819, 0xd6ef5218), new int64(0xd6990624, 0x5565a910),
        new int64(0xf40e3585, 0x5771202a), new int64(0x106aa070, 0x32bbd1b8),
        new int64(0x19a4c116, 0xb8d2d0c8), new int64(0x1e376c08, 0x5141ab53),
        new int64(0x2748774c, 0xdf8eeb99), new int64(0x34b0bcb5, 0xe19b48a8),
        new int64(0x391c0cb3, 0xc5c95a63), new int64(0x4ed8aa4a, 0xe3418acb),
        new int64(0x5b9cca4f, 0x7763e373), new int64(0x682e6ff3, 0xd6b2b8a3),
        new int64(0x748f82ee, 0x5defb2fc), new int64(0x78a5636f, 0x43172f60),
        new int64(0x84c87814, 0xa1f0ab72), new int64(0x8cc70208, 0x1a6439ec),
        new int64(0x90befffa, 0x23631e28), new int64(0xa4506ceb, 0xde82bde9),
        new int64(0xbef9a3f7, 0xb2c67915), new int64(0xc67178f2, 0xe372532b),
        new int64(0xca273ece, 0xea26619c), new int64(0xd186b8c7, 0x21c0c207),
        new int64(0xeada7dd6, 0xcde0eb1e), new int64(0xf57d4f7f, 0xee6ed178),
        new int64(0x06f067aa, 0x72176fba), new int64(0x0a637dc5, 0xa2c898a6),
        new int64(0x113f9804, 0xbef90dae), new int64(0x1b710b35, 0x131c471b),
        new int64(0x28db77f5, 0x23047d84), new int64(0x32caab7b, 0x40c72493),
        new int64(0x3c9ebe0a, 0x15c9bebc), new int64(0x431d67c4, 0x9c100d4c),
        new int64(0x4cc5d4be, 0xcb3e42b6), new int64(0x597f299c, 0xfc657e2a),
        new int64(0x5fcb6fab, 0x3ad6faec), new int64(0x6c44198c, 0x4a475817)];

    var W = new Array(64);
    var a, b, c, d, e, f, g, h, i, j;
    var T1, T2;
    var charsize = 8;

    function utf8_encode(str) {
        return unescape(encodeURIComponent(str));
    }

    function str2binb(str) {
        var bin = [];
        var mask = (1 << charsize) - 1;
        var len = str.length * charsize;
    
        for (var i = 0; i < len; i += charsize) {
            bin[i >> 5] |= (str.charCodeAt(i / charsize) & mask) << (32 - charsize - (i % 32));
        }
    
        return bin;
    }

    function binb2hex(binarray) {
        var hex_tab = "0123456789abcdef";
        var str = "";
        var length = binarray.length * 4;
        var srcByte;

        for (var i = 0; i < length; i += 1) {
            srcByte = binarray[i >> 2] >> ((3 - (i % 4)) * 8);
            str += hex_tab.charAt((srcByte >> 4) & 0xF) + hex_tab.charAt(srcByte & 0xF);
        }

        return str;
    }

    function safe_add_2(x, y) {
        var lsw, msw, lowOrder, highOrder;

        lsw = (x.lowOrder & 0xFFFF) + (y.lowOrder & 0xFFFF);
        msw = (x.lowOrder >>> 16) + (y.lowOrder >>> 16) + (lsw >>> 16);
        lowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);

        lsw = (x.highOrder & 0xFFFF) + (y.highOrder & 0xFFFF) + (msw >>> 16);
        msw = (x.highOrder >>> 16) + (y.highOrder >>> 16) + (lsw >>> 16);
        highOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);

        return new int64(highOrder, lowOrder);
    }

    function safe_add_4(a, b, c, d) {
        var lsw, msw, lowOrder, highOrder;

        lsw = (a.lowOrder & 0xFFFF) + (b.lowOrder & 0xFFFF) + (c.lowOrder & 0xFFFF) + (d.lowOrder & 0xFFFF);
        msw = (a.lowOrder >>> 16) + (b.lowOrder >>> 16) + (c.lowOrder >>> 16) + (d.lowOrder >>> 16) + (lsw >>> 16);
        lowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);

        lsw = (a.highOrder & 0xFFFF) + (b.highOrder & 0xFFFF) + (c.highOrder & 0xFFFF) + (d.highOrder & 0xFFFF) + (msw >>> 16);
        msw = (a.highOrder >>> 16) + (b.highOrder >>> 16) + (c.highOrder >>> 16) + (d.highOrder >>> 16) + (lsw >>> 16);
        highOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);

        return new int64(highOrder, lowOrder);
    }

    function safe_add_5(a, b, c, d, e) {
        var lsw, msw, lowOrder, highOrder;

        lsw = (a.lowOrder & 0xFFFF) + (b.lowOrder & 0xFFFF) + (c.lowOrder & 0xFFFF) + (d.lowOrder & 0xFFFF) + (e.lowOrder & 0xFFFF);
        msw = (a.lowOrder >>> 16) + (b.lowOrder >>> 16) + (c.lowOrder >>> 16) + (d.lowOrder >>> 16) + (e.lowOrder >>> 16) + (lsw >>> 16);
        lowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);

        lsw = (a.highOrder & 0xFFFF) + (b.highOrder & 0xFFFF) + (c.highOrder & 0xFFFF) + (d.highOrder & 0xFFFF) + (e.highOrder & 0xFFFF) + (msw >>> 16);
        msw = (a.highOrder >>> 16) + (b.highOrder >>> 16) + (c.highOrder >>> 16) + (d.highOrder >>> 16) + (e.highOrder >>> 16) + (lsw >>> 16);
        highOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);

        return new int64(highOrder, lowOrder);
    }

    function maj(x, y, z) {
        return new int64(
            (x.highOrder & y.highOrder) ^ (x.highOrder & z.highOrder) ^ (y.highOrder & z.highOrder),
            (x.lowOrder & y.lowOrder) ^ (x.lowOrder & z.lowOrder) ^ (y.lowOrder & z.lowOrder)
        );
    }

    function ch(x, y, z) {
        return new int64(
            (x.highOrder & y.highOrder) ^ (~x.highOrder & z.highOrder),
            (x.lowOrder & y.lowOrder) ^ (~x.lowOrder & z.lowOrder)
        );
    }

    function rotr(x, n) {
        if (n <= 32) {
            return new int64(
             (x.highOrder >>> n) | (x.lowOrder << (32 - n)),
             (x.lowOrder >>> n) | (x.highOrder << (32 - n))
            );
        } else {
            return new int64(
             (x.lowOrder >>> n) | (x.highOrder << (32 - n)),
             (x.highOrder >>> n) | (x.lowOrder << (32 - n))
            );
        }
    }

    function sigma0(x) {
        var rotr28 = rotr(x, 28);
        var rotr34 = rotr(x, 34);
        var rotr39 = rotr(x, 39);

        return new int64(
            rotr28.highOrder ^ rotr34.highOrder ^ rotr39.highOrder,
            rotr28.lowOrder ^ rotr34.lowOrder ^ rotr39.lowOrder
        );
    }

    function sigma1(x) {
        var rotr14 = rotr(x, 14);
        var rotr18 = rotr(x, 18);
        var rotr41 = rotr(x, 41);

        return new int64(
            rotr14.highOrder ^ rotr18.highOrder ^ rotr41.highOrder,
            rotr14.lowOrder ^ rotr18.lowOrder ^ rotr41.lowOrder
        );
    }

    function gamma0(x) {
        var rotr1 = rotr(x, 1), rotr8 = rotr(x, 8), shr7 = shr(x, 7);

        return new int64(
            rotr1.highOrder ^ rotr8.highOrder ^ shr7.highOrder,
            rotr1.lowOrder ^ rotr8.lowOrder ^ shr7.lowOrder
        );
    }

    function gamma1(x) {
        var rotr19 = rotr(x, 19);
        var rotr61 = rotr(x, 61);
        var shr6 = shr(x, 6);

        return new int64(
            rotr19.highOrder ^ rotr61.highOrder ^ shr6.highOrder,
            rotr19.lowOrder ^ rotr61.lowOrder ^ shr6.lowOrder
        );
    }

    function shr(x, n) {
        if (n <= 32) {
            return new int64(
                x.highOrder >>> n,
                x.lowOrder >>> n | (x.highOrder << (32 - n))
            );
        } else {
            return new int64(
                0,
                x.highOrder << (32 - n)
            );
        }
    }

    var str = utf8_encode(str);
    var strlen = str.length*charsize;
    str = str2binb(str);

    str[strlen >> 5] |= 0x80 << (24 - strlen % 32);
    str[(((strlen + 128) >> 10) << 5) + 31] = strlen;

    for (var i = 0; i < str.length; i += 32) {
        a = H[0];
        b = H[1];
        c = H[2];
        d = H[3];
        e = H[4];
        f = H[5];
        g = H[6];
        h = H[7];

        for (var j = 0; j < 80; j++) {
            if (j < 16) {
                W[j] = new int64(str[j*2 + i], str[j*2 + i + 1]);
            } else {
                W[j] = safe_add_4(gamma1(W[j - 2]), W[j - 7], gamma0(W[j - 15]), W[j - 16]);
            }

            T1 = safe_add_5(h, sigma1(e), ch(e, f, g), K[j], W[j]);
            T2 = safe_add_2(sigma0(a), maj(a, b, c));
            h = g;
            g = f;
            f = e;
            e = safe_add_2(d, T1);
            d = c;
            c = b;
            b = a;
            a = safe_add_2(T1, T2);
        }

        H[0] = safe_add_2(a, H[0]);
        H[1] = safe_add_2(b, H[1]);
        H[2] = safe_add_2(c, H[2]);
        H[3] = safe_add_2(d, H[3]);
        H[4] = safe_add_2(e, H[4]);
        H[5] = safe_add_2(f, H[5]);
        H[6] = safe_add_2(g, H[6]);
        H[7] = safe_add_2(h, H[7]);
    }

    var binarray = [];
    for (var i = 0; i < H.length; i++) {
        binarray.push(H[i].highOrder);
        binarray.push(H[i].lowOrder);
    }

    return binb2hex(binarray);
});

/**
 * (c) jTools Input Mask
 * https://github.com/paulhodel/jtools
 *
 * @author: Paul Hodel <paul.hodel@gmail.com>
 * @description: Input mask
 */

jSuites.mask = (function() {
    var obj = {};
    var index = 0;
    var values = []
    var pieces = [];

    obj.run = function(value, mask, decimal) {
        if (value && mask) {
            if (! decimal) {
                decimal = '.';
            }
            if (value == Number(value)) {
                var number = (''+value).split('.');
                var value = number[0];
                var valueDecimal = number[1];
            } else {
                value = '' + value;
            }
            index = 0;
            values = [];
            // Create mask token
            obj.prepare(mask);
            // Current value
            var currentValue = value;
            if (currentValue) {
                // Checking current value
                for (var i = 0; i < currentValue.length; i++) {
                    if (currentValue[i] != null) {
                        obj.process(currentValue[i]);
                    }
                }
            }
            if (valueDecimal) {
                obj.process(decimal);
                var currentValue = valueDecimal;
                if (currentValue) {
                    // Checking current value
                    for (var i = 0; i < currentValue.length; i++) {
                        if (currentValue[i] != null) {
                            obj.process(currentValue[i]);
                        }
                    }
                }
            }
            // Formatted value
            return values.join('');
        } else {
            return '';
        }
    }

    obj.apply = function(e) {
        if (e.target && ! e.target.getAttribute('readonly')) {
            var mask = e.target.getAttribute('data-mask');
            if (mask && e.keyCode > 46) {
                index = 0;
                values = [];
                // Create mask token
                obj.prepare(mask);
                // Current value
                if (e.target.selectionStart < e.target.selectionEnd) {
                    var currentValue = e.target.value.substring(0, e.target.selectionStart); 
                } else {
                    var currentValue = e.target.value;
                }
                if (currentValue) {
                    // Checking current value
                    for (var i = 0; i < currentValue.length; i++) {
                        if (currentValue[i] != null) {
                            obj.process(currentValue[i]);
                        }
                    }
                }
                // New input
                obj.process(obj.fromKeyCode(e));
                // Update value to the element
                e.target.value = values.join('');
                if (pieces.length == values.length && pieces[pieces.length-1].length == values[values.length-1].length) {
                    e.target.setAttribute('data-completed', 'true');
                } else {
                    e.target.setAttribute('data-completed', 'false');
                }
                // Prevent default
                e.preventDefault();
            }
        }
    }

    /**
     * Process inputs and save to values
     */
    obj.process = function(input) {
        do {
            if (pieces[index] == 'mm') {
                if (values[index] == null || values[index] == '') {
                    if (parseInt(input) > 1 && parseInt(input) < 10) {
                        values[index] = '0' + input;
                        index++;
                        return true;
                    } else if (parseInt(input) < 10) {
                        values[index] = input;
                        return true;
                    } else {
                        return false;
                    }
                } else {
                    if (values[index] == 1 && values[index] < 2 && parseInt(input) < 3) {
                        values[index] += input;
                        index++;
                        return true;
                    } else if (values[index] == 0 && values[index] < 10) {
                        values[index] += input;
                        index++;
                        return true;
                    } else {
                        return false
                    }
                }
            } else if (pieces[index] == 'dd') {
                if (values[index] == null || values[index] == '') {
                    if (parseInt(input) > 3 && parseInt(input) < 10) {
                        values[index] = '0' + input;
                        index++;
                        return true;
                    } else if (parseInt(input) < 10) {
                        values[index] = input;
                        return true;
                    } else {
                        return false;
                    }
                } else {
                    if (values[index] == 3 && parseInt(input) < 2) {
                        values[index] += input;
                        index++;
                        return true;
                    } else if (values[index] < 3 && parseInt(input) < 10) {
                        values[index] += input;
                        index++;
                        return true;
                    } else {
                        return false
                    }
                }
            } else if (pieces[index] == 'hh24') {
                if (values[index] == null || values[index] == '') {
                    if (parseInt(input) > 2 && parseInt(input) < 10) {
                        values[index] = '0' + input;
                        index++;
                        return true;
                    } else if (parseInt(input) < 10) {
                        values[index] = input;
                        return true;
                    } else {
                        return false;
                    }
                } else {
                    if (values[index] == 2 && parseInt(input) < 4) {
                        values[index] += input;
                        index++;
                        return true;
                    } else if (values[index] < 2 && parseInt(input) < 10) {
                        values[index] += input;
                        index++;
                        return true;
                    } else {
                        return false
                    }
                }
            } else if (pieces[index] == 'hh') {
                if (values[index] == null || values[index] == '') {
                    if (parseInt(input) > 1 && parseInt(input) < 10) {
                        values[index] = '0' + input;
                        index++;
                        return true;
                    } else if (parseInt(input) < 10) {
                        values[index] = input;
                        return true;
                    } else {
                        return false;
                    }
                } else {
                    if (values[index] == 1 && parseInt(input) < 3) {
                        values[index] += input;
                        index++;
                        return true;
                    } else if (values[index] < 1 && parseInt(input) < 10) {
                        values[index] += input;
                        index++;
                        return true;
                    } else {
                        return false
                    }
                }
            } else if (pieces[index] == 'mi' || pieces[index] == 'ss') {
                if (values[index] == null || values[index] == '') {
                    if (parseInt(input) > 5 && parseInt(input) < 10) {
                        values[index] = '0' + input;
                        index++;
                        return true;
                    } else if (parseInt(input) < 10) {
                        values[index] = input;
                        return true;
                    } else {
                        return false;
                    }
                } else {
                    if (parseInt(input) < 10) {
                        values[index] += input;
                        index++;
                        return true;
                     } else {
                        return false
                    }
                }
            } else if (pieces[index] == 'yy' || pieces[index] == 'yyyy') {
                if (parseInt(input) < 10) {
                    if (values[index] == null || values[index] == '') {
                        values[index] = input;
                    } else {
                        values[index] += input;
                    }
                    
                    if (values[index].length == pieces[index].length) {
                        index++;
                    }
                    return true;
                } else {
                    return false;
                }
            } else if (pieces[index] == '#' || pieces[index] == '#.##' || pieces[index] == '#,##' || pieces[index] == '# ##') {
                if (input.match(/[0-9]/g)) {
                    if (pieces[index] == '#.##') {
                        var separator = '.';
                    } else if (pieces[index] == '#,##') {
                        var separator = ',';
                    } else if (pieces[index] == '# ##') {
                        var separator = ' ';
                    } else {
                        var separator = '';
                    }
                    if (values[index] == null || values[index] == '') {
                        values[index] = input;
                    } else {
                        values[index] += input;
                        if (separator) {
                            values[index] = values[index].match(/[0-9]/g).join('');
                            var t = [];
                            var s = 0;
                            for (var j = values[index].length - 1; j >= 0 ; j--) {
                                t.push(values[index][j]);
                                s++;
                                if (! (s % 3)) {
                                    t.push(separator);
                                }
                            }
                            t = t.reverse();
                            values[index] = t.join('');
                            if (values[index].substr(0,1) == separator) {
                                values[index] = values[index].substr(1);
                            } 
                        }
                    }
                    return true;
                } else {
                    if (pieces[index] == '#.##' && input == '.') {
                        // Do nothing
                    } else if (pieces[index] == '#,##' && input == ',') {
                        // Do nothing
                    } else if (pieces[index] == '# ##' && input == ' ') {
                        // Do nothing
                    } else {
                        if (values[index]) {
                            index++;
                            if (pieces[index]) {
                                if (pieces[index] == input) {
                                    values[index] = input;
                                    return true;
                                } else {
                                    if (pieces[index] == '0' && pieces[index+1] == input) {
                                        index++;
                                        values[index] = input;
                                        return true;
                                    }
                                }
                            }
                        }
                    }

                    return false;
                }
            } else if (pieces[index] == '0') {
                if (input.match(/[0-9]/g)) {
                    values[index] = input;
                    index++;
                    return true;
                } else {
                    return false;
                }
            } else if (pieces[index] == 'a') {
                if (input.match(/[a-zA-Z]/g)) {
                    values[index] = input;
                    index++;
                    return true;
                } else {
                    return false;
                }
            } else {
                if (pieces[index] != null) {
                    if (pieces[index] == '\\a') {
                        var v = 'a';
                    } else if (pieces[index] == '\\0') {
                        var v = '0';
                    } else if (pieces[index] == '[-]') {
                        if (input == '-' || input == '+') {
                            var v = input;
                        } else {
                            var v = ' ';
                        }
                    } else {
                        var v = pieces[index];
                    }
                    values[index] = v;
                    if (input == v) {
                        index++;
                        return true;
                    }
                }
            }

            index++;
        } while (pieces[index]);
    }

    /**
     * Create tokens for the mask
     */
    obj.prepare = function(mask) {
        pieces = [];
        for (var i = 0; i < mask.length; i++) {
            if (mask[i].match(/[0-9]|[a-z]|\\/g)) {
                if (mask[i] == 'y' && mask[i+1] == 'y' && mask[i+2] == 'y' && mask[i+3] == 'y') {
                    pieces.push('yyyy');
                    i += 3;
                } else if (mask[i] == 'y' && mask[i+1] == 'y') {
                    pieces.push('yy');
                    i++;
                } else if (mask[i] == 'm' && mask[i+1] == 'm' && mask[i+2] == 'm' && mask[i+3] == 'm') {
                    pieces.push('mmmm');
                    i += 3;
                } else if (mask[i] == 'm' && mask[i+1] == 'm' && mask[i+2] == 'm') {
                    pieces.push('mmm');
                    i += 2;
                } else if (mask[i] == 'm' && mask[i+1] == 'm') {
                    pieces.push('mm');
                    i++;
                } else if (mask[i] == 'd' && mask[i+1] == 'd') {
                    pieces.push('dd');
                    i++;
                } else if (mask[i] == 'h' && mask[i+1] == 'h' && mask[i+2] == '2' && mask[i+3] == '4') {
                    pieces.push('hh24');
                    i += 3;
                } else if (mask[i] == 'h' && mask[i+1] == 'h') {
                    pieces.push('hh');
                    i++;
                } else if (mask[i] == 'm' && mask[i+1] == 'i') {
                    pieces.push('mi');
                    i++;
                } else if (mask[i] == 's' && mask[i+1] == 's') {
                    pieces.push('ss');
                    i++;
                } else if (mask[i] == 'a' && mask[i+1] == 'm') {
                    pieces.push('am');
                    i++;
                } else if (mask[i] == 'p' && mask[i+1] == 'm') {
                    pieces.push('pm');
                    i++;
                } else if (mask[i] == '\\' && mask[i+1] == '0') {
                    pieces.push('\\0');
                    i++;
                } else if (mask[i] == '\\' && mask[i+1] == 'a') {
                    pieces.push('\\a');
                    i++;
                } else {
                    pieces.push(mask[i]);
                }
            } else {
                if (mask[i] == '#' && mask[i+1] == '.' && mask[i+2] == '#' && mask[i+3] == '#') {
                    pieces.push('#.##');
                    i += 3;
                } else if (mask[i] == '#' && mask[i+1] == ',' && mask[i+2] == '#' && mask[i+3] == '#') {
                    pieces.push('#,##');
                    i += 3;
                } else if (mask[i] == '#' && mask[i+1] == ' ' && mask[i+2] == '#' && mask[i+3] == '#') {
                    pieces.push('# ##');
                    i += 3;
                } else if (mask[i] == '[' && mask[i+1] == '-' && mask[i+2] == ']') {
                    pieces.push('[-]');
                    i += 2;
                } else {
                    pieces.push(mask[i]);
                }
            }
        }
    }

    /** 
     * Thanks for the collaboration
     */
    obj.fromKeyCode = function(e) {
        var _to_ascii = {
            '188': '44',
            '109': '45',
            '190': '46',
            '191': '47',
            '192': '96',
            '220': '92',
            '222': '39',
            '221': '93',
            '219': '91',
            '173': '45',
            '187': '61', //IE Key codes
            '186': '59', //IE Key codes
            '189': '45'  //IE Key codes
        }

        var shiftUps = {
            "96": "~",
            "49": "!",
            "50": "@",
            "51": "#",
            "52": "$",
            "53": "%",
            "54": "^",
            "55": "&",
            "56": "*",
            "57": "(",
            "48": ")",
            "45": "_",
            "61": "+",
            "91": "{",
            "93": "}",
            "92": "|",
            "59": ":",
            "39": "\"",
            "44": "<",
            "46": ">",
            "47": "?"
        };

        var c = e.which;

        if (_to_ascii.hasOwnProperty(c)) {
            c = _to_ascii[c];
        }

        if (!e.shiftKey && (c >= 65 && c <= 90)) {
            c = String.fromCharCode(c + 32);
        } else if (e.shiftKey && shiftUps.hasOwnProperty(c)) {
            c = shiftUps[c];
        } else if (96 <= c && c <= 105) {
            c = String.fromCharCode(c - 48);
        } else {
            c = String.fromCharCode(c);
        }

        return c;
    }

    return obj;
})();

jSuites.mobile = (function(el, options) {
    var obj = {};
    obj.options = {};

    if (jSuites.el) {
        jSuites.el.addEventListener('mousedown', function(e) {
            if (e.target.classList.contains('option-title')) {
                if (e.target.classList.contains('selected')) {
                    e.target.classList.remove('selected');
                } else {
                    e.target.classList.add('selected');
                }
            }
        });
    }

    return obj;
})();

jSuites.pages = (function() {
    var container = null;
    var current = null;

    // Create a page
    var createPage = function(options, callback) {
        // Create page
        var page = document.createElement('div');
        page.classList.add('page');

        // Always hidden
        page.style.display = 'none';

        // Keep options
        page.options = options ? options : {};

        if (! current) {
            container.appendChild(page);
        } else {
            container.insertBefore(page, current.nextSibling);
        }

        jSuites.ajax({
            url: page.options.url,
            method: 'GET',
            success: function(result) {
                // Push to refresh controls
                jSuites.refresh(page, page.options.onpush);

                // Open page
                page.innerHTML = result;
                // Get javascript
                var script = page.getElementsByTagName('script');
                // Run possible inline scripts
                for (var i = 0; i < script.length; i++) {
                    // Get type
                    var type = script[i].getAttribute('type');
                    if (! type || type == 'text/javascript') {
                        eval(script[i].innerHTML);
                    }
                }
                // Set title
                page.setTitle = function(text) {
                    this.children[0].children[0].children[1].innerHTML = text;
                }
                // Show page
                if (! page.options.closed) {
                    showPage(page);
                }
                // Onload callback
                if (typeof(page.options.onload) == 'function') {
                    page.options.onload(page);
                }
                // Force callback
                if (typeof(callback) == 'function') {
                    callback(page);
                }
            }
        });

        return page;
    }

    var showPage = function(page, ignoreHistory, callback) {
        if (current) {
            if (current == page) {
                current = page;
            } else {
                // Keep scroll in the top
                window.scrollTo({ top: 0 });

                // Show page
                page.style.display = '';

                var a = Array.prototype.indexOf.call(container.children, current);
                var b = Array.prototype.indexOf.call(container.children, page);

                // Leave
                if (typeof(current.options.onleave) == 'function') {
                    current.options.onleave(current, page, ignoreHistory);
                }

                jSuites.slideLeft(container, (a < b ? 0 : 1), function() {
                    current.style.display = 'none';
                    current = page;
                });

                // Enter
                if (typeof(page.options.onenter) == 'function') {
                    page.options.onenter(page, current, ignoreHistory);
                }
            }
        } else {
            // Show
            page.style.display = '';

            // Keep current
            current = page;

            // Enter
            if (typeof(page.options.onenter) == 'function') {
                page.options.onenter(page);
            }
        }

        // Add history
        if (! ignoreHistory) {
            // Add history
            window.history.pushState({ route: page.options.route }, page.options.title, page.options.route);
        }

        // Callback
        if (typeof(callback) == 'function') {
            callback(page);
        }
    }

    // Init method
    var obj = function(route, mixed) {

        // Create page container
        if (! container) {
            container = document.querySelector('.pages');
            if (! container) {
                container = document.createElement('div');
                container.className = 'pages';
            }

            // Append container to the application
            if (jSuites.el) {
                jSuites.el.appendChild(container);
            } else {
                document.body.appendChild(container);
            }
        }

        if (! obj.pages[route]) {
            if (! route) {
                alert('Error, no route provided');
            } else {
                if (typeof(mixed) == 'function') {
                    var options = {};
                    var callback = mixed;
                } else {
                    // Page options
                    var options = mixed ? mixed : {};
                }

                // Closed
                options.closed = mixed && mixed.closed ? 1 : 0;
                // Keep Route
                options.route = route;

                // New page url
                if (! options.url) {
                    var routePath = route.split('#');
                    options.url = jSuites.pages.path + routePath[0] + '.html';
                }
                // Title
                if (! options.title) {
                    options.title = 'Untitled';
                }

                // Create new page
                obj.pages[route] = createPage(options, callback ? callback : null);
            }
        } else {
            // Update config
            if (mixed) {
                // History
                var ignoreHistory = 0;

                if (typeof(mixed) == 'function') {
                    var callback = mixed;
                } else {
                    if (typeof(mixed.onenter) == 'function') {
                        obj.pages[route].options.onenter = mixed.onenter;
                    }
                    if (typeof(mixed.onleave) == 'function') {
                        obj.pages[route].options.onleave = mixed.onleave;
                    }

                    // Ignore history
                    ignoreHistory = mixed.ignoreHistory ? 1 : 0; 
                }
            }

            showPage(obj.pages[route], ignoreHistory, callback ? callback : null);
        }
    }

    obj.pages = {};

    // Get page
    obj.get = function(route) {
        if (obj.pages[route]) {
            return obj.pages[route]; 
        }
    }

    obj.getContainer = function() {
        return container;
    }

    obj.destroy = function() {
        // Current is null
        current = null;
        // Destroy containers
        obj.pages = {};
        // Reset container
        if (container) {
            container.innerHTML = '';
        }
    }

    return obj;
})();

// Path
jSuites.pages.path = 'pages';

// Panel
jSuites.panel = (function() {
    // No initial panel declared
    var panel = null;

    var obj = function(route) {
        if (! panel) {
            obj.create(jSuites.pages.path + route + '.html');
        }

        // Show panel
        panel.style.display = '';

        // Add animation
        if (panel.classList.contains('panel-left')) {
            jSuites.slideLeft(panel, 1);
        } else {
            jSuites.slideRight(panel, 1);
        }
    }

    obj.create = function(route) {
        if (! panel) {
            // Create element
            panel = document.createElement('div');
            panel.classList.add('panel');
            panel.classList.add('panel-left');
            panel.style.display = 'none';

            // Bind to the app
            if (jSuites.el) {
                jSuites.el.appendChild(panel);
            } else {
                document.body.appendChild(panel);
            }
        }

        // Remote content
        if (route) {
	        var url = jSuites.pages.path + route + '.html';

            jSuites.ajax({
                url: url,
                method: 'GET',
                success: function(result) {
                    // Set content
                    panel.innerHTML = result;
                    // Get javascript
                    var script = panel.getElementsByTagName('script');
                    // Run possible inline scripts
                    for (var i = 0; i < script.length; i++) {
                        // Get type
                        var type = script[i].getAttribute('type');
                        if (! type || type == 'text/javascript') {
                            eval(script[i].innerHTML);
                        }
                    }
                }
            });
        }
    }

    obj.close = function() {
        if (panel) {
            // Animation
            if (panel.classList.contains('panel-left')) {
                jSuites.slideLeft(panel, 0, function() {
                    panel.style.display = 'none';
                });
            } else {
                jSuites.slideRight(panel, 0, function() {
                    panel.style.display = 'none';
                });
            }
        }
    }

    obj.get = function() {
        return panel;
    }

    obj.destroy = function() {
        panel.remove();
        panel = null;
    }

    return obj;
})();

jSuites.toolbar = (function(el, options) {
    var obj = {};
    obj.options = options;

    obj.selectItem = function(element) {
        var elements = toolbarContent.children;
        for (var i = 0; i < elements.length; i++) {
            elements[i].classList.remove('selected');
        }
        element.classList.add('selected');
    }

    obj.hide = function() {
        jSuites.slideBottom(toolbar, 0, function() {
            toolbar.style.display = 'none';
        });
    }

    obj.show = function() {
        toolbar.style.display = '';
        jSuites.slideBottom(toolbar, 1);
    }

    obj.get = function() {
        return toolbar;
    }

    obj.setBadge = function(index, value) {
        toolbarContent.children[index].children[1].firstChild.innerHTML = value;
    }

    obj.destroy = function() {
        toolbar.remove();
        toolbar = null;
    }

    var toolbar = document.createElement('div');
    toolbar.classList.add('jtoolbar');
    toolbar.onclick = function(e) {
        var element = jSuites.getElement(e.target, 'jtoolbar-item');
        if (element) {
            obj.selectItem(element);
        }
    }

    var toolbarContent = document.createElement('div');
    toolbar.appendChild(toolbarContent);

    for (var i = 0; i < options.items.length; i++) {
        var toolbarItem = document.createElement('div');
        toolbarItem.classList.add('jtoolbar-item');
        if (options.items[i].route) {
            toolbarItem.setAttribute('data-href', options.items[i].route);
            jSuites.pages(options.items[i].route, {
                closed: true,
                onenter: function() {
                    obj.selectItem(toolbarItem);
                }
            });
        }

        if (options.items[i].icon) {
            var toolbarIcon = document.createElement('i');
            toolbarIcon.classList.add('material-icons');
            toolbarIcon.innerHTML = options.items[i].icon;
            toolbarItem.appendChild(toolbarIcon);
        }

        var toolbarBadge = document.createElement('div');
        toolbarBadge.classList.add('jbadge');
        var toolbarBadgeContent = document.createElement('div');
        toolbarBadgeContent.innerHTML = options.items[i].badge ? options.items[i].badge : '';
        toolbarBadge.appendChild(toolbarBadgeContent);
        toolbarItem.appendChild(toolbarBadge);

        if (options.items[i].title) {
            var toolbarTitle = document.createElement('span');
            toolbarTitle.innerHTML = options.items[i].title;
            toolbarItem.appendChild(toolbarTitle);
        }

        toolbarContent.appendChild(toolbarItem);
    }

    el.toolbar = obj;

    el.appendChild(toolbar);

    return obj;
});

jSuites.actionsheet = (function() {
    var actionsheet = document.createElement('div');
    actionsheet.className = 'jactionsheet';
    actionsheet.style.display = 'none';

    var actionContent = document.createElement('div');
    actionContent.className = 'jactionsheet-content';
    actionsheet.appendChild(actionContent);

    var obj = function(options) {
        if (options) {
            obj.options = options;
        }

        // Reset container
        actionContent.innerHTML = '';

        // Create new elements
        for (var i = 0; i < obj.options.length; i++) {
            var actionGroup = document.createElement('div');
            actionGroup.className = 'jactionsheet-group';

            for (var j = 0; j < obj.options[i].length; j++) {
                var v = obj.options[i][j];
                var actionItem = document.createElement('div');
                var actionInput = document.createElement('input');
                actionInput.type = 'button';
                actionInput.value = v.title;
                if (v.className) {
                    actionInput.className = v.className; 
                }
                if (v.onclick) {
                    actionInput.onclick = v.onclick; 
                }
                if (v.action == 'cancel') {
                    actionInput.style.color = 'red';
                }
                actionItem.appendChild(actionInput);
                actionGroup.appendChild(actionItem);
            }

            actionContent.appendChild(actionGroup);
        }

        // Show
        actionsheet.style.display = '';

        // Append
        jSuites.el.appendChild(actionsheet);

        // Animation
        jSuites.slideBottom(actionContent, true);
    }

    obj.close = function() {
        if (actionsheet.style.display != 'none') {
            // Remove any existing actionsheet
            jSuites.slideBottom(actionContent, false, function() {
                actionsheet.remove();
                actionsheet.style.display = 'none';
            });
        }
    }

    var mouseUp = function(e) {
        obj.close();
    }

    actionsheet.addEventListener('mouseup', mouseUp);

    obj.options = {};

    return obj;
})();

/**
 * (c) jSuites modal
 * https://github.com/paulhodel/jsuites
 *
 * @author: Paul Hodel <paul.hodel@gmail.com>
 * @description: Modal
 */

jSuites.modal = (function(el, options) {
    var obj = {};
    obj.options = {};

    // Default configuration
    var defaults = {
        url: null,
        onopen: null,
        onclose: null,
        closed: false,
        width: null,
        height: null,
        title: null,
    };

    // Loop through our object
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    // Title
    if (! obj.options.title && el.getAttribute('title')) {
        obj.options.title = el.getAttribute('title');
    }

    var temp = document.createElement('div');
    for (var i = 0; i < el.children.length; i++) {
        temp.appendChild(el.children[i]);
    }

    obj.content = document.createElement('div');
    obj.content.className = 'jmodal_content';
    obj.content.innerHTML = el.innerHTML;

    for (var i = 0; i < temp.children.length; i++) {
        obj.content.appendChild(temp.children[i]);
    }

    obj.container = document.createElement('div');
    obj.container.className = 'jmodal';
    obj.container.appendChild(obj.content);

    if (obj.options.width) {
        obj.container.style.width = obj.options.width;
    }
    if (obj.options.height) {
        obj.container.style.height = obj.options.height;
    }
    if (obj.options.title) {
        obj.container.setAttribute('title', obj.options.title);
    } else {
        obj.container.classList.add('no-title');
    }
    el.innerHTML = '';
    el.style.display = 'none';
    el.appendChild(obj.container);

    // Backdrop
    var backdrop = document.createElement('div');
    backdrop.className = 'jmodal_backdrop';
    el.appendChild(backdrop);

    obj.open = function() {
        el.style.display = 'block';
        // Fullscreen
        const rect = obj.container.getBoundingClientRect();
        if (jSuites.getWindowWidth() < rect.width) {
            obj.container.style.top = '';
            obj.container.style.left = '';
            obj.container.classList.add('jmodal_fullscreen');
            jSuites.slideBottom(obj.container, 1);
        } else {
            backdrop.style.display = 'block';
        }
        // Current
        jSuites.modal.current = obj;
        // Event
        if (typeof(obj.options.onopen) == 'function') {
            obj.options.onopen(el, obj);
        }
    }

    obj.resetPosition = function() {
        obj.container.style.top = '';
        obj.container.style.left = '';
    }

    obj.isOpen = function() {
        return el.style.display != 'none' ? true : false;
    }

    obj.close = function() {
        el.style.display = 'none';
        // Backdrop
        backdrop.style.display = '';
        // Current
        jSuites.modal.current = null;
        // Remove fullscreen class
        obj.container.classList.remove('jmodal_fullscreen');
        // Event
        if (typeof(obj.options.onclose) == 'function') {
            obj.options.onclose(el, obj);
        }
    }

    if (! jSuites.modal.hasEvents) {
        jSuites.modal.current = obj;

        if ('ontouchstart' in document.documentElement === true) {
            document.addEventListener("touchstart", jSuites.modal.mouseDownControls);
        } else {
            document.addEventListener('mousedown', jSuites.modal.mouseDownControls);
            document.addEventListener('mousemove', jSuites.modal.mouseMoveControls);
            document.addEventListener('mouseup', jSuites.modal.mouseUpControls);
        }

        document.addEventListener('keydown', jSuites.modal.keyDownControls);

        jSuites.modal.hasEvents = true;
    }

    if (obj.options.url) {
        jSuites.ajax({
            url: obj.options.url,
            method: 'GET',
            success: function(data) {
                obj.content.innerHTML = data;

                if (! obj.options.closed) {
                    obj.open();
                }
            }
        });
    } else {
        if (! obj.options.closed) {
            obj.open();
        }
    }

    // Keep object available from the node
    el.modal = obj;

    return obj;
});

jSuites.modal.current = null;
jSuites.modal.position = null;

jSuites.modal.keyDownControls = function(e) {
    if (e.which == 27) {
        if (jSuites.modal.current) {
            jSuites.modal.current.close();
        }
    }
}

jSuites.modal.mouseUpControls = function(e) {
    if (jSuites.modal.current) {
        jSuites.modal.current.container.style.cursor = 'auto';
    }
    jSuites.modal.position = null;
}

jSuites.modal.mouseMoveControls = function(e) {
    if (jSuites.modal.current && jSuites.modal.position) {
        if (e.which == 1 || e.which == 3) {
            var position = jSuites.modal.position;
            jSuites.modal.current.container.style.top = (position[1] + (e.clientY - position[3]) + (position[5] / 2)) + 'px';
            jSuites.modal.current.container.style.left = (position[0] + (e.clientX - position[2]) + (position[4] / 2)) + 'px';
            jSuites.modal.current.container.style.cursor = 'move';
        } else {
            jSuites.modal.current.container.style.cursor = 'auto';
        }
    }
}

jSuites.modal.mouseDownControls = function(e) {
    jSuites.modal.position = [];

    if (e.target.classList.contains('jmodal')) {
        setTimeout(function() {
            // Get target info
            var rect = e.target.getBoundingClientRect();

            if (e.changedTouches && e.changedTouches[0]) {
                var x = e.changedTouches[0].clientX;
                var y = e.changedTouches[0].clientY;
            } else {
                var x = e.clientX;
                var y = e.clientY;
            }

            if (rect.width - (x - rect.left) < 50 && (y - rect.top) < 50) {
                setTimeout(function() {
                    jSuites.modal.current.close();
                }, 100);
            } else {
                if (e.target.getAttribute('title') && (y - rect.top) < 50) {
                    if (document.selection) {
                        document.selection.empty();
                    } else if ( window.getSelection ) {
                        window.getSelection().removeAllRanges();
                    }

                    jSuites.modal.position = [
                        rect.left,
                        rect.top,
                        e.clientX,
                        e.clientY,
                        rect.width,
                        rect.height,
                    ];
                }
            }
        }, 100);
    }
}


jSuites.notification = (function(options) {
    var obj = {};
    obj.options = {};

    // Default configuration
    var defaults = {
        icon: null,
        name: 'Notification',
        date: null,
        title: null,
        message: null,
        timeout: 4000,
        autoHide: true,
        closeable: true,
    };

    // Loop through our object
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    var notification = document.createElement('div');
    notification.className = 'jnotification';

    var notificationContainer = document.createElement('div');
    notificationContainer.className = 'jnotification-container';
    notification.appendChild(notificationContainer);

    var notificationHeader = document.createElement('div');
    notificationHeader.className = 'jnotification-header';
    notificationContainer.appendChild(notificationHeader);

    var notificationImage = document.createElement('div');
    notificationImage.className = 'jnotification-image';
    notificationHeader.appendChild(notificationImage);

    if (obj.options.icon) {
        var notificationIcon = document.createElement('img');
        notificationIcon.src = obj.options.icon;
        notificationImage.appendChild(notificationIcon);
    }

    var notificationName = document.createElement('div');
    notificationName.className = 'jnotification-name';
    notificationName.innerHTML = obj.options.name;
    notificationHeader.appendChild(notificationName);

    if (obj.options.closeable == true) {
        var notificationClose = document.createElement('div');
        notificationClose.className = 'jnotification-close';
        notificationClose.onclick = function() {
            obj.hide();
        }
        notificationHeader.appendChild(notificationClose);
    }

    var notificationDate = document.createElement('div');
    notificationDate.className = 'jnotification-date';
    notificationHeader.appendChild(notificationDate);

    var notificationContent = document.createElement('div');
    notificationContent.className = 'jnotification-content';
    notificationContainer.appendChild(notificationContent);

    if (obj.options.title) {
        var notificationTitle = document.createElement('div');
        notificationTitle.className = 'jnotification-title';
        notificationTitle.innerHTML = obj.options.title;
        notificationContent.appendChild(notificationTitle);
    }

    var notificationMessage = document.createElement('div');
    notificationMessage.className = 'jnotification-message';
    notificationMessage.innerHTML = obj.options.message;
    notificationContent.appendChild(notificationMessage);

    obj.show = function() {
        document.body.appendChild(notification);
        if (jSuites.getWindowWidth() > 800) { 
            jSuites.fadeIn(notification);
        } else {
            jSuites.slideTop(notification, 1);
        }
    }

    obj.hide = function() {
        if (jSuites.getWindowWidth() > 800) { 
            jSuites.fadeOut(notification, function() {
                notification.parentNode.removeChild(notification);
            });
        } else {
            jSuites.slideTop(notification, 0, function() {
                notification.parentNode.removeChild(notification);
            });
        }
    };

    obj.show();

    if (obj.options.autoHide == true) {
        setTimeout(function() {
            obj.hide();
        }, obj.options.timeout);
    }

    if (jSuites.getWindowWidth() < 800) {
        notification.addEventListener("swipeup", function(e) {
            obj.hide();
            e.preventDefault();
            e.stopPropagation();
        });
    }

    return obj;
});

jSuites.rating = (function(el, options) {
    var obj = {};
    obj.options = {};

    // Default configuration
    var defaults = {
        number: 5,
        value: 0,
        tooltip: [ 'Very bad', 'Bad', 'Average', 'Good', 'Very good' ],
        onchange: null,
    };

    // Loop through the initial configuration
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    // Class
    el.classList.add('jrating');

    // Add elements
    for (var i = 0; i < obj.options.number; i++) {
        var div = document.createElement('div');
        div.setAttribute('data-index', (i + 1))
        div.setAttribute('title', obj.options.tooltip[i])
        el.appendChild(div);
    }

    // Set value
    obj.setValue = function(index) {
        for (var i = 0; i < obj.options.number; i++) {
            if (i < index) {
                el.children[i].classList.add('jrating-selected');
            } else {
                el.children[i].classList.remove('jrating-over');
                el.children[i].classList.remove('jrating-selected');
            }
        }

        obj.options.value = index;

        if (typeof(obj.options.onchange) == 'function') {
            obj.options.onchange(el, index);
        }
    }

    obj.getValue = function() {
        return obj.options.value;
    }

    if (obj.options.value) {
        for (var i = 0; i < obj.options.number; i++) {
            if (i < obj.options.value) {
                el.children[i].classList.add('jrating-selected');
            }
        }
    }

    // Events
    el.addEventListener("click", function(e) {
        var index = e.target.getAttribute('data-index');
        if (index != undefined) {
            if (index == obj.options.value) {
                obj.setValue(0);
            } else {
                obj.setValue(index);
            }
        }
    });

    el.addEventListener("mouseover", function(e) {
        var index = e.target.getAttribute('data-index');
        for (var i = 0; i < obj.options.number; i++) {
            if (i < index) {
                el.children[i].classList.add('jrating-over');
            } else {
                el.children[i].classList.remove('jrating-over');
            }
        }
    });

    el.addEventListener("mouseout", function(e) {
        for (var i = 0; i < obj.options.number; i++) {
            el.children[i].classList.remove('jrating-over');
        }
    });

    el.rating = obj;

    return obj;
});


/**
 * (c) Image slider
 * https://github.com/paulhodel/jtools
 *
 * @author: Paul Hodel <paul.hodel@gmail.com>
 * @description: Image Slider
 */

jSuites.slider = (function(el, options) {
    var obj = {};
    obj.options = {};
    obj.currentImage = null;

    if (options) {
        obj.options = options;
    }

    // Items
    obj.options.items = [];

    if (! el.classList.contains('jslider')) {
        el.classList.add('jslider');

        // Create container
        var container = document.createElement('div');
        container.className = 'jslider-container';

        // Move children inside
        if (el.children.length > 0) {
            // Keep children items
            for (var i = 0; i < el.children.length; i++) {
                obj.options.items.push(el.children[i]);
            }
        }
        if (obj.options.items.length > 0) {
            for (var i = 0; i < obj.options.items.length; i++) {
                obj.options.items[i].classList.add('jfile');
                var index = obj.options.items[i].src.lastIndexOf('/');
                if (index < 0) {
                    obj.options.items[i].setAttribute('data-name', obj.options.items[i].src);
                } else {
                    obj.options.items[i].setAttribute('data-name', obj.options.items[i].src.substr(index + 1));
                }
                var index = obj.options.items[i].src.lastIndexOf('/');

                container.appendChild(obj.options.items[i]);
            }
        }
        el.appendChild(container);
        // Add close buttom
        var close = document.createElement('div');
        close.className = 'jslider-close';
        close.innerHTML = '';
        close.onclick =  function() {
            obj.close();
        }
        el.appendChild(close);
    } else {
        var container = el.querySelector('slider-container');
    }

    obj.show = function(target) {
        if (! target) {
            var target = container.children[0];
        }

        if (! container.classList.contains('jslider-preview')) {
            container.classList.add('jslider-preview');
            close.style.display = 'block';
        }

        // Hide all images
        for (var i = 0; i < container.children.length; i++) {
            container.children[i].style.display = 'none';
        }

        // Show clicked only
        target.style.display = 'block';

        // Is there any previous
        if (target.previousSibling) {
            container.classList.add('jslider-left');
        } else {
            container.classList.remove('jslider-left');
        }

        // Is there any next
        if (target.nextSibling) {
            container.classList.add('jslider-right');
        } else {
            container.classList.remove('jslider-right');
        }

        obj.currentImage = target;
    }

    obj.open = function() {
        obj.show();

        // Event
        if (typeof(obj.options.onopen) == 'function') {
            obj.options.onopen(el);
        }
    }

    obj.close = function() {
        container.classList.remove('jslider-preview');
        container.classList.remove('jslider-left');
        container.classList.remove('jslider-right');

        for (var i = 0; i < container.children.length; i++) {
            container.children[i].style.display = '';
        }

        close.style.display = '';

        obj.currentImage = null;

        // Event
        if (typeof(obj.options.onclose) == 'function') {
            obj.options.onclose(el);
        }
    }

    obj.reset = function() {
        container.innerHTML = '';
    }

    obj.addFile = function(v, ignoreEvents) {
        var img = document.createElement('img');
        img.setAttribute('data-lastmodified', v.lastmodified);
        img.setAttribute('data-name', v.name);
        img.setAttribute('data-size', v.size);
        img.setAttribute('data-extension', v.extension);
        img.setAttribute('data-cover', v.cover);
        img.setAttribute('src', v.file);
        img.className = 'jfile';
        container.appendChild(img);
        obj.options.items.push(img);

        // Onchange
        if (! ignoreEvents) {
            if (typeof(obj.options.onchange) == 'function') {
                obj.options.onchange(el, v);
            }
        }
    }

    obj.addFiles = function(files) {
        for (var i = 0; i < files.length; i++) {
            obj.addFile(files[i]);
        }
    }

    obj.next = function() {
        if (obj.currentImage.nextSibling) {
            obj.show(obj.currentImage.nextSibling);
        }
    }
    
    obj.prev = function() {
        if (obj.currentImage.previousSibling) {
            obj.show(obj.currentImage.previousSibling);
        }
    }

    obj.getData = function() {
        return jSuites.getFiles(container);
    }

    // Append data
    if (obj.options.data && obj.options.data.length) {
        for (var i = 0; i < obj.options.data.length; i++) {
            if (obj.options.data[i]) {
                obj.addFile(obj.options.data[i]);
            }
        }
    }

    // Allow insert
    if (obj.options.allowAttachment) {
        var attachmentInput = document.createElement('input');
        attachmentInput.type = 'file';
        attachmentInput.className = 'slider-attachment';
        attachmentInput.setAttribute('accept', 'image/*');
        attachmentInput.style.display = 'none';
        attachmentInput.onchange = function() {
            var reader = [];

            for (var i = 0; i < this.files.length; i++) {
                var type = this.files[i].type.split('/');

                if (type[0] == 'image') {
                    var extension = this.files[i].name;
                    extension = extension.split('.');
                    extension = extension[extension.length-1];

                    var file = {
                        size: this.files[i].size,
                        name: this.files[i].name,
                        extension: extension,
                        cover: 0,
                        lastmodified: this.files[i].lastModified,
                    }

                    reader[i] = new FileReader();
                    reader[i].addEventListener("load", function (e) {
                        file.file = e.target.result;
                        obj.addFile(file);
                    }, false);

                    reader[i].readAsDataURL(this.files[i]);
                } else {
                    alert('The extension is not allowed');
                }
            };
        }

        var attachmentIcon = document.createElement('i');
        attachmentIcon.innerHTML = 'attachment';
        attachmentIcon.className = 'jslider-attach material-icons';
        attachmentIcon.onclick = function() {
            jSuites.click(attachmentInput);
        }

        el.appendChild(attachmentInput);
        el.appendChild(attachmentIcon);
    }

    // Push to refresh
    var longTouchTimer = null;

    var mouseDown = function(e) {
        if (e.target.tagName == 'IMG') {
            // Remove
            var targetImage = e.target;
            longTouchTimer = setTimeout(function() {
                if (e.target.src.substr(0,4) == 'data') {
                    e.target.remove();
                } else {
                    if (e.target.classList.contains('jremove')) {
                        e.target.classList.remove('jremove');
                    } else {
                        e.target.classList.add('jremove');
                    }
                }

                // Onchange
                if (typeof(obj.options.onchange) == 'function') {
                    obj.options.onchange(el, e.target);
                }
            }, 1000);
        }
    }

    var mouseUp = function(e) {
        if (longTouchTimer) {
            clearTimeout(longTouchTimer);
        }

        // Open slider
        if (e.target.tagName == 'IMG') {
            if (! e.target.classList.contains('jremove')) {
                obj.show(e.target);
            }
        } else {
            // Arrow controls
            if (e.target.clientWidth - e.offsetX < 40) {
                // Show next image
                obj.next();
            } else if (e.offsetX < 40) {
                // Show previous image
                obj.prev();
            }
        }
    }

    container.addEventListener('mousedown', mouseDown);
    container.addEventListener('touchstart', mouseDown);
    container.addEventListener('mouseup', mouseUp);
    container.addEventListener('touchend', mouseUp);

    // Add global events
    el.addEventListener("swipeleft", function(e) {
        obj.next();
        e.preventDefault();
        e.stopPropagation();
    });

    el.addEventListener("swiperight", function(e) {
        obj.prev();
        e.preventDefault();
        e.stopPropagation();
    });


    el.slider = obj;

    return obj;
});

/**
 * (c) jTools v1.0.1 - Element sorting
 * https://github.com/paulhodel/jtools
 *
 * @author: Paul Hodel <paul.hodel@gmail.com>
 * @description: Element drag and drop sorting
 */

jSuites.sorting = (function(el, options) {
    el.classList.add('jsorting');

    el.addEventListener('dragstart', function(e) {
        e.target.classList.add('dragging');
    });

    el.addEventListener('dragover', function(e) {
        e.preventDefault();

        if (e.target.clientHeight / 2 > e.offsetY) {
            e.path[0].style.borderTop = '1px dotted #ccc';
            e.path[0].style.borderBottom = '';
        } else {
            e.path[0].style.borderTop = '';
            e.path[0].style.borderBottom = '1px dotted #ccc';
        }
    });

    el.addEventListener('dragleave', function(e) {
        e.path[0].style.borderTop = '';
        e.path[0].style.borderBottom = '';
    });

    el.addEventListener('dragend', function(e) {
        e.path[1].querySelector('.dragging').classList.remove('dragging');
    });

    el.addEventListener('drop', function(e) {
        var element = e.path[1].querySelector('.dragging');

        if (e.target.clientHeight / 2 > e.offsetY) {
            e.path[1].insertBefore(element, e.path[0]);
        } else {
            e.path[1].insertBefore(element, e.path[0].nextSibling);
        }

        e.path[0].style.borderTop = '';
        e.path[0].style.borderBottom = '';
    });

    for (var i = 0; i < el.children.length; i++) {
        el.children[i].setAttribute('draggable', 'true');
    };

    return el;
});

jSuites.tabs = (function(el, options) {
    var obj = {};
    obj.options = {};

    // Default configuration
    var defaults = {
        data: null,
        allowCreate: false,
        onload: null,
        onchange: null,
        oncreate: null,
        animation: false,
        create: null,
        autoName: false,
        prefixName: '',
        hideHeaders: false,
    };

    // Loop through the initial configuration
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    // Class
    el.classList.add('jtabs');

    if (obj.options.animation == true) {
        // Border
        var border = document.createElement('div');
        border.className = 'jtabs-border';
        el.appendChild(border);

        var setBorder = function(index) {
            var rect = headers.children[index].getBoundingClientRect();
            var rectContent = content.children[index].getBoundingClientRect();
            border.style.width = rect.width + 'px';
            border.style.left = (rect.left - rectContent.left) + 'px';
            border.style.top = rect.height + 'px';
        }
    }

    // Set value
    obj.open = function(index) {
        for (var i = 0; i < headers.children.length; i++) {
            headers.children[i].classList.remove('jtabs-selected');
            if (content.children[i]) {
                content.children[i].classList.remove('jtabs-selected');
            }
        }

        headers.children[index].classList.add('jtabs-selected');
        if (content.children[index]) {
            content.children[index].classList.add('jtabs-selected');
        }

        // Hide
        if (obj.options.hideHeaders == true && (headers.children.length < 2 && obj.options.allowCreate == false)) {
            headers.style.display = 'none';
        } else {
            headers.style.display = '';
            // Set border
            if (obj.options.animation == true) {
                setTimeout(function() {
                    setBorder(index);
                }, 100);
            }
        }
    }

    obj.selectIndex = function(a) {
        var index = Array.prototype.indexOf.call(headers.children, a);
        if (index >= 0) {
            obj.open(index);
        }
    }

    obj.create = function(title, div) {
        if (typeof(obj.options.create) == 'function') {
            obj.options.create();
        } else {
            obj.appendElement(title, div);

            if (typeof(obj.options.oncreate) == 'function') {
                obj.options.oncreate(el, div)
            }
        }
    }

    obj.appendElement = function(title, div) {
        if (! title) {
            if (obj.options.autoName == true) {
                var title = obj.options.prefixName;
                title += ' ' + (parseInt(content.children.length) + 1);
            } else {
                var title = prompt('Title?', '');
            }
        }

        if (title) {
            // Add headers
            var header = document.createElement('div');
            header.innerHTML = title;
            if (obj.options.allowCreate) {
                headers.insertBefore(header, headers.lastChild);
            } else {
                headers.appendChild(header);
            }

            // Add content
            if (! div) {
                var div = document.createElement('div');
            }
            content.appendChild(div);

            // Open new tab
            obj.selectIndex(header);
        }
    }

    // Create from data
    if (obj.options.data) {
        // Make sure the component is blank
        el.innerHTML = '';
        var headers = document.createElement('div');
        var content = document.createElement('div');
        headers.classList.add('jtabs-headers');
        content.classList.add('jtabs-content');
        el.appendChild(headers);
        el.appendChild(content);

        for (var i = 0; i < obj.options.data.length; i++) {
            var headersItem = document.createElement('div');
            headers.appendChild(headersItem);
            var contentItem = document.createElement('div');
            content.appendChild(contentItem);

            headersItem.innerHTML = obj.options.data[i].title;
            if (obj.options.data[i].content) {
                contentItem.innerHTML = obj.options.data[i].content;
            } else if (obj.options.data[i].url) {
                jSuites.ajax({
                    url: obj.options.data[i].url,
                    type: 'GET',
                    success: function(result) {
                        contentItem.innerHTML = result;
                    },
                    complete: function() {
                        if (typeof(obj.options.onload) == 'function') {
                            obj.options.onload(el);

                            obj.open(0);
                        }
                    }
                });
            }
        }
    } else if (el.children[0] && el.children[1]) {
        // Create from existing elements
        var headers = el.children[0];
        var content = el.children[1];
        headers.classList.add('jtabs-headers');
        content.classList.add('jtabs-content');
    } else {
        el.innerHTML = '';
        var headers = document.createElement('div');
        var content = document.createElement('div');
        headers.classList.add('jtabs-headers');
        content.classList.add('jtabs-content');
        el.appendChild(headers);
        el.appendChild(content);
    }

    // New
    if (obj.options.allowCreate == true) {
        var add = document.createElement('i');
        add.className = 'jtabs-add';
        headers.appendChild(add);
    }

    // Events
    headers.addEventListener("click", function(e) {
        if (e.target.tagName == 'DIV') {
            obj.selectIndex(e.target);
        } else {
            obj.create();
        }
    });

    if (headers.children.length) {
        obj.open(0);
    }

    el.tabs = obj;

    return obj;
});

jSuites.tags = (function(el, options) {
    var obj = {};
    obj.options = {};

    /**
     * @typedef {Object} defaults
     * @property {(string|Array)} value - Initial value of the compontent
     * @property {number} limit - Max number of tags inside the element
     * @property {string} search - The URL for suggestions
     * @property {string} placeholder - The default instruction text on the element
     * @property {validation} validation - Method to validate the tags
     * @property {requestCallback} onbeforechange - Method to be execute before any changes on the element
     * @property {requestCallback} onchange - Method to be execute after any changes on the element
     * @property {requestCallback} onfocus - Method to be execute when on focus
     * @property {requestCallback} onblur - Method to be execute when on blur
     * @property {requestCallback} onload - Method to be execute when the element is loaded
     */
    var defaults = {
        value: null,
        limit: null,
        limitMessage: 'The limit of entries is: ',
        search: null,
        placeholder: null,
        validation: null,
        onbeforechange: null,
        onchange: null,
        onfocus: null,
        onblur: null,
        onload: null,
        colors: null,
    };

    // Loop through though the default configuration
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    // Search helpers
    var searchContainer = null;
    var searchTerms = null;
    var searchIndex = 0;
    var searchTimer = 0;

    /**
     * Add a new tag to the element
     * @param {(?string|Array)} value - The value of the new element
     */
    obj.add = function(value, focus) {
        if (typeof(obj.options.onbeforechange) == 'function') {
            var v = obj.options.onbeforechange(el, obj, value);
            if (v != null) {
                value = v;
            }
        }

        // Close search
        if (searchContainer) {
            searchContainer.style.display = '';
        }

        if (obj.options.limit > 0 && el.children.length >= obj.options.limit) {
            alert(obj.options.limitMessage + ' ' + obj.options.limit);
        } else {
            // Get node
            var node = getSelectionStart();

            // Mix argument string or array
            if (! value || typeof(value) == 'string') {
                var div = document.createElement('div');
                div.innerHTML = value ? value : '<br>';
                if (node && node.parentNode.classList.contains('jtags')) {
                    el.insertBefore(div, node.nextSibling);
                } else {
                    el.appendChild(div);
                }
            } else {
                if (node && node.parentNode.classList.contains('jtags')) {
                    if (! node.innerText.replace("\n", "")) {
                        el.removeChild(node);
                    }
                }

                for (var i = 0; i <= value.length; i++) {
                    if (! obj.options.limit || el.children.length < obj.options.limit) {
                        var div = document.createElement('div');
                        div.innerHTML = value[i] ? value[i] : '<br>';
                        el.appendChild(div);
                    }
                }
            }

            // Place caret
            if (focus) {
                setTimeout(function() {
                    caret(div);
                }, 0);
            }

            // Filter
            filter();

            if (typeof(obj.options.onchange) == 'function') {
                obj.options.onchange(el, obj, value ? value : '');
            }
        }
    }

    /**
     * Get all tags in the element
     * @return {Array} data - All tags as an array
     */
    obj.getData = function() {
        var data = [];
        for (var i = 0; i < el.children.length; i++) {
            var value = obj.getValue(i);
            if (value) {
                var id = el.children[i].getAttribute('data-id');
                if (! id) {
                    id = value;
                }
                data.push({ id: id, value: value });
            }
        }
        return data;
    }

    /**
     * Get the value of one tag. Null for all tags
     * @param {?number} index - Tag index number. Null for all tags.
     * @return {string} value - All tags separated by comma
     */
    obj.getValue = function(index) {
        var value = null;

        if (index != null) {
            // Get one individual value
            value = el.children[index].innerText.replace("\n", "");
        } else {
            // Get all
            var data = [];
            for (var i = 0; i < el.children.length; i++) {
                value = el.children[i].innerText.replace("\n", "");
                if (value) {
                    data.push(obj.getValue(i));
                }
            }
            value = data.join(',');
        }

        return value;
    }

    /**
     * Set the value of the element based on a string separeted by (,|;|\r\n)
     * @param {string} value - A string with the tags
     */
    obj.setValue = function(text) {
        // Remove whitespaces
        text = text.trim();

        if (text) {
            // Tags
            var data = extractTags(text);
            // Add tags to the element
            obj.add(data);
        }
    }

    obj.reset = function() {
        el.innerHTML = '<div><br></div>';
    }

    /**
     * Verify if all tags in the element are valid
     * @return {boolean}
     */
    obj.isValid = function() {
        var test = 0;
        for (var i = 0; i < el.children.length; i++) {
            if (el.children[i].classList.contains('jtags_error')) {
                test++;
            }
        }
        return test == 0 ? true : false;
    }

    /**
     * Add one element from the suggestions to the element
     * @param {object} item - Node element in the suggestions container
     */ 
    obj.selectIndex = function(item) {
        // Reset terms
        searchTerms = '';
        var node = getSelectionStart();
        // Append text to the caret
        node.innerText = item.children[1].innerText;
        // Set node id
        if (item.children[1].getAttribute('data-id')) {
            node.setAttribute('data-id', item.children[1].getAttribute('data-id'));
        }
        // Close container
        if (searchContainer) {
            searchContainer.style.display = '';
            searchContainer.innerHTML = '';
        }
        // Remove any error
        node.classList.remove('jtags_error');
        // Add new item
        obj.add();
    }

    /**
     * Search for suggestions
     * @param {object} node - Target node for any suggestions
     */
    obj.search = function(node) {
        // Create and append search container to the DOM
        if (! searchContainer) {
            var div = document.createElement('div');
            div.style.position = 'relative';
            el.parentNode.insertBefore(div, el.nextSibling);

            // Create container
            searchContainer = document.createElement('div');
            searchContainer.classList.add('jtags_search');
            div.appendChild(searchContainer);
        }

        // Search for
        var terms = node.anchorNode.nodeValue;

        // Search
        if (node.anchorNode.nodeValue && terms != searchTerms) {
            // Terms
            searchTerms = node.anchorNode.nodeValue;
            // Reset index
            searchIndex = 0;
            // Get remove results
            jSuites.ajax({
                url: obj.options.search + searchTerms,
                method: 'GET',
                dataType: 'json',
                success: function(data) {
                    // Reset container
                    searchContainer.innerHTML = '';

                    // Print results
                    if (! data.length) {
                        // Show container
                        searchContainer.style.display = '';
                    } else {
                        // Show container
                        searchContainer.style.display = 'block';

                        // Show items
                        var len = data.length < 11 ? data.length : 10;
                        for (var i = 0; i < len; i++) {
                            var div = document.createElement('div');
                            if (i == 0) {
                                div.classList.add('selected');
                            }
                            var img = document.createElement('img');
                            if (data[i].image) {
                                img.src = data[i].image;
                            } else {
                                img.style.display = 'none';
                            }
                            div.appendChild(img);

                            var item = document.createElement('div');
                            item.setAttribute('data-id', data[i].id);
                            item.innerHTML = data[i].name;
                            div.onclick = function() {
                                // Add item
                                obj.selectIndex(this);
                            }
                            div.appendChild(item);
                            // Append item to the container
                            searchContainer.appendChild(div);
                        }
                    }
                }
            });
        }
    }

    // Destroy tags element
    obj.destroy = function() {
        // Bind events
        el.removeEventListener('mouseup', tagsMouseUp);
        el.removeEventListener('keydown', tagsKeyDown);
        el.removeEventListener('keyup', tagsKeyUp);
        el.removeEventListener('paste', tagsPaste);
        el.removeEventListener('focus', tagsFocus);
        el.removeEventListener('blur', tagsBlur);
        // Remove element
        el.parentNode.removeChild(el);
    }

    var getRandomColor = function(index) {
        var rand = function(min, max) {
            return min + Math.random() * (max - min);
        }
        return 'hsl(' + rand(1, 360) + ',' + rand(40, 70) + '%,' + rand(65, 72) + '%)';
    }

    /**
     * Filter tags
     */
    var filter = function() {
        for (var i = 0; i < el.children.length; i++) {
            // Create label design
            if (! obj.getValue(i)) {
                el.children[i].classList.remove('jtags_label');
            } else {
                el.children[i].classList.add('jtags_label');

                // Validation in place
                if (typeof(obj.options.validation) == 'function') {
                    if (obj.getValue(i)) {
                        if (! obj.options.validation(el.children[i], el.children[i].innerText, el.children[i].getAttribute('data-id'))) {
                            el.children[i].classList.add('jtags_error');
                        } else {
                            el.children[i].classList.remove('jtags_error');
                        }
                    } else {
                        el.children[i].classList.remove('jtags_error');
                    }
                }
            }
        }
    }

    /**
     * Place caret in the element node
     */
    var caret = function(e) {
        var range = document.createRange();
        var sel = window.getSelection();
        range.setStart(e, e.innerText.length);
        range.collapse(true);
        sel.removeAllRanges();
        sel.addRange(range);
    }

    /**
     * Selection
     */
    var getSelectionStart = function() {
        var node = document.getSelection().anchorNode;
        if (node) {
            return (node.nodeType == 3 ? node.parentNode : node);
        } else {
            return null;
        }
    }

    /**
     * Extract tags from a string
     * @param {string} text - Raw string
     * @return {Array} data - Array with extracted tags
     */
    var extractTags = function(text) {
        /** @type {Array} */
        var data = [];

        /** @type {string} */
        var word = '';

        // Remove whitespaces
        text = text.trim();

        if (text) {
            for (var i = 0; i < text.length; i++) {
                if (text[i] == ',' || text[i] == ';' || text[i] == '\r\n') {
                    if (word) {
                        data.push(word);
                        word = '';
                    }
                } else {
                    word += text[i];
                }
            }

            if (word) {
                data.push(word);
            }
        }

        return data;
    }

    /** @type {number} */
    var anchorOffset = 0;

    /**
     * Processing event keydown on the element
     * @param e {object}
     */
    var tagsKeyDown = function(e) {
        // Anchoroffset
        anchorOffset = window.getSelection().anchorOffset;

        // Verify content
        if (! el.children.length) {
            var div = document.createElement('div');
            div.innerHTML = '<br>';
            el.appendChild(div);
        }
        // Comma
        if (e.which == 9 || e.which == 186 || e.which == 188) {
            var n = window.getSelection().anchorOffset;
            if (n > 1) {
                if (! obj.options.limit || el.children.length < obj.options.limit) {
                    obj.add('', true);
                }
            }
            e.preventDefault();
        } else if (e.which == 13) {
            // Enter
            if (searchContainer && searchContainer.style.display != '') {
                obj.selectIndex(searchContainer.children[searchIndex]);
            } else {
                var n = window.getSelection().anchorOffset;
                if (n > 1) {
                    if (! obj.options.limit || el.children.length < obj.options.limit) {
                        obj.add('', true);
                    }
                }
            }
            e.preventDefault();
        } else if (e.which == 38) {
            // Up
            if (searchContainer && searchContainer.style.display != '') {
                searchContainer.children[searchIndex].classList.remove('selected');
                if (searchIndex > 0) {
                    searchIndex--;
                }
                searchContainer.children[searchIndex].classList.add('selected');
                e.preventDefault();
            }
        } else if (e.which == 40) {
            // Down
            if (searchContainer && searchContainer.style.display != '') {
                searchContainer.children[searchIndex].classList.remove('selected');
                if (searchIndex < 9) {
                    searchIndex++;
                }
                searchContainer.children[searchIndex].classList.add('selected');
                e.preventDefault();
            }
        }
    }

    /**
     * Processing event keyup on the element
     * @param e {object}
     */
    var tagsKeyUp = function(e) {
        if (e.which == 39) {
            var n = window.getSelection().anchorOffset;
            if (n > 1 && n == anchorOffset) {
                obj.add();
            }
        } else if (e.which == 13 || e.which == 38 || e.which == 40) {
            e.preventDefault();
        } else {
            if (searchTimer) {
                clearTimeout(searchTimer);
            }

            searchTimer = setTimeout(function() {
                // Current node
                var node = window.getSelection();
                // Search
                if (obj.options.search) {
                    obj.search(node);
                }
                searchTimer = null;
            }, 300);
        }

        filter();
    }

    /**
     * Processing event paste on the element
     * @param e {object}
     */
    var tagsPaste =  function(e) {
        if (e.clipboardData || e.originalEvent.clipboardData) {
            var html = (e.originalEvent || e).clipboardData.getData('text/html');
            var text = (e.originalEvent || e).clipboardData.getData('text/plain');
        } else if (window.clipboardData) {
            var html = window.clipboardData.getData('Html');
            var text = window.clipboardData.getData('Text');
        }

        obj.setValue(text);
        e.preventDefault();
    }

    /**
     * Processing event mouseup on the element
     * @param e {object}
     */
    var tagsMouseUp = function(e) {
        if (e.target.parentNode && e.target.parentNode.classList.contains('jtags')) {
            if (e.target.classList.contains('jtags_label') || e.target.classList.contains('jtags_error')) {
                const rect = e.target.getBoundingClientRect();
                if (rect.width - (e.clientX - rect.left) < 16) {
                    el.removeChild(e.target);
                    el.focus();
                }
            }
        }

        if (searchContainer) {
            searchContainer.style.display = '';
        }
    }

    /**
     * Processing event focus on the element
     * @param e {object}
     */
    var tagsFocus = function(e) {
        if (! el.children.length || obj.getValue(el.children.length - 1)) {
            if (! obj.options.limit || el.children.length < obj.options.limit) {
                var div = document.createElement('div');
                div.innerHTML = '<br>';
                el.appendChild(div);
            }
        }

        if (typeof(obj.options.onfocus) == 'function') {
            obj.options.onfocus(el, obj, obj.getValue());
        }
    }

    /**
     * Processing event blur on the element
     * @param e {object}
     */
    var tagsBlur = function(e) {
        if (searchContainer) {
            setTimeout(function() {
                searchContainer.style.display = '';
            }, 200);
        }

        for (var i = 0; i < el.children.length - 1; i++) {
            // Create label design
            if (! obj.getValue(i)) {
                el.removeChild(el.children[i]);
            }
        }

        if (typeof(obj.options.onblur) == 'function') {
            obj.options.onblur(el, obj, obj.getValue());
        }
    }

    // Bind events
    el.addEventListener('mouseup', tagsMouseUp);
    el.addEventListener('keydown', tagsKeyDown);
    el.addEventListener('keyup', tagsKeyUp);
    el.addEventListener('paste', tagsPaste);
    el.addEventListener('focus', tagsFocus);
    el.addEventListener('blur', tagsBlur);

    // Prepare container
    el.classList.add('jtags');
    el.setAttribute('contenteditable', true);
    el.setAttribute('spellcheck', false);

    if (obj.options.placeholder) {
        el.placeholder = obj.options.placeholder;
    }

    // Make sure element is empty
    if (obj.options.value) {
        obj.setValue(obj.options.value);
    } else {
        el.innerHTML = '<div><br></div>';
    }

    if (typeof(obj.options.onload) == 'function') {
        obj.options.onload(el, obj);
    }

    el.tags = obj;

    return obj;
});

jSuites.tracker = (function(el, options) {
    var obj = {};
    obj.options = {};

    // Default configuration
    var defaults = {
        url: null,
        message: 'Are you sure? There are unsaved information in your form',
        ignore: false,
        currentHash: null,
        submitButton:null,
        onload: null,
        onbeforesave: null,
        onsave: null,
    };

    // Loop through our object
    for (var property in defaults) {
        if (options && options.hasOwnProperty(property)) {
            obj.options[property] = options[property];
        } else {
            obj.options[property] = defaults[property];
        }
    }

    obj.setUrl = function(url) {
        obj.options.url = url;
    }

    obj.load = function() {
        jSuites.ajax({
            url: obj.options.url,
            method: 'GET',
            dataType: 'json',
            success: function(data) {
                var elements = el.querySelectorAll("input, select, textarea");
 
                for (var i = 0; i < elements.length; i++) {
                    var name = elements[i].getAttribute('name');
                    if (data[name]) {
                        elements[i].value = data[name];
                    }
                }

                if (typeof(obj.options.onload) == 'function') {
                    obj.options.onload(el, data);
                }
            }
        });
    }

    obj.save = function() {
        var test = obj.validate();

        if (test) {
            jSuites.alert(test);
        } else {
            var data = obj.getElements(true);

            if (typeof(obj.options.onbeforesave) == 'function') {
                var data = obj.options.onbeforesave(el, data);

                if (data === false) {
                    console.log('Onbeforesave returned false');
                    return; 
                }
            }

            jSuites.ajax({
                url: obj.options.url,
                method: 'POST',
                dataType: 'json',
                data: data,
                success: function(result) {
                    jSuites.alert(result.message);

                    if (typeof(obj.options.onsave) == 'function') {
                        var data = obj.options.onsave(el, result);
                    }

                    obj.reset();
                }
            });
        }
    }

    obj.validateElement = function(element) {
        var emailChecker = function(data) {
            var pattern = new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);
            return pattern.test(data) ? true : false; 
        }

        var passwordChecker = function(data) {
            return (data.length > 5) ? true : false;
        }

        var addError = function(element) {
            // Add error in the element
            element.classList.add('error');
            // Submit button
            if (obj.options.submitButton) {
                obj.options.submitButton.setAttribute('disabled', true);
            }
            // Return error message
            return element.getAttribute('data-error') || 'There is an error in the form';
        }

        var delError = function(element) {
            var error = false;
            // Remove class from this element
            element.classList.remove('error');
            // Get elements in the form
            var elements = el.querySelectorAll("input, select, textarea");
            // Run all elements 
            for (var i = 0; i < elements.length; i++) {
                if (elements[i].getAttribute('data-validation')) {
                    if (elements[i].classList.contains('error')) {
                        error = true;
                    }
                }
            }

            if (obj.options.submitButton) {
                if (error) {
                    obj.options.submitButton.setAttribute('disabled', true);
                } else {
                    obj.options.submitButton.removeAttribute('disabled');
                }
            }
        }

        // Blank
        var test = '';
        if (! element.value) {
            test = addError(element);
        } else if (element.getAttribute('data-email') && ! emailChecker(element.value)) {
            test = addError(element);
        } else if (element.getAttribute('data-password') && ! emailChecker(element.value)) {
            test = addError(element);
        } else {
            if (element.classList.contains('error')) {
                delError(element);
            }
        }

        return test;
    }

    // Run form validation
    obj.validate = function() {
        var test = '';
        // Get elements in the form
        var elements = el.querySelectorAll("input, select, textarea");
        // Run all elements 
        for (var i = 0; i < elements.length; i++) {
            if (elements[i].getAttribute('data-validation')) {
                if (test) {
                    test += "<br>\r\n";
                }
                test += obj.validateElement(elements[i]);
            }
        }
        return test;
    }

    // Check the form
    obj.getError = function() {
        // Validation
        return obj.validation() ? true : false;
    }

    // Return the form hash
    obj.setHash = function() {
        return obj.getHash(obj.getElements());
    }

    // Get the form hash
    obj.getHash = function(str) {
        var hash = 0, i, chr;

        if (str.length === 0) {
            return hash;
        } else {
            for (i = 0; i < str.length; i++) {
              chr = str.charCodeAt(i);
              hash = ((hash << 5) - hash) + chr;
              hash |= 0;
            }
        }

        return hash;
    }

    // Is there any change in the form since start tracking?
    obj.isChanged = function() {
        var hash = obj.setHash();
        return (obj.options.currentHash != hash);
    }

    // Restart tracking
    obj.resetTracker = function() {
        obj.options.currentHash = obj.setHash();
        obj.options.ignore = false;
    }

    obj.reset = function() {
        obj.options.currentHash = obj.setHash();
        obj.options.ignore = false;
    }

    // Ignore flag
    obj.setIgnore = function(ignoreFlag) {
        obj.options.ignore = ignoreFlag ? true : false;
    }

    // Get form elements
    obj.getElements = function(asArray) {
        var data = {};
        var elements = el.querySelectorAll("input, select, textarea");

        for (var i = 0; i < elements.length; i++) {
            var element = elements[i];
            var name = element.name;
            var value = element.value;

            if (name) {
                data[name] = value;
            }
        }

        return asArray == true ? data : JSON.stringify(data);
    }

    // Start tracking in one second
    setTimeout(function() {
        obj.options.currentHash = obj.setHash();
    }, 1000);

    // Alert
    window.addEventListener("beforeunload", function (e) {
        if (obj.isChanged() && obj.options.ignore == false) {
            var confirmationMessage =  obj.options.message? obj.options.message : "\o/";

            if (confirmationMessage) {
                if (typeof e == 'undefined') {
                    e = window.event;
                }

                if (e) {
                    e.returnValue = confirmationMessage;
                }

                return confirmationMessage;
            } else {
                return void(0);
            }
        }
    });

    // Validations
    el.addEventListener("keyup", function(e) {
        if (e.target.getAttribute('data-validation')) {
            obj.validateElement(e.target);
        }
    });

    el.tracker = obj;

    return obj;
});



    return jSuites;

})));
},{}],5:[function(require,module,exports){
loader = document.getElementsByClassName('loader')
let dateUrl = document.currentScript.getAttribute('url')

const save = document.getElementById('save')
if(save){
    save.onclick = ()=>{saveData()}
    async function saveData(){
        loader[0].className = 'loader'
        try{
            await axios({
                method:'patch',
                url:'/data/save/'+numID,
                data: myTable.getJson()
            })
            loader[0].className = 'loader hidden'
        }catch(e){
            console.log(e)
        }
    }
}

const pdf = document.getElementById('pdf')
pdf.onclick = ()=>{goToPDF()}

function goToPDF(){
    location.replace('/data/pdf')
}


const jexcel = require('jexcel')
require('./vendor.css')

async function getJson(url){
    try{
        const response = await axios.get(url)
        numID = response.data._id
        loader[0].className = 'loader hidden'
        return response.data.dataObject
    }catch(e){
        console.log(e)
    }
}

async function myTablefunction(){
    myTable = jexcel(document.getElementById('spreadsheet'),{
    data: await getJson(dateUrl),
    search:true,
    tableWidth:"1300px",
    pagination:20,
    tableOverflow:true,
    rowResize:true,
    defaultColAlign:'left',
    allowInsertColumn:false,
    allowManualInsertColumn:false,
    allowDeleteColumn:false,
    wordWrap:true,
    allowRenameColumn:false,
    columns: [
        { title:'Unit Ref. & date', type:'text', width:120, wordWrap: true},
        { title:'Bill of Entry No.', type:'text', width:120, wordWrap: true},
        { title: 'Customs Station of import', type:'text', width:150 },
        { title: 'Code warehouse', type:'text', width:120 },
        { title: 'EoU Name Addr', type:'text', width:100 },
        { title: 'Others', type:'text', width:100 },
        { title: 'B-17 Bond Amt', type:'text', width:100 },
        { title: 'Description goods', type:'text', width:100 },
        { title: 'Invoice No.', type:'text', width:100 },
        { title: 'Proc Cert No./date', type:'text', width:100 },
        { title: 'Unit,weight & quantity', type:'text', width:100 },
        { title: 'Value', type:'text', width:100 },
        { title: 'Duty assessed', type:'text', width:100 },
        { title: 'Reg. no. means of transport', type:'text', width:100 },
        { title: 'Date & time of receipt', type:'text', width:100 },
        { title: 'Date and time of removal', type:'text', width:100 },
        { title: 'Quantity cleared', type:'text', width:100 },
        { title: 'Value', type:'text', width:100 },
        { title: 'Duty involved', type:'text', width:100 },
        { title: ' ', type:'text', width:100 },
        { title: 'Purpose of removal', type:'text', width:100 },
        { title: 'Date & Time', type:'text', width:100 },
        { title: 'Quantity', type:'text', width:100 },
        { title: 'Value', type:'text', width:100 },
        { title: 'Duty', type:'text', width:100 },
        { title: 'Details of document', type:'text', width:100 },
        { title: 'Purpose of return', type:'text', width:100 },
        { title: 'Date & time', type:'text', width:100 },
        { title: 'Quantity', type:'text', width:100 },
        { title: 'Value', type:'text', width:100 },
        { title: 'Duty involved', type:'text', width:100 },
        { title: 'Details', type:'text', width:100 },
        { title: 'Quantity', type:'text', width:100 },
        { title: 'Value', type:'text', width:100 },
        { title: ' ', type:'text', width:100 }
    ],
    nestedHeaders:[
        [
            { title:' ',colspan:2 }, { title:'Receipts', colspan:12 }, {title:'Removal of processing', colspan: 4},{title:'Remarks', colspan:1},
            {title:'Other removals', colspan:6}, {title:'Returns to unit', colspan:6}, {title:'Balance in stock',colspan:2},{title:'Remarks',colspan:1}
        ]
            
    ]
})
}

myTablefunction()


},{"./vendor.css":6,"jexcel":2}],6:[function(require,module,exports){
var css = "/**\r\n * (c) jSuites Javascript Web Components\r\n *\r\n * Author: Paul Hodel <paul.hodel@gmail.com>\r\n * Website: https://bossanova.uk/jsuites/\r\n * Description: Create amazing web based applications.\r\n *\r\n * MIT License\r\n *\r\n */\n/** General **/\n:root {\n  --button-color: #298BA8;\n  --active-color: #007aff;\n}\n.jdragging {\n  opacity: 0.2;\n  filter: alpha(opacity=20);\n}\n.jupload {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7emlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTctMTItMzFUMjI6NDM6MzBaPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDEtMDFUMjA6MDM6MjNaPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOC0wMS0wMVQyMDowMzoyM1o8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6ZDE3NGVkY2UtNWZkNC0wODRkLTkzNzAtZDRhODVmMzdkNjdiPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjBmYzcxZDEyLTg1MGUtY2E0NS05MzE4LWRhYjI5YWZhMmQ4MjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjBmYzcxZDEyLTg1MGUtY2E0NS05MzE4LWRhYjI5YWZhMmQ4MjwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowZmM3MWQxMi04NTBlLWNhNDUtOTMxOC1kYWIyOWFmYTJkODI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMTItMzFUMjI6NDM6MzBaPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjk2MTA5Y2Y0LTEwM2ItNTc0Ny1hZWE3LWI5NDMxOWY0NWFkZjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxOC0wMS0wMVQyMDowMjoyMFo8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6ZDE3NGVkY2UtNWZkNC0wODRkLTkzNzAtZDRhODVmMzdkNjdiPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTAxLTAxVDIwOjAzOjIzWjwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj44MDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj44MDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+tc8AsgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAGjUlEQVR42uycW2xURRjHf91SoEIBUQpYI8VSVBDExniLERNUJBpQVEDFqE1AEYkX0JCC0YjgBdEYDOIFeVEEFRBilKBogg+KiQoV5Q6Khla8lrZRBLo+zLdazs7ZM2d3zsJu55/sy3dmz5797Vy+y8wWxONxnNJXzCFwAB1AB9ABdHIAHUAH0AF0Cq929fX1ufbMA4HLgSqgHOgPdJJrfwPbgb3AJuBD4KsoH6agrq4uF6CVAncC4wVYGP0ALAVeAva0NYDFwOPARKBzhvc6ArwG1AC/toU5cDSwFXjAAjyAQmACsAOozneATwLLgdMM2/8jLxN1AxYBC/J1CL8F3BjQZhOwCqgFvgd+AuJAT6ACOBMYCVwUcJ91siDlDcC3gRtSXF8IzAe+M7xfOXC3TAOFPm3WA0NzAeDp8oUGASeKrUF60R6Zn6an6CnTgI1pfnYFMAcY43N9GTDueAR4sQylK8RvS0dzgYcsPc9U4Bmfa9XA4uMF4GXypUdkeJ8Z0nNs6hbgdZ9rPcK6OLZX4XbisH5iAd68COABvAHc63NtwbHsgf2B94BKC/faAFwY8Zy8ErhWYx8EbM42wAuAj4ETAtptllh1N9AiC0t/YLCnXV9xT6JUJ6AOKPHYX5HIJ2sAK4BvgQ4+17fJ5LxKIgudzgBGySS/3sAPtKWZwCyPrQk4ydQxtwFwH9BbY4/LIvBEyF5RIF8iG+oC/K7xEUfLEI98EVnsA28/MCQkPIDmLMIDOCDOu1fXZGMVrgJu19gbZCKuJTek62mV2QD4XIoFZT+5o10a2ylRA6wCLtXYp8uikUv6Webr1uoOdIwS4HiNbS/wFLmnZuCgx9Y+hVdhBeBwjW1+BF9uFvBqFiDGDW3a0Cus+gADPLYWVB7PpiaJn5YYZjMigles6W2NskJH0gN1RZ1EJcyWJnvi0hpUbSQK9dRwaDGIqtIGeLbG9o3lnveCT2YmCogVPqvwdpOIKB2A7TU2W+XCiQEZkSggTvGxl8m0NNc2wDKNrcXCF5mASoUFaQYw2xK8Iv4vyvtpmsTxGQHsLPPQLp9frI+FYftyiPY1liAeBs5DZYNS/XgjgTXpApwq4Gaj0k86DbK4YISBmOlwjreaw+8CzvEDJa7bojAATwU+QtUQSg0Wlr4WFwxT2Z4Ta1GZ9Md8rlcDY00ADpFfZViID7/D8oJxrCACPCIjQ6elqOK8ryM9GPg64AM+B1YAW1BJ0r9M/aaQC0YYiAWWne0FQFf0dZnngdsgOaHaXVySLj43XSY3zCRVNclSz9NpTgQRywfAVRr7WcDWmKaxDl4TKuU+LkN4kyOEF1XEMk5GmFf3eOfAKcD5moY/ypy4OsMHeTjDBSPMcF5o8X4NPs70eKAoMYSLJIDuoOl5AwRiJroJWIIq1BwM8DcLDFyPpoAESTEqN/m0aVYlQF1RtRPviB2ZWEQeRJ//Gm0BHqhttieTutJVgkrGBu0FbEbtvmoMgNjLErxEL3yH5L01oxIA79O8aTVqj7ENmWSpGw1DwhZUJTBIf1ieGlZoAFbGxG3pESLIjkolBsMXaVNC9qWrnZTFZJh69SV283v5oHrNlNA9JvGfV0scL+3cm1Q7iaFPKNY6XimTD0fFwuWaRrscqyR11Hgqh2IkZ5gPy7LtdLRKNX7gnzHgkMdYGDIx0FZUrrHVxVBHBLzDup/jlaSrNbbdMWCn5sIAxyspsrlZY18TQ3/mYoxjdpQmkFx8OgKsjAHvat4wlFZZVyce1diWA80x4DOf7Ma8LD+kaYhmGvLZ0ovoa0LP0mpZ1qXXq4Fzs/igiSRBY8BrH3bq0Ca6HlWt82od6iTBfyn9Lj6+Xx2q2nYwSz3Q9FhrE/ZSVX66BPjU51q/RLCR6IEH0KfCe8sQL85SmNRo+Ioa3tgU8Ga2jtS8RaUdPj7gTtQRqS/yfLHogErf+6Xykk52ekOTESm67AbUrvuyPARXAtyPSvz6wduK5myx7pzIcPy3N4D6Z4w3pc0O1IbybAwrWyqSubZUOsYw4DrU4Ro/bUEd3m4wAZjoie8bPtARVNkvVwAWypxu6gqtRW0u0i6kqU4qDUEVUirasANdQ8BhoVSbizai/uRmbhsEtxp1lCPwpJXpWbmBqD++uTWPQ7xm1NaVJeIomzmvIQ8bdpO0zpWozea9Aibf41WHgd9QhaJtqAPia4FfQnv/7l98M5P79zYH0AF0AB1AJwfQAXQAHUCnNPTvAKemiFU6nb96AAAAAElFTkSuQmCC);\n  background-repeat: no-repeat;\n  background-size: 100px;\n  background-position: center;\n  background-color: rgba(230, 230, 230, 0.1);\n  border: 1px dotted #eee;\n  cursor: pointer;\n  box-sizing: border-box;\n  width: 100%;\n  min-height: 180px;\n}\n.jremove {\n  opacity: 0.2;\n  filter: alpha(opacity=20);\n}\n/** Animations **/\n.fade-in {\n  animation: fade-in 2s forwards;\n}\n.fade-out {\n  animation: fade-out 1s forwards;\n}\n.slide-left-in {\n  animation: slide-left-in 0.4s forwards;\n}\n.slide-left-out {\n  animation: slide-left-out 0.4s forwards;\n}\n.slide-right-in {\n  animation: slide-right-in 0.4s forwards;\n}\n.slide-right-out {\n  animation: slide-right-out 0.4s forwards;\n}\n.slide-top-in {\n  animation: slide-top-in 0.4s forwards;\n}\n.slide-top-out {\n  animation: slide-top-out 0.2s forwards;\n}\n.slide-bottom-in {\n  animation: slide-bottom-in 0.4s forwards;\n}\n.slide-bottom-out {\n  animation: slide-bottom-out 0.1s forwards;\n}\n/** Fadein and Fadeout **/\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 100;\n  }\n}\n@-webkit-keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 100;\n  }\n}\n@keyframes fade-out {\n  0% {\n    opacity: 100;\n  }\n\n  100% {\n    opacity: 0;\n  }\n}\n@-webkit-keyframes fade-out {\n  0% {\n    opacity: 100;\n  }\n\n  100% {\n    opacity: 0;\n  }\n}\n/** Keyframes Left to Right **/\n@keyframes slide-left-in {\n  0% {\n    transform: translateX(-100%);\n  }\n\n  100% {\n    transform: translateX(0%);\n  }\n}\n@-webkit-keyframes slide-left-in {\n  0% {\n    transform: translateX(-100%);\n  }\n\n  100% {\n    -webkit-transform: translateX(0%);\n  }\n}\n@keyframes slide-left-out {\n  0% {\n    transform: translateX(0%);\n  }\n\n  100% {\n    transform: translateX(-100%);\n  }\n}\n@-webkit-keyframes slide-left-out {\n  0% {\n    -webkit-transform: translateX(0%);\n  }\n\n  100% {\n    -webkit-transform: translateX(-100%);\n  }\n}\n/** Keyframes Right to Left **/\n@keyframes slide-right-in {\n  0% {\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(0%);\n  }\n}\n@-webkit-keyframes slide-right-in {\n  0% {\n    transform: translateX(100%);\n  }\n\n  100% {\n    -webkit-transform: translateX(0%);\n  }\n}\n@keyframes slide-right-out {\n  0% {\n    transform: translateX(0%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n}\n@-webkit-keyframes slide-right-out {\n  0% {\n    -webkit-transform: translateX(0%);\n  }\n\n  100% {\n    -webkit-transform: translateX(100%);\n  }\n}\n/** Keyframes Top to Bottom **/\n@keyframes slide-top-in {\n  0% {\n    transform: translateY(-100%);\n  }\n\n  100% {\n    transform: translateY(0%);\n  }\n}\n@-webkit-keyframes slide-top-in {\n  0% {\n    transform: translateY(-100%);\n  }\n\n  100% {\n    -webkit-transform: translateY(0%);\n  }\n}\n@keyframes slide-top-out {\n  0% {\n    transform: translateY(0%);\n  }\n\n  100% {\n    transform: translateY(-100%);\n  }\n}\n@-webkit-keyframes slide-top-out {\n  0% {\n    -webkit-transform: translateY(0%);\n  }\n\n  100% {\n    -webkit-transform: translateY(-100%);\n  }\n}\n/** Keyframes Bottom to Top **/\n@keyframes slide-bottom-in {\n  0% {\n    transform: translateY(100%);\n  }\n\n  100% {\n    transform: translateY(0%);\n  }\n}\n@-webkit-keyframes slide-bottom-in {\n  0% {\n    transform: translateY(100%);\n  }\n\n  100% {\n    -webkit-transform: translateY(0%);\n  }\n}\n@keyframes slide-bottom-out {\n  0% {\n    transform: translateY(0%);\n  }\n\n  100% {\n    transform: translateY(100%);\n  }\n}\n@-webkit-keyframes slide-bottom-out {\n  0% {\n    -webkit-transform: translateY(0%);\n  }\n\n  100% {\n    -webkit-transform: translateY(100%);\n  }\n}\n@supports (-webkit-overflow-scrolling: touch) {\n  .app .options input:checked:before {\n    top: -12px;\n  }\n}\n@-webkit-keyframes spin {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n\n  to {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n.unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.jbutton {\n  padding: 4px;\n  padding-left: 10px;\n  padding-right: 20px;\n  border: 1px solid #ddd;\n  display: inline-flex;\n  border-radius: 4px;\n  cursor: pointer;\n  line-height: 24px;\n  -webkit-font-smoothing: antialiased;\n}\n.jbutton.blue {\n  border: 1px solid transparent;\n  color: #fff;\n  background-color: #1a73e8;\n}\n.jbutton::before {\n  content: attr(data-icon);\n  width: 24px;\n  height: 24px;\n  font-size: 24px;\n  line-height: 24px;\n  font-family: 'Material icons';\n  color: #999;\n  margin-right: 2px;\n}\n.jbutton.blue::before {\n  color: #fff;\n}\n.jbutton:hover {\n  background-color: #eee;\n}\n.jbutton.blue:hover {\n  background-color: #1a73e8;\n  opacity: 0.8;\n}\n/**\n * Date & Datetime picker v1.0.1\n * Author: paul.hodel@gmail.com\n * https://github.com/paulhodel/jtools\n */\n.jcalendar {\n  position: relative;\n  z-index: 9000;\n  display: none;\n  box-sizing: border-box;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n  -webkit-tap-highlight-color: transparent;\n  min-width: 280px;\n}\n.jcalendar-focus {\n  display: block;\n}\n.jcalendar-backdrop {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  z-index: 9000;\n  min-width: 100%;\n  min-height: 100%;\n  background-color: rgba(0,0,0,0.5);\n  border: 0px;\n  padding: 0px;\n  display: none;\n}\n.jcalendar-container {\n  position: relative;\n  box-sizing: border-box;\n}\n.jcalendar-content {\n  position: absolute;\n  z-index: 9001;\n  -webkit-box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  -moz-box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  background-color: #fff;\n}\n.jcalendar-table > table {\n  width: 100%;\n  background-color: #fff;\n}\n.jcalendar-table > table > tbody td {\n  box-sizing: border-box;\n  cursor: pointer;\n  padding: 9px;\n  font-size: 0.9em;\n}\n.jcalendar-table > table > thead {\n  cursor: pointer;\n}\n.jcalendar-header {\n  text-align: center;\n}\n.jcalendar-header span {\n  margin-right: 4px;\n  font-size: 1.1em;\n  font-weight: bold;\n}\n.jcalendar-prev {\n  cursor: pointer;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z' fill='%23000' /%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3C/svg%3E\");\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.jcalendar-next {\n  cursor: pointer;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z' fill='%23000' /%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3C/svg%3E\");\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.jcalendar-weekday {\n  font-weight: 600;\n  background-color: #fcfcfc;\n  padding: 14px;\n}\n.jcalendar thead td {\n  padding: 10px;\n  height: 40px;\n}\n.jcalendar tfoot td {\n  padding: 10px;\n}\n.jcalendar-months td,\n.jcalendar-years td {\n  height: 24px;\n}\n.jcalendar-input {\n  padding-right: 18px;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='gray'%3E%3Cpath d='M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z'/%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3C/svg%3E\");\n  background-position: top 50% right 5px;\n  background-repeat: no-repeat;\n  box-sizing: border-box;\n}\n.jcalendar-done {\n  -webkit-box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  -moz-box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\n  background-color: #fff;\n}\n.jcalendar-update {\n  border: 1px solid #ccc;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 5px;\n  width: 100%;\n}\n.jcalendar select {\n  width: 55px;\n  display: inline-block;\n  border: 0px;\n  padding: 4px;\n  text-align: center;\n  font-size: 1.1em;\n  user-select: none;\n  margin-right: 10px;\n}\n.jcalendar select:first-child {\n  margin-right: 2px;\n}\n.jcalendar-selected {\n  background-color: #eee;\n}\n.jcalendar-reset,\n.jcalendar-confirm {\n  text-transform: uppercase;\n  cursor: pointer;\n  color: var(--active-color);\n}\n.jcalendar-controls {\n  padding: 15px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: middle;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-flow: row wrap;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #ddd;\n}\n.jcalendar-controls div {\n  font-weight: bold;\n}\n.jcalendar-fullsize {\n  position: fixed;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n}\n.jcalendar-fullsize .jcalendar-content {\n  position: fixed;\n  width: 100%;\n  left: 0px;\n  bottom: 0px;\n}\n.jcalendar-focus.jcalendar-fullsize .jcalendar-backdrop {\n  display: block;\n}\n.jcalendar-sunday {\n  color: red;\n}\n.jcalendar-disabled {\n  color: #ccc;\n}\n.jcolor {\n  position: absolute;\n  display: none;\n  outline: none;\n}\n.jcolor-content {\n  position: absolute;\n  left: 0px;\n  z-index: 9000;\n  user-select: none;\n  -webkit-font-smoothing: antialiased;\n  font-size: .875rem;\n  letter-spacing: .2px;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);\n  box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);\n  background-color: #fff;\n  box-sizing: border-box;\n}\n.jcolor-content table {\n  padding: 7px;\n  box-sizing: border-box;\n}\n.jcolor-focus {\n  display: block;\n}\n.jcolor table {\n  width: 100%;\n  height: 100%;\n}\n.jcolor td {\n  border: 2px solid #fff;\n}\n.jcolor-selected {\n  border: 2px solid #000 !important;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: 0 0;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z' fill='white'/%3E%3C/svg%3E\");\n}\n.jcolor-fullscreen {\n  position: fixed;\n  bottom: 0px;\n  width: 100%;\n  max-height: 250px;\n  border-radius: 0px;\n  box-sizing: border-box;\n}\n.jcolor-close {\n  display: none;\n  font-size: 1em;\n  color: var(--active-color);\n  text-transform: uppercase;\n  text-align: right;\n  padding: 15px;\n  font-weight: bold;\n  -webkit-box-shadow: 1px 0px 1px 0px rgba(0,0,0,0.39);\n  -moz-box-shadow: 1px 0px 1px 0px rgba(0,0,0,0.39);\n  box-shadow: 1px 0px 1px 0px rgba(0,0,0,0.39);\n  width: 100%;\n  box-sizing: border-box;\n}\n.jcolor-fullscreen .jcolor-close {\n  display: block;\n}\n.jcolor-backdrop {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  min-width: 100%;\n  min-height: 100%;\n  background-color: rgba(0,0,0,0.5);\n  border: 0px;\n  padding: 0px;\n  z-index: 8000;\n  display: none;\n  -webkit-touch-callout: none;\n  /* iOS Safari */\n  -webkit-user-select: none;\n  /* Safari */\n  -khtml-user-select: none;\n  /* Konqueror HTML */\n  -moz-user-select: none;\n  /* Firefox */\n  -ms-user-select: none;\n  /* Internet Explorer/Edge */\n  user-select: none;\n  /* Non-prefixed version, currently\r\n                                  supported by Chrome and Opera */\n}\n/**\r\n * Contextmenu v1.0.1\r\n * Author: paul.hodel@gmail.com\r\n * https://github.com/paulhodel/jsuites\r\n */\n.jcontextmenu {\n  position: fixed;\n  z-index: 10000;\n  background: #fff;\n  color: #555;\n  font-size: 11px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  -webkit-box-shadow: 2px 2px 2px 0px rgba(143, 144, 145, 1);\n  -moz-box-shadow: 2px 2px 2px 0px rgba(143, 144, 145, 1);\n  box-shadow: 2px 2px 2px 0px rgba(143, 144, 145, 1);\n  border: 1px solid #C6C6C6;\n  padding: 0px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  margin: 0px;\n  outline: none;\n  display: none;\n}\n.jcontextmenu.jcontextmenu-focus {\n  display: inline-block;\n}\n.jcontextmenu > div {\n  box-sizing: border-box;\n  display: block;\n  padding: 8px 8px 8px 28px;\n  width: 250px;\n  position: relative;\n  cursor: default;\n  font-size: 11px;\n  font-family: sans-serif;\n}\n.jcontextmenu > div a {\n  color: #555;\n  text-decoration: none;\n}\n.jcontextmenu > div span {\n  float: right;\n  margin-right: 10px;\n}\n.jcontextmenu .contextmenu-disabled {\n  color: #a1a192;\n}\n.jcontextmenu > div:not(.contextmenu-line):hover {\n  background: #ebebeb;\n}\n.jcontextmenu > div.contextmenu-line {\n  border-top: 1px solid #e9e9e9;\n  margin-top: 5px;\n  padding: 2px;\n}\n.jcontextmenu hr {\n  border: 1px solid #e9e9e9;\n  border-bottom: 0;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n/**\r\n * Dialog v1.0.1\r\n * Author: paul.hodel@gmail.com\r\n * https://github.com/paulhodel/jtools\r\n */\n.jdialog {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  min-height: 100%;\n  z-index: 10000;\n  background-color: rgba(0,0,0,0.5);\n  -webkit-transition-duration: .1s;\n  transition-duration: .1s;\n  display: flex;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  align-items: center;\n}\n.jdialog .jdialog-container {\n  width: 100%;\n  max-width: 280px;\n  box-sizing: border-box;\n  margin: 0 auto;\n  vertical-align: middle;\n  background-color: #fff;\n  border-radius: 10px;\n  opacity: 0;\n  transition: opacity .2s;\n  -webkit-transition: opacity .2s;\n}\n.jdialog .jdialog-header {\n  padding: 10px;\n  text-align: center;\n}\n.jdialog .jdialog-header .jdialog-title {\n  font-size: 1em;\n  font-weight: bold;\n  padding: 8px;\n}\n.jdialog .jdialog-header .jdialog-message {\n  padding: 4px;\n}\n.jdialog .jdialog-footer {\n  border-top: 1px solid #ccc;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: stretch;\n  align-items: center;\n  text-align: center;\n}\n.jdialog .jdialog-footer > div {\n  padding: 4px;\n  border-left: 1px solid #ccc;\n  text-align: center;\n  width: 100%;\n}\n.jdialog .jdialog-footer > div:first-child {\n  border-left: 0px;\n}\n.jdialog .jdialog-footer input {\n  border: 0px;\n  margin: 0px;\n  background-color: transparent;\n  color: var(--active-color);\n  width: 100%;\n  outline: none;\n}\n/**\n * (c) 2013 jDropdown\n * http://www.github.com/paulhodel/jdropdown\n *\n * @author: Paul Hodel <paul.hodel@gmail.com>\n * @description: Custom dropdowns\n */\n.jdropdown {\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  box-sizing: border-box;\n  background: #fff;\n  -webkit-tap-highlight-color: transparent;\n  display: inline-block;\n}\n.jdropdown-header::placeholder {\n  color: #000;\n}\n.jdropdown-backdrop {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  min-width: 100%;\n  min-height: 100%;\n  background-color: rgba(0,0,0,0.5);\n  border: 0px;\n  padding: 0px;\n  z-index: 8000;\n  display: none;\n}\n.jdropdown-focus {\n  position: relative;\n}\n.jdropdown-focus .jdropdown-container {\n  transform: translate3d(0,0,0);\n}\n.jdropdown-focus .jdropdown-header {\n  outline: auto 5px -webkit-focus-ring-color;\n}\n.jdropdown-container-header {\n  padding: 0px;\n  margin: 0px;\n  position: relative;\n}\n.jdropdown-header {\n  width: 100%;\n  appearance: none;\n  background-repeat: no-repeat;\n  background-position: top 50% right 5px;\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M7 10l5 5 5-5H7z' fill='gray'/%3E%3C/svg%3E\");\n  text-overflow: ellipsis;\n  cursor: pointer;\n  box-sizing: border-box;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  padding-right: 24px;\n}\n.jdropdown-insert-button {\n  font-size: 1.4em;\n  text-transform: uppercase;\n  position: absolute;\n  right: 30px;\n  top: 4px;\n  display: none;\n}\n.jdropdown-container {\n  min-width: inherit;\n  transform: translate3d(-10000px,0,0);\n  position: absolute;\n  z-index: 9001;\n}\n.jdropdown-close {\n  display: none;\n  font-size: 1em;\n  color: var(--active-color);\n  text-transform: uppercase;\n  text-align: right;\n  padding: 15px;\n  font-weight: bold;\n}\n.jdropdown-content {\n  min-width: inherit;\n  margin: 0px;\n  box-sizing: border-box;\n}\n\n.jdropdown-item {\n  white-space: nowrap;\n  text-align: left;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n  color: #000;\n  display: flex;\n  align-items: center;\n}\n.jdropdown-image {\n  margin-right: 10px;\n  width: 32px;\n  height: 32px;\n  border-radius: 20px;\n}\n.jdropdown-image-small {\n  width: 24px;\n  height: 24px;\n}\n.jdropdown-title {\n  font-size: 0.7em;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n  display: block;\n}\n/** Default visual **/\n.jdropdown-default .jdropdown-header {\n  border: 1px solid #ccc;\n  padding: 5px;\n  padding-left: 10px;\n  padding-right: 16px;\n}\n.jdropdown-default .jdropdown-container {\n  background-color: #fff;\n}\n.jdropdown-default.jdropdown-focus.jdropdown-insert .jdropdown-header {\n  padding-right: 50px;\n}\n.jdropdown-default.jdropdown-focus.jdropdown-insert .jdropdown-insert-button {\n  display: block;\n}\n.jdropdown-default .jdropdown-content {\n  min-width: inherit;\n  border: 1px solid #8fb1e3;\n  margin: 0px;\n  background-color: #fff;\n  box-sizing: border-box;\n  min-height: 10px;\n  max-height: 215px;\n  overflow-y: auto;\n}\n.jdropdown-default .jdropdown-item {\n  padding: 4px;\n  padding-left: 8px;\n  padding-right: 40px;\n}\n.jdropdown-default .jdropdown-item:hover {\n  background-color: #1f93ff;\n  color: #fff;\n}\n.jdropdown-default .jdropdown-cursor {\n  background-color: #1f93ff;\n  color: #fff;\n}\n.jdropdown-default .jdropdown-selected {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiAvPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiIGZpbGw9IndoaXRlIiAvPjwvc3ZnPgo=');\n  background-repeat: no-repeat;\n  background-position: top 50% right 5px;\n  background-color: #1f93ff;\n  color: #fff;\n}\n.jdropdown-default .jdropdown-group {\n  margin-top: 5px;\n}\n.jdropdown-default .jdropdown-group .jdropdown-item {\n  padding-left: 16px;\n}\n.jdropdown-default .jdropdown-group-name {\n  padding-left: 8px;\n  font-weight: bold;\n}\n/** Default render for mobile **/\n.jdropdown-picker.jdropdown-focus .jdropdown-header {\n  outline: none;\n}\n.jdropdown-picker.jdropdown-focus .jdropdown-backdrop {\n  display: block;\n}\n.jdropdown-picker .jdropdown-container {\n  position: fixed;\n  bottom: 0px;\n  left: 0px;\n  border-bottom: 1px solid #e6e6e8;\n  width: 100%;\n  background-color: #fff;\n  box-sizing: border-box;\n}\n.jdropdown-picker .jdropdown-close {\n  -webkit-box-shadow: 0px -1px 5px 0px rgba(0,0,0,0.39);\n  -moz-box-shadow: 0px -1px 5px 0px rgba(0,0,0,0.39);\n  box-shadow: 0px -1px 5px 0px rgba(0,0,0,0.39);\n  background-color: #fff;\n  display: block;\n}\n.jdropdown-picker .jdropdown-content {\n  overflow-y: scroll;\n  height: 280px;\n  background-color: #fafafa;\n  border-top: 1px solid #e6e6e8;\n}\n.jdropdown-picker .jdropdown-group-name {\n  font-size: 1em;\n  text-transform: uppercase;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  display: block;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 20px;\n  padding-right: 20px;\n  text-align: center;\n  font-weight: bold;\n}\n.jdropdown-picker .jdropdown-item {\n  font-size: 1em;\n  text-transform: uppercase;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 20px;\n  padding-right: 20px;\n}\n.jdropdown-picker .jdropdown-selected {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiAvPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiIGZpbGw9IndoaXRlIiAvPjwvc3ZnPgo=');\n  background-repeat: no-repeat;\n  background-position: top 50% right 15px;\n  background-color: #1f93ff;\n  color: #fff;\n}\n.jdropdown-picker .jdropdown-cursor {\n  background-color: #1f93ff;\n  color: #fff;\n}\n/** Default render for mobile searchbar **/\n.jdropdown-searchbar.jdropdown-focus {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  background-color: #fafafa;\n  padding: 0px;\n  z-index: 9001;\n  overflow-y: scroll;\n}\n.jdropdown-searchbar.jdropdown-focus .jdropdown-container-header {\n  padding: 10px;\n  background-color: #fff;\n  box-shadow: 0 1px 2px rgba(0,0,0,.1);\n}\n.jdropdown-searchbar.jdropdown-focus .jdropdown-header {\n  border: 0px;\n  background-repeat: no-repeat;\n  background-position-x: 0%;\n  background-position-y: 40%;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHoiIGZpbGw9IiNlNmU2ZTgiLz48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PC9zdmc+);\n  padding-left: 30px !important;\n  padding-right: 60px !important;\n  outline: none;\n}\n.jdropdown-searchbar.jdropdown-focus .jdropdown-close {\n  display: block;\n}\n.jdropdown-searchbar .jdropdown-container {\n  width: 100%;\n}\n.jdropdown-searchbar .jdropdown-close {\n  position: fixed;\n  top: 0px;\n  right: 0px;\n}\n.jdropdown-searchbar .jdropdown-content {\n  margin-top: 10px;\n}\n.jdropdown-searchbar .jdropdown-group {\n  margin-top: 10px;\n  margin-bottom: 15px;\n  background-color: #fff;\n}\n.jdropdown-searchbar .jdropdown-group-name {\n  border-top: 1px solid #e6e6e8;\n  border-bottom: 1px solid #e6e6e8;\n  padding: 10px;\n  padding-left: 12px;\n  font-weight: bold;\n}\n.jdropdown-searchbar .jdropdown-group-arrow {\n  float: right;\n  width: 24px;\n  height: 24px;\n  background-repeat: no-repeat;\n}\n.jdropdown-searchbar .jdropdown-group-arrow-down {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNy40MSA4LjU5TDEyIDEzLjE3bDQuNTktNC41OEwxOCAxMGwtNiA2LTYtNiAxLjQxLTEuNDF6Ii8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgwVjB6Ii8+PC9zdmc+);\n}\n.jdropdown-searchbar .jdropdown-group-arrow-up {\n  background-image: url(data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTcuNDEgMTUuNDFMMTIgMTAuODNsNC41OSA0LjU4TDE4IDE0bC02LTYtNiA2eiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=);\n}\n.jdropdown-searchbar .jdropdown-item {\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 15px;\n  padding-right: 40px;\n  background-color: #fff;\n  font-size: 0.9em;\n}\n.jdropdown-searchbar .jdropdown-description {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: calc(100% - 20px);\n}\n.jdropdown-searchbar .jdropdown-content > .jdropdown-item:first-child {\n  border-top: 1px solid #e6e6e8;\n}\n.jdropdown-searchbar .jdropdown-selected {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTYuMTdMNC44MyAxMmwtMS40MiAxLjQxTDkgMTkgMjEgN2wtMS40MS0xLjQxeiIgZmlsbD0iIzAwN2FmZiIvPjwvc3ZnPg==');\n  background-repeat: no-repeat;\n  background-position: top 50% right 15px;\n}\n/** List render **/\n\n.jdropdown-list .jdropdown-container {\n  display: block;\n}\n.jdropdown-list .jdropdown-header {\n  display: none;\n}\n.jdropdown-list .jdropdown-group {\n  background-color: #fff;\n}\n.jdropdown-list .jdropdown-group-name {\n  border-bottom: 1px solid #e6e6e8;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  font-weight: bold;\n}\n.jdropdown-list .jdropdown-item {\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 10px;\n  padding-right: 40px;\n  background-color: #fff;\n}\n.jdropdown-list .jdropdown-selected {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTYuMTdMNC44MyAxMmwtMS40MiAxLjQxTDkgMTkgMjEgN2wtMS40MS0xLjQxeiIgZmlsbD0iIzAwN2FmZiIvPjwvc3ZnPg==');\n  background-repeat: no-repeat;\n  background-position: top 50% right 10px;\n}\n@media only screen and (max-device-width : 800px) {\n  .jdropdown-list {\n    width: 100% !important;\n    border: 0px;\n    padding: 0px;\n  }\n\n  .jdropdown-list .jdropdown-container {\n    min-width: 100%;\n  }\n}\n.app .jdropdown-item {\n  text-transform: uppercase;\n}\n/**\r\n * (c) jTools Text Editor\r\n * https://github.com/paulhodel/jtools\r\n *\r\n * @author: Paul Hodel <paul.hodel@gmail.com>\r\n * @description: Inline richtext editor\r\n */\n.jeditor-container {\n  border: 1px solid #ccc;\n}\n.jeditor-dragging {\n  border: 1px dashed #000;\n}\n.jeditor-container.jeditor-padding {\n  padding: 10px;\n}\n.jeditor {\n  outline: none;\n  word-break: break-word;\n}\n.jeditor-container.jeditor-padding .jeditor {\n  min-height: 120px;\n  margin-bottom: 10px;\n  padding: 10px;\n}\n.jeditor-toolbar {\n  cursor: pointer;\n  display: -webkit-inline-box;\n  display: -webkit-inline-flex;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -webkit-align-items: center;\n  align-items: center;\n  border: none;\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n  -webkit-box-shadow: 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12), 0 2px 4px -1px rgba(0,0,0,0.2);\n  box-shadow: 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12), 0 2px 4px -1px rgba(0,0,0,0.2);\n  margin: 0px;\n  margin-bottom: 5px;\n  padding: 5px;\n  white-space: nowrap;\n  border-radius: 2px;\n}\n.jeditor-toolbar .jeditor-toolbar-group {\n  background-color: #f3f3f3;\n}\n.jeditor-toolbar div {\n  padding: 4px;\n}\n.jeditor-toolbar div.jeditor-toolbar-button {\n  padding-left: 20px;\n  padding-right: 20px;\n}\n.jeditor-toolbar div {\n  -webkit-user-select: none;\n  /* Chrome all / Safari all */\n  -moz-user-select: none;\n  /* Firefox all */\n  -ms-user-select: none;\n  /* IE 10+ */\n  user-select: none;\n  /* Likely future */\n}\n.jeditor-toolbar div i {\n  display: block;\n  font-size: 20px;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  color: #777;\n}\n.jeditor-toolbar select {\n  border: 0px;\n  background-color: transparent;\n  padding: 0px;\n  padding-left: 5px;\n  padding-right: 5px;\n  display: block;\n  height: 32px;\n  outline: none;\n  border-radius: 4px;\n  margin: 1px;\n}\n.jeditor-toolbar .jtoolbar-divisor {\n  width: 2px;\n  height: 28px;\n  padding: 0px;\n  margin: 4px;\n  background-color: #f2f2f2;\n}\n.jeditor-toolbar select option {\n  background-color: #fff;\n  padding: 20px;\n}\n.jeditor-toolbar div:hover,\n.toolbar select:hover {\n  background-color: #f2f2f2;\n  border-radius: 2px;\n}\n.jeditor-toolbar div:hover i {\n  color: #222;\n}\n.jeditor-toolbar div.selected {\n  background-color: #cecece;\n}\n.jeditor-thumbs {\n  display: inline-block;\n  margin-right: 5px;\n}\n.jeditor-thumbs-container {\n  margin-top: 15px;\n}\n.jeditor-thumbs .close {\n  position: absolute;\n  height: 1px;\n}\n.jeditor-thumbs .close i {\n  color: #fff;\n  text-shadow: 0px 0px 2px #000;\n  position: relative;\n  top: 5px;\n  left: 72px;\n}\n.jeditor-thumbs img {\n  border: 1px solid #eee;\n  width: 100px;\n  height: 100px;\n}\n.jeditor-users {\n  position: absolute;\n  border: 1px solid #ccc;\n  background-color: #fff;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  max-height: 220px;\n  overflow-y: scroll;\n}\n.jeditor-users > div {\n  display: flex;\n  align-items: center;\n  min-width: 220px;\n  padding: 10px;\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n.jeditor-users > div:hover {\n  background-color: #efefef;\n}\n.jeditor-users > div img {\n  width: 24px;\n  height: 24px;\n  border-radius: 12px;\n  margin-right: 5px;\n}\n/** Snippet **/\n.snippet {\n  margin-top: 15px;\n  cursor: pointer;\n  border: 1px solid #eee;\n  position: relative;\n}\n.snippet:focus {\n  outline: none;\n}\n.snippet img {\n  width: 25%;\n  max-width: 120px;\n  float: left;\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n.snippet .snippet-title {\n  margin-top: 15px;\n  font-size: 1.4em;\n}\n.snippet .snippet-description {\n  margin-top: 5px;\n  font-size: 1em;\n}\n.snippet .snippet-host {\n  margin-top: 10px;\n  margin-bottom: 10px;\n  text-transform: uppercase;\n  font-size: 0.8em;\n  color: #777;\n  text-align: right;\n}\n.snippet .snippet-url {\n  display: none;\n}\n.jeditor .snippet:after {\n  content: '';\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 14px;\n  font-size: 24px;\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n  text-shadow: 0px 0px 5px #fff;\n}\n.snippet div,\n.snippet img {\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n  -khtml-user-drag: none;\n  -moz-user-drag: none;\n  -o-user-drag: none;\n}\n.jeditor img {\n  border: 2px solid transparent;\n  box-sizing: border-box;\n}\n.jeditor img:focus {\n  border: 2px solid #0096FD;\n}\n.jeditor .pdf {\n  background-image: url(\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cpath style='fill:%23C30B15;' d='M511.344,274.266C511.77,268.231,512,262.143,512,256C512,114.615,397.385,0,256,0S0,114.615,0,256 c0,117.769,79.53,216.949,187.809,246.801L511.344,274.266z'/%3E%3Cpath style='fill:%2385080E;' d='M511.344,274.266L314.991,77.913L119.096,434.087l68.714,68.714C209.522,508.787,232.385,512,256,512 C391.243,512,501.976,407.125,511.344,274.266z'/%3E%3Cpolygon style='fill:%23FFFFFF;' points='278.328,333.913 255.711,77.913 119.096,77.913 119.096,311.652 '/%3E%3Cpolygon style='fill:%23E8E6E6;' points='392.904,311.652 392.904,155.826 337.252,133.565 314.991,77.913 255.711,77.913 256.067,333.913 '/%3E%3Cpolygon style='fill:%23FFFFFF;' points='314.991,155.826 314.991,77.913 392.904,155.826 '/%3E%3Crect x='119.096' y='311.652' style='fill:%23FC0F1A;' width='273.809' height='122.435'/%3E%3Cg%3E%3Cpath style='fill:%23FFFFFF;' d='M204.871,346.387c13.547,0,21.341,6.659,21.341,18.465c0,12.412-7.795,19.601-21.341,19.601h-9.611 v14.909h-13.471v-52.975L204.871,346.387L204.871,346.387z M195.26,373.858h8.93c5.904,0,9.308-2.952,9.308-8.552 c0-5.525-3.406-8.324-9.308-8.324h-8.93V373.858z'/%3E%3Cpath style='fill:%23FFFFFF;' d='M257.928,346.387c16.649,0,28.152,10.746,28.152,26.487c0,15.666-11.655,26.488-28.683,26.488 h-22.25v-52.975H257.928z M248.619,388.615h9.611c8.249,0,14.151-6.357,14.151-15.665c0-9.384-6.205-15.817-14.757-15.817h-9.006 V388.615z'/%3E%3Cpath style='fill:%23FFFFFF;' d='M308.563,356.982v12.26h23.763v10.596h-23.763v19.525h-13.471v-52.975h39.277v10.595h-25.806 V356.982z'/%3E%3C/g%3E%3C/svg%3E%0A\");\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 60px;\n  height: 60px;\n}\n/**\r\n * (c) jLoading\r\n * https://github.com/paulhodel/jtools\r\n *\r\n * @author: Paul Hodel <paul.hodel@gmail.com>\r\n * @description: Page loading spin\r\n */\n.jloading {\n  position: fixed;\n  z-index: 10001;\n  width: 100%;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: rgba(0,0,0,0.7);\n}\n.jloading::after {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  margin-top: 50vh;\n  width: 40px;\n  height: 40px;\n  border-style: solid;\n  border-color: white;\n  border-top-color: transparent;\n  border-width: 4px;\n  border-radius: 50%;\n  -webkit-animation: spin .8s linear infinite;\n  animation: spin .8s linear infinite;\n}\n.jloading.spin {\n  background-color: transparent;\n}\n.jloading.spin::after {\n  margin: 0 auto;\n  margin-top: 80px;\n  border-color: #aaa;\n  border-top-color: transparent;\n}\n.jlogin {\n  width: 100%;\n  box-sizing: border-box;\n  margin: 0 auto;\n  vertical-align: middle;\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  font-size: 1em;\n}\n.jlogin-fullscreen {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n  z-index: 9000;\n}\n.jlogin > form {\n  max-width: 480px;\n  padding: 20px;\n  margin: 0 auto;\n}\n.jlogin > form > div {\n  margin-bottom: 10px;\n}\n.jlogin label {\n  display: block;\n}\n.jlogin > form > div > input {\n  width: 100%;\n  outline: none;\n  padding: 15px;\n  margin: 0px;\n}\n.jlogin input[type='checkbox'] {\n  float: left;\n}\n.jlogin input[type='button'] {\n  padding: 10px;\n  background-color: var(--button-color);\n  border: 1px solid var(--button-color);\n  color: #fff;\n  cursor: pointer;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.jlogin span {\n  margin: 0 auto;\n}\n.jlogin img {\n  text-align: center;\n  max-width: 220px;\n}\n.jlogin .jlogin-logo {\n  text-align: center;\n  padding: 20px;\n}\n.jlogin .captcha {\n  width: 100%;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  border: 1px solid #ccc;\n  display: block;\n}\n.jlogin .facebookButton {\n  padding: 10px;\n  background-color: var(--button-color);\n  border: 1px solid var(--button-color);\n  color: #fff;\n  text-align: center;\n  background-repeat: no-repeat;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24px' height='24px'%3E%3Cpath d='M19,3H5C3.895,3,3,3.895,3,5v14c0,1.105,0.895,2,2,2h7.621v-6.961h-2.343v-2.725h2.343V9.309 c0-2.324,1.421-3.591,3.495-3.591c0.699-0.002,1.397,0.034,2.092,0.105v2.43h-1.428c-1.13,0-1.35,0.534-1.35,1.322v1.735h2.7 l-0.351,2.725h-2.365V21H19c1.105,0,2-0.895,2-2V5C21,3.895,20.105,3,19,3z' fill='white'/%3E%3C/svg%3E%0A\");\n  background-position: 10px 40%;\n  cursor: pointer;\n}\n.jlogin .rememberButton {\n  padding: 10px;\n  display: none;\n}\n.jlogin .requestButton,\n.jlogin .cancelButton,\n.jlogin .newProfileButton {\n  padding: 20px;\n  padding-bottom: 0px;\n  text-align: center;\n  cursor: pointer;\n}\n.jlogin-captcha img {\n  min-width: 280px;\n}\n.jlogin-loading:before {\n  content: \"\";\n  display: block;\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  width: 200px;\n  height: 4px;\n  background-color: var(--button-color);\n  animation: loading 2s linear infinite;\n}\n@keyframes loading {\n  from {\n    left: -200px;\n    width: 30%;\n  }\n\n  50% {\n    width: 30%;\n  }\n\n  70% {\n    width: 70%;\n  }\n\n  80% {\n    left: 50%;\n  }\n\n  95% {\n    left: 120%;\n  }\n\n  to {\n    left: 100%;\n  }\n}\n@media only screen and (max-device-width : 800px) {\n  .jsuites * {\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n  }\n\n  html.jsuites {\n    height: 100%;\n  }\n\n  .jsuites body {\n    margin: 0px;\n    padding: 0px;\n    width: 100%;\n    height: 100%;\n    min-height: 100%;\n    line-height: 1.4;\n    font-family: -apple-system,SF UI Text,Helvetica Neue,Helvetica,Arial,sans-serif !important;\n    background-color: #fff;\n  }\n\n  .jsuites input,\n  .jsuites select,\n  .jsuites textarea,\n  .jsuites div {\n    font-family: -apple-system,SF UI Text,Helvetica Neue,Helvetica,Arial,sans-serif !important;\n  }\n}\n.japp {\n  height: 100%;\n  box-sizing: border-box;\n  overflow: scroll;\n  background-color: #fafafa;\n}\n.jwarning::before {\n  content: 'No internet connection';\n  background-color: red;\n  color: #fff;\n  padding: 2px;\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  z-index: 20000;\n  width: 100%;\n  font-size: 0.55em;\n  text-align: center;\n}\n/*\r\n.japp .activeHighLight\r\n{\r\n    color:var(--active-color);\r\n}\r\n\r\n.japp .active a, .japp .active span, .japp .active i\r\n{\r\n    color:var(--active-color);\r\n}\r\n\r\n.japp .no-padding\r\n{\r\n    padding:0px;\r\n}\r\n\r\n.japp .action\r\n{\r\n    color:var(--active-color);\r\n    cursor:pointer;\r\n}\r\n\r\n\r\n.japp i.action\r\n{\r\n    position:absolute;\r\n    right:0px;\r\n    margin-right:15px;\r\n    cursor:pointer;\r\n}\r\n*/\n.japp button {\n  border-radius: 4px;\n  width: 100%;\n  border: 1px solid var(--active-color);\n  color: var(--active-color);\n  background-color: transparent;\n  padding: 4px;\n  outline: none;\n}\n.japp button:active {\n  border: 1px solid #000;\n  color: #000;\n}\n.japp .red {\n  color: red;\n  border-color: 1px solid red;\n}\n.japp .link {\n  color: var(--active-color);\n  cursor: pointer;\n}\n.japp .uppercase {\n  text-transform: uppercase;\n}\n/** Navbar **/\n.japp .navbar {\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 500;\n  margin: 0;\n  -webkit-backface-visibility: hidden;\n  -webkit-transform: translate3d(0,0,0);\n  -webkit-box-sizing: border-box;\n  backface-visibility: hidden;\n  box-sizing: border-box;\n  transform: translate3d(0,0,0);\n  height: 44px;\n  background-color: #fff;\n  box-shadow: 0 1px 2px rgba(0,0,0,.1);\n}\n.jwarning .navbar {\n  top: 16px;\n}\n.japp .navbar-container {\n  padding: 0 8px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: middle;\n  display: flex;\n  -webkit-flex-flow: row wrap;\n  justify-content: space-between;\n  align-items: center;\n}\n.japp .navbar-container div {\n  text-align: center;\n}\n.japp .navbar-container div.title {\n  display: flex;\n}\n.japp .navbar-container div.title div {\n  line-height: 24px;\n}\n.japp .navbar-container div.icon {\n  width: 24px;\n}\n.japp .navbar-container div i {\n  display: block;\n}\n.japp .navbar-container div img {\n  height: 28px;\n  display: block;\n}\n.japp .navbar-container div.title div img {\n  border-radius: 12px;\n  width: 24px;\n  height: 24px;\n  margin-right: 6px;\n}\n.japp .navbar .icon {\n  color: var(--active-color);\n}\n.japp .title {\n  font-size: 1.2em;\n}\n.japp .block {\n  padding: 15px;\n  color: #6d6d72;\n  font-size: 0.9em;\n  box-sizing: border-box;\n}\n.japp .block-title {\n  text-transform: uppercase;\n  color: #6d6d72;\n  margin: 25px 15px 10px;\n  line-height: 17px;\n  position: relative;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  line-height: 1;\n  font-size: 0.9em;\n}\n.japp .block-strong {\n  background-color: #fff;\n  color: #000;\n}\n.japp .block-border {\n  border-top: 1px solid #ddd;\n  border-bottom: 1px solid #ddd;\n}\n.japp .block-footer {\n  text-transform: uppercase;\n  padding: 15px;\n  color: #6d6d72;\n  font-size: 0.7em;\n}\n.japp .block-collapse {\n  max-height: 100px;\n  overflow-y: hidden;\n}\n.japp .block-instruction {\n  text-transform: uppercase;\n  padding: 15px;\n  color: #6d6d72;\n  font-size: 0.7em;\n  text-align: center;\n}\n.japp .pages {\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: flex-start;\n  height: 100%;\n}\n.japp .page {\n  padding-top: 45px;\n  padding-bottom: 45px;\n  min-height: 100%;\n  min-width: 100%;\n  box-sizing: border-box;\n  overflow-y: auto;\n  /*will-change: scroll-position;\r\n    -webkit-overflow-scrolling: touch;\r\n    -webkit-transform: translateZ(0px);\r\n    -webkit-transform: translate3d(0,0,0);\r\n    -webkit-perspective: 1000;*/\n}\n.warning .page {\n  padding-top: 60px;\n}\n.japp .progressbar-container {\n  margin: 15px;\n  margin-left: 0px;\n  margin-right: 0px;\n  margin-top: 5px;\n}\n.japp .progressbar {\n  width: 100%;\n  border: 1px solid var(--active-color);\n  border-radius: 1px;\n}\n.japp .progressbar-title {\n  margin-bottom: 2px;\n  text-transform: uppercase;\n  display: flex;\n  justify-content: space-between;\n}\n.japp .progressbar div {\n  background-color: var(--active-color);\n  height: 4px;\n  width: 0%;\n}\n.japp .panel {\n  position: fixed;\n  top: 0;\n  left: 0;\n  margin: 0;\n  width: 60vw;\n  max-width: 220px;\n  height: 100vh;\n  background: #fff;\n  z-index: 1003;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  box-shadow: 0 -1px 2px rgba(0,0,0,.1);\n  padding: 4px;\n}\n.japp .panel-left {\n  -webkit-box-shadow: 0px 2px 15px -5px rgba(0, 0, 0, 0.7);\n  box-shadow: 0px 2px 15px -5px rgba(0, 0, 0, 0.7);\n}\n.japp .panel a {\n  color: var(--active-color);\n}\n/** Toolbar **/\n.japp .jtoolbar {\n  position: fixed;\n  bottom: 0;\n  margin: 0;\n  left: 0;\n  width: 100%;\n  background: #f7f7f8;\n  z-index: 500;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  box-shadow: 0 -1px 2px rgba(0,0,0,.1);\n  padding: 4px;\n}\n.japp .jtoolbar > div {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: middle;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-flow: row wrap;\n  justify-content: space-evenly;\n  align-items: center;\n  width: 100%;\n  cursor: pointer;\n}\n.japp .jtoolbar > div > div {\n  text-align: center;\n  flex: 1;\n  margin: auto;\n}\n.japp .jtoolbar a {\n  text-decoration: none;\n  display: inline-block;\n}\n.japp .jtoolbar i {\n  color: #929292;\n}\n.japp .jtoolbar span {\n  font-size: 0.7em;\n  display: block;\n  color: #929292;\n}\n.japp .jtoolbar .selected a,\n.japp .jtoolbar .selected i,\n.japp .jtoolbar .selected span {\n  color: var(--active-color);\n}\n/** Options **/\n.japp .options {\n  background-color: #fff;\n  border-top: 1px solid #e6e6e8;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 15px;\n  margin-top: 10px;\n}\n.japp .options:empty {\n  display: none;\n}\n.japp .options .option {\n  padding-top: 10px;\n  padding-bottom: 10px;\n  text-transform: uppercase;\n  font-size: 1em;\n  border-bottom: 1px solid #e6e6e8;\n  overflow-x: hidden;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: middle;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-flow: row nowrap;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: nowrap;\n}\n.japp .options .option:last-child {\n  border-bottom: 0px;\n}\n.japp .options label {\n  width: 100%;\n}\n.japp .options input[type='text'],\n.japp .options textarea {\n  outline: none;\n  border: 1px solid transparent;\n  font-size: 1em;\n  margin: 0px;\n  padding: 0px;\n  width: 100%;\n  box-sizing: border-box;\n}\n.japp .options textarea {\n  height: 100px;\n}\n.japp .options input[type='checkbox'],\n.japp .options input[type='radio'] {\n  visibility: hidden;\n}\n.japp .options input[type='checkbox'] ~ i,\n.japp .options input[type='radio'] ~ i {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTYuMTdMNC44MyAxMmwtMS40MiAxLjQxTDkgMTkgMjEgN2wtMS40MS0xLjQxeiIgZmlsbD0iIzAwN2FmZiIvPjwvc3ZnPg==');\n  background-repeat: no-repeat;\n  content: '';\n  visibility: hidden;\n  margin-right: 10px;\n  line-height: 24px;\n  width: 24px;\n  height: 24px;\n}\n.japp .options input[type='checkbox']:checked ~ i,\n.japp .options input[type='radio']:checked  ~ i {\n  visibility: visible;\n}\n.japp .options .jdropdown {\n  display: block;\n}\n.japp .options .jdropdown .jdropdown-header {\n  border: 0px;\n  border-bottom: 1px solid #e6e6e8;\n  padding: 15px;\n  text-transform: uppercase;\n}\n.japp .options .jdropdown:last-child .jdropdown-header {\n  border-bottom: 0px;\n}\n.japp .options .jdropdown-searchbar.jdropdown-focus .jdropdown-header {\n  border: 0px;\n  padding: 5px;\n}\n.japp .options .icon {\n  float: left;\n  margin-right: 10px;\n  max-width: 40px;\n  max-height: 40px;\n  border-radius: 20px;\n  color: #929292;\n}\n.japp .options .option .option-actions {\n  display: flex;\n  transform: translateX(100%);\n  width: 0px;\n}\n.japp .options .option .option-actions > div {\n  padding-right: 5px;\n}\n.japp .options .option .option-actions > div > i {\n  width: 40px;\n  height: 40px;\n  color: #fff;\n  font-size: 24px;\n  line-height: 40px;\n  text-align: center;\n  border-radius: 30px;\n  background-color: red;\n}\n.japp .options .option .option-actions.small > div > i {\n  color: #000;\n  width: 24px;\n  height: 24px;\n  font-size: 24px;\n  line-height: 24px;\n  border-radius: 24px;\n  background-color: transparent;\n}\n.japp .options .option-title {\n  display: block;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  text-transform: uppercase;\n  font-size: 1em;\n  vertical-align: center;\n}\n.japp .options .option-title::after {\n  content: '\\e313';\n  font-family: 'material icons';\n  font-size: 24px;\n  margin-right: 10px;\n  float: right;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n}\n.japp .options .option-title.selected::after {\n  content: '\\e316';\n}\n.japp .options .option-title.selected ~ div {\n  display: block;\n}\n.japp .options .option-group {\n  border-top: 1px solid #e6e6e8;\n  background-color: #fff;\n  display: none;\n}\n.japp .options .option-link:after {\n  content: '\\e315';\n  font-family: 'material icons';\n  color: var(--active-color);\n  font-size: 24px;\n  margin-right: 10px;\n  float: right;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  display: block;\n}\n.japp .options .option-header {\n  padding-left: 10px;\n  padding-right: 10px;\n  flex-grow: 10;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.japp .options .option .option-name {\n  font-size: 1em;\n  text-overflow: ellipsis;\n  width: 100%;\n  overflow: hidden;\n}\n.japp .options .option .option-small {\n  font-size: 0.7em;\n  color: #6d6d72;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  display: block;\n}\n.japp .options .option .option-image img {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  display: block;\n}\n.japp .options .option .option-image-small img {\n  width: 24px;\n  height: auto;\n  border-radius: 50px;\n  display: block;\n}\n.japp .options .option .option-image .option-badge {\n  position: absolute;\n  background-color: red;\n  color: #fff;\n  width: 16px;\n  height: 16px;\n  line-height: 16px;\n  border-radius: 16px;\n  text-align: center;\n  font-size: 7px;\n  margin: 28px;\n}\n.japp .options .option .option-image-small .option-badge {\n  position: absolute;\n  background-color: red;\n  color: #fff;\n  width: 16px;\n  height: 16px;\n  line-height: 16px;\n  border-radius: 16px;\n  text-align: center;\n  font-size: 7px;\n  margin: 12px;\n}\n.japp .options .option .option-badge.solid {\n  background-color: red;\n  color: red;\n}\n.japp .options .option .option-badge.solid-green {\n  background-color: green;\n  color: green;\n}\n.japp .options .option .option-badge:empty {\n  display: none;\n}\n.japp .options .option .option-date {\n  float: right;\n  font-size: 0.6em;\n  color: #888;\n  margin-right: 15px;\n  white-space: nowrap;\n}\n.japp .options .option .option-right {\n  margin-right: 15px;\n}\n.japp .options .option .option-badget {\n  background-color: red;\n  border-radius: 12px;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  font-size: 0.7em;\n  color: #fff;\n  text-align: center;\n}\n.japp .options .option .option-badget:empty {\n  display: none;\n}\n/** Badge **/\n.japp .jbadge {\n  position: relative;\n  display: inline-block;\n  top: -12px;\n  left: -12px;\n}\n.japp .jbadge > div {\n  background-color: red;\n  color: #fff;\n  width: 16px;\n  height: 16px;\n  line-height: 16px;\n  border-radius: 16px;\n  text-align: center;\n  font-size: 8px;\n  position: absolute;\n}\n.japp .jbadge > div:empty {\n  display: none;\n}\n/** Picker **/\n.japp .picker {\n  background-color: #fff;\n  border-top: 1px solid #e6e6e8;\n  border-bottom: 1px solid #e6e6e8;\n  padding-left: 15px;\n  margin-top: 10px;\n  position: absolute;\n  bottom: 0px;\n  width: 100%;\n  z-index: 700;\n}\n.japp .picker .picker-options {\n  -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,.2)), linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,.2));\n  -webkit-mask-size: 100% 50%;\n  -webkit-mask-repeat: no-repeat;\n  -webkit-mask-position: center bottom, top center;\n  overflow-y: scroll;\n  padding-top: 100px;\n  padding-bottom: 100px;\n}\n.japp .picker label {\n  display: block;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n.japp .picker .picker-selected {\n  border-top: 1px solid #e6e6e8;\n  border-bottom: 1px solid #e6e6e8;\n}\n.japp .picker input {\n  display: none;\n}\n/** Topsearch **/\n.japp .top-search {\n  margin: 0px;\n  padding: 10px;\n  border-bottom: 1px solid #ddd;\n}\n.japp .top-search input {\n  background-color: #e6e6e6;\n  border: 0px;\n  border-radius: 4px;\n  outline: none;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='gray'%3E%3Cpath d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: 5px center;\n  padding-left: 32px;\n  width: 100%;\n}\n.japp .searchbar-container i {\n  position: absolute;\n  margin-top: 5px;\n  margin-left: 8px;\n  color: #bbb;\n}\n/** Range **/\n.japp .range {\n  -webkit-appearance: none;\n  margin: 18px 0;\n  width: 100%;\n}\n.japp .range:focus {\n  outline: none;\n}\n.japp .range::-webkit-slider-runnable-track {\n  width: 100%;\n  height: 4px;\n  cursor: pointer;\n  animation: 0.2s;\n  background: #ccc;\n  border-radius: 1.3px;\n}\n.japp .range::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 24px;\n  height: 24px;\n  background: #fff;\n  cursor: pointer;\n  border-radius: 24px;\n  margin-top: -10px;\n  border: 0px;\n  box-shadow: 0px 1px 3px 1px #bbb;\n}\n.japp .range::-moz-range-track {\n  width: 100%;\n  cursor: pointer;\n  animation: 0.2s;\n  background: #ccc;\n  border-radius: 1.3px;\n}\n.japp .range::-moz-range-thumb {\n  width: 24px;\n  height: 24px;\n  background: #fff;\n  cursor: pointer;\n  border-radius: 24px;\n  border: 0px;\n  box-shadow: 0px 1px 3px 1px #bbb;\n}\n.japp .range::-ms-track {\n  width: 100%;\n  cursor: pointer;\n  animation: 0.2s;\n  background: transparent;\n  border-color: transparent;\n  border-width: 16px 0;\n  color: transparent;\n  border-radius: 1.3px;\n}\n.japp .range::-ms-fill-lower {\n  background: #ccc;\n  height: 5px;\n}\n.japp .range::-ms-fill-upper {\n  background: #ccc;\n  height: 5px;\n}\n.japp .range::-ms-thumb {\n  width: 24px;\n  height: 24px;\n  background: #fff;\n  cursor: pointer;\n  border-radius: 24px;\n  border: 0px;\n  box-shadow: 0px 1px 3px 1px #bbb;\n}\n.japp .range:focus::-ms-fill-lower {\n  background: #ccc;\n}\n.japp .range:focus::-ms-fill-upper {\n  background: #ccc;\n}\n/** Actionsheet **/\n.jactionsheet {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 100%;\n  z-index: 10000;\n  background-color: rgba(0,0,0,0.5);\n  -webkit-transition-duration: .2s;\n  transition-duration: .2s;\n  display: flex;\n  -ms-flex-align: baseline;\n  -webkit-align-items: baseline;\n  -webkit-box-align: baseline;\n  align-items: baseline;\n}\n.jactionsheet .jactionsheet-content {\n  width: 100%;\n  align-self: flex-end;\n}\n.jactionsheet .jactionsheet-title {\n  font-size: 1em;\n  font-weight: bold;\n  padding: 8px;\n}\n.jactionsheet .jactionsheet-message {\n  padding: 4px;\n}\n.jactionsheet .jactionsheet-group {\n  box-sizing: border-box;\n  margin: 10px;\n  background-color: #fff;\n  border-radius: 5px;\n}\n.jactionsheet .jactionsheet-group > div {\n  font-size: 1.4em;\n  font-weight: bold;\n  padding: 4px;\n  border-top: 1px solid #ccc;\n  text-align: center;\n  width: 100%;\n}\n.jactionsheet .jactionsheet-group > div:first-child {\n  border-top: 0px;\n}\n.jactionsheet .jactionsheet-group input {\n  border: 0px;\n  margin: 0px;\n  background-color: transparent;\n  color: var(--active-color);\n  width: 100%;\n  outline: none;\n  font-size: 1em;\n}\n.jactionsheet .jactionsheet-group input.jactionsheet-cancel {\n  color: red;\n}\n/** Toggle **/\n.jtoggle {\n  display: inline-block;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n}\n.jtoggle i {\n  position: relative;\n  display: inline-block;\n  margin-right: .5rem;\n  border-radius: 23px;\n  vertical-align: text-bottom;\n  transition: all 0.3s linear;\n  width: 46px !important;\n  height: 27px !important;\n  background: #e6e6e6 !important;\n  visibility: visible !important;\n}\n.jtoggle i::before {\n  content: \"\";\n  position: absolute;\n  left: 0;\n  width: 42px;\n  height: 22px;\n  background-color: #fff;\n  border-radius: 11px;\n  transform: translate3d(2px, 2px, 0) scale3d(1, 1, 1);\n  transition: all 0.25s linear;\n}\n.jtoggle i::after {\n  content: \"\";\n  position: absolute;\n  left: 0;\n  width: 22px;\n  height: 22px;\n  background-color: #fff;\n  border-radius: 11px;\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.24);\n  transform: translate3d(2px, 2px, 0);\n  transition: all 0.2s ease-in-out;\n}\n.jtoggle:active i::after {\n  width: 28px;\n  transform: translate3d(2px, 2px, 0);\n}\n.jtoggle:active input:checked + i::after {\n  transform: translate3d(16px, 2px, 0);\n}\n.jtoggle input {\n  display: none;\n}\n.jtoggle input:checked + i {\n  background-color: #4BD763 !important;\n}\n.jtoggle input:checked + i::before {\n  transform: translate3d(18px, 2px, 0) scale3d(0, 0, 0);\n}\n.jtoggle input:checked + i::after {\n  transform: translate3d(22px, 2px, 0);\n}\n/** Placeholders **/\n.japp .options input::-webkit-input-placeholder {\n  text-transform: uppercase;\n}\n.japp .options input::-moz-placeholder {\n  text-transform: uppercase;\n}\n.japp .options input:-ms-input-placeholder {\n  text-transform: uppercase;\n}\n.japp .options input:-moz-placeholder {\n  text-transform: uppercase;\n}\n::placeholder {\n  color: #cccccc;\n  opacity: 1;\n}\n:-ms-input-placeholder {\n  color: #cccccc;\n}\n::-ms-input-placeholder {\n  color: #cccccc;\n}\n::-webkit-input-placeholder {\n  color: #cccccc;\n}\n.jmodal {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  width: 60%;\n  height: 60%;\n  -webkit-box-shadow: 0 2px 10px rgba(0,0,0,.2);\n  -moz-box-shadow: 0 2px 10px rgba(0,0,0,.2);\n  border: 1px solid #ccc;\n  background-color: #fff;\n  transform: translate(-50%, -50%);\n  box-sizing: border-box;\n  padding-top: 50px;\n  z-index: 9002;\n  border-radius: 5px;\n}\n.jmodal:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  content: attr(title);\n  padding: 15px;\n  box-sizing: border-box;\n  background: #e3e3e3;\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ededed', endColorstr='#e3e3e3');\n  background: -webkit-gradient(linear, left top, left bottom, from(#ededed), to(#e3e3e3));\n  background: -moz-linear-gradient(top,  #ededed,  #e3e3e3);\n  font-size: 1.2em;\n}\n.jmodal_content {\n  padding: 20px;\n  overflow-y: auto;\n  max-height: 100%;\n}\n.jmodal.no-title {\n  padding-top: 0px;\n}\n.jmodal.no-title:before {\n  display: none;\n}\n.jmodal:after {\n  content: '';\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 14px;\n  font-size: 24px;\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n  text-shadow: 0px 0px 5px #fff;\n}\n.jmodal_fullscreen {\n  width: 100% !important;\n  height: 100% !important;\n  top: 0px;\n  left: 0px;\n  transform: none;\n  border-radius: 0px;\n}\n.jmodal_backdrop {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  min-width: 100%;\n  min-height: 100%;\n  background-color: rgba(0,0,0,0.5);\n  border: 0px;\n  padding: 0px;\n  z-index: 8000;\n  display: none;\n  -webkit-touch-callout: none;\n  /* iOS Safari */\n  -webkit-user-select: none;\n  /* Safari */\n  -khtml-user-select: none;\n  /* Konqueror HTML */\n  -moz-user-select: none;\n  /* Firefox */\n  -ms-user-select: none;\n  /* Internet Explorer/Edge */\n  user-select: none;\n  /* Non-prefixed version, currently\r\n                                  supported by Chrome and Opera */\n}\n.jnotification {\n  position: fixed;\n  z-index: 10000;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  padding: 10px;\n}\n.jnotification-container {\n  -webkit-box-shadow: 0px 2px 15px -5px rgba(0, 0, 0, 0.7);\n  box-shadow: 0px 2px 15px -5px rgba(0, 0, 0, 0.7);\n  padding: 12px;\n  border-radius: 8px;\n}\n.jnotification-close {\n  content: '';\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='gray'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  font-size: 20px;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n}\n.jnotification-title {\n  font-weight: bold;\n}\n.jnotification-header {\n  display: flex;\n  padding-bottom: 5px;\n}\n.jnotification-header:empty {\n  display: none;\n}\n.jnotification-image {\n  margin-right: 5px;\n}\n.jnotification-image:empty {\n  display: none;\n}\n.jnotification-image img {\n  width: 24px;\n}\n.jnotification-name {\n  text-transform: uppercase;\n  font-size: 0.9em;\n  flex: 1;\n  letter-spacing: 0.1em;\n}\n@media (min-width: 320px) and (max-width: 800px) {\n  .jnotification {\n    top: 0px;\n    width: 100%;\n  }\n\n  .jnotification-container {\n    background: rgba(255,255,255,0.95);\n    border: 1px solid #eee;\n  }\n}\n@media (min-width: 801px) {\n  .jnotification {\n    bottom: 0px;\n  }\n\n  .jnotification-container {\n    background-color: #000;\n    background: rgba(92,92,92,1);\n    background: linear-gradient(0deg, rgba(92,92,92,1) 0%, rgba(77,77,77,1) 100%);\n    color: #fff;\n    width: 320px;\n    margin: 30px;\n    padding: 20px;\n  }\n}\n.jnotification-header {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n  -webkit-justify-content: flex-start;\n  -ms-flex-pack: start;\n  justify-content: flex-start;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.jrating {\n  display: flex;\n}\n.jrating > div {\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z' fill='gray'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n}\n.jrating .jrating-over {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='black'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  opacity: 0.7;\n}\n.jrating .jrating-selected {\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='red'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n}\n/**\r\n * (c) Image slider\r\n * https://github.com/paulhodel/jtools\r\n *\r\n * @author: Paul Hodel <paul.hodel@gmail.com>\r\n * @description: Image Slider\r\n */\n.jslider {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.jslider-container img {\n  width: 60px;\n  margin-right: 5px;\n  margin-bottom: 5px;\n}\n.jslider-attach {\n  cursor: pointer;\n}\n.jslider-left::before {\n  position: fixed;\n  left: 10px;\n  content: 'arrow_back_ios';\n  color: #fff;\n  width: 30px;\n  height: 30px;\n  font-family: 'Material Icons';\n  font-size: 30px;\n  text-shadow: 0px 0px 0px #000;\n  text-align: center;\n}\n.jslider-right::after {\n  position: fixed;\n  right: 5px;\n  content: 'arrow_forward_ios';\n  color: #fff;\n  width: 30px;\n  height: 30px;\n  font-family: 'Material Icons';\n  font-size: 30px;\n  text-shadow: 0px 0px 0px #000;\n  text-align: center;\n}\n.jslider-close {\n  width: 24px;\n  height: 24px;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  position: fixed;\n  top: 15px;\n  right: 15px;\n  display: none;\n  cursor: pointer;\n  z-index: 3000;\n}\n.jslider-preview {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  min-height: 100%;\n  z-index: 2000;\n  margin: 0px;\n  box-sizing: border-box;\n  background-color: rgba(0,0,0,0.9);\n  -webkit-transition-duration: .4s;\n  transition-duration: .4s;\n  display: flex;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  align-items: center;\n}\n.jslider-preview img {\n  min-width: 70%;\n  max-width: 100%;\n  height: auto;\n  box-sizing: border-box;\n  margin: 0 auto;\n  vertical-align: middle;\n  display: none;\n}\n.jtabs {\n  max-width: calc(100vw - 24px);\n  position: relative;\n}\n.jtabs > .jtabs-headers {\n  display: flex;\n  overflow-x: auto;\n}\n.jtabs > .jtabs-headers > div {\n  padding: 6px;\n  padding-left: 20px;\n  padding-right: 20px;\n  margin-left: 1px;\n  margin-right: 1px;\n  margin-bottom: 1px;\n  background-color: #f1f1f1;\n  cursor: pointer;\n}\n.jtabs > .jtabs-headers > div.jtabs-selected {\n  background-color: #e8e8e8;\n  color: #000;\n}\n.jtabs > .jtabs-content > div {\n  display: none;\n}\n.jtabs > .jtabs-content > div.jtabs-selected {\n  display: block;\n}\n.jtabs > .jtabs-border {\n  position: absolute;\n  height: 2px;\n  background-color: #888;\n  transform-origin: left;\n  transition: all .2s cubic-bezier(0.4,0,0.2,1);\n  transition-property: color,left,transform;\n}\n.jtabs .jtabs-add {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z' fill='%23bbbbbb'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  cursor: pointer;\n  background-position: center;\n  background-repeat: no-repeat;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  margin: 3px;\n  margin-left: 10px;\n}\n.jtags {\n  display: flex;\n  flex-wrap: wrap;\n  -ms-flex-direction: row;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n  -ms-flex-pack: flex-start;\n  -webkit-justify-content: space-between;\n  justify-content: flex-start;\n  padding: 2px;\n  border: 1px solid #ccc;\n}\n.jtags > div {\n  padding: 3px;\n  padding-left: 10px;\n  padding-right: 22px;\n  position: relative;\n  border-radius: 1px;\n  margin: 2px;\n  display: block;\n  outline: none;\n}\n.jtags > div::after {\n  content: 'x';\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  width: 12px;\n  height: 12px;\n  cursor: pointer;\n  font-size: 11px;\n  display: none;\n}\n.jtags_label {\n  background-color: #eeeeee !important;\n}\n.jtags_label::after {\n  display: inline-block !important;\n}\n.jtags_error::after {\n  color: #fff  !important;\n}\n.jtags_error {\n  background-color: #d93025 !important;\n  color: #fff;\n}\n.jtags_search {\n  position: absolute;\n  display: none;\n  box-shadow: 0 1px 2px 0 rgba(60,64,67,0.302), 0 2px 6px 2px rgba(60,64,67,0.149);\n  border: none;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  width: 280px;\n  padding: 8px 0;\n  -webkit-box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n  -webkit-transition: opacity .218s;\n  transition: opacity .218s;\n  background: #fff;\n  border: 1px solid rgba(0,0,0,.2);\n  cursor: pointer;\n  margin: 0;\n  min-width: 300px;\n  outline: none;\n  width: auto;\n  user-select: none;\n}\n.jtags_search > div {\n  color: #333;\n  cursor: pointer;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 5px 10px;\n  user-select: none;\n  -webkit-align-items: center;\n  align-items: center;\n}\n.jtags_search > div:hover {\n  background-color: #e8eaed;\n}\n.jtags_search > div > img {\n  width: 32px;\n  height: 32px;\n  user-select: none;\n  border-radius: 16px;\n  margin-right: 2px;\n}\n.jtags_search > div > div {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: 2px;\n  max-width: 300px;\n  white-space: nowrap;\n  user-select: none;\n}\n.jtags_search .selected {\n  background-color: #e8eaed;\n}\n:root {\n  --jexcel-border-color: #000;\n}\n.jexcel_container {\n  display: inline-block;\n  padding-right: 2px;\n  box-sizing: border-box;\n  overscroll-behavior: contain;\n}\n.jexcel_container.fullscreen {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 21;\n}\n.jexcel_container.fullscreen .jexcel_content {\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n  background-color: #ffffff;\n}\n.jexcel_container.fullscreen.with-toolbar {\n  height: calc(100% - 46px);\n}\n.jexcel_content {\n  display: inline-block;\n  box-sizing: border-box;\n  padding-right: 3px;\n  padding-bottom: 3px;\n  position: relative;\n  scrollbar-width: thin;\n  scrollbar-color: #666 transparent;\n}\n@supports (-moz-appearance:none) {\n  .jexcel_content {\n    padding-right: 10px;\n  }\n}\n.jexcel_content::-webkit-scrollbar {\n  width: 5px;\n  height: 5px;\n}\n.jexcel_content::-webkit-scrollbar-track {\n  background: #eee;\n}\n.jexcel_content::-webkit-scrollbar-thumb {\n  background: #666;\n}\n.jexcel {\n  border-collapse: separate;\n  table-layout: fixed;\n  white-space: nowrap;\n  empty-cells: show;\n  border: 0px;\n  background-color: #fff;\n  width: 0;\n  border-top: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-right: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n}\n.jexcel > thead > tr > td {\n  border-top: 1px solid #ccc;\n  border-left: 1px solid #ccc;\n  border-right: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n  background-color: #f3f3f3;\n  padding: 2px;\n  cursor: pointer;\n  box-sizing: border-box;\n  overflow: hidden;\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  z-index: 2;\n}\n.with-toolbar .jexcel > thead > tr > td {\n  top: 42px;\n}\n.jexcel > thead > tr > td.dragging {\n  background-color: #fff;\n  opacity: 0.5;\n}\n.jexcel > thead > tr > td.selected {\n  background-color: #dcdcdc;\n}\n.jexcel > thead > tr > td.arrow-up {\n  background-repeat: no-repeat;\n  background-position: center right 5px;\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M7 14l5-5 5 5H7z' fill='gray'/%3E%3C/svg%3E\");\n  text-decoration: underline;\n}\n.jexcel > thead > tr > td.arrow-down {\n  background-repeat: no-repeat;\n  background-position: center right 5px;\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M7 10l5 5 5-5H7z' fill='gray'/%3E%3C/svg%3E\");\n  text-decoration: underline;\n}\n.jexcel > tbody > tr > td:first-child {\n  position: relative;\n  background-color: #f3f3f3;\n  text-align: center;\n}\n.jexcel > tbody.resizable > tr > td:first-child::before {\n  content: '\\00a0';\n  width: 100%;\n  height: 3px;\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  cursor: row-resize;\n}\n.jexcel > tbody.draggable > tr > td:first-child::after {\n  content: '\\00a0';\n  width: 3px;\n  height: 100%;\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  cursor: move;\n}\n.jexcel > tbody > tr.dragging > td {\n  background-color: #eee;\n  opacity: 0.5;\n}\n.jexcel > tbody > tr > td {\n  border-top: 1px solid #ccc;\n  border-left: 1px solid #ccc;\n  border-right: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n  padding: 4px;\n  white-space: nowrap;\n  box-sizing: border-box;\n  line-height: 1em;\n}\n.jexcel > tbody > tr > td:last-child {\n  overflow: hidden;\n}\n.jexcel > tbody > tr > td > img {\n  display: inline-block;\n  max-width: 100px;\n}\n.jexcel > tbody > tr > td.readonly {\n  color: rgba(0,0,0,0.3);\n}\n.jexcel > tbody > tr.selected > td:first-child {\n  background-color: #dcdcdc;\n}\n.jexcel > tbody > tr > td > select,\n.jexcel > tbody > tr > td > input,\n.jexcel > tbody > tr > td > textarea {\n  border: 0px;\n  border-radius: 0px;\n  outline: 0px;\n  width: 100%;\n  margin: 0px;\n  padding: 0px;\n  background-color: transparent;\n  box-sizing: border-box;\n}\n.jexcel > tbody > tr > td > textarea {\n  resize: none;\n  padding-top: 6px !important;\n}\n.jexcel > tbody > tr > td > input[type=checkbox] {\n  width: 12px;\n  margin-top: 2px;\n}\n.jexcel > tbody > tr > td > input[type=radio] {\n  width: 12px;\n  margin-top: 2px;\n}\n.jexcel > tbody > tr > td > select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  background-repeat: no-repeat;\n  background-position-x: 100%;\n  background-position-y: 40%;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSdibGFjaycgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyB3aWR0aD0nMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTTcgMTBsNSA1IDUtNXonLz48cGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8+PC9zdmc+);\n}\n.jexcel > tbody > tr > td.jexcel_dropdown {\n  background-repeat: no-repeat;\n  background-position: top 50% right 5px;\n  background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M7 10l5 5 5-5H7z' fill='lightgray'/%3E%3C/svg%3E\");\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n}\n.jexcel > tbody > tr > td.jexcel_dropdown.jexcel_comments {\n  background: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M7 10l5 5 5-5H7z' fill='lightgray'/%3E%3C/svg%3E\") top 50% right 5px no-repeat, url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFuGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTAxLTMxVDE4OjU1OjA4WiIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wMS0zMVQxODo1NTowOFoiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTAxLTMxVDE4OjU1OjA4WiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphMTlhZDJmOC1kMDI2LTI1NDItODhjOS1iZTRkYjkyMmQ0MmQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkOGI5NDUyMS00ZjEwLWQ5NDktYjUwNC0wZmU1N2I3Nzk1MDEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplMzdjYmE1ZS1hYTMwLWNkNDUtYTAyNS1lOWYxZjk2MzUzOGUiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplMzdjYmE1ZS1hYTMwLWNkNDUtYTAyNS1lOWYxZjk2MzUzOGUiIHN0RXZ0OndoZW49IjIwMTktMDEtMzFUMTg6NTU6MDhaIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmExOWFkMmY4LWQwMjYtMjU0Mi04OGM5LWJlNGRiOTIyZDQyZCIgc3RFdnQ6d2hlbj0iMjAxOS0wMS0zMVQxODo1NTowOFoiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4En6MDAAAAX0lEQVQYlX3KOw6AIBBAwS32RpJADXfx0pTET+ERZJ8F8RODFtONsG0QAoh0CSDM82dqodaBdQXnfoLZQM7gPai+wjNNE8R4pTuAYNZSKZASqL7CMy0LxNgJp30fKYUDi3+vIqb/+rUAAAAASUVORK5CYII=') top right no-repeat;\n}\n.jexcel > tbody > tr > td > .color {\n  width: 90%;\n  height: 10px;\n  margin: auto;\n}\n.jexcel > tbody > tr > td > a {\n  text-decoration: underline;\n}\n.jexcel > tbody > tr > td.highlight > a {\n  color: blue;\n  cursor: pointer;\n}\n.jexcel > tfoot > tr > td {\n  border-top: 1px solid #ccc;\n  border-left: 1px solid #ccc;\n  border-right: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n  background-color: #f3f3f3;\n  padding: 2px;\n  cursor: pointer;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.jexcel .highlight {\n  background-color: rgba(0,0,0,0.05);\n}\n.jexcel .highlight-top {\n  border-top: 1px solid #000;\n  /* var(--jexcel-border-color);*/\n  box-shadow: 0px -1px #ccc;\n}\n.jexcel .highlight-left {\n  border-left: 1px solid #000;\n  /* var(--jexcel-border-color);*/\n  box-shadow: -1px 0px #ccc;\n}\n.jexcel .highlight-right {\n  border-right: 1px solid #000;\n  /* var(--jexcel-border-color);*/\n}\n.jexcel .highlight-bottom {\n  border-bottom: 1px solid #000;\n  /* var(--jexcel-border-color);*/\n}\n.jexcel .highlight-top.highlight-left {\n  box-shadow: -1px -1px #ccc;\n  -webkit-box-shadow: -1px -1px #ccc;\n  -moz-box-shadow: -1px -1px #ccc;\n}\n.jexcel .highlight-selected {\n  background-color: rgba(0,0,0,0.0);\n}\n.jexcel .selection {\n  background-color: rgba(0,0,0,0.05);\n}\n.jexcel .selection-left {\n  border-left: 1px dotted #000;\n}\n.jexcel .selection-right {\n  border-right: 1px dotted #000;\n}\n.jexcel .selection-top {\n  border-top: 1px dotted #000;\n}\n.jexcel .selection-bottom {\n  border-bottom: 1px dotted #000;\n}\n.jexcel_corner {\n  position: absolute;\n  background-color: rgb(0, 0, 0);\n  height: 1px;\n  width: 1px;\n  border: 1px solid rgb(255, 255, 255);\n  top: -2000px;\n  left: -2000px;\n  cursor: crosshair;\n  box-sizing: initial;\n  z-index: 30;\n  padding: 2px;\n}\n.jexcel .editor {\n  outline: 0px solid transparent;\n  overflow: visible;\n  white-space: nowrap;\n  text-align: left;\n  padding: 0px;\n  box-sizing: border-box;\n  overflow: visible !important;\n}\n.jexcel .editor > input {\n  padding-left: 4px;\n}\n.jexcel .editor .jupload {\n  position: fixed;\n  top: 100%;\n  z-index: 40;\n  user-select: none;\n  -webkit-font-smoothing: antialiased;\n  font-size: .875rem;\n  letter-spacing: .2px;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);\n  box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);\n  padding: 10px;\n  background-color: #fff;\n  width: 300px;\n  min-height: 225px;\n  margin-top: 2px;\n}\n.jexcel .editor .jupload img {\n  width: 100%;\n  height: auto;\n}\n.jexcel .editor .jexcel_richtext {\n  position: fixed;\n  top: 100%;\n  z-index: 40;\n  user-select: none;\n  -webkit-font-smoothing: antialiased;\n  font-size: .875rem;\n  letter-spacing: .2px;\n  -webkit-box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);\n  box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);\n  padding: 10px;\n  background-color: #fff;\n  min-width: 280px;\n  max-width: 310px;\n  margin-top: 2px;\n  text-align: left;\n}\n.jexcel .editor .jclose:after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 10px;\n  content: 'close';\n  font-family: 'Material icons';\n  font-size: 24px;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  cursor: pointer;\n  text-shadow: 0px 0px 5px #fff;\n}\n.jexcel,\n.jexcel td,\n.jexcel_corner {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n  -khtml-user-drag: none;\n  -moz-user-drag: none;\n  -o-user-drag: none;\n  user-drag: none;\n}\n.jexcel_textarea {\n  position: absolute;\n  top: -999px;\n  left: -999px;\n  width: 1px;\n  height: 1px;\n}\n.jexcel .dragline {\n  position: absolute;\n}\n.jexcel .dragline div {\n  position: relative;\n  top: -6px;\n  height: 5px;\n  width: 22px;\n}\n.jexcel .dragline div:hover {\n  cursor: move;\n}\n.jexcel .onDrag {\n  background-color: rgba(0,0,0,0.6);\n}\n.jexcel .error {\n  border: 1px solid red;\n}\n.jexcel thead td.resizing {\n  border-right-style: dotted !important;\n  border-right-color: red !important;\n}\n.jexcel tbody tr.resizing > td {\n  border-bottom-style: dotted !important;\n  border-bottom-color: red !important;\n}\n.jexcel tbody td.resizing {\n  border-right-style: dotted !important;\n  border-right-color: red !important;\n}\n.jexcel .jdropdown-header {\n  border: 0px !important;\n  outline: none !important;\n  width: 100% !important;\n  height: 100% !important;\n  padding: 0px !important;\n  padding-left: 8px !important;\n}\n.jexcel .jdropdown-container {\n  margin-top: 1px;\n}\n.jexcel .jdropdown-container-header {\n  padding: 0px;\n  margin: 0px;\n  height: inherit;\n}\n.jexcel .jdropdown-picker {\n  border: 0px !important;\n  padding: 0px !important;\n  width: inherit;\n  height: inherit;\n}\n.jexcel .jexcel_comments {\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFuGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTAxLTMxVDE4OjU1OjA4WiIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wMS0zMVQxODo1NTowOFoiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTAxLTMxVDE4OjU1OjA4WiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphMTlhZDJmOC1kMDI2LTI1NDItODhjOS1iZTRkYjkyMmQ0MmQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkOGI5NDUyMS00ZjEwLWQ5NDktYjUwNC0wZmU1N2I3Nzk1MDEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplMzdjYmE1ZS1hYTMwLWNkNDUtYTAyNS1lOWYxZjk2MzUzOGUiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplMzdjYmE1ZS1hYTMwLWNkNDUtYTAyNS1lOWYxZjk2MzUzOGUiIHN0RXZ0OndoZW49IjIwMTktMDEtMzFUMTg6NTU6MDhaIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmExOWFkMmY4LWQwMjYtMjU0Mi04OGM5LWJlNGRiOTIyZDQyZCIgc3RFdnQ6d2hlbj0iMjAxOS0wMS0zMVQxODo1NTowOFoiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4En6MDAAAAX0lEQVQYlX3KOw6AIBBAwS32RpJADXfx0pTET+ERZJ8F8RODFtONsG0QAoh0CSDM82dqodaBdQXnfoLZQM7gPai+wjNNE8R4pTuAYNZSKZASqL7CMy0LxNgJp30fKYUDi3+vIqb/+rUAAAAASUVORK5CYII=');\n  background-repeat: no-repeat;\n  background-position: top right;\n}\n.jexcel .sp-replacer {\n  margin: 2px;\n  border: 0px;\n}\n.jexcel > thead > tr.jexcel_filter > td > input {\n  border: 0px;\n  width: 100%;\n  outline: none;\n}\n.jexcel_about {\n  float: right;\n  font-size: 0.7em;\n  padding: 2px;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  display: none;\n}\n.jexcel_about a {\n  color: #ccc;\n  text-decoration: none;\n}\n.jexcel_about img {\n  display: none;\n}\n.jexcel_filter {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 4px;\n}\n.jexcel_filter > div {\n  padding: 8px;\n  align-items: center;\n}\n.jexcel_pagination {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.jexcel_pagination > div {\n  display: flex;\n  padding: 10px;\n}\n.jexcel_pagination > div:last-child {\n  padding-right: 10px;\n  padding-top: 10px;\n}\n.jexcel_pagination > div > div {\n  text-align: center;\n  width: 36px;\n  height: 36px;\n  line-height: 34px;\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n  margin-left: 2px;\n  cursor: pointer;\n}\n.jexcel_page {\n  font-size: 0.8em;\n}\n.jexcel_page_selected {\n  font-weight: bold;\n  background-color: #f3f3f3;\n}\n.jexcel_toolbar {\n  display: flex;\n  background-color: #f3f3f3;\n  border: 1px solid #ccc;\n  padding: 4px;\n  margin: 0px 2px 4px 1px;\n  position: sticky;\n  top: 0px;\n  z-index: 21;\n}\n.jexcel_toolbar:empty {\n  display: none;\n}\n.jexcel_toolbar i.jexcel_toolbar_item {\n  width: 24px;\n  height: 24px;\n  padding: 4px;\n  cursor: pointer;\n  display: inline-block;\n}\n.jexcel_toolbar i.jexcel_toolbar_item:hover {\n  background-color: #ddd;\n}\n.jexcel_toolbar select.jexcel_toolbar_item {\n  margin-left: 2px;\n  margin-right: 2px;\n  display: inline-block;\n  border: 0px;\n  background-color: transparent;\n  padding-right: 10px;\n}\n.jexcel .dragging-left {\n  background-repeat: no-repeat;\n  background-position: top 50% left 0px;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M14 7l-5 5 5 5V7z'/%3E%3Cpath fill='none' d='M24 0v24H0V0h24z'/%3E%3C/svg%3E\");\n}\n.jexcel .dragging-right {\n  background-repeat: no-repeat;\n  background-position: top 50% right 0px;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M10 17l5-5-5-5v10z'/%3E%3Cpath fill='none' d='M0 24V0h24v24H0z'/%3E%3C/svg%3E\");\n}\n.jexcel_tabs .jexcel_tab {\n  display: none;\n}\n.jexcel_tabs .jexcel_tab_link {\n  display: inline-block;\n  padding: 10px;\n  padding-left: 20px;\n  padding-right: 20px;\n  margin-right: 5px;\n  margin-bottom: 5px;\n  background-color: #f3f3f3;\n  cursor: pointer;\n}\n.jexcel_tabs .jexcel_tab_link.selected {\n  background-color: #ddd;\n}\n.jexcel_hidden_index > tbody > tr > td:first-child,\n.jexcel_hidden_index > thead > tr > td:first-child,\n.jexcel_hidden_index > colgroup > col:first-child {\n  display: none;\n}\n.jexcel .jrating {\n  display: inline-flex;\n}\n.jexcel .jrating > div {\n  zoom: 0.55;\n}\n.jexcel .copying-top {\n  border-top: 1px dashed #000;\n}\n.jexcel .copying-left {\n  border-left: 1px dashed #000;\n}\n.jexcel .copying-right {\n  border-right: 1px dashed #000;\n}\n.jexcel .copying-bottom {\n  border-bottom: 1px dashed #000;\n}\n.jexcel .jexcel_column_filter {\n  background-repeat: no-repeat;\n  background-position: top 50% right 5px;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='gray' width='18px' height='18px'%3E%3Cpath d='M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n  text-overflow: ellipsis;\n  overflow: hidden;\n  padding: 0px;\n  padding-left: 6px;\n  padding-right: 20px;\n}\n.jexcel thead .jexcel_freezed {\n  left: 0px;\n  z-index: 3 !important;\n  box-shadow: 2px 0px 2px 0.2px #ccc !important;\n  -webkit-box-shadow: 2px 0px 2px 0.2px #ccc !important;\n  -moz-box-shadow: 2px 0px 2px 0.2px #ccc !important;\n}\n.jexcel tbody .jexcel_freezed {\n  position: relative;\n  background-color: #fff;\n  box-shadow: 1px 1px 1px 1px #ccc !important;\n  -webkit-box-shadow: 2px 4px 4px 0.1px #ccc !important;\n  -moz-box-shadow: 2px 4px 4px 0.1px #ccc !important;\n}\n"; (require("browserify-css").createStyle(css, { "href": "public\\js\\vendor.css" }, { "insertAt": "bottom" })); module.exports = css;
},{"browserify-css":1}]},{},[5])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL1VzZXJzL0FiaGlqaXRoL0FwcERhdGEvUm9hbWluZy9ucG0vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWNzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL2pleGNlbC9kaXN0L2pleGNlbC5qcyIsIm5vZGVfbW9kdWxlcy9qc3VpdGVzL2Rpc3QvanN1aXRlcy5jc3MiLCJub2RlX21vZHVsZXMvanN1aXRlcy9kaXN0L2pzdWl0ZXMuanMiLCJwdWJsaWMvanMvYXBwLmpzIiwicHVibGljL2pzL3ZlbmRvci5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RpYkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3J3UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxR0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIndXNlIHN0cmljdCc7XG4vLyBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBicm93c2VyIGZpZWxkLCBjaGVjayBvdXQgdGhlIGJyb3dzZXIgZmllbGQgYXQgaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL2Jyb3dzZXJpZnktaGFuZGJvb2sjYnJvd3Nlci1maWVsZC5cblxudmFyIHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhciBpbnNlcnRTdHlsZUVsZW1lbnQgPSBmdW5jdGlvbihzdHlsZUVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICB2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuaW5zZXJ0QXQgPSBvcHRpb25zLmluc2VydEF0IHx8ICdib3R0b20nO1xuXG4gICAgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09ICd0b3AnKSB7XG4gICAgICAgIGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcbiAgICAgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcbiAgICAgICAgfSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuICAgICAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyIFxcJ2luc2VydEF0XFwnLiBNdXN0IGJlIFxcJ3RvcFxcJyBvciBcXCdib3R0b21cXCcuJyk7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgLy8gQ3JlYXRlIGEgPGxpbms+IHRhZyB3aXRoIG9wdGlvbmFsIGRhdGEgYXR0cmlidXRlc1xuICAgIGNyZWF0ZUxpbms6IGZ1bmN0aW9uKGhyZWYsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuXG4gICAgICAgIGxpbmsuaHJlZiA9IGhyZWY7XG4gICAgICAgIGxpbmsucmVsID0gJ3N0eWxlc2hlZXQnO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoICEgYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGxpbmspO1xuICAgIH0sXG4gICAgLy8gQ3JlYXRlIGEgPHN0eWxlPiB0YWcgd2l0aCBvcHRpb25hbCBkYXRhIGF0dHJpYnV0ZXNcbiAgICBjcmVhdGVTdHlsZTogZnVuY3Rpb24oY3NzVGV4dCwgYXR0cmlidXRlcywgZXh0cmFPcHRpb25zKSB7XG4gICAgICAgIGV4dHJhT3B0aW9ucyA9IGV4dHJhT3B0aW9ucyB8fCB7fTtcblxuICAgICAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCAhIGF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZhbHVlID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHlsZS5zaGVldCkgeyAvLyBmb3IganNkb20gYW5kIElFOStcbiAgICAgICAgICAgIHN0eWxlLmlubmVySFRNTCA9IGNzc1RleHQ7XG4gICAgICAgICAgICBzdHlsZS5zaGVldC5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgICAgICAgICAgIGluc2VydFN0eWxlRWxlbWVudChzdHlsZSwgeyBpbnNlcnRBdDogZXh0cmFPcHRpb25zLmluc2VydEF0IH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHsgLy8gZm9yIElFOCBhbmQgYmVsb3dcbiAgICAgICAgICAgIGluc2VydFN0eWxlRWxlbWVudChzdHlsZSwgeyBpbnNlcnRBdDogZXh0cmFPcHRpb25zLmluc2VydEF0IH0pO1xuICAgICAgICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgICAgICAgfSBlbHNlIHsgLy8gZm9yIENocm9tZSwgRmlyZWZveCwgYW5kIFNhZmFyaVxuICAgICAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzVGV4dCkpO1xuICAgICAgICAgICAgaW5zZXJ0U3R5bGVFbGVtZW50KHN0eWxlLCB7IGluc2VydEF0OiBleHRyYU9wdGlvbnMuaW5zZXJ0QXQgfSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiLyoqXHJcbiAqIGpFeGNlbCB2NC4xLjJcclxuICpcclxuICogQXV0aG9yOiBQYXVsIEhvZGVsIDxwYXVsLmhvZGVsQGdtYWlsLmNvbT5cclxuICogV2Vic2l0ZTogaHR0cHM6Ly9ib3NzYW5vdmEudWsvamV4Y2VsL1xyXG4gKiBEZXNjcmlwdGlvbjogQ3JlYXRlIGFtYXppbmcgd2ViIGJhc2VkIHNwcmVhZHNoZWV0cy5cclxuICpcclxuICogVGhpcyBzb2Z0d2FyZSBpcyBkaXN0cmlidXRlIHVuZGVyIE1JVCBMaWNlbnNlXHJcbiAqL1xyXG5cclxuIGlmICghIGpTdWl0ZXMgJiYgdHlwZW9mKHJlcXVpcmUpID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICB2YXIgalN1aXRlcyA9IHJlcXVpcmUoJ2pzdWl0ZXMnKTtcclxuICAgIHJlcXVpcmUoJ2pzdWl0ZXMvZGlzdC9qc3VpdGVzLmNzcycpO1xyXG59XHJcblxyXG47KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcclxuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcclxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XHJcbiAgICBnbG9iYWwuamV4Y2VsID0gZmFjdG9yeSgpO1xyXG59KHRoaXMsIChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8vIEpleGNlbCBjb3JlIG9iamVjdFxuXG4gICAgdmFyIGpleGNlbCA9IChmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuICAgICAgICAvLyBDcmVhdGUgamV4Y2VsIG9iamVjdFxuICAgICAgICB2YXIgb2JqID0ge307XG4gICAgICAgIG9iai5vcHRpb25zID0ge307XG5cclxuICAgICAgICBpZiAoISAoZWwgaW5zdGFuY2VvZiBFbGVtZW50IHx8IGVsIGluc3RhbmNlb2YgSFRNTERvY3VtZW50KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdKRVhDRUw6IGVsIGlzIG5vdCBhIHZhbGlkIERPTSBlbGVtZW50Jyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVsLnRhZ05hbWUgPT0gJ1RBQkxFJykge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucyA9IGpleGNlbC5jcmVhdGVGcm9tVGFibGUoZWwsIG9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXYsIGVsKTtcclxuICAgICAgICAgICAgICAgIGVsLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWwgPSBkaXY7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdKRVhDRUw6IGVsIGlzIG5vdCBhIHZhbGlkIERPTSBlbGVtZW50Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxuICAgICAgICAvLyBMb2FkaW5nIGRlZmF1bHQgY29uZmlndXJhdGlvblxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAvLyBFeHRlcm5hbCBkYXRhXG4gICAgICAgICAgICB1cmw6bnVsbCxcbiAgICAgICAgICAgIC8vIERhdGFcbiAgICAgICAgICAgIGRhdGE6bnVsbCxcbiAgICAgICAgICAgIC8vIENvcHkgYmVoYXZpb3JcbiAgICAgICAgICAgIGNvcHlDb21wYXRpYmlsaXR5OmZhbHNlLFxuICAgICAgICAgICAgcm9vdDpudWxsLFxuICAgICAgICAgICAgLy8gUm93cyBhbmQgY29sdW1ucyBkZWZpbml0aW9uc1xuICAgICAgICAgICAgcm93czpbXSxcbiAgICAgICAgICAgIGNvbHVtbnM6W10sXG4gICAgICAgICAgICAvLyBEZXByZWN0ZWQgbGVnYWN5IG9wdGlvbnNcbiAgICAgICAgICAgIGNvbEhlYWRlcnM6W10sXG4gICAgICAgICAgICBjb2xXaWR0aHM6W10sXG4gICAgICAgICAgICBjb2xBbGlnbm1lbnRzOltdLFxuICAgICAgICAgICAgbmVzdGVkSGVhZGVyczpudWxsLFxuICAgICAgICAgICAgLy8gQ29sdW1uIHdpZHRoIHRoYXQgaXMgdXNlZCBieSBkZWZhdWx0XG4gICAgICAgICAgICBkZWZhdWx0Q29sV2lkdGg6NTAsXG4gICAgICAgICAgICBkZWZhdWx0Q29sQWxpZ246J2NlbnRlcicsXG4gICAgICAgICAgICAvLyBTcGFyZSByb3dzIGFuZCBjb2x1bW5zXG4gICAgICAgICAgICBtaW5TcGFyZVJvd3M6MCxcbiAgICAgICAgICAgIG1pblNwYXJlQ29sczowLFxuICAgICAgICAgICAgLy8gTWluaW1hbCB0YWJsZSBkaW1lbnNpb25zXG4gICAgICAgICAgICBtaW5EaW1lbnNpb25zOlswLDBdLFxuICAgICAgICAgICAgLy8gQWxsb3cgRXhwb3J0XG4gICAgICAgICAgICBhbGxvd0V4cG9ydDp0cnVlLFxyXG4gICAgICAgICAgICAvLyBAdHlwZSB7Ym9vbGVhbn0gLSBJbmNsdWRlIHRoZSBoZWFkZXIgdGl0bGVzIG9uIGRvd25sb2FkXHJcbiAgICAgICAgICAgIGluY2x1ZGVIZWFkZXJzT25Eb3dubG9hZDpmYWxzZSxcclxuICAgICAgICAgICAgLy8gQHR5cGUge2Jvb2xlYW59IC0gSW5jbHVkZSB0aGUgaGVhZGVyIHRpdGxlcyBvbiBjb3B5XHJcbiAgICAgICAgICAgIGluY2x1ZGVIZWFkZXJzT25Db3B5OmZhbHNlLFxuICAgICAgICAgICAgLy8gQWxsb3cgY29sdW1uIHNvcnRpbmdcbiAgICAgICAgICAgIGNvbHVtblNvcnRpbmc6dHJ1ZSxcbiAgICAgICAgICAgIC8vIEFsbG93IGNvbHVtbiBkcmFnZ2luZ1xuICAgICAgICAgICAgY29sdW1uRHJhZzpmYWxzZSxcbiAgICAgICAgICAgIC8vIEFsbG93IGNvbHVtbiByZXNpemluZ1xuICAgICAgICAgICAgY29sdW1uUmVzaXplOnRydWUsXG4gICAgICAgICAgICAvLyBBbGxvdyByb3cgcmVzaXppbmdcbiAgICAgICAgICAgIHJvd1Jlc2l6ZTpmYWxzZSxcbiAgICAgICAgICAgIC8vIEFsbG93IHJvdyBkcmFnZ2luZ1xuICAgICAgICAgICAgcm93RHJhZzp0cnVlLFxuICAgICAgICAgICAgLy8gQWxsb3cgdGFibGUgZWRpdGlvblxuICAgICAgICAgICAgZWRpdGFibGU6dHJ1ZSxcbiAgICAgICAgICAgIC8vIEFsbG93IG5ldyByb3dzXG4gICAgICAgICAgICBhbGxvd0luc2VydFJvdzp0cnVlLFxuICAgICAgICAgICAgLy8gQWxsb3cgbmV3IHJvd3NcbiAgICAgICAgICAgIGFsbG93TWFudWFsSW5zZXJ0Um93OnRydWUsXG4gICAgICAgICAgICAvLyBBbGxvdyBuZXcgY29sdW1uc1xuICAgICAgICAgICAgYWxsb3dJbnNlcnRDb2x1bW46dHJ1ZSxcbiAgICAgICAgICAgIC8vIEFsbG93IG5ldyByb3dzXG4gICAgICAgICAgICBhbGxvd01hbnVhbEluc2VydENvbHVtbjp0cnVlLFxuICAgICAgICAgICAgLy8gQWxsb3cgcm93IGRlbGV0ZVxuICAgICAgICAgICAgYWxsb3dEZWxldGVSb3c6dHJ1ZSxcbiAgICAgICAgICAgIC8vIEFsbG93IGRlbGV0aW5nIG9mIGFsbCByb3dzXG4gICAgICAgICAgICBhbGxvd0RlbGV0aW5nQWxsUm93czpmYWxzZSxcbiAgICAgICAgICAgIC8vIEFsbG93IGNvbHVtbiBkZWxldGVcbiAgICAgICAgICAgIGFsbG93RGVsZXRlQ29sdW1uOnRydWUsXG4gICAgICAgICAgICAvLyBBbGxvdyByZW5hbWUgY29sdW1uXG4gICAgICAgICAgICBhbGxvd1JlbmFtZUNvbHVtbjp0cnVlLFxuICAgICAgICAgICAgLy8gQWxsb3cgY29tbWVudHNcbiAgICAgICAgICAgIGFsbG93Q29tbWVudHM6ZmFsc2UsXG4gICAgICAgICAgICAvLyBHbG9iYWwgd3JhcFxuICAgICAgICAgICAgd29yZFdyYXA6ZmFsc2UsXG4gICAgICAgICAgICAvLyBJbWFnZSBvcHRpb25zXG4gICAgICAgICAgICBpbWFnZU9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICAvLyBDU1Ygc291cmNlXG4gICAgICAgICAgICBjc3Y6bnVsbCxcbiAgICAgICAgICAgIC8vIEZpbGVuYW1lXG4gICAgICAgICAgICBjc3ZGaWxlTmFtZTonamV4Y2VsJyxcbiAgICAgICAgICAgIC8vIENvbnNpZGVyIGZpcnN0IGxpbmUgYXMgaGVhZGVyXG4gICAgICAgICAgICBjc3ZIZWFkZXJzOnRydWUsXHJcbiAgICAgICAgICAgIC8vIERlbGltaXRlcnNcbiAgICAgICAgICAgIGNzdkRlbGltaXRlcjonLCcsXHJcbiAgICAgICAgICAgIC8vIEZpcnN0IHJvdyBhcyBoZWFkZXJcclxuICAgICAgICAgICAgcGFyc2VUYWJsZUZpcnN0Um93QXNIZWFkZXI6ZmFsc2UsXHJcbiAgICAgICAgICAgIHBhcnNlVGFibGVBdXRvQ2VsbFR5cGU6ZmFsc2UsXG4gICAgICAgICAgICAvLyBEaXNhYmxlIGNvcm5lciBzZWxlY3Rpb25cbiAgICAgICAgICAgIHNlbGVjdGlvbkNvcHk6dHJ1ZSxcbiAgICAgICAgICAgIC8vIE1lcmdlZCBjZWxsc1xuICAgICAgICAgICAgbWVyZ2VDZWxsczp7fSxcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0b29sYmFyXG4gICAgICAgICAgICB0b29sYmFyOm51bGwsXG4gICAgICAgICAgICAvLyBBbGxvdyBzZWFyY2hcbiAgICAgICAgICAgIHNlYXJjaDpmYWxzZSxcbiAgICAgICAgICAgIC8vIENyZWF0ZSBwYWdpbmF0aW9uXG4gICAgICAgICAgICBwYWdpbmF0aW9uOmZhbHNlLFxuICAgICAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnM6bnVsbCxcclxuICAgICAgICAgICAgLy8gRnVsbCBzY3JlZW5cbiAgICAgICAgICAgIGZ1bGxzY3JlZW46ZmFsc2UsXG4gICAgICAgICAgICAvLyBMYXp5IGxvYWRpbmdcbiAgICAgICAgICAgIGxhenlMb2FkaW5nOmZhbHNlLFxuICAgICAgICAgICAgbG9hZGluZ1NwaW46ZmFsc2UsXG4gICAgICAgICAgICAvLyBUYWJsZSBvdmVyZmxvd1xuICAgICAgICAgICAgdGFibGVPdmVyZmxvdzpmYWxzZSxcbiAgICAgICAgICAgIHRhYmxlSGVpZ2h0OiczMDBweCcsXG4gICAgICAgICAgICB0YWJsZVdpZHRoOm51bGwsXG4gICAgICAgICAgICAvLyBNZXRhXG4gICAgICAgICAgICBtZXRhOiBudWxsLFxuICAgICAgICAgICAgLy8gU3R5bGVcbiAgICAgICAgICAgIHN0eWxlOm51bGwsXG4gICAgICAgICAgICAvLyBFeGVjdXRlIGZvcm11bGFzXG4gICAgICAgICAgICBwYXJzZUZvcm11bGFzOnRydWUsXG4gICAgICAgICAgICBhdXRvSW5jcmVtZW50OnRydWUsXG4gICAgICAgICAgICBhdXRvQ2FzdGluZzp0cnVlLFxyXG4gICAgICAgICAgICAvLyBGaWx0ZXJzXHJcbiAgICAgICAgICAgIGZpbHRlcnM6ZmFsc2UsXHJcbiAgICAgICAgICAgIGZvb3RlcnM6bnVsbCxcclxuICAgICAgICAgICAgLy8gRXZlbnQgaGFuZGxlc1xuICAgICAgICAgICAgb251bmRvOm51bGwsXG4gICAgICAgICAgICBvbnJlZG86bnVsbCxcbiAgICAgICAgICAgIG9ubG9hZDpudWxsLFxuICAgICAgICAgICAgb25jaGFuZ2U6bnVsbCxcbiAgICAgICAgICAgIG9uYmVmb3JlY2hhbmdlOm51bGwsXG4gICAgICAgICAgICBvbmFmdGVyY2hhbmdlczpudWxsLFxuICAgICAgICAgICAgb25iZWZvcmVpbnNlcnRyb3c6IG51bGwsXG4gICAgICAgICAgICBvbmluc2VydHJvdzpudWxsLFxuICAgICAgICAgICAgb25iZWZvcmVpbnNlcnRjb2x1bW46IG51bGwsXG4gICAgICAgICAgICBvbmluc2VydGNvbHVtbjpudWxsLFxuICAgICAgICAgICAgb25iZWZvcmVkZWxldGVyb3c6bnVsbCxcbiAgICAgICAgICAgIG9uZGVsZXRlcm93Om51bGwsXG4gICAgICAgICAgICBvbmJlZm9yZWRlbGV0ZWNvbHVtbjpudWxsLFxuICAgICAgICAgICAgb25kZWxldGVjb2x1bW46bnVsbCxcbiAgICAgICAgICAgIG9ubW92ZXJvdzpudWxsLFxuICAgICAgICAgICAgb25tb3ZlY29sdW1uOm51bGwsXG4gICAgICAgICAgICBvbnJlc2l6ZXJvdzpudWxsLFxuICAgICAgICAgICAgb25yZXNpemVjb2x1bW46bnVsbCxcbiAgICAgICAgICAgIG9uc29ydDpudWxsLFxuICAgICAgICAgICAgb25zZWxlY3Rpb246bnVsbCxcbiAgICAgICAgICAgIG9ucGFzdGU6bnVsbCxcbiAgICAgICAgICAgIG9uYmVmb3JlcGFzdGU6bnVsbCxcbiAgICAgICAgICAgIG9ubWVyZ2U6bnVsbCxcbiAgICAgICAgICAgIG9uZm9jdXM6bnVsbCxcbiAgICAgICAgICAgIG9uYmx1cjpudWxsLFxuICAgICAgICAgICAgb25jaGFuZ2VoZWFkZXI6bnVsbCxcbiAgICAgICAgICAgIG9uZWRpdGlvbnN0YXJ0Om51bGwsXG4gICAgICAgICAgICBvbmVkaXRpb25lbmQ6bnVsbCxcbiAgICAgICAgICAgIG9uY2hhbmdlc3R5bGU6bnVsbCxcbiAgICAgICAgICAgIG9uY2hhbmdlbWV0YTpudWxsLFxyXG4gICAgICAgICAgICBvbmNoYW5nZXBhZ2U6bnVsbCxcclxuICAgICAgICAgICAgb25iZWZvcmVzYXZlOm51bGwsXHJcbiAgICAgICAgICAgIG9uc2F2ZTpudWxsLFxyXG4gICAgICAgICAgICAvLyBHbG9iYWwgZXZlbnQgZGlzcGF0Y2hlclxyXG4gICAgICAgICAgICBvbmV2ZW50Om51bGwsXHJcbiAgICAgICAgICAgIC8vIFBlcnNpc3RhbmNlXHJcbiAgICAgICAgICAgIHBlcnNpc3RhbmNlOmZhbHNlLFxuICAgICAgICAgICAgLy8gQ3VzdG9taXplIGFueSBjZWxsIGJlaGF2aW9yXG4gICAgICAgICAgICB1cGRhdGVUYWJsZTpudWxsLFxuICAgICAgICAgICAgLy8gRGV0YWNoIHRoZSBIVE1MIHRhYmxlIHdoZW4gY2FsbGluZyB1cGRhdGVUYWJsZVxyXG4gICAgICAgICAgICBkZXRhY2hGb3JVcGRhdGVzOiBmYWxzZSxcclxuICAgICAgICAgICAgZnJlZXplQ29sdW1uczpudWxsLFxuICAgICAgICAgICAgLy8gVGV4dHNcbiAgICAgICAgICAgIHRleHQ6e1xuICAgICAgICAgICAgICAgIG5vUmVjb3Jkc0ZvdW5kOiAnTm8gcmVjb3JkcyBmb3VuZCcsXG4gICAgICAgICAgICAgICAgc2hvd2luZ1BhZ2U6ICdTaG93aW5nIHBhZ2UgezB9IG9mIHsxfSBlbnRyaWVzJyxcbiAgICAgICAgICAgICAgICBzaG93OiAnU2hvdyAnLFxuICAgICAgICAgICAgICAgIHNlYXJjaDogJ1NlYXJjaCcsXG4gICAgICAgICAgICAgICAgZW50cmllczogJyBlbnRyaWVzJyxcbiAgICAgICAgICAgICAgICBjb2x1bW5OYW1lOiAnQ29sdW1uIG5hbWUnLFxuICAgICAgICAgICAgICAgIGluc2VydEFOZXdDb2x1bW5CZWZvcmU6ICdJbnNlcnQgYSBuZXcgY29sdW1uIGJlZm9yZScsXG4gICAgICAgICAgICAgICAgaW5zZXJ0QU5ld0NvbHVtbkFmdGVyOiAnSW5zZXJ0IGEgbmV3IGNvbHVtbiBhZnRlcicsXG4gICAgICAgICAgICAgICAgZGVsZXRlU2VsZWN0ZWRDb2x1bW5zOiAnRGVsZXRlIHNlbGVjdGVkIGNvbHVtbnMnLFxuICAgICAgICAgICAgICAgIHJlbmFtZVRoaXNDb2x1bW46ICdSZW5hbWUgdGhpcyBjb2x1bW4nLFxuICAgICAgICAgICAgICAgIG9yZGVyQXNjZW5kaW5nOiAnT3JkZXIgYXNjZW5kaW5nJyxcbiAgICAgICAgICAgICAgICBvcmRlckRlc2NlbmRpbmc6ICdPcmRlciBkZXNjZW5kaW5nJyxcbiAgICAgICAgICAgICAgICBpbnNlcnRBTmV3Um93QmVmb3JlOiAnSW5zZXJ0IGEgbmV3IHJvdyBiZWZvcmUnLFxuICAgICAgICAgICAgICAgIGluc2VydEFOZXdSb3dBZnRlcjogJ0luc2VydCBhIG5ldyByb3cgYWZ0ZXInLFxuICAgICAgICAgICAgICAgIGRlbGV0ZVNlbGVjdGVkUm93czogJ0RlbGV0ZSBzZWxlY3RlZCByb3dzJyxcbiAgICAgICAgICAgICAgICBlZGl0Q29tbWVudHM6ICdFZGl0IGNvbW1lbnRzJyxcbiAgICAgICAgICAgICAgICBhZGRDb21tZW50czogJ0FkZCBjb21tZW50cycsXG4gICAgICAgICAgICAgICAgY29tbWVudHM6ICdDb21tZW50cycsXG4gICAgICAgICAgICAgICAgY2xlYXJDb21tZW50czogJ0NsZWFyIGNvbW1lbnRzJyxcbiAgICAgICAgICAgICAgICBjb3B5OiAnQ29weS4uLicsXG4gICAgICAgICAgICAgICAgcGFzdGU6ICdQYXN0ZS4uLicsXG4gICAgICAgICAgICAgICAgc2F2ZUFzOiAnU2F2ZSBhcy4uLicsXG4gICAgICAgICAgICAgICAgYWJvdXQ6ICdBYm91dCcsXG4gICAgICAgICAgICAgICAgYXJlWW91U3VyZVRvRGVsZXRlVGhlU2VsZWN0ZWRSb3dzOiAnQXJlIHlvdSBzdXJlIHRvIGRlbGV0ZSB0aGUgc2VsZWN0ZWQgcm93cz8nLFxuICAgICAgICAgICAgICAgIGFyZVlvdVN1cmVUb0RlbGV0ZVRoZVNlbGVjdGVkQ29sdW1uczogJ0FyZSB5b3Ugc3VyZSB0byBkZWxldGUgdGhlIHNlbGVjdGVkIGNvbHVtbnM/JyxcbiAgICAgICAgICAgICAgICB0aGlzQWN0aW9uV2lsbERlc3Ryb3lBbnlFeGlzdGluZ01lcmdlZENlbGxzQXJlWW91U3VyZTogJ1RoaXMgYWN0aW9uIHdpbGwgZGVzdHJveSBhbnkgZXhpc3RpbmcgbWVyZ2VkIGNlbGxzLiBBcmUgeW91IHN1cmU/JyxcbiAgICAgICAgICAgICAgICB0aGlzQWN0aW9uV2lsbENsZWFyWW91clNlYXJjaFJlc3VsdHNBcmVZb3VTdXJlOiAnVGhpcyBhY3Rpb24gd2lsbCBjbGVhciB5b3VyIHNlYXJjaCByZXN1bHRzLiBBcmUgeW91IHN1cmU/JyxcbiAgICAgICAgICAgICAgICB0aGVyZUlzQUNvbmZsaWN0V2l0aEFub3RoZXJNZXJnZWRDZWxsOiAnVGhlcmUgaXMgYSBjb25mbGljdCB3aXRoIGFub3RoZXIgbWVyZ2VkIGNlbGwnLFxuICAgICAgICAgICAgICAgIGludmFsaWRNZXJnZVByb3BlcnRpZXM6ICdJbnZhbGlkIG1lcmdlZCBwcm9wZXJ0aWVzJyxcbiAgICAgICAgICAgICAgICBjZWxsQWxyZWFkeU1lcmdlZDogJ0NlbGwgYWxyZWFkeSBtZXJnZWQnLFxuICAgICAgICAgICAgICAgIG5vQ2VsbHNTZWxlY3RlZDogJ05vIGNlbGxzIHNlbGVjdGVkJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBBYm91dCBtZXNzYWdlXG4gICAgICAgICAgICBhYm91dDpcImpFeGNlbCBDRSBTcHJlYWRzaGVldFxcblZlcnNpb24gNC4xLjJcXG5BdXRob3I6IFBhdWwgSG9kZWwgPHBhdWwuaG9kZWxAZ21haWwuY29tPlxcbldlYnNpdGU6IGh0dHBzOi8vYm9zc2Fub3ZhLnVrL2pleGNlbC92M1wiLFxuICAgICAgICB9O1xuICAgIFxuICAgICAgICAvLyBMb2FkaW5nIGluaXRpYWwgY29uZmlndXJhdGlvbiBmcm9tIHVzZXJcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZGVmYXVsdHMpIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnNbcHJvcGVydHldID0gZGVmYXVsdHNbcHJvcGVydHldO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHRleHRLZXkgaW4gb3B0aW9uc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNbcHJvcGVydHldLmhhc093blByb3BlcnR5KHRleHRLZXkpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XVt0ZXh0S2V5XSA9IG9wdGlvbnNbcHJvcGVydHldW3RleHRLZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9uc1twcm9wZXJ0eV0gPSBvcHRpb25zW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnNbcHJvcGVydHldID0gZGVmYXVsdHNbcHJvcGVydHldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2xvYmFsIGVsZW1lbnRzXG4gICAgICAgIG9iai5lbCA9IGVsO1xuICAgICAgICBvYmouY29ybmVyID0gbnVsbDtcbiAgICAgICAgb2JqLmNvbnRleHRNZW51ID0gbnVsbDtcbiAgICAgICAgb2JqLnRleHRhcmVhID0gbnVsbDtcbiAgICAgICAgb2JqLmFkcyA9IG51bGw7XG4gICAgICAgIG9iai5jb250ZW50ID0gbnVsbDtcbiAgICAgICAgb2JqLnRhYmxlID0gbnVsbDtcbiAgICAgICAgb2JqLnRoZWFkID0gbnVsbDtcbiAgICAgICAgb2JqLnRib2R5ID0gbnVsbDtcbiAgICAgICAgb2JqLnJvd3MgPSBbXTtcbiAgICAgICAgb2JqLnJlc3VsdHMgPSBudWxsO1xuICAgICAgICBvYmouc2VhcmNoSW5wdXQgPSBudWxsO1xuICAgICAgICBvYmoudG9vbGJhciA9IG51bGw7XG4gICAgICAgIG9iai5wYWdpbmF0aW9uID0gbnVsbDtcbiAgICAgICAgb2JqLnBhZ2VOdW1iZXIgPSBudWxsO1xuICAgICAgICBvYmouaGVhZGVyQ29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgb2JqLmNvbGdyb3VwQ29udGFpbmVyID0gbnVsbDtcbiAgICBcbiAgICAgICAgLy8gQ29udGFpbmVyc1xuICAgICAgICBvYmouaGVhZGVycyA9IFtdO1xuICAgICAgICBvYmoucmVjb3JkcyA9IFtdO1xuICAgICAgICBvYmouaGlzdG9yeSA9IFtdO1xuICAgICAgICBvYmouZm9ybXVsYSA9IFtdO1xuICAgICAgICBvYmouY29sZ3JvdXAgPSBbXTtcbiAgICAgICAgb2JqLnNlbGVjdGlvbiA9IFtdO1xuICAgICAgICBvYmouaGlnaGxpZ2h0ZWQgID0gW107XG4gICAgICAgIG9iai5zZWxlY3RlZENlbGwgPSBudWxsO1xuICAgICAgICBvYmouc2VsZWN0ZWRDb250YWluZXIgPSBudWxsO1xuICAgICAgICBvYmouc3R5bGUgPSBbXTtcbiAgICAgICAgb2JqLmRhdGEgPSBudWxsO1xyXG4gICAgICAgIG9iai5maWx0ZXIgPSBudWxsO1xuICAgICAgICBvYmouZmlsdGVycyA9IFtdO1xyXG5cbiAgICAgICAgLy8gSW50ZXJuYWwgY29udHJvbGxlcnNcbiAgICAgICAgb2JqLmN1cnNvciA9IG51bGw7XG4gICAgICAgIG9iai5oaXN0b3J5SW5kZXggPSAtMTtcbiAgICAgICAgb2JqLmlnbm9yZUV2ZW50cyA9IGZhbHNlO1xuICAgICAgICBvYmouaWdub3JlSGlzdG9yeSA9IGZhbHNlO1xuICAgICAgICBvYmouZWRpdGlvbiA9IG51bGw7XG4gICAgICAgIG9iai5oYXNoU3RyaW5nID0gbnVsbDtcbiAgICAgICAgb2JqLnJlc2l6aW5nID0gbnVsbDtcbiAgICAgICAgb2JqLmRyYWdnaW5nID0gbnVsbDtcbiAgICBcbiAgICAgICAgLy8gTGF6eSBsb2FkaW5nXG4gICAgICAgIGlmIChvYmoub3B0aW9ucy5sYXp5TG9hZGluZyA9PSB0cnVlICYmIChvYmoub3B0aW9ucy50YWJsZU92ZXJmbG93ID09IGZhbHNlICYmIG9iai5vcHRpb25zLmZ1bGxzY3JlZW4gPT0gZmFsc2UpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdKRVhDRUw6IFRoZSBsYXp5bG9hZGluZyBvbmx5IHdvcmtzIHdoZW4gdGFibGVPdmVyZmxvdyA9IHllcyBvciBmdWxsc2NyZWVuID0geWVzJyk7XG4gICAgICAgICAgICBvYmoub3B0aW9ucy5sYXp5TG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGUvRGlzYWJsZSBmdWxsc2NyZWVuIFxuICAgICAgICAgKiB1c2UgcHJvZ3JhbW1hdGljYWxseSA6IHRhYmxlLmZ1bGxzY3JlZW4oKTsgb3IgdGFibGUuZnVsbHNjcmVlbih0cnVlKTsgb3IgdGFibGUuZnVsbHNjcmVlbihmYWxzZSk7XG4gICAgICAgICAqIEBQYXJhbSB7Ym9vbGVhbn0gYWN0aXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIG9iai5mdWxsc2NyZWVuID0gZnVuY3Rpb24oYWN0aXZhdGUpIHtcbiAgICAgICAgICAgIC8vIElmIGFjdGl2YXRlIG5vdCBkZWZpbmVkLCBnZXQgcmV2ZXJzZSBvcHRpb25zLmZ1bGxzY3JlZW5cbiAgICAgICAgICAgIGlmIChhY3RpdmF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZhdGUgPSAhIG9iai5vcHRpb25zLmZ1bGxzY3JlZW47XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBJZiBjaGFuZ2VcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5mdWxsc2NyZWVuICE9IGFjdGl2YXRlKSB7XG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuZnVsbHNjcmVlbiA9IGFjdGl2YXRlO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIFRlc3QgTGF6eUxvYWRpbmcgY29uZmxpY3RcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZhdGUgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdmdWxsc2NyZWVuJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZnVsbHNjcmVlbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gXG4gICAgICAgIH1cblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRyaWdnZXIgZXZlbnRzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb2JqLmRpc3BhdGNoID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gRGlzcGF0Y2ggZXZlbnRzXHJcbiAgICAgICAgICAgIGlmICghIG9iai5pZ25vcmVFdmVudHMpIHtcclxuICAgICAgICAgICAgICAgIC8vIENhbGwgZ2xvYmFsIGV2ZW50XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9uZXZlbnQpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0ID0gb2JqLm9wdGlvbnMub25ldmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCBzcGVjaWZpYyBldmVudHNcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnNbZXZlbnRdKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IG9iai5vcHRpb25zW2V2ZW50XS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUGVyc2lzdGFuY2VcclxuICAgICAgICAgICAgaWYgKGV2ZW50ID09ICdvbmFmdGVyY2hhbmdlcycgJiYgb2JqLm9wdGlvbnMucGVyc2lzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBvYmoub3B0aW9ucy5wZXJzaXN0YW5jZSA9PSB0cnVlID8gb2JqLm9wdGlvbnMudXJsIDogb2JqLm9wdGlvbnMucGVyc2lzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IG9iai5wcmVwYXJlSnNvbihhcmd1bWVudHNbMl0pO1xyXG4gICAgICAgICAgICAgICAgb2JqLnNhdmUodXJsLCBkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9XHJcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlcGFyZSB0aGUgamV4Y2VsIHRhYmxlXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAUGFyYW0gY29uZmlnXG4gICAgICAgICAqL1xuICAgICAgICBvYmoucHJlcGFyZVRhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBMb2FkaW5nIGluaXRpYWwgZGF0YSBmcm9tIHJlbW90ZSBzb3VyY2VzXG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIFxuICAgICAgICAgICAgLy8gTnVtYmVyIG9mIGNvbHVtbnNcbiAgICAgICAgICAgIHZhciBzaXplID0gb2JqLm9wdGlvbnMuY29sdW1ucy5sZW5ndGg7XG4gICAgXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuZGF0YSAmJiB0eXBlb2Yob2JqLm9wdGlvbnMuZGF0YVswXSkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgLy8gRGF0YSBrZXlzXG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmoub3B0aW9ucy5kYXRhWzBdKTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGggPiBzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBNaW5pbWFsIGRpbWVuc2lvbnNcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5taW5EaW1lbnNpb25zWzBdID4gc2l6ZSkge1xuICAgICAgICAgICAgICAgIHNpemUgPSBvYmoub3B0aW9ucy5taW5EaW1lbnNpb25zWzBdO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gUmVxdWVzdHNcbiAgICAgICAgICAgIHZhciBtdWx0aXBsZSA9IFtdO1xuICAgIFxuICAgICAgICAgICAgLy8gUHJlcGFyYXRpb25zXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIERlcHJlY3RlZCBvcHRpb25zLiBZb3Ugc2hvdWxkIHVzZSBvbmx5IGNvbHVtbnNcbiAgICAgICAgICAgICAgICBpZiAoISBvYmoub3B0aW9ucy5jb2xIZWFkZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbEhlYWRlcnNbaV0gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMuY29sV2lkdGhzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbFdpZHRoc1tpXSA9IG9iai5vcHRpb25zLmRlZmF1bHRDb2xXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMuY29sQWxpZ25tZW50c1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5jb2xBbGlnbm1lbnRzW2ldID0gb2JqLm9wdGlvbnMuZGVmYXVsdENvbEFsaWduO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IGNvbHVtbiBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLmNvbHVtbnNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29sdW1uc1tpXSA9IHsgdHlwZTondGV4dCcgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbaV0udHlwZSA9ICd0ZXh0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbaV0ubmFtZSA9IGtleXMgJiYga2V5c1tpXSA/IGtleXNbaV0gOiBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISBvYmoub3B0aW9ucy5jb2x1bW5zW2ldLnNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5jb2x1bW5zW2ldLnNvdXJjZSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISBvYmoub3B0aW9ucy5jb2x1bW5zW2ldLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS5vcHRpb25zID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLmNvbHVtbnNbaV0uZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbaV0uZWRpdG9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS5hbGxvd0VtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbaV0uYWxsb3dFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISBvYmoub3B0aW9ucy5jb2x1bW5zW2ldLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbaV0udGl0bGUgPSBvYmoub3B0aW9ucy5jb2xIZWFkZXJzW2ldID8gb2JqLm9wdGlvbnMuY29sSGVhZGVyc1tpXSA6ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISBvYmoub3B0aW9ucy5jb2x1bW5zW2ldLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbaV0ud2lkdGggPSBvYmoub3B0aW9ucy5jb2xXaWR0aHNbaV0gPyBvYmoub3B0aW9ucy5jb2xXaWR0aHNbaV0gOiBvYmoub3B0aW9ucy5kZWZhdWx0Q29sV2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLmNvbHVtbnNbaV0uYWxpZ24pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS5hbGlnbiA9IG9iai5vcHRpb25zLmNvbEFsaWdubWVudHNbaV0gPyBvYmoub3B0aW9ucy5jb2xBbGlnbm1lbnRzW2ldIDogJ2NlbnRlcic7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIFByZS1sb2FkIGluaXRpYWwgc291cmNlIGZvciBqc29uIGF1dG9jb21wbGV0ZVxuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW2ldLnR5cGUgPT0gJ2F1dG9jb21wbGV0ZScgfHwgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS50eXBlID09ICdkcm9wZG93bicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgcmVtb3RlIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbaV0udXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZS5wdXNoKGpTdWl0ZXMuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBvYmoub3B0aW9ucy5jb2x1bW5zW2ldLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGU6IG11bHRpcGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbdGhpcy5pbmRleF0uc291cmNlLnB1c2goZGF0YVtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNyZWF0ZVRhYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW2ldLnR5cGUgPT0gJ2NhbGVuZGFyJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IGZvcm1hdCBmb3IgZGF0ZSBjb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLmNvbHVtbnNbaV0ub3B0aW9ucy5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbaV0ub3B0aW9ucy5mb3JtYXQgPSAnREQvTU0vWVlZWSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBPbiBjb21wbGV0ZVxuICAgICAgICAgICAgaWYgKCEgbXVsdGlwbGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgb2JqLmNyZWF0ZVRhYmxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgb2JqLmNyZWF0ZVRhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBFbGVtZW50c1xuICAgICAgICAgICAgb2JqLnRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgICAgICAgICAgIG9iai50aGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoZWFkJyk7XG4gICAgICAgICAgICBvYmoudGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgaGVhZGVycyBjb250cm9sbGVyc1xuICAgICAgICAgICAgb2JqLmhlYWRlcnMgPSBbXTtcbiAgICAgICAgICAgIG9iai5jb2xncm91cCA9IFtdO1xuICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRhYmxlIGNvbnRhaW5lclxuICAgICAgICAgICAgb2JqLmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG9iai5jb250ZW50LmNsYXNzTGlzdC5hZGQoJ2pleGNlbF9jb250ZW50Jyk7XG4gICAgICAgICAgICBvYmouY29udGVudC5vbnNjcm9sbCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIG9iai5zY3JvbGxDb250cm9scyhlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvYmouY29udGVudC5vbndoZWVsID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgb2JqLndoZWVsQ29udHJvbHMoZSk7XHJcbiAgICAgICAgICAgIH1cclxuXG4gICAgICAgICAgICAvLyBDcmVhdGUgdG9vbGJhciBvYmplY3RcbiAgICAgICAgICAgIG9iai50b29sYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBvYmoudG9vbGJhci5jbGFzc0xpc3QuYWRkKCdqZXhjZWxfdG9vbGJhcicpO1xuICAgIFxuICAgICAgICAgICAgLy8gU2VhcmNoXG4gICAgICAgICAgICB2YXIgc2VhcmNoQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB2YXIgc2VhcmNoVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKChvYmoub3B0aW9ucy50ZXh0LnNlYXJjaCkgKyAnOiAnKTtcbiAgICAgICAgICAgIG9iai5zZWFyY2hJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBvYmouc2VhcmNoSW5wdXQuY2xhc3NMaXN0LmFkZCgnamV4Y2VsX3NlYXJjaCcpO1xuICAgICAgICAgICAgc2VhcmNoQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlYXJjaFRleHQpO1xuICAgICAgICAgICAgc2VhcmNoQ29udGFpbmVyLmFwcGVuZENoaWxkKG9iai5zZWFyY2hJbnB1dCk7XG4gICAgICAgICAgICBvYmouc2VhcmNoSW5wdXQub25mb2N1cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG9iai5yZXNldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gUGFnaW5hdGlvbiBzZWxlY3Qgb3B0aW9uXG4gICAgICAgICAgICB2YXIgcGFnaW5hdGlvblVwZGF0ZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIFxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnBhZ2luYXRpb24gPiAwICYmIG9iai5vcHRpb25zLnBhZ2luYXRpb25PcHRpb25zICYmIG9iai5vcHRpb25zLnBhZ2luYXRpb25PcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBvYmoucGFnaW5hdGlvbkRyb3Bkb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICAgICAgICAgICAgb2JqLnBhZ2luYXRpb25Ecm9wZG93bi5jbGFzc0xpc3QuYWRkKCdqZXhjZWxfcGFnaW5hdGlvbl9kcm9wZG93bicpO1xuICAgICAgICAgICAgICAgIG9iai5wYWdpbmF0aW9uRHJvcGRvd24ub25jaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMucGFnaW5hdGlvbiA9IHBhcnNlSW50KHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBvYmoucGFnZSgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoub3B0aW9ucy5wYWdpbmF0aW9uT3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wLnZhbHVlID0gb2JqLm9wdGlvbnMucGFnaW5hdGlvbk9wdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgICAgIHRlbXAuaW5uZXJIVE1MID0gb2JqLm9wdGlvbnMucGFnaW5hdGlvbk9wdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgICAgIG9iai5wYWdpbmF0aW9uRHJvcGRvd24uYXBwZW5kQ2hpbGQodGVtcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIHBhZ2luYXRpb25VcGRhdGVDb250YWluZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUob2JqLm9wdGlvbnMudGV4dC5zaG93KSk7XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvblVwZGF0ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChvYmoucGFnaW5hdGlvbkRyb3Bkb3duKTtcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uVXBkYXRlQ29udGFpbmVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG9iai5vcHRpb25zLnRleHQuZW50cmllcykpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gRmlsdGVyIGFuZCBwYWdpbmF0aW9uIGNvbnRhaW5lclxuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZmlsdGVyLmNsYXNzTGlzdC5hZGQoJ2pleGNlbF9maWx0ZXInKTtcbiAgICAgICAgICAgIGZpbHRlci5hcHBlbmRDaGlsZChwYWdpbmF0aW9uVXBkYXRlQ29udGFpbmVyKTtcbiAgICAgICAgICAgIGZpbHRlci5hcHBlbmRDaGlsZChzZWFyY2hDb250YWluZXIpO1xuICAgIFxuICAgICAgICAgICAgLy8gQ29sc2dyb3VwXG4gICAgICAgICAgICBvYmouY29sZ3JvdXBDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjb2xncm91cCcpO1xuICAgICAgICAgICAgdmFyIHRlbXBDb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjb2wnKTtcbiAgICAgICAgICAgIHRlbXBDb2wuc2V0QXR0cmlidXRlKCd3aWR0aCcsICc1MCcpO1xuICAgICAgICAgICAgb2JqLmNvbGdyb3VwQ29udGFpbmVyLmFwcGVuZENoaWxkKHRlbXBDb2wpO1xuICAgIFxuICAgICAgICAgICAgLy8gTmVzdGVkXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubmVzdGVkSGVhZGVycyAmJiBvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBGbGV4aWJsZSB3YXkgdG8gaGFuZGxlIG5lc3RlZGhlYWRlcnNcbiAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubmVzdGVkSGVhZGVyc1swXSAmJiBvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzWzBdWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLm9wdGlvbnMubmVzdGVkSGVhZGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnRoZWFkLmFwcGVuZENoaWxkKG9iai5jcmVhdGVOZXN0ZWRIZWFkZXIob2JqLm9wdGlvbnMubmVzdGVkSGVhZGVyc1tqXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnRoZWFkLmFwcGVuZENoaWxkKG9iai5jcmVhdGVOZXN0ZWRIZWFkZXIob2JqLm9wdGlvbnMubmVzdGVkSGVhZGVycykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFJvd1xuICAgICAgICAgICAgb2JqLmhlYWRlckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgICAgICB2YXIgdGVtcENvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICB0ZW1wQ29sLmNsYXNzTGlzdC5hZGQoJ2pleGNlbF9zZWxlY3RhbGwnKTtcbiAgICAgICAgICAgIG9iai5oZWFkZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGVtcENvbCk7XG4gICAgXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5vcHRpb25zLmNvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgaGVhZGVyXG4gICAgICAgICAgICAgICAgb2JqLmNyZWF0ZUNlbGxIZWFkZXIoaSk7XG4gICAgICAgICAgICAgICAgLy8gQXBwZW5kIGNlbGwgdG8gdGhlIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIG9iai5oZWFkZXJDb250YWluZXIuYXBwZW5kQ2hpbGQob2JqLmhlYWRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIG9iai5jb2xncm91cENvbnRhaW5lci5hcHBlbmRDaGlsZChvYmouY29sZ3JvdXBbaV0pO1xuICAgICAgICAgICAgfVxyXG5cbiAgICAgICAgICAgIG9iai50aGVhZC5hcHBlbmRDaGlsZChvYmouaGVhZGVyQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpbHRlcnNcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5maWx0ZXJzID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIG9iai5maWx0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgICAgIG9iai5maWx0ZXIuYXBwZW5kQ2hpbGQodGQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLm9wdGlvbnMuY29sdW1ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gJyZuYnNwOyc7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuc2V0QXR0cmlidXRlKCdkYXRhLXgnLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5jbGFzc05hbWUgPSAnamV4Y2VsX2NvbHVtbl9maWx0ZXInO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5maWx0ZXIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG9iai50aGVhZC5hcHBlbmRDaGlsZChvYmouZmlsdGVyKTtcclxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDb250ZW50IHRhYmxlXG4gICAgICAgICAgICBvYmoudGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICAgICAgICAgICAgb2JqLnRhYmxlLmNsYXNzTGlzdC5hZGQoJ2pleGNlbCcpO1xuICAgICAgICAgICAgb2JqLnRhYmxlLnNldEF0dHJpYnV0ZSgnY2VsbHBhZGRpbmcnLCAnMCcpO1xuICAgICAgICAgICAgb2JqLnRhYmxlLnNldEF0dHJpYnV0ZSgnY2VsbHNwYWNpbmcnLCAnMCcpO1xuICAgICAgICAgICAgb2JqLnRhYmxlLnNldEF0dHJpYnV0ZSgndW5zZWxlY3RhYmxlJywgJ3llcycpO1xuICAgICAgICAgICAgLy9vYmoudGFibGUuc2V0QXR0cmlidXRlKCdvbnNlbGVjdHN0YXJ0JywgJ3JldHVybiBmYWxzZScpO1xuICAgICAgICAgICAgb2JqLnRhYmxlLmFwcGVuZENoaWxkKG9iai5jb2xncm91cENvbnRhaW5lcik7XG4gICAgICAgICAgICBvYmoudGFibGUuYXBwZW5kQ2hpbGQob2JqLnRoZWFkKTtcbiAgICAgICAgICAgIG9iai50YWJsZS5hcHBlbmRDaGlsZChvYmoudGJvZHkpO1xyXG5cbiAgICAgICAgICAgIC8vIFNwcmVhZHNoZWV0IGNvcm5lclxuICAgICAgICAgICAgb2JqLmNvcm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgb2JqLmNvcm5lci5jbGFzc05hbWUgPSAnamV4Y2VsX2Nvcm5lcic7XG4gICAgICAgICAgICBvYmouY29ybmVyLnNldEF0dHJpYnV0ZSgndW5zZWxlY3RhYmxlJywgJ29uJyk7XG4gICAgICAgICAgICBvYmouY29ybmVyLnNldEF0dHJpYnV0ZSgnb25zZWxlY3RzdGFydCcsICdyZXR1cm4gZmFsc2UnKTtcbiAgICBcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5zZWxlY3Rpb25Db3B5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgb2JqLmNvcm5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gVGV4dGFyZWEgaGVscGVyXG4gICAgICAgICAgICBvYmoudGV4dGFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICAgICAgb2JqLnRleHRhcmVhLmNsYXNzTmFtZSA9ICdqZXhjZWxfdGV4dGFyZWEnO1xuICAgICAgICAgICAgb2JqLnRleHRhcmVhLmlkID0gJ2pleGNlbF90ZXh0YXJlYSc7XG4gICAgICAgICAgICBvYmoudGV4dGFyZWEudGFiSW5kZXggPSAnLTEnO1xyXG5cbiAgICAgICAgICAgIC8vIENvbnRleHRtZW51IGNvbnRhaW5lclxuICAgICAgICAgICAgb2JqLmNvbnRleHRNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBvYmouY29udGV4dE1lbnUuY2xhc3NOYW1lID0gJ2pleGNlbF9jb250ZXh0bWVudSc7XG4gICAgXG4gICAgICAgICAgICAvLyBDcmVhdGUgZWxlbWVudFxuICAgICAgICAgICAgalN1aXRlcy5jb250ZXh0bWVudShvYmouY29udGV4dE1lbnUsIHtcbiAgICAgICAgICAgICAgICBvbmNsaWNrOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBvYmouY29udGV4dE1lbnUuY29udGV4dG1lbnUuY2xvc2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgLy8gUG93ZXJlZCBieSBqRXhjZWxcclxuICAgICAgICAgICAgdmFyIGFkcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgYWRzLnNldEF0dHJpYnV0ZSgnaHJlZicsICdodHRwczovL2Jvc3Nhbm92YS51ay9qZXhjZWwvJyk7XHJcbiAgICAgICAgICAgIG9iai5hZHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgb2JqLmFkcy5jbGFzc05hbWUgPSAnamV4Y2VsX2Fib3V0JztcclxuICAgICAgICAgICAgaWYgKHR5cGVvZihzZXNzaW9uU3RvcmFnZSkgIT09IFwidW5kZWZpbmVkXCIgJiYgISBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdqZXhjZWwnKSkge1xyXG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnamV4Y2VsJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gJy8vYm9zc2Fub3ZhLnVrL2pleGNlbC9sb2dvLnBuZyc7XHJcbiAgICAgICAgICAgICAgICBhZHMuYXBwZW5kQ2hpbGQoaW1nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgc3Bhbi5pbm5lckhUTUwgPSAnSmV4Y2VsIHNwcmVhZHNoZWV0JztcclxuICAgICAgICAgICAgYWRzLmFwcGVuZENoaWxkKHNwYW4pO1xyXG4gICAgICAgICAgICBvYmouYWRzLmFwcGVuZENoaWxkKGFkcyk7XHJcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRhYmxlIGNvbnRhaW5lciBUT0RPOiBmcm96ZW4gY29sdW1uc1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2pleGNlbF90YWJsZScpO1xuICAgIFxuICAgICAgICAgICAgLy8gUGFnaW5hdGlvblxuICAgICAgICAgICAgb2JqLnBhZ2luYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG9iai5wYWdpbmF0aW9uLmNsYXNzTGlzdC5hZGQoJ2pleGNlbF9wYWdpbmF0aW9uJyk7XG4gICAgICAgICAgICB2YXIgcGFnaW5hdGlvbkluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uUGFnZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG9iai5wYWdpbmF0aW9uLmFwcGVuZENoaWxkKHBhZ2luYXRpb25JbmZvKTtcbiAgICAgICAgICAgIG9iai5wYWdpbmF0aW9uLmFwcGVuZENoaWxkKHBhZ2luYXRpb25QYWdlcyk7XG5cclxuICAgICAgICAgICAgLy8gSGlkZSBwYWdpbmF0aW9uIGlmIG5vdCBpbiB1c2VcclxuICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMucGFnaW5hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgb2JqLnBhZ2luYXRpb24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG5cbiAgICAgICAgICAgIC8vIEFwcGVuZCBjb250YWluZXJzIHRvIHRoZSB0YWJsZVxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnNlYXJjaCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZmlsdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIEVsZW1lbnRzXG4gICAgICAgICAgICBvYmouY29udGVudC5hcHBlbmRDaGlsZChvYmoudGFibGUpO1xuICAgICAgICAgICAgb2JqLmNvbnRlbnQuYXBwZW5kQ2hpbGQob2JqLmNvcm5lcik7XG4gICAgICAgICAgICBvYmouY29udGVudC5hcHBlbmRDaGlsZChvYmoudGV4dGFyZWEpO1xuICAgIFxuICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQob2JqLnRvb2xiYXIpO1xuICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQob2JqLmNvbnRlbnQpO1xuICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQob2JqLnBhZ2luYXRpb24pO1xuICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQob2JqLmNvbnRleHRNZW51KTtcbiAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKG9iai5hZHMpO1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnamV4Y2VsX2NvbnRhaW5lcicpO1xuICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRvb2xiYXJcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy50b29sYmFyICYmIG9iai5vcHRpb25zLnRvb2xiYXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgb2JqLmNyZWF0ZVRvb2xiYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIEZ1bGxzY3JlZW5cbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5mdWxsc2NyZWVuID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdmdWxsc2NyZWVuJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE92ZXJmbG93XG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnRhYmxlT3ZlcmZsb3cgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMudGFibGVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jb250ZW50LnN0eWxlWydvdmVyZmxvdy15J10gPSAnYXV0byc7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouY29udGVudC5zdHlsZS5tYXhIZWlnaHQgPSBvYmoub3B0aW9ucy50YWJsZUhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMudGFibGVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNvbnRlbnQuc3R5bGVbJ292ZXJmbG93LXgnXSA9ICdhdXRvJztcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jb250ZW50LnN0eWxlLndpZHRoID0gb2JqLm9wdGlvbnMudGFibGVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFdpdGggdG9vbGJhcnNcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy50YWJsZU92ZXJmbG93ICE9IHRydWUgJiYgb2JqLm9wdGlvbnMudG9vbGJhcikge1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3dpdGgtdG9vbGJhcicpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gQWN0aW9uc1xuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbkRyYWcgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG9iai50aGVhZC5jbGFzc0xpc3QuYWRkKCdkcmFnZ2FibGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5jb2x1bW5SZXNpemUgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG9iai50aGVhZC5jbGFzc0xpc3QuYWRkKCdyZXNpemFibGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5yb3dEcmFnID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBvYmoudGJvZHkuY2xhc3NMaXN0LmFkZCgnZHJhZ2dhYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMucm93UmVzaXplID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBvYmoudGJvZHkuY2xhc3NMaXN0LmFkZCgncmVzaXphYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBMb2FkIGRhdGFcbiAgICAgICAgICAgIG9iai5zZXREYXRhKCk7XG4gICAgXG4gICAgICAgICAgICAvLyBTdHlsZVxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnN0eWxlKSB7XG4gICAgICAgICAgICAgICAgb2JqLnNldFN0eWxlKG9iai5vcHRpb25zLnN0eWxlLCBudWxsLCBudWxsLCAxLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZyZXNoIHRoZSBkYXRhXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybiB2b2lkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb2JqLnJlZnJlc2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnVybCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTG9hZGluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmxvYWRpbmdTcGluID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBqU3VpdGVzLmxvYWRpbmcuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBqU3VpdGVzLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogb2JqLm9wdGlvbnMudXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5kYXRhID0gKHJlc3VsdC5kYXRhKSA/IHJlc3VsdC5kYXRhIDogcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmVwYXJlIHRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zZXREYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgc3BpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubG9hZGluZ1NwaW4gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalN1aXRlcy5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb2JqLnNldERhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgZGF0YVxuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIGFycmF5IGRhdGEgSW4gY2FzZSBubyBkYXRhIGlzIHNlbnQsIGRlZmF1bHQgaXMgcmVsb2FkZWRcbiAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBvYmouc2V0RGF0YSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBkYXRhXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoZGF0YSkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gRGF0YVxuICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMuZGF0YSkge1xuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGEgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFByZXBhcmUgZGF0YVxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmRhdGEgJiYgb2JqLm9wdGlvbnMuZGF0YVswXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEgQXJyYXkuaXNBcnJheShvYmoub3B0aW9ucy5kYXRhWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoub3B0aW9ucy5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dbaV0gPSBvYmoub3B0aW9ucy5kYXRhW2pdW29iai5vcHRpb25zLmNvbHVtbnNbaV0ubmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2gocm93KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGp1c3QgbWluaW1hbCBkaW1lbnNpb25zXG4gICAgICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICB2YXIgc2l6ZV9pID0gb2JqLm9wdGlvbnMuY29sdW1ucy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgc2l6ZV9qID0gb2JqLm9wdGlvbnMuZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbWluX2kgPSBvYmoub3B0aW9ucy5taW5EaW1lbnNpb25zWzBdO1xuICAgICAgICAgICAgdmFyIG1pbl9qID0gb2JqLm9wdGlvbnMubWluRGltZW5zaW9uc1sxXTtcbiAgICAgICAgICAgIHZhciBtYXhfaSA9IG1pbl9pID4gc2l6ZV9pID8gbWluX2kgOiBzaXplX2k7XG4gICAgICAgICAgICB2YXIgbWF4X2ogPSBtaW5faiA+IHNpemVfaiA/IG1pbl9qIDogc2l6ZV9qO1xuICAgIFxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG1heF9qOyBqKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbWF4X2k7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuZGF0YVtqXSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGFbal0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuZGF0YVtqXVtpXSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGFbal1baV0gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFJlc2V0IGNvbnRhaW5lcnNcbiAgICAgICAgICAgIG9iai5yb3dzID0gW107XG4gICAgICAgICAgICBvYmoucmVzdWx0cyA9IG51bGw7XG4gICAgICAgICAgICBvYmoucmVjb3JkcyA9IFtdO1xuICAgICAgICAgICAgb2JqLmhpc3RvcnkgPSBbXTtcbiAgICBcbiAgICAgICAgICAgIC8vIFJlc2V0IGludGVybmFsIGNvbnRyb2xsZXJzXG4gICAgICAgICAgICBvYmouaGlzdG9yeUluZGV4ID0gLTE7XG4gICAgXG4gICAgICAgICAgICAvLyBSZXNldCBkYXRhXG4gICAgICAgICAgICBvYmoudGJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgXG4gICAgICAgICAgICAvLyBMYXp5IGxvYWRpbmdcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5sYXp5TG9hZGluZyA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gTG9hZCBvbmx5IDEwMCByZWNvcmRzXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0TnVtYmVyID0gMFxuICAgICAgICAgICAgICAgIHZhciBmaW5hbE51bWJlciA9IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoIDwgMTAwID8gb2JqLm9wdGlvbnMuZGF0YS5sZW5ndGggOiAxMDA7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMucGFnaW5hdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdKRVhDRUw6IFBhZ2luYXRpb24gd2lsbCBiZSBkaXNhYmxlIGR1ZSB0aGUgbGF6eUxvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBQYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKCEgb2JqLnBhZ2VOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnBhZ2VOdW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcXVhbnRpdHlQZXJQYWdlID0gb2JqLm9wdGlvbnMucGFnaW5hdGlvbjtcbiAgICAgICAgICAgICAgICBzdGFydE51bWJlciA9IChvYmoub3B0aW9ucy5wYWdpbmF0aW9uICogb2JqLnBhZ2VOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGZpbmFsTnVtYmVyID0gKG9iai5vcHRpb25zLnBhZ2luYXRpb24gKiBvYmoucGFnZU51bWJlcikgKyBvYmoub3B0aW9ucy5wYWdpbmF0aW9uO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5kYXRhLmxlbmd0aCA8IGZpbmFsTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsTnVtYmVyID0gb2JqLm9wdGlvbnMuZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnROdW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBmaW5hbE51bWJlciA9IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gQXBwZW5kIG5vZGVzIHRvIHRoZSBIVE1MXG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgb2JqLm9wdGlvbnMuZGF0YS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSByb3dcbiAgICAgICAgICAgICAgICB2YXIgdHIgPSBvYmouY3JlYXRlUm93KGosIG9iai5vcHRpb25zLmRhdGFbal0pO1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBsaW5lIHRvIHRoZSB0YWJsZVxuICAgICAgICAgICAgICAgIGlmIChqID49IHN0YXJ0TnVtYmVyICYmIGogPCBmaW5hbE51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBvYmoudGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5sYXp5TG9hZGluZyA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90IGNyZWF0ZSBwYWdpbmF0aW9uIHdpdGggbGF6eWxvYWRpbmcgYWN0aXZhdGVkXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgICAgICBvYmoudXBkYXRlUGFnaW5hdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gTWVyZ2UgY2VsbHNcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5tZXJnZUNlbGxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmoub3B0aW9ucy5tZXJnZUNlbGxzKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IG9iai5vcHRpb25zLm1lcmdlQ2VsbHNba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgICAgIG9iai5zZXRNZXJnZShrZXlzW2ldLCBudW1bMF0sIG51bVsxXSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGEgdGFibGUgd2l0aCBjdXN0b20gY29uZmlndXJhdGlvbnMgaWYgYXBwbGljYWJsZVxuICAgICAgICAgICAgb2JqLnVwZGF0ZVRhYmxlKCk7XG5cclxuICAgICAgICAgICAgLy8gT25sb2FkXHJcbiAgICAgICAgICAgIG9iai5kaXNwYXRjaCgnb25sb2FkJywgZWwsIG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSB3aG9sZSB0YWJsZSBkYXRhXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gYm9vbCBnZXQgaGlnaGxpZ2h0ZWQgY2VsbHMgb25seVxuICAgICAgICAgKiBAcmV0dXJuIGFycmF5IGRhdGFcbiAgICAgICAgICovXG4gICAgICAgIG9iai5nZXREYXRhID0gZnVuY3Rpb24oaGlnaGxpZ2h0ZWQsIGRhdGFPbmx5KSB7XG4gICAgICAgICAgICAvLyBDb250cm9sIHZhcnNcbiAgICAgICAgICAgIHZhciBkYXRhc2V0ID0gW107XG4gICAgICAgICAgICB2YXIgcHggPSAwO1xuICAgICAgICAgICAgdmFyIHB5ID0gMDtcblxyXG4gICAgICAgICAgICAvLyBEYXRhIHR5cGVcclxuICAgICAgICAgICAgdmFyIGRhdGFUeXBlID0gZGF0YU9ubHkgPT0gdHJ1ZSB8fCBvYmoub3B0aW9ucy5jb3B5Q29tcGF0aWJpbGl0eSA9PSBmYWxzZSA/IHRydWUgOiBmYWxzZTtcclxuXG4gICAgICAgICAgICAvLyBDb2x1bW4gYW5kIHJvdyBsZW5ndGhcbiAgICAgICAgICAgIHZhciB4ID0gb2JqLm9wdGlvbnMuY29sdW1ucy5sZW5ndGhcbiAgICAgICAgICAgIHZhciB5ID0gb2JqLm9wdGlvbnMuZGF0YS5sZW5ndGhcbiAgICBcbiAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggdGhlIGNvbHVtbnMgdG8gZ2V0IHRoZSBkYXRhXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHk7IGorKykge1xuICAgICAgICAgICAgICAgIHB4ID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDZWxsIHNlbGVjdGVkIG9yIGZ1bGxzZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgaGlnaGxpZ2h0ZWQgfHwgb2JqLnJlY29yZHNbal1baV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWdobGlnaHQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISBkYXRhc2V0W3B5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFzZXRbcHldID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISBkYXRhVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFzZXRbcHldW3B4XSA9IG9iai5yZWNvcmRzW2pdW2ldLmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YXNldFtweV1bcHhdID0gb2JqLm9wdGlvbnMuZGF0YVtqXVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHB4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHB4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBweSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICByZXR1cm4gZGF0YXNldDtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSB3aG9sZSB0YWJsZSBkYXRhXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gaW50ZWdlciByb3cgbnVtYmVyXG4gICAgICAgICAqIEByZXR1cm4gc3RyaW5nIHZhbHVlXG4gICAgICAgICAqL1xuICAgICAgICBvYmouZ2V0SnNvbiA9IGZ1bmN0aW9uKGhpZ2hsaWdodGVkKSB7XG4gICAgICAgICAgICAvLyBDb250cm9sIHZhcnNcbiAgICAgICAgICAgIHZhciBkYXRhID0gW107XG4gICAgXG4gICAgICAgICAgICAvLyBDb2x1bW4gYW5kIHJvdyBsZW5ndGhcbiAgICAgICAgICAgIHZhciB4ID0gb2JqLm9wdGlvbnMuY29sdW1ucy5sZW5ndGhcbiAgICAgICAgICAgIHZhciB5ID0gb2JqLm9wdGlvbnMuZGF0YS5sZW5ndGhcbiAgICBcbiAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggdGhlIGNvbHVtbnMgdG8gZ2V0IHRoZSBkYXRhXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHk7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciByb3cgPSBudWxsO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghIGhpZ2hsaWdodGVkIHx8IG9iai5yZWNvcmRzW2pdW2ldLmNsYXNzTGlzdC5jb250YWlucygnaGlnaGxpZ2h0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3cgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5jb2x1bW5zW2ldLm5hbWUgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByb3dbb2JqLm9wdGlvbnMuY29sdW1uc1tpXS5uYW1lXSA9IG9iai5vcHRpb25zLmRhdGFbal1baV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKHJvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChyb3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUHJlcGFyZSBKU09OIGluIHRoZSBjb3JyZWN0IGZvcm1hdFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9iai5wcmVwYXJlSnNvbiA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHJvd3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IGRhdGFbaV0ueDtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gZGF0YVtpXS55O1xyXG4gICAgICAgICAgICAgICAgdmFyIGsgPSBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLm5hbWUgPyBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLm5hbWUgOiB4O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSByb3dcclxuICAgICAgICAgICAgICAgIGlmICghIHJvd3NbeV0pIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dzW3ldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3c6IHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByb3dzW3ldLmRhdGFba10gPSBkYXRhW2ldLm5ld1ZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGaWx0ZXIgcm93c1xyXG4gICAgICAgICAgICByZXR1cm4gcm93cy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwgIT0gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBQb3N0IGpzb24gdG8gYSByZW1vdGUgc2VydmVyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb2JqLnNhdmUgPSBmdW5jdGlvbih1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgLy8gUGFyc2UgYW55dGhpbmcgaW4gdGhlIGRhdGEgYmVmb3JlIHNlbmRpbmcgdG8gdGhlIHNlcnZlclxyXG4gICAgICAgICAgICB2YXIgcmV0ID0gb2JqLmRpc3BhdGNoKCdvbmJlZm9yZXNhdmUnLCBlbCwgb2JqLCBkYXRhKTtcclxuY29uc29sZS5sb2cocmV0KTtcclxuICAgICAgICAgICAgaWYgKHJldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3ZlIHVwZGF0ZVxyXG4gICAgICAgICAgICBqU3VpdGVzLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBFdmVudFxyXG4gICAgICAgICAgICAgICAgICAgIG9iai5kaXNwYXRjaCgnb25zYXZlJywgZWwsIG9iaiwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSByb3cgZGF0YSBieSByb3dOdW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIG9iai5nZXRSb3dEYXRhID0gZnVuY3Rpb24ocm93TnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqLm9wdGlvbnMuZGF0YVtyb3dOdW1iZXJdO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSByb3cgZGF0YSBieSByb3dOdW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIG9iai5zZXRSb3dEYXRhID0gZnVuY3Rpb24ocm93TnVtYmVyLCBkYXRhKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5oZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNlbGxcbiAgICAgICAgICAgICAgICB2YXIgY29sdW1uTmFtZSA9IGpleGNlbC5nZXRDb2x1bW5OYW1lRnJvbUlkKFsgaSwgcm93TnVtYmVyIF0pO1xuICAgICAgICAgICAgICAgIC8vIFNldCB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnNldFZhbHVlKGNvbHVtbk5hbWUsIGRhdGFbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGEgY29sdW1uIGRhdGEgYnkgY29sdW1uTnVtYmVyXG4gICAgICAgICAqL1xuICAgICAgICBvYmouZ2V0Q29sdW1uRGF0YSA9IGZ1bmN0aW9uKGNvbHVtbk51bWJlcikge1xuICAgICAgICAgICAgdmFyIGRhdGFzZXQgPSBbXTtcbiAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggdGhlIHJvd3MgdG8gZ2V0IHRoZSBkYXRhXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBkYXRhc2V0LnB1c2gob2JqLm9wdGlvbnMuZGF0YVtqXVtjb2x1bW5OdW1iZXJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhc2V0O1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBjb2x1bW4gZGF0YSBieSBjb2xOdW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIG9iai5zZXRDb2x1bW5EYXRhID0gZnVuY3Rpb24oY29sTnVtYmVyLCBkYXRhKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5yb3dzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNlbGxcbiAgICAgICAgICAgICAgICB2YXIgY29sdW1uTmFtZSA9IGpleGNlbC5nZXRDb2x1bW5OYW1lRnJvbUlkKFsgY29sTnVtYmVyLCBqIF0pO1xuICAgICAgICAgICAgICAgIC8vIFNldCB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhW2pdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnNldFZhbHVlKGNvbHVtbk5hbWUsIGRhdGFbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIHJvd1xuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmNyZWF0ZVJvdyA9IGZ1bmN0aW9uKGosIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBjb250YWluZXJcbiAgICAgICAgICAgIGlmICghIG9iai5yZWNvcmRzW2pdKSB7XG4gICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbal0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERlZmF1bHQgZGF0YVxuICAgICAgICAgICAgaWYgKCEgZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gb2JqLm9wdGlvbnMuZGF0YVtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5ldyBsaW5lIG9mIGRhdGEgdG8gYmUgYXBwZW5kIGluIHRoZSB0YWJsZVxuICAgICAgICAgICAgb2JqLnJvd3Nbal0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICAgICAgb2JqLnJvd3Nbal0uc2V0QXR0cmlidXRlKCdkYXRhLXknLCBqKTtcbiAgICAgICAgICAgIC8vIERlZmluaXRpb25zXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMucm93c1tqXSkge1xuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5yb3dzW2pdLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBvYmoucm93c1tqXS5zdHlsZS5oZWlnaHQgPSBvYmoub3B0aW9ucy5yb3dzW2pdLmhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSb3cgbnVtYmVyIGxhYmVsXG4gICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gcGFyc2VJbnQoaiArIDEpO1xuICAgICAgICAgICAgdGQuc2V0QXR0cmlidXRlKCdkYXRhLXknLCBqKTtcbiAgICAgICAgICAgIHRkLmNsYXNzTmFtZSA9ICdqZXhjZWxfcm93JztcbiAgICAgICAgICAgIG9iai5yb3dzW2pdLmFwcGVuZENoaWxkKHRkKTtcbiAgICBcbiAgICAgICAgICAgIC8vIERhdGEgY29sdW1uc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoub3B0aW9ucy5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gTmV3IGNvbHVtbiBvZiBkYXRhIHRvIGJlIGFwcGVuZCBpbiB0aGUgbGluZVxuICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW2pdW2ldID0gb2JqLmNyZWF0ZUNlbGwoaSwgaiwgZGF0YVtpXSk7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGNvbHVtbiB0byB0aGUgcm93XG4gICAgICAgICAgICAgICAgb2JqLnJvd3Nbal0uYXBwZW5kQ2hpbGQob2JqLnJlY29yZHNbal1baV0pO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gQWRkIHJvdyB0byB0aGUgdGFibGUgYm9keVxuICAgICAgICAgICAgcmV0dXJuIG9iai5yb3dzW2pdO1xuICAgICAgICB9XG4gICAgXHJcbiAgICAgICAgb2JqLnBhcnNlVmFsdWUgPSBmdW5jdGlvbihpLCBqLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoKCcnK3ZhbHVlKS5zdWJzdHIoMCwxKSA9PSAnPScgJiYgb2JqLm9wdGlvbnMucGFyc2VGb3JtdWxhcyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG9iai5leGVjdXRlRm9ybXVsYSh2YWx1ZSwgaSwgailcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1tpXS5tYXNrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVjaW1hbCA9IG9iai5vcHRpb25zLmNvbHVtbnNbaV0uZGVjaW1hbCB8fCAnLic7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICcnICsgalN1aXRlcy5tYXNrLnJ1bih2YWx1ZSwgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS5tYXNrLCBkZWNpbWFsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgY2VsbFxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmNyZWF0ZUNlbGwgPSBmdW5jdGlvbihpLCBqLCB2YWx1ZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGNlbGwgYW5kIHByb3BlcnRpZXNcbiAgICAgICAgICAgIHZhciB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICB0ZC5zZXRBdHRyaWJ1dGUoJ2RhdGEteCcsIGkpO1xuICAgICAgICAgICAgdGQuc2V0QXR0cmlidXRlKCdkYXRhLXknLCBqKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEN1c3RvbSBjb2x1bW5cclxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbaV0uZWRpdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSAgdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLmNvbHVtbnNbaV0uZWRpdG9yLmNyZWF0ZUNlbGwpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZCA9IG9iai5vcHRpb25zLmNvbHVtbnNbaV0uZWRpdG9yLmNyZWF0ZUNlbGwodGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEhpZGRlbiBjb2x1bW5cbiAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1tpXS50eXBlID09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRkLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1tpXS50eXBlID09ICdjaGVja2JveCcgfHwgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS50eXBlID09ICdyYWRpbycpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC50eXBlID0gb2JqLm9wdGlvbnMuY29sdW1uc1tpXS50eXBlO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm5hbWUgPSAnYycgKyBpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNoZWNrZWQgPSAodmFsdWUgPT0gMSB8fCB2YWx1ZSA9PSB0cnVlIHx8IHZhbHVlID09ICd0cnVlJykgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNldFZhbHVlKHRkLCB0aGlzLmNoZWNrZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbaV0ucmVhZE9ubHkgPT0gdHJ1ZSB8fCBvYmoub3B0aW9ucy5lZGl0YWJsZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgdG8gdGhlIHRhYmxlXG4gICAgICAgICAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHZhbHVlcyBhcmUgY29ycmVjdFxuICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5kYXRhW2pdW2ldID0gZWxlbWVudC5jaGVja2VkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1tpXS50eXBlID09ICdjYWxlbmRhcicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IGZvcm1hdHRlZCBkYXRlXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZWQgPSBqU3VpdGVzLmNhbGVuZGFyLmV4dHJhY3REYXRlRnJvbVN0cmluZyh2YWx1ZSwgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS5vcHRpb25zLmZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBjYWxlbmRhciBjZWxsXG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IGpTdWl0ZXMuY2FsZW5kYXIuZ2V0RGF0ZVN0cmluZyhmb3JtYXR0ZWQgPyBmb3JtYXR0ZWQgOiB2YWx1ZSwgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS5vcHRpb25zLmZvcm1hdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW2ldLnR5cGUgPT0gJ2Ryb3Bkb3duJyB8fCBvYmoub3B0aW9ucy5jb2x1bW5zW2ldLnR5cGUgPT0gJ2F1dG9jb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGRyb3Bkb3duIGNlbGxcbiAgICAgICAgICAgICAgICAgICAgdGQuY2xhc3NMaXN0LmFkZCgnamV4Y2VsX2Ryb3Bkb3duJyk7XG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IG9iai5nZXREcm9wRG93blZhbHVlKGksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbaV0udHlwZSA9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW2ldLnJlbmRlciA9PSAnc3F1YXJlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvci5jbGFzc05hbWUgPSAnY29sb3InO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZC5zdHlsZS5jb2xvciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbaV0udHlwZSA9PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5zdWJzdHIoMCwgMTApID09ICdkYXRhOmltYWdlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IG9iai5wYXJzZVZhbHVlKGksIGosIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFJlYWRvbmx5XG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1tpXS5yZWFkT25seSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGQuY2xhc3NOYW1lID0gJ3JlYWRvbmx5JztcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFRleHQgYWxpZ25cbiAgICAgICAgICAgIHZhciBjb2xBbGlnbiA9IG9iai5vcHRpb25zLmNvbHVtbnNbaV0uYWxpZ24gPyBvYmoub3B0aW9ucy5jb2x1bW5zW2ldLmFsaWduIDogJ2NlbnRlcic7XG4gICAgICAgICAgICB0ZC5zdHlsZS50ZXh0QWxpZ24gPSBjb2xBbGlnbjtcbiAgICBcbiAgICAgICAgICAgIC8vIFdyYXAgb3B0aW9uXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1tpXS53b3JkV3JhcCAhPSBmYWxzZSAmJiAob2JqLm9wdGlvbnMud29yZFdyYXAgPT0gdHJ1ZSB8fCBvYmoub3B0aW9ucy5jb2x1bW5zW2ldLndvcmRXcmFwID09IHRydWUgfHwgdGQuaW5uZXJIVE1MLmxlbmd0aCA+IDIwMCkpIHtcbiAgICAgICAgICAgICAgICB0ZC5zdHlsZS53aGl0ZVNwYWNlID0gJ3ByZS13cmFwJztcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIE92ZXJmbG93XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgfHwgdGQuaW5uZXJIVE1MKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW2pdW2ktMV0uc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSBvYmoub3B0aW9ucy5jb2x1bW5zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRkLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICByZXR1cm4gdGQ7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgb2JqLmNyZWF0ZUNlbGxIZWFkZXIgPSBmdW5jdGlvbihjb2xOdW1iZXIpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBjb2wgZ2xvYmFsIGNvbnRyb2xcbiAgICAgICAgICAgIHZhciBjb2xXaWR0aCA9IG9iai5vcHRpb25zLmNvbHVtbnNbY29sTnVtYmVyXS53aWR0aCA/IG9iai5vcHRpb25zLmNvbHVtbnNbY29sTnVtYmVyXS53aWR0aCA6IG9iai5vcHRpb25zLmRlZmF1bHRDb2xXaWR0aDtcbiAgICAgICAgICAgIHZhciBjb2xBbGlnbiA9IG9iai5vcHRpb25zLmNvbHVtbnNbY29sTnVtYmVyXS5hbGlnbiA/IG9iai5vcHRpb25zLmNvbHVtbnNbY29sTnVtYmVyXS5hbGlnbiA6IG9iai5vcHRpb25zLmRlZmF1bHRDb2xBbGlnbjtcbiAgICBcbiAgICAgICAgICAgIC8vIENyZWF0ZSBoZWFkZXIgY2VsbFxuICAgICAgICAgICAgb2JqLmhlYWRlcnNbY29sTnVtYmVyXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICBvYmouaGVhZGVyc1tjb2xOdW1iZXJdLmlubmVySFRNTCA9IG9iai5vcHRpb25zLmNvbHVtbnNbY29sTnVtYmVyXS50aXRsZSA/IG9iai5vcHRpb25zLmNvbHVtbnNbY29sTnVtYmVyXS50aXRsZSA6IGpleGNlbC5nZXRDb2x1bW5OYW1lKGNvbE51bWJlcik7XG4gICAgICAgICAgICBvYmouaGVhZGVyc1tjb2xOdW1iZXJdLnNldEF0dHJpYnV0ZSgnZGF0YS14JywgY29sTnVtYmVyKTtcbiAgICAgICAgICAgIG9iai5oZWFkZXJzW2NvbE51bWJlcl0uc3R5bGUudGV4dEFsaWduID0gY29sQWxpZ247XG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1tjb2xOdW1iZXJdLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgb2JqLmhlYWRlcnNbY29sTnVtYmVyXS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgb2JqLm9wdGlvbnMuY29sdW1uc1tjb2xOdW1iZXJdLnRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFdpZHRoIGNvbnRyb2xcbiAgICAgICAgICAgIG9iai5jb2xncm91cFtjb2xOdW1iZXJdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY29sJyk7XG4gICAgICAgICAgICBvYmouY29sZ3JvdXBbY29sTnVtYmVyXS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgY29sV2lkdGgpO1xuICAgIFxuICAgICAgICAgICAgLy8gSGlkZGVuIGNvbHVtblxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbY29sTnVtYmVyXS50eXBlID09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgb2JqLmhlYWRlcnNbY29sTnVtYmVyXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIG9iai5jb2xncm91cFtjb2xOdW1iZXJdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZSBhIG5lc3RlZCBoZWFkZXIgdGl0bGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBvYmoudXBkYXRlTmVzdGVkSGVhZGVyID0gZnVuY3Rpb24oeCwgeSwgdGl0bGUpIHtcclxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbeV1beF0udGl0bGUpIHtcclxuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbeV1beF0udGl0bGUgPSB0aXRsZTtcclxuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbeV0uZWxlbWVudC5jaGlsZHJlblt4KzFdLmlubmVySFRNTCA9IHRpdGxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDcmVhdGUgYSBuZXN0ZWQgaGVhZGVyIG9iamVjdFxyXG4gICAgICAgICAqL1xuICAgICAgICBvYmouY3JlYXRlTmVzdGVkSGVhZGVyID0gZnVuY3Rpb24obmVzdGVkSW5mb3JtYXRpb24pIHtcbiAgICAgICAgICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgICAgICB0ci5jbGFzc0xpc3QuYWRkKCdqZXhjZWxfbmVzdGVkJyk7XG4gICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgICAgICAvLyBFbGVtZW50XHJcbiAgICAgICAgICAgIG5lc3RlZEluZm9ybWF0aW9uLmVsZW1lbnQgPSB0cjtcbiAgICBcbiAgICAgICAgICAgIHZhciBoZWFkZXJJbmRleCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5lc3RlZEluZm9ybWF0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgICAgICAgICBpZiAoISBuZXN0ZWRJbmZvcm1hdGlvbltpXS5jb2xzcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIG5lc3RlZEluZm9ybWF0aW9uW2ldLmNvbHNwYW4gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISBuZXN0ZWRJbmZvcm1hdGlvbltpXS5hbGlnbikge1xuICAgICAgICAgICAgICAgICAgICBuZXN0ZWRJbmZvcm1hdGlvbltpXS5hbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISBuZXN0ZWRJbmZvcm1hdGlvbltpXS50aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXN0ZWRJbmZvcm1hdGlvbltpXS50aXRsZSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBOdW1iZXIgb2YgY29sdW1uc1xuICAgICAgICAgICAgICAgIHZhciBudW1iZXJPZkNvbHVtbnMgPSBuZXN0ZWRJbmZvcm1hdGlvbltpXS5jb2xzcGFuO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIENsYXNzZXMgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgdmFyIGNvbHVtbiA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIEhlYWRlciBjbGFzc2VzIGZvciB0aGlzIGNlbGxcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bWJlck9mQ29sdW1uczsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW2hlYWRlckluZGV4XSAmJiBvYmoub3B0aW9ucy5jb2x1bW5zW2hlYWRlckluZGV4XS50eXBlID09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJPZkNvbHVtbnMrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4ucHVzaChoZWFkZXJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlckluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZWQgdGhlIG5lc3RlZCBjZWxsXG4gICAgICAgICAgICAgICAgdmFyIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgICAgICB0ZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sdW1uJywgY29sdW1uLmpvaW4oJywnKSk7XG4gICAgICAgICAgICAgICAgdGQuc2V0QXR0cmlidXRlKCdjb2xzcGFuJywgbmVzdGVkSW5mb3JtYXRpb25baV0uY29sc3Bhbik7XG4gICAgICAgICAgICAgICAgdGQuc2V0QXR0cmlidXRlKCdhbGlnbicsIG5lc3RlZEluZm9ybWF0aW9uW2ldLmFsaWduKTtcbiAgICAgICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSBuZXN0ZWRJbmZvcm1hdGlvbltpXS50aXRsZTtcbiAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICByZXR1cm4gdHI7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSB0b29sYmFyXG4gICAgICAgICAqL1xuICAgICAgICBvYmouY3JlYXRlVG9vbGJhciA9IGZ1bmN0aW9uKHRvb2xiYXIpIHtcbiAgICAgICAgICAgIGlmICh0b29sYmFyKSB7XG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMudG9vbGJhciA9IHRvb2xiYXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB0b29sYmFyID0gb2JqLm9wdGlvbnMudG9vbGJhcjtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9vbGJhci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0b29sYmFyW2ldLnR5cGUgPT0gJ2knKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b29sYmFySXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICAgICAgICAgICAgICAgICAgdG9vbGJhckl0ZW0uY2xhc3NMaXN0LmFkZCgnamV4Y2VsX3Rvb2xiYXJfaXRlbScpO1xuICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbS5jbGFzc0xpc3QuYWRkKCdtYXRlcmlhbC1pY29ucycpO1xuICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaycsIHRvb2xiYXJbaV0uayk7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xiYXJJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS12JywgdG9vbGJhcltpXS52KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9vbHRpcFxuICAgICAgICAgICAgICAgICAgICBpZiAodG9vbGJhcltpXS50b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdG9vbGJhcltpXS50b29sdGlwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2xiYXJbaV0ub25jbGljayAmJiB0eXBlb2YodG9vbGJhcltpXS5vbmNsaWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhckl0ZW0ub25jbGljayA9IHRvb2xiYXJbaV0ub25jbGljaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXJJdGVtLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgayA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouc2V0U3R5bGUob2JqLmhpZ2hsaWdodGVkLCBrLCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbS5pbm5lckhUTUwgPSB0b29sYmFyW2ldLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIG9iai50b29sYmFyLmFwcGVuZENoaWxkKHRvb2xiYXJJdGVtKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRvb2xiYXJbaV0udHlwZSA9PSAnc2VsZWN0Jykge1xuICAgICAgICAgICAgICAgICAgIHZhciB0b29sYmFySXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgICAgICAgIHRvb2xiYXJJdGVtLmNsYXNzTGlzdC5hZGQoJ2pleGNlbF90b29sYmFyX2l0ZW0nKTtcbiAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaycsIHRvb2xiYXJbaV0uayk7XG4gICAgICAgICAgICAgICAgICAgLy8gVG9vbHRpcFxuICAgICAgICAgICAgICAgICAgIGlmICh0b29sYmFyW2ldLnRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhckl0ZW0uc2V0QXR0cmlidXRlKCd0aXRsZScsIHRvb2xiYXJbaV0udG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBvbmNoYW5nZVxuICAgICAgICAgICAgICAgICAgIGlmICh0b29sYmFyW2ldLm9uY2hhbmdlICYmIHR5cGVvZih0b29sYmFyW2ldLm9uY2hhbmdlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbS5vbmNoYW5nZSA9IHRvb2xiYXJbaV0ub25jaGFuZ2U7XG4gICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhckl0ZW0ub25jaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNldFN0eWxlKG9iai5oaWdobGlnaHRlZCwgaywgdGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgLy8gQWRkIG9wdGlvbnMgdG8gdGhlIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IHRvb2xiYXJbaV0udi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvb2xiYXJEcm9wZG93bk9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhckRyb3Bkb3duT3B0aW9uLnZhbHVlID0gdG9vbGJhcltpXS52W2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhckRyb3Bkb3duT3B0aW9uLmlubmVySFRNTCA9IHRvb2xiYXJbaV0udltqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXJJdGVtLmFwcGVuZENoaWxkKHRvb2xiYXJEcm9wZG93bk9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgIG9iai50b29sYmFyLmFwcGVuZENoaWxkKHRvb2xiYXJJdGVtKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRvb2xiYXJbaV0udHlwZSA9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICB2YXIgdG9vbGJhckl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbS5jbGFzc0xpc3QuYWRkKCdqZXhjZWxfdG9vbGJhcl9pdGVtJyk7XG4gICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbS5jbGFzc0xpc3QuYWRkKCdtYXRlcmlhbC1pY29ucycpO1xuICAgICAgICAgICAgICAgICAgICAgdG9vbGJhckl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWsnLCB0b29sYmFyW2ldLmspO1xuICAgICAgICAgICAgICAgICAgICAgdG9vbGJhckl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLXYnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAvLyBUb29sdGlwXG4gICAgICAgICAgICAgICAgICAgICBpZiAodG9vbGJhcltpXS50b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhckl0ZW0uc2V0QXR0cmlidXRlKCd0aXRsZScsIHRvb2xiYXJbaV0udG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICBvYmoudG9vbGJhci5hcHBlbmRDaGlsZCh0b29sYmFySXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvci5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbS5pbm5lckhUTUwgPSB0b29sYmFyW2ldLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICBqU3VpdGVzLmNvbG9yKHRvb2xiYXJJdGVtLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6ZnVuY3Rpb24obywgdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgayA9IG8uZ2V0QXR0cmlidXRlKCdkYXRhLWsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNldFN0eWxlKG9iai5oaWdobGlnaHRlZCwgaywgdik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZXJnZSBjZWxsc1xuICAgICAgICAgKiBAcGFyYW0gY2VsbE5hbWVcbiAgICAgICAgICogQHBhcmFtIGNvbHNwYW5cbiAgICAgICAgICogQHBhcmFtIHJvd3NwYW5cbiAgICAgICAgICogQHBhcmFtIGlnbm9yZUhpc3RvcnlBbmRFdmVudHNcbiAgICAgICAgICovXG4gICAgICAgIG9iai5zZXRNZXJnZSA9IGZ1bmN0aW9uKGNlbGxOYW1lLCBjb2xzcGFuLCByb3dzcGFuLCBpZ25vcmVIaXN0b3J5QW5kRXZlbnRzKSB7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IGZhbHNlO1xuICAgIFxuICAgICAgICAgICAgaWYgKCEgY2VsbE5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoISBvYmouaGlnaGxpZ2h0ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KG9iai5vcHRpb25zLnRleHQubm9DZWxsc1NlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgxID0gcGFyc2VJbnQob2JqLmhpZ2hsaWdodGVkWzBdLmdldEF0dHJpYnV0ZSgnZGF0YS14JykpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTEgPSBwYXJzZUludChvYmouaGlnaGxpZ2h0ZWRbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLXknKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB4MiA9IHBhcnNlSW50KG9iai5oaWdobGlnaHRlZFtvYmouaGlnaGxpZ2h0ZWQubGVuZ3RoLTFdLmdldEF0dHJpYnV0ZSgnZGF0YS14JykpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTIgPSBwYXJzZUludChvYmouaGlnaGxpZ2h0ZWRbb2JqLmhpZ2hsaWdodGVkLmxlbmd0aC0xXS5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGxOYW1lID0gamV4Y2VsLmdldENvbHVtbk5hbWVGcm9tSWQoWyB4MSwgeTEgXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xzcGFuID0gKHgyIC0geDEpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvd3NwYW4gPSAoeTIgLSB5MSkgKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHZhciBjZWxsID0gamV4Y2VsLmdldElkRnJvbUNvbHVtbk5hbWUoY2VsbE5hbWUsIHRydWUpO1xuICAgIFxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLm1lcmdlQ2VsbHNbY2VsbE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dLmdldEF0dHJpYnV0ZSgnZGF0YS1tZXJnZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0ID0gb2JqLm9wdGlvbnMudGV4dC5jZWxsQWxyZWFkeU1lcmdlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCghIGNvbHNwYW4gfHwgY29sc3BhbiA8IDIpICYmICghIHJvd3NwYW4gfHwgcm93c3BhbiA8IDIpKSB7XG4gICAgICAgICAgICAgICAgdGVzdCA9IG9iai5vcHRpb25zLnRleHQuaW52YWxpZE1lcmdlUHJvcGVydGllcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGxzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGNlbGxbMV07IGogPCBjZWxsWzFdICsgcm93c3BhbjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBjZWxsWzBdOyBpIDwgY2VsbFswXSArIGNvbHNwYW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbk5hbWUgPSBqZXhjZWwuZ2V0Q29sdW1uTmFtZUZyb21JZChbaSwgal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5yZWNvcmRzW2pdW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1tZXJnZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3QgPSBvYmoub3B0aW9ucy50ZXh0LnRoZXJlSXNBQ29uZmxpY3RXaXRoQW5vdGhlck1lcmdlZENlbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZiAodGVzdCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KHRlc3QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBZGQgcHJvcGVydHlcbiAgICAgICAgICAgICAgICBpZiAoY29sc3BhbiA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0uc2V0QXR0cmlidXRlKCdjb2xzcGFuJywgY29sc3Bhbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29sc3BhbiA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb3dzcGFuID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1tjZWxsWzFdXVtjZWxsWzBdXS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCByb3dzcGFuKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByb3dzcGFuID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gS2VlcCBsaW5rcyB0byB0aGUgZXhpc3Rpbmcgbm9kZXNcbiAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5tZXJnZUNlbGxzW2NlbGxOYW1lXSA9IFsgY29sc3Bhbiwgcm93c3BhbiwgW10gXTtcbiAgICAgICAgICAgICAgICAvLyBNYXJrIGNlbGwgYXMgbWVyZ2VkXG4gICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0uc2V0QXR0cmlidXRlKCdkYXRhLW1lcmdlZCcsICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgLy8gT3ZlcmZsb3dcbiAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1tjZWxsWzFdXVtjZWxsWzBdXS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgICAgIC8vIEhpc3RvcnkgZGF0YVxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gW107XG4gICAgICAgICAgICAgICAgLy8gQWRqdXN0IHRoZSBub2Rlc1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSBjZWxsWzFdOyB5IDwgY2VsbFsxXSArIHJvd3NwYW47IHkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gY2VsbFswXTsgeCA8IGNlbGxbMF0gKyBjb2xzcGFuOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIChjZWxsWzBdID09IHggJiYgY2VsbFsxXSA9PSB5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChvYmoub3B0aW9ucy5kYXRhW3ldW3hdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoudXBkYXRlQ2VsbCh4LCB5LCAnJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMubWVyZ2VDZWxsc1tjZWxsTmFtZV1bMl0ucHVzaChvYmoucmVjb3Jkc1t5XVt4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbeV1beF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1t5XVt4XSA9IG9iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEluIHRoZSBpbml0aWFsaXphdGlvbiBpcyBub3QgbmVjZXNzYXJ5IGtlZXAgdGhlIGhpc3RvcnlcbiAgICAgICAgICAgICAgICBvYmoudXBkYXRlU2VsZWN0aW9uKG9iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dKTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoISBpZ25vcmVIaXN0b3J5QW5kRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5zZXRIaXN0b3J5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjonc2V0TWVyZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOmNlbGxOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sc3Bhbjpjb2xzcGFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93c3Bhbjpyb3dzcGFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTpkYXRhLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBvYmouZGlzcGF0Y2goJ29ubWVyZ2UnLCBlbCwgY2VsbE5hbWUsIGNvbHNwYW4sIHJvd3NwYW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogTWVyZ2UgY2VsbHNcbiAgICAgICAgICogQHBhcmFtIGNlbGxOYW1lXG4gICAgICAgICAqIEBwYXJhbSBjb2xzcGFuXG4gICAgICAgICAqIEBwYXJhbSByb3dzcGFuXG4gICAgICAgICAqIEBwYXJhbSBpZ25vcmVIaXN0b3J5QW5kRXZlbnRzXG4gICAgICAgICAqL1xuICAgICAgICBvYmouZ2V0TWVyZ2UgPSBmdW5jdGlvbihjZWxsTmFtZSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgICAgIGlmIChjZWxsTmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5tZXJnZUNlbGxzW2NlbGxOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gWyBvYmoub3B0aW9ucy5tZXJnZUNlbGxzW2NlbGxOYW1lXVswXSwgb2JqLm9wdGlvbnMubWVyZ2VDZWxsc1tjZWxsTmFtZV1bMV0gXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5tZXJnZUNlbGxzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXJnZWRDZWxscyA9IG9iai5vcHRpb25zLm1lcmdlQ2VsbHM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqLm9wdGlvbnMubWVyZ2VDZWxscyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtrZXlzW2ldXSA9IFsgb2JqLm9wdGlvbnMubWVyZ2VDZWxsc1trZXlzW2ldXVswXSwgb2JqLm9wdGlvbnMubWVyZ2VDZWxsc1trZXlzW2ldXVsxXSBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSBtZXJnZSBieSBjZWxsbmFtZVxuICAgICAgICAgKiBAcGFyYW0gY2VsbE5hbWVcbiAgICAgICAgICovXG4gICAgICAgIG9iai5yZW1vdmVNZXJnZSA9IGZ1bmN0aW9uKGNlbGxOYW1lLCBkYXRhLCBrZWVwT3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLm1lcmdlQ2VsbHNbY2VsbE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSBqZXhjZWwuZ2V0SWRGcm9tQ29sdW1uTmFtZShjZWxsTmFtZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0ucmVtb3ZlQXR0cmlidXRlKCdjb2xzcGFuJyk7XG4gICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0ucmVtb3ZlQXR0cmlidXRlKCdyb3dzcGFuJyk7XG4gICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0ucmVtb3ZlQXR0cmlidXRlKCdkYXRhLW1lcmdlZCcpO1xuICAgICAgICAgICAgICAgIHZhciBpbmZvID0gb2JqLm9wdGlvbnMubWVyZ2VDZWxsc1tjZWxsTmFtZV07XG4gICAgXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGluZm9bMV07IGorKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZm9bMF07IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPiAwIHx8IGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbY2VsbFsxXStqXVtjZWxsWzBdK2ldID0gaW5mb1syXVtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbY2VsbFsxXStqXVtjZWxsWzBdK2ldLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWNvdmVyIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhW2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoudXBkYXRlQ2VsbChjZWxsWzBdK2ksIGNlbGxbMV0raiwgZGF0YVtpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICBvYmoudXBkYXRlU2VsZWN0aW9uKG9iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dLCBvYmoucmVjb3Jkc1tjZWxsWzFdK2otMV1bY2VsbFswXStpLTFdKTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoISBrZWVwT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUob2JqLm9wdGlvbnMubWVyZ2VDZWxsc1tjZWxsTmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIGFsbCBtZXJnZWQgY2VsbHNcbiAgICAgICAgICovXG4gICAgICAgIG9iai5kZXN0cm95TWVyZ2VkID0gZnVuY3Rpb24oa2VlcE9wdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgbWVyZ2VkIGNlbGxzXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubWVyZ2VDZWxscykge1xuICAgICAgICAgICAgICAgIHZhciBtZXJnZWRDZWxscyA9IG9iai5vcHRpb25zLm1lcmdlQ2VsbHM7XG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmoub3B0aW9ucy5tZXJnZUNlbGxzKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJlbW92ZU1lcmdlKGtleXNbaV0sIG51bGwsIGtlZXBPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIGNvbHVtbiBtZXJnZWRcbiAgICAgICAgICovXG4gICAgICAgIG9iai5pc0NvbE1lcmdlZCA9IGZ1bmN0aW9uKHgsIGluc2VydEJlZm9yZSkge1xuICAgICAgICAgICAgdmFyIGNvbHMgPSBbXTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgbWVyZ2VkIGNlbGxzXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubWVyZ2VDZWxscykge1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqLm9wdGlvbnMubWVyZ2VDZWxscyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmZvID0gamV4Y2VsLmdldElkRnJvbUNvbHVtbk5hbWUoa2V5c1tpXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xzcGFuID0gb2JqLm9wdGlvbnMubWVyZ2VDZWxsc1trZXlzW2ldXVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgxID0gaW5mb1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgyID0gaW5mb1swXSArIChjb2xzcGFuID4gMSA/IGNvbHNwYW4gLSAxIDogMCk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnNlcnRCZWZvcmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MSA8PSB4ICYmIHgyID49IHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29scy5wdXNoKGtleXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc2VydEJlZm9yZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoeDEgPCB4ICYmIHgyID49IHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHMucHVzaChrZXlzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoeDEgPD0geCAmJiB4MiA+IHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHMucHVzaChrZXlzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICByZXR1cm4gY29scztcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogSXMgcm93cyBtZXJnZWRcbiAgICAgICAgICovXG4gICAgICAgIG9iai5pc1Jvd01lcmdlZCA9IGZ1bmN0aW9uKHksIGluc2VydEJlZm9yZSkge1xuICAgICAgICAgICAgdmFyIHJvd3MgPSBbXTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgbWVyZ2VkIGNlbGxzXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubWVyZ2VDZWxscykge1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqLm9wdGlvbnMubWVyZ2VDZWxscyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmZvID0gamV4Y2VsLmdldElkRnJvbUNvbHVtbk5hbWUoa2V5c1tpXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dzcGFuID0gb2JqLm9wdGlvbnMubWVyZ2VDZWxsc1trZXlzW2ldXVsxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkxID0gaW5mb1sxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkyID0gaW5mb1sxXSArIChyb3dzcGFuID4gMSA/IHJvd3NwYW4gLSAxIDogMCk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnNlcnRCZWZvcmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh5MSA8PSB5ICYmIHkyID49IHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5wdXNoKGtleXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc2VydEJlZm9yZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoeTEgPCB5ICYmIHkyID49IHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaChrZXlzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoeTEgPD0geSAmJiB5MiA+IHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaChrZXlzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICByZXR1cm4gcm93cztcbiAgICAgICAgfVxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogT3BlbiB0aGUgY29sdW1uIGZpbHRlclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9iai5vcGVuRmlsdGVyID0gZnVuY3Rpb24oY29sdW1uSWQpIHtcclxuICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMuZmlsdGVycykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0pFWENFTDogZmlsdGVycyBub3QgZW5hYmxlZC4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBpcyBpbnRlZ2VyXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5JZCA9IHBhcnNlSW50KGNvbHVtbklkKTtcclxuICAgICAgICAgICAgICAgIC8vIFJlc2V0IHNlbGVjdGlvblxyXG4gICAgICAgICAgICAgICAgb2JqLnJlc2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBMb2FkIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgayA9IG9iai5vcHRpb25zLmRhdGFbal1bY29sdW1uSWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2ID0gb2JqLnJlY29yZHNbal1bY29sdW1uSWRdLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoayAmJiB2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnNba10gPSB2O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uc0ZpbHRlcmVkID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zRmlsdGVyZWQucHVzaCh7IGlkOiBrZXlzW2pdLCBuYW1lOiBvcHRpb25zW2tleXNbal1dIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgb2JqLmZpbHRlci5jaGlsZHJlbltjb2x1bW5JZCArIDFdLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgb2JqLmZpbHRlci5jaGlsZHJlbltjb2x1bW5JZCArIDFdLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgICAgICBvYmouZmlsdGVyLmNoaWxkcmVuW2NvbHVtbklkICsgMV0uc3R5bGUucGFkZGluZ0xlZnQgPSAnMHB4JztcclxuICAgICAgICAgICAgICAgIG9iai5maWx0ZXIuY2hpbGRyZW5bY29sdW1uSWQgKyAxXS5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnMjBweCc7XHJcbiAgICAgICAgICAgICAgICBvYmouZmlsdGVyLmNoaWxkcmVuW2NvbHVtbklkICsgMV0uc3R5bGUub3ZlcmZsb3cgPSAnaW5pdGlhbCc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRHluYW1pYyBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgalN1aXRlcy5kcm9wZG93bihkaXYsIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBvcHRpb25zRmlsdGVyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb2JqLmZpbHRlcnNbY29sdW1uSWRdID8gb2JqLmZpbHRlcnNbY29sdW1uSWRdIDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6JzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAob2JqLm9wdGlvbnMudGFibGVPdmVyZmxvdyA9PSB0cnVlIHx8IG9iai5vcHRpb25zLmZ1bGxzY3JlZW4gPT0gdHJ1ZSkgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgb25jbG9zZTogZnVuY3Rpb24obykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVzZXRGaWx0ZXJzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5maWx0ZXJzW2NvbHVtbklkXSA9IG8uZHJvcGRvd24uZ2V0VmFsdWUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5maWx0ZXIuY2hpbGRyZW5bY29sdW1uSWQgKyAxXS5pbm5lckhUTUwgPSBvLmRyb3Bkb3duLmdldFRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZpbHRlci5jaGlsZHJlbltjb2x1bW5JZCArIDFdLnN0eWxlLnBhZGRpbmdMZWZ0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5maWx0ZXIuY2hpbGRyZW5bY29sdW1uSWQgKyAxXS5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZpbHRlci5jaGlsZHJlbltjb2x1bW5JZCArIDFdLnN0eWxlLm92ZXJmbG93ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jbG9zZUZpbHRlcihjb2x1bW5JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9iai5yZXNldEZpbHRlcnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmZpbHRlcnMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmZpbHRlci5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5maWx0ZXIuY2hpbGRyZW5baV0uaW5uZXJIVE1MID0gJyZuYnNwOyc7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmZpbHRlcnNbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvYmouY2xvc2VGaWx0ZXIgPSBmdW5jdGlvbihjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICBpZiAoISBjb2x1bW5JZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouZmlsdGVyLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5maWx0ZXJzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbklkID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNlYXJjaCBmaWx0ZXJcclxuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IGZ1bmN0aW9uKHF1ZXJ5LCB4LCB5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXJ5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgnJytvYmoub3B0aW9ucy5kYXRhW3ldW3hdKS5zZWFyY2gocXVlcnlbaV0pID49IDAgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCcnK29iai5yZWNvcmRzW3ldW3hdLmlubmVySFRNTCkuc2VhcmNoKHF1ZXJ5W2ldKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gb2JqLmZpbHRlcnNbY29sdW1uSWRdO1xyXG4gICAgICAgICAgICBvYmoucmVzdWx0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWFyY2gocXVlcnksIGNvbHVtbklkLCBqKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5yZXN1bHRzLnB1c2goaik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEgb2JqLnJlc3VsdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBvYmoucmVzdWx0cyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9iai51cGRhdGVSZXN1bHQoKTtcclxuICAgICAgICB9XHJcblxuICAgICAgICAvKipcbiAgICAgICAgICogT3BlbiB0aGUgZWRpdG9yXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gb2JqZWN0IGNlbGxcbiAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBvYmoub3BlbkVkaXRvciA9IGZ1bmN0aW9uKGNlbGwsIGVtcHR5LCBlKSB7XG4gICAgICAgICAgICAvLyBHZXQgY2VsbCBwb3NpdGlvblxuICAgICAgICAgICAgdmFyIHkgPSBjZWxsLmdldEF0dHJpYnV0ZSgnZGF0YS15Jyk7XG4gICAgICAgICAgICB2YXIgeCA9IGNlbGwuZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcbiAgICBcbiAgICAgICAgICAgIC8vIE9uIGVkaXRpb24gc3RhcnRcbiAgICAgICAgICAgIG9iai5kaXNwYXRjaCgnb25lZGl0aW9uc3RhcnQnLCBlbCwgY2VsbCwgeCwgeSk7XG4gICAgXG4gICAgICAgICAgICAvLyBPdmVyZmxvd1xuICAgICAgICAgICAgaWYgKHggPiAwKSB7XG4gICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbeV1beC0xXS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIGVkaXRvclxuICAgICAgICAgICAgdmFyIGNyZWF0ZUVkaXRvciA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBDZWxsIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAgICAgdmFyIGluZm8gPSBjZWxsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBkcm9wZG93blxuICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgICAgICAgICAgICAgIGVkaXRvci5zdHlsZS53aWR0aCA9IChpbmZvLndpZHRoKSArICdweCc7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnN0eWxlLmhlaWdodCA9IChpbmZvLmhlaWdodCAtIDIpICsgJ3B4JztcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc3R5bGUubWluSGVpZ2h0ID0gKGluZm8uaGVpZ2h0IC0gMikgKyAncHgnO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIEVkaXQgY2VsbFxuICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnZWRpdG9yJyk7XG4gICAgICAgICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICBjZWxsLmFwcGVuZENoaWxkKGVkaXRvcik7XG4gICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRvcjtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFJlYWRvbmx5XG4gICAgICAgICAgICBpZiAoY2VsbC5jbGFzc0xpc3QuY29udGFpbnMoJ3JlYWRvbmx5JykgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSG9sZGVyXG4gICAgICAgICAgICAgICAgb2JqLmVkaXRpb24gPSBbIG9iai5yZWNvcmRzW3ldW3hdLCBvYmoucmVjb3Jkc1t5XVt4XS5pbm5lckhUTUwsIHgsIHkgXTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGN1c3RvbSBlZGl0b3IgZm9yIGl0XG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0uZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEN1c3RvbSBlZGl0b3JzXG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbeF0uZWRpdG9yLm9wZW5FZGl0b3IoY2VsbCwgZWwsIGVtcHR5LCBlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBOYXRpdmUgZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ2NoZWNrYm94JyB8fCBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjZWxsLmNoaWxkcmVuWzBdLmNoZWNrZWQgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUb29nbGUgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zZXRWYWx1ZShjZWxsLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3Qga2VlcCBlZGl0aW9uIG9wZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5lZGl0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ2Ryb3Bkb3duJyB8fCBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ2F1dG9jb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBjdXJyZW50IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmoub3B0aW9ucy5kYXRhW3ldW3hdO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLmNvbHVtbnNbeF0uZmlsdGVyKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IG9iai5vcHRpb25zLmNvbHVtbnNbeF0uZmlsdGVyKGVsLCBjZWxsLCB4LCB5LCBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBlZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSBjcmVhdGVFZGl0b3IoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlOiBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLm11bHRpcGxlID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogb2JqLm9wdGlvbnMuY29sdW1uc1t4XS5hdXRvY29tcGxldGUgfHwgb2JqLm9wdGlvbnMuY29sdW1uc1t4XS50eXBlID09ICdhdXRvY29tcGxldGUnID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5lZDp0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLm11bHRpcGxlID8gdmFsdWUuc3BsaXQoJzsnKSA6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOicxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ZWRpdG9yLnN0eWxlLm1pbkhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogKG9iai5vcHRpb25zLnRhYmxlT3ZlcmZsb3cgPT0gdHJ1ZSB8fCBvYmoub3B0aW9ucy5mdWxsc2NyZWVuID09IHRydWUpID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xvc2U6ZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jbG9zZUVkaXRvcihjZWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0ub3B0aW9ucyAmJiBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLm9wdGlvbnMudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMudHlwZSA9IG9iai5vcHRpb25zLmNvbHVtbnNbeF0ub3B0aW9ucy50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgalN1aXRlcy5kcm9wZG93bihlZGl0b3IsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnY2FsZW5kYXInIHx8IG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gb2JqLm9wdGlvbnMuZGF0YVt5XVt4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBlZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSBjcmVhdGVFZGl0b3IoJ2lucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IudmFsdWUgPSB2YWx1ZTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy50YWJsZU92ZXJmbG93ID09IHRydWUgfHwgb2JqLm9wdGlvbnMuZnVsbHNjcmVlbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29sdW1uc1t4XS5vcHRpb25zLnBvc2l0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbeF0ub3B0aW9ucy52YWx1ZSA9IG9iai5vcHRpb25zLmRhdGFbeV1beF07XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLm9wdGlvbnMub3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbeF0ub3B0aW9ucy5vbmNsb3NlID0gZnVuY3Rpb24oZWwsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNsb3NlRWRpdG9yKGNlbGwsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3VycmVudCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalN1aXRlcy5jb2xvcihlZGl0b3IsIG9iai5vcHRpb25zLmNvbHVtbnNbeF0ub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpTdWl0ZXMuY2FsZW5kYXIoZWRpdG9yLCBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9jdXMgb24gZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnaHRtbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gb2JqLm9wdGlvbnMuZGF0YVt5XVt4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGVkaXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gY3JlYXRlRWRpdG9yKCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnamV4Y2VsX3JpY2h0ZXh0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqU3VpdGVzLmVkaXRvcihkaXYsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGNlbGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY3RDb250ZW50ID0gZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmlubmVySGVpZ2h0IDwgcmVjdC5ib3R0b20gKyByZWN0Q29udGVudC5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSAocmVjdC50b3AgLSAocmVjdENvbnRlbnQuaGVpZ2h0ICsgMikpICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSAocmVjdC50b3ApICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltZyA9IGNlbGwuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gY3JlYXRlRWRpdG9yKCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnamNsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nICYmIGltZy5zcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgalN1aXRlcy5pbWFnZShkaXYsIG9iai5vcHRpb25zLmltYWdlT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gY2VsbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY3RDb250ZW50ID0gZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCA8IHJlY3QuYm90dG9tICsgcmVjdENvbnRlbnQuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IChyZWN0LnRvcCAtIChyZWN0Q29udGVudC5oZWlnaHQgKyAyKSkgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gKHJlY3QudG9wKSArICdweCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZW1wdHkgPT0gdHJ1ZSA/ICcnIDogb2JqLm9wdGlvbnMuZGF0YVt5XVt4XTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJhc2ljIGVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0ud29yZFdyYXAgIT0gZmFsc2UgJiYgKG9iai5vcHRpb25zLndvcmRXcmFwID09IHRydWUgfHwgb2JqLm9wdGlvbnMuY29sdW1uc1t4XS53b3JkV3JhcCA9PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSBjcmVhdGVFZGl0b3IoJ3RleHRhcmVhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSBjcmVhdGVFZGl0b3IoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0ubWFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0QXR0cmlidXRlKCdkYXRhLW1hc2snLCBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLm1hc2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5vbmJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouY2xvc2VFZGl0b3IoY2VsbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogQ2xvc2UgdGhlIGVkaXRvciBhbmQgc2F2ZSB0aGUgaW5mb3JtYXRpb25cbiAgICAgICAgICogXG4gICAgICAgICAqIEBwYXJhbSBvYmplY3QgY2VsbFxuICAgICAgICAgKiBAcGFyYW0gYm9vbGVhbiBzYXZlXG4gICAgICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmNsb3NlRWRpdG9yID0gZnVuY3Rpb24oY2VsbCwgc2F2ZSkge1xuICAgICAgICAgICAgdmFyIHggPSBwYXJzZUludChjZWxsLmdldEF0dHJpYnV0ZSgnZGF0YS14JykpO1xuICAgICAgICAgICAgdmFyIHkgPSBwYXJzZUludChjZWxsLmdldEF0dHJpYnV0ZSgnZGF0YS15JykpO1xuXG4gICAgICAgICAgICAvLyBHZXQgY2VsbCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBpZiAoc2F2ZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgY3VzdG9tIGVkaXRvclxuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW3hdLmVkaXRvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBDdXN0b20gZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9iai5vcHRpb25zLmNvbHVtbnNbeF0uZWRpdG9yLmNsb3NlRWRpdG9yKGNlbGwsIHNhdmUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5hdGl2ZSBmdW5jdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnY2hlY2tib3gnIHx8IG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAncmFkaW8nIHx8IG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnZHJvcGRvd24nIHx8IG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnYXV0b2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY2VsbC5jaGlsZHJlblswXS5kcm9wZG93bi5jbG9zZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnY2FsZW5kYXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNlbGwuY2hpbGRyZW5bMF0uY2FsZW5kYXIuY2xvc2UodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ2NvbG9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY2VsbC5jaGlsZHJlblswXS5jb2xvci5jbG9zZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnaHRtbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY2VsbC5jaGlsZHJlblswXS5jaGlsZHJlblswXS5lZGl0b3IuZ2V0RGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1nID0gY2VsbC5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGltZyAmJiBpbWcudGFnTmFtZSA9PSAnSU1HJyA/IGltZy5zcmMgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ251bWVyaWMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjZWxsLmNoaWxkcmVuWzBdLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnN1YnN0cigwLDEpICE9ICc9Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG9iai5vcHRpb25zLmNvbHVtbnNbeF0uYWxsb3dFbXB0eSA/ICcnIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNoaWxkcmVuWzBdLm9uYmx1ciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjZWxsLmNoaWxkcmVuWzBdLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jaGlsZHJlblswXS5vbmJsdXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIGNoYW5nZXMgaWYgdGhlIHZhbHVlIGlzIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmRhdGFbeV1beF0gPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBvYmouZWRpdGlvblsxXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmouc2V0VmFsdWUoY2VsbCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0uZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEN1c3RvbSBlZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29sdW1uc1t4XS5lZGl0b3IuY2xvc2VFZGl0b3IoY2VsbCwgc2F2ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnZHJvcGRvd24nIHx8IG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnYXV0b2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jaGlsZHJlblswXS5kcm9wZG93bi5jbG9zZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ2NhbGVuZGFyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jaGlsZHJlblswXS5jYWxlbmRhci5jbG9zZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ2NvbG9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jaGlsZHJlblswXS5jb2xvci5jbG9zZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2hpbGRyZW5bMF0ub25ibHVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBSZXN0b3JlIHZhbHVlXG4gICAgICAgICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBvYmouZWRpdGlvbiAmJiBvYmouZWRpdGlvblsxXSA/IG9iai5lZGl0aW9uWzFdIDogJyc7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBPbiBlZGl0aW9uIGVuZFxyXG4gICAgICAgICAgICBvYmouZGlzcGF0Y2goJ29uZWRpdGlvbmVuZCcsIGVsLCBjZWxsLCB4LCB5LCB2YWx1ZSwgc2F2ZSk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBlZGl0b3IgY2xhc3NcbiAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZSgnZWRpdG9yJyk7XG4gICAgXG4gICAgICAgICAgICAvLyBGaW5pc2ggZWRpdGlvblxuICAgICAgICAgICAgb2JqLmVkaXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGNlbGwgb2JqZWN0XG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gb2JqZWN0IGNlbGxcbiAgICAgICAgICogQHJldHVybiBzdHJpbmcgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIG9iai5nZXRDZWxsID0gZnVuY3Rpb24oY2VsbCkge1xuICAgICAgICAgICAgLy8gQ29udmVydCBpbiBjYXNlIG5hbWUgaXMgZXhjZWwgbGlrZWQgZXguIEExMCwgQkI5MlxuICAgICAgICAgICAgY2VsbCA9IGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lKGNlbGwsIHRydWUpO1xuICAgICAgICAgICAgdmFyIHggPSBjZWxsWzBdO1xuICAgICAgICAgICAgdmFyIHkgPSBjZWxsWzFdO1xuICAgIFxuICAgICAgICAgICAgcmV0dXJuIG9iai5yZWNvcmRzW3ldW3hdO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGNlbGwgb2JqZWN0IGZyb20gY29vcmRzXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gb2JqZWN0IGNlbGxcbiAgICAgICAgICogQHJldHVybiBzdHJpbmcgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIG9iai5nZXRDZWxsRnJvbUNvb3JkcyA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmoucmVjb3Jkc1t5XVt4XTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGxhYmVsXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gb2JqZWN0IGNlbGxcbiAgICAgICAgICogQHJldHVybiBzdHJpbmcgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIG9iai5nZXRMYWJlbCA9IGZ1bmN0aW9uKGNlbGwpIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgaW4gY2FzZSBuYW1lIGlzIGV4Y2VsIGxpa2VkIGV4LiBBMTAsIEJCOTJcbiAgICAgICAgICAgIGNlbGwgPSBqZXhjZWwuZ2V0SWRGcm9tQ29sdW1uTmFtZShjZWxsLCB0cnVlKTtcbiAgICAgICAgICAgIHZhciB4ID0gY2VsbFswXTtcbiAgICAgICAgICAgIHZhciB5ID0gY2VsbFsxXTtcbiAgICBcbiAgICAgICAgICAgIHJldHVybiBvYmoucmVjb3Jkc1t5XVt4XS5pbm5lckhUTUw7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBsYWJlbGZyb20gY29vcmRzXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gb2JqZWN0IGNlbGxcbiAgICAgICAgICogQHJldHVybiBzdHJpbmcgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIG9iai5nZXRMYWJlbEZyb21Db29yZHMgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqLnJlY29yZHNbeV1beF0uaW5uZXJIVE1MO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHZhbHVlIGZyb20gYSBjZWxsXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gb2JqZWN0IGNlbGxcbiAgICAgICAgICogQHJldHVybiBzdHJpbmcgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIG9iai5nZXRWYWx1ZSA9IGZ1bmN0aW9uKGNlbGwsIHByb2Nlc3NlZFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mKGNlbGwpID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBjZWxsLmdldEF0dHJpYnV0ZSgnZGF0YS14Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBjZWxsLmdldEF0dHJpYnV0ZSgnZGF0YS15Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNlbGwgPSBqZXhjZWwuZ2V0SWRGcm9tQ29sdW1uTmFtZShjZWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IGNlbGxbMF07XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBjZWxsWzFdO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgdmFyIHZhbHVlID0gbnVsbDtcbiAgICBcbiAgICAgICAgICAgIGlmICh4ICE9IG51bGwgJiYgeSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5yZWNvcmRzW3ldICYmIG9iai5yZWNvcmRzW3ldW3hdICYmIChwcm9jZXNzZWRWYWx1ZSB8fCBvYmoub3B0aW9ucy5jb3B5Q29tcGF0aWJpbGl0eSA9PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG9iai5yZWNvcmRzW3ldW3hdLmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuZGF0YVt5XSAmJiBvYmoub3B0aW9ucy5kYXRhW3ldW3hdICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG9iai5vcHRpb25zLmRhdGFbeV1beF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgdmFsdWUgZnJvbSBhIGNvb3Jkc1xuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIGludCB4XG4gICAgICAgICAqIEBwYXJhbSBpbnQgeVxuICAgICAgICAgKiBAcmV0dXJuIHN0cmluZyB2YWx1ZVxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmdldFZhbHVlRnJvbUNvb3JkcyA9IGZ1bmN0aW9uKHgsIHksIHByb2Nlc3NlZFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBudWxsO1xuICAgIFxuICAgICAgICAgICAgaWYgKHggIT0gbnVsbCAmJiB5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoKG9iai5yZWNvcmRzW3ldICYmIG9iai5yZWNvcmRzW3ldW3hdKSAmJiBwcm9jZXNzZWRWYWx1ZSB8fCBvYmoub3B0aW9ucy5jb3B5Q29tcGF0aWJpbGl0eSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb2JqLnJlY29yZHNbeV1beF0uaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5kYXRhW3ldICYmIG9iai5vcHRpb25zLmRhdGFbeV1beF0gIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb2JqLm9wdGlvbnMuZGF0YVt5XVt4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgY2VsbCB2YWx1ZVxuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIG1peGVkIGNlbGwgZGVzdGluYXRpb24gY2VsbFxuICAgICAgICAgKiBAcGFyYW0gc3RyaW5nIHZhbHVlIHZhbHVlXG4gICAgICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLnNldFZhbHVlID0gZnVuY3Rpb24oY2VsbCwgdmFsdWUsIGZvcmNlKSB7XG4gICAgICAgICAgICB2YXIgcmVjb3JkcyA9IFtdO1xuICAgIFxuICAgICAgICAgICAgaWYgKHR5cGVvZihjZWxsKSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciBjb2x1bW5JZCA9IGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lKGNlbGwsIHRydWUpO1xuICAgICAgICAgICAgICAgIHZhciB4ID0gY29sdW1uSWRbMF07XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBjb2x1bW5JZFsxXTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY2VsbFxuICAgICAgICAgICAgICAgIHJlY29yZHMucHVzaChvYmoudXBkYXRlQ2VsbCh4LCB5LCB2YWx1ZSwgZm9yY2UpKTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYWxsIGZvcm11bGFzIGluIHRoZSBjaGFpblxuICAgICAgICAgICAgICAgIG9iai51cGRhdGVGb3JtdWxhQ2hhaW4oeCwgeSwgcmVjb3Jkcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGNlbGwgJiYgY2VsbC5nZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBjZWxsLmdldEF0dHJpYnV0ZSgnZGF0YS14Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gY2VsbC5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY2VsbFxuICAgICAgICAgICAgICAgIGlmICh4ICE9IG51bGwgJiYgeSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZHMucHVzaChvYmoudXBkYXRlQ2VsbCh4LCB5LCB2YWx1ZSwgZm9yY2UpKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCBmb3JtdWxhcyBpbiB0aGUgY2hhaW5cbiAgICAgICAgICAgICAgICAgICAgb2JqLnVwZGF0ZUZvcm11bGFDaGFpbih4LCB5LCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNlbGwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGNlbGxbaV0pID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW5JZCA9IGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lKGNlbGxbaV0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGNvbHVtbklkWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IGNvbHVtbklkWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGxbaV0ueCAhPSBudWxsICYmIGNlbGxbaV0ueSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4ID0gY2VsbFtpXS54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IGNlbGxbaV0ueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmxleGlibGUgc2V0dXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGxbaV0ubmV3VmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjZWxsW2ldLm5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNlbGxbaV0udmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjZWxsW2ldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4ID0gY2VsbFtpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEteCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBjZWxsW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS15Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeCAhPSBudWxsICYmIHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRzLnB1c2gob2JqLnVwZGF0ZUNlbGwoeCwgeSwgdmFsdWUsIGZvcmNlKSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBhbGwgZm9ybXVsYXMgaW4gdGhlIGNoYWluXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai51cGRhdGVGb3JtdWxhQ2hhaW4oeCwgeSwgcmVjb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIGhpc3RvcnlcbiAgICAgICAgICAgIG9iai5zZXRIaXN0b3J5KHtcbiAgICAgICAgICAgICAgICBhY3Rpb246J3NldFZhbHVlJyxcbiAgICAgICAgICAgICAgICByZWNvcmRzOnJlY29yZHMsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOm9iai5zZWxlY3RlZENlbGwsXG4gICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0YWJsZSB3aXRoIGN1c3RvbSBjb25maWd1cmF0aW9ucyBpZiBhcHBsaWNhYmxlXG4gICAgICAgICAgICBvYmoudXBkYXRlVGFibGUoKTtcbiAgICBcbiAgICAgICAgICAgIC8vIE9uIGFmdGVyIGNoYW5nZXNcbiAgICAgICAgICAgIG9iai5vbmFmdGVyY2hhbmdlcyhlbCwgcmVjb3Jkcyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGNlbGwgdmFsdWUgYmFzZWQgb24gY29vcmRpbmF0ZXNcbiAgICAgICAgICogXG4gICAgICAgICAqIEBwYXJhbSBpbnQgeCBkZXN0aW5hdGlvbiBjZWxsXG4gICAgICAgICAqIEBwYXJhbSBpbnQgeSBkZXN0aW5hdGlvbiBjZWxsXG4gICAgICAgICAqIEBwYXJhbSBzdHJpbmcgdmFsdWVcbiAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBvYmouc2V0VmFsdWVGcm9tQ29vcmRzID0gZnVuY3Rpb24oeCwgeSwgdmFsdWUsIGZvcmNlKSB7XG4gICAgICAgICAgICB2YXIgcmVjb3JkcyA9IFtdO1xuICAgICAgICAgICAgcmVjb3Jkcy5wdXNoKG9iai51cGRhdGVDZWxsKHgsIHksIHZhbHVlLCBmb3JjZSkpO1xuICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCBmb3JtdWxhcyBpbiB0aGUgY2hhaW5cbiAgICAgICAgICAgIG9iai51cGRhdGVGb3JtdWxhQ2hhaW4oeCwgeSwgcmVjb3Jkcyk7XG4gICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgaGlzdG9yeVxuICAgICAgICAgICAgb2JqLnNldEhpc3Rvcnkoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjonc2V0VmFsdWUnLFxuICAgICAgICAgICAgICAgIHJlY29yZHM6cmVjb3JkcyxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246b2JqLnNlbGVjdGVkQ2VsbCxcbiAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHRhYmxlIHdpdGggY3VzdG9tIGNvbmZpZ3VyYXRpb25zIGlmIGFwcGxpY2FibGVcbiAgICAgICAgICAgIG9iai51cGRhdGVUYWJsZSgpO1xuICAgIFxuICAgICAgICAgICAgLy8gT24gYWZ0ZXIgY2hhbmdlc1xuICAgICAgICAgICAgb2JqLm9uYWZ0ZXJjaGFuZ2VzKGVsLCByZWNvcmRzKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVG9vZ2xlXG4gICAgICAgICAqL1xuICAgICAgICBvYmouc2V0Q2hlY2tSYWRpb1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcmVjb3JkcyA9IFtdO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmouaGlnaGxpZ2h0ZWQpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBvYmouaGlnaGxpZ2h0ZWRbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IG9iai5oaWdobGlnaHRlZFtpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ2NoZWNrYm94JyB8fCBvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY2VsbFxuICAgICAgICAgICAgICAgICAgICByZWNvcmRzLnB1c2gob2JqLnVwZGF0ZUNlbGwoeCwgeSwgISBvYmoub3B0aW9ucy5kYXRhW3ldW3hdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKHJlY29yZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGhpc3RvcnlcbiAgICAgICAgICAgICAgICBvYmouc2V0SGlzdG9yeSh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjonc2V0VmFsdWUnLFxuICAgICAgICAgICAgICAgICAgICByZWNvcmRzOnJlY29yZHMsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjpvYmouc2VsZWN0ZWRDZWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIE9uIGFmdGVyIGNoYW5nZXNcbiAgICAgICAgICAgICAgICBvYmoub25hZnRlcmNoYW5nZXMoZWwsIHJlY29yZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgY2VsbCBjb250ZW50XG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gb2JqZWN0IGNlbGxcbiAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBvYmoudXBkYXRlQ2VsbCA9IGZ1bmN0aW9uKHgsIHksIHZhbHVlLCBmb3JjZSkge1xuICAgICAgICAgICAgLy8gQ2hhbmdpbmcgdmFsdWUgZGVwZW5kaW5nIG9uIHRoZSBjb2x1bW4gdHlwZVxuICAgICAgICAgICAgaWYgKG9iai5yZWNvcmRzW3ldW3hdLmNsYXNzTGlzdC5jb250YWlucygncmVhZG9ubHknKSA9PSB0cnVlICYmICEgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogeSxcclxuICAgICAgICAgICAgICAgICAgICBjb2w6IHgsXHJcbiAgICAgICAgICAgICAgICAgICAgcm93OiB5XHJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9uIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IG9iai5kaXNwYXRjaCgnb25iZWZvcmVjaGFuZ2UnLCBlbCwgb2JqLnJlY29yZHNbeV1beF0sIHgsIHksIHZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB5b3UgcmV0dXJuIHNvbWV0aGluZyB0aGlzIHdpbGwgb3ZlcndyaXRlIHRoZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1t4XS5lZGl0b3IgJiYgdHlwZW9mKG9iai5vcHRpb25zLmNvbHVtbnNbeF0uZWRpdG9yLnVwZGF0ZUNlbGwpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG9iai5vcHRpb25zLmNvbHVtbnNbeF0uZWRpdG9yLnVwZGF0ZUNlbGwob2JqLnJlY29yZHNbeV1beF0sIHZhbHVlLCBmb3JjZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxuICAgICAgICAgICAgICAgIC8vIEhpc3RvcnkgZm9ybWF0XG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICB4OiB4LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgICAgIGNvbDogeCxcbiAgICAgICAgICAgICAgICAgICAgcm93OiB5LFxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBvYmoub3B0aW9ucy5kYXRhW3ldW3hdLFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW3hdLmVkaXRvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZGF0YSBhbmQgY2VsbFxuICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5kYXRhW3ldW3hdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTmF0aXZlIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1t4XS50eXBlID09ICdjaGVja2JveCcgfHwgb2JqLm9wdGlvbnMuY29sdW1uc1t4XS50eXBlID09ICdyYWRpbycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVuY2hlY2tlZCBhbGwgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAncmFkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoub3B0aW9ucy5kYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGFbal1beF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBkYXRhIGFuZCBjZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1t5XVt4XS5jaGlsZHJlblswXS5jaGVja2VkID0gKHZhbHVlID09IDEgfHwgdmFsdWUgPT0gdHJ1ZSB8fCB2YWx1ZSA9PSAndHJ1ZScgfHwgdmFsdWUgPT0gJ1RSVUUnKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGFbeV1beF0gPSBvYmoucmVjb3Jkc1t5XVt4XS5jaGlsZHJlblswXS5jaGVja2VkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnZHJvcGRvd24nIHx8IG9iai5vcHRpb25zLmNvbHVtbnNbeF0udHlwZSA9PSAnYXV0b2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGRhdGEgYW5kIGNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGFbeV1beF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW3ldW3hdLmlubmVySFRNTCA9IG9iai5nZXREcm9wRG93blZhbHVlKHgsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW3hdLnR5cGUgPT0gJ2NhbGVuZGFyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNhbGVuZGFyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0dGVkID0galN1aXRlcy5jYWxlbmRhci5leHRyYWN0RGF0ZUZyb21TdHJpbmcodmFsdWUsIG9iai5vcHRpb25zLmNvbHVtbnNbeF0ub3B0aW9ucy5mb3JtYXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGRhdGEgYW5kIGNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGFbeV1beF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW3ldW3hdLmlubmVySFRNTCA9IGpTdWl0ZXMuY2FsZW5kYXIuZ2V0RGF0ZVN0cmluZyhmb3JtYXR0ZWQgPyBmb3JtYXR0ZWQgOiB2YWx1ZSwgb2JqLm9wdGlvbnMuY29sdW1uc1t4XS5vcHRpb25zLmZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1t4XS50eXBlID09ICdjb2xvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjb2xvclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuZGF0YVt5XVt4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1t4XS5yZW5kZXIgPT0gJ3NxdWFyZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvci5jbGFzc05hbWUgPSAnY29sb3InO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW3ldW3hdLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW3ldW3hdLmFwcGVuZENoaWxkKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1t5XVt4XS5zdHlsZS5jb2xvciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW3ldW3hdLmlubmVySFRNTCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1t4XS50eXBlID09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJycrdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5kYXRhW3ldW3hdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1t5XVt4XS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5zdWJzdHIoMCwgMTApID09ICdkYXRhOmltYWdlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbeV1beF0uYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBkYXRhIGFuZCBjZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5kYXRhW3ldW3hdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1t5XVt4XS5pbm5lckhUTUwgPSBvYmoucGFyc2VWYWx1ZSh4LCB5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYmlnIHRleHQgaW5zaWRlIGEgY2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbeF0ud29yZFdyYXAgIT0gZmFsc2UgJiYgKG9iai5vcHRpb25zLndvcmRXcmFwID09IHRydWUgfHwgb2JqLm9wdGlvbnMuY29sdW1uc1t4XS53b3JkV3JhcCA9PSB0cnVlIHx8IG9iai5yZWNvcmRzW3ldW3hdLmlubmVySFRNTC5sZW5ndGggPiAyMDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbeV1beF0uc3R5bGUud2hpdGVTcGFjZSA9ICdwcmUtd3JhcCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW3ldW3hdLnN0eWxlLndoaXRlU3BhY2UgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE92ZXJmbG93XG4gICAgICAgICAgICAgICAgaWYgKHggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbeV1beC0xXS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbeV1beC0xXS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gT24gY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBvYmouZGlzcGF0Y2goJ29uY2hhbmdlJywgZWwsIChvYmoucmVjb3Jkc1t5XSAmJiBvYmoucmVjb3Jkc1t5XVt4XSA/IG9iai5yZWNvcmRzW3ldW3hdIDogbnVsbCksIHgsIHksIHZhbHVlLCByZWNvcmQub2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBjb3B5IGRhdGEgdXNpbmcgdGhlIGNvcm5lciBpY29uXG4gICAgICAgICAqL1xuICAgICAgICBvYmouY29weURhdGEgPSBmdW5jdGlvbihvLCBkKSB7XG4gICAgICAgICAgICAvLyBHZXQgZGF0YSBmcm9tIGFsbCBzZWxlY3RlZCBjZWxsc1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBvYmouZ2V0RGF0YSh0cnVlLCB0cnVlKTtcblxuICAgICAgICAgICAgLy8gU2VsZWN0ZWQgY2VsbHNcbiAgICAgICAgICAgIHZhciBoID0gb2JqLnNlbGVjdGVkQ29udGFpbmVyO1xuXG4gICAgICAgICAgICAvLyBDZWxsc1xuICAgICAgICAgICAgdmFyIHgxID0gcGFyc2VJbnQoby5nZXRBdHRyaWJ1dGUoJ2RhdGEteCcpKTtcbiAgICAgICAgICAgIHZhciB5MSA9IHBhcnNlSW50KG8uZ2V0QXR0cmlidXRlKCdkYXRhLXknKSk7XG4gICAgICAgICAgICB2YXIgeDIgPSBwYXJzZUludChkLmdldEF0dHJpYnV0ZSgnZGF0YS14JykpO1xuICAgICAgICAgICAgdmFyIHkyID0gcGFyc2VJbnQoZC5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpKTtcblxuICAgICAgICAgICAgLy8gUmVjb3Jkc1xuICAgICAgICAgICAgdmFyIHJlY29yZHMgPSBbXTtcbiAgICAgICAgICAgIHZhciBicmVha0NvbnRyb2wgPSBmYWxzZTtcblxyXG4gICAgICAgICAgICBpZiAoaFswXSA9PSB4MSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVmVydGljYWwgY29weVxyXG4gICAgICAgICAgICAgICAgaWYgKHkxIDwgaFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dOdW1iZXIgPSB5MSAtIGhbMV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dOdW1iZXIgPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGNvbE51bWJlciA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeDEgPCBoWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbE51bWJlciA9IHgxIC0gaFswXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbE51bWJlciA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcm93TnVtYmVyID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cbiAgICAgICAgICAgIC8vIENvcHkgZGF0YSBwcm9jZWR1cmVcbiAgICAgICAgICAgIHZhciBwb3N4ID0gMDtcbiAgICAgICAgICAgIHZhciBwb3N5ID0gMDtcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0geTE7IGogPD0geTI7IGorKykge1xyXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBoaWRkZW4gcm93c1xuICAgICAgICAgICAgICAgIGlmIChvYmoucm93c1tqXSAmJiBvYmoucm93c1tqXS5zdHlsZS5kaXNwbGF5ID09ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDb250cm9sc1xuICAgICAgICAgICAgICAgIGlmIChkYXRhW3Bvc3ldID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwb3N5ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcG9zeCA9IDA7XHJcblxuICAgICAgICAgICAgICAgIC8vIERhdGEgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgaWYgKGhbMF0gIT0geDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeDEgPCBoWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xOdW1iZXIgPSB4MSAtIGhbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbE51bWJlciA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERhdGEgY29sdW1uc1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB4MTsgaSA8PSB4MjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIG5vbi1yZWFkb25seVxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlY29yZHNbal1baV0gJiYgISBvYmoucmVjb3Jkc1tqXVtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3JlYWRvbmx5JykgJiYgb2JqLnJlY29yZHNbal1baV0uc3R5bGUuZGlzcGxheSAhPSAnbm9uZScgJiYgYnJlYWtDb250cm9sID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9wIGlmIGNvbnRhaW5zIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISBvYmouc2VsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5kYXRhW2pdW2ldICE9ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrQ29udHJvbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbcG9zeV0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFbcG9zeV1bcG9zeF0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZGF0YVtwb3N5XVtwb3N4XTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAhIGRhdGFbMV0gJiYgb2JqLm9wdGlvbnMuYXV0b0luY3JlbWVudCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbaV0udHlwZSA9PSAndGV4dCcgfHwgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS50eXBlID09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgnJyt2YWx1ZSkuc3Vic3RyKDAsMSkgPT0gJz0nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbnMgPSB2YWx1ZS5tYXRjaCgvKFtBLVpdK1swLTldKykvZyk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFmZmVjdGVkVG9rZW5zID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRva2Vucy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gamV4Y2VsLmdldElkRnJvbUNvbHVtbk5hbWUodG9rZW5zW2luZGV4XSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWzBdICs9IGNvbE51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblsxXSArPSByb3dOdW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uWzFdIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblsxXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSBqZXhjZWwuZ2V0Q29sdW1uTmFtZUZyb21JZChbcG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdXSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiAhPSB0b2tlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZlY3RlZFRva2Vuc1t0b2tlbnNbaW5kZXhdXSA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBmb3JtdWxhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFmZmVjdGVkVG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb2JqLnVwZGF0ZUZvcm11bGEodmFsdWUsIGFmZmVjdGVkVG9rZW5zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBOdW1iZXIodmFsdWUpICsgcm93TnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW2ldLnR5cGUgPT0gJ2NhbGVuZGFyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgcm93TnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBkYXRlLmdldEZ1bGxZZWFyKCkgKyAnLScgKyBqZXhjZWwuZG91YmxlRGlnaXRGb3JtYXQocGFyc2VJbnQoZGF0ZS5nZXRNb250aCgpICsgMSkpICsgJy0nICsgamV4Y2VsLmRvdWJsZURpZ2l0Rm9ybWF0KGRhdGUuZ2V0RGF0ZSgpKSArICcgJyArICcwMDowMDowMCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3Jkcy5wdXNoKG9iai51cGRhdGVDZWxsKGksIGosIHZhbHVlKSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYWxsIGZvcm11bGFzIGluIHRoZSBjaGFpblxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnVwZGF0ZUZvcm11bGFDaGFpbihpLCBqLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwb3N4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhbMF0gIT0geDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sTnVtYmVyKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwb3N5Kys7XG4gICAgICAgICAgICAgICAgcm93TnVtYmVyKys7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgaGlzdG9yeVxuICAgICAgICAgICAgb2JqLnNldEhpc3Rvcnkoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjonc2V0VmFsdWUnLFxuICAgICAgICAgICAgICAgIHJlY29yZHM6cmVjb3JkcyxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246b2JqLnNlbGVjdGVkQ2VsbCxcbiAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHRhYmxlIHdpdGggY3VzdG9tIGNvbmZpZ3VyYXRpb24gaWYgYXBwbGljYWJsZVxuICAgICAgICAgICAgb2JqLnVwZGF0ZVRhYmxlKCk7XG4gICAgXG4gICAgICAgICAgICAvLyBPbiBhZnRlciBjaGFuZ2VzXG4gICAgICAgICAgICBvYmoub25hZnRlcmNoYW5nZXMoZWwsIHJlY29yZHMpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZyZXNoIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBvYmoucmVmcmVzaFNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKG9iai5zZWxlY3RlZENlbGwpIHtcbiAgICAgICAgICAgICAgICBvYmoudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3JkcyhvYmouc2VsZWN0ZWRDZWxsWzBdLCBvYmouc2VsZWN0ZWRDZWxsWzFdLCBvYmouc2VsZWN0ZWRDZWxsWzJdLCBvYmouc2VsZWN0ZWRDZWxsWzNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSBjb29yZHMgdG8gQTEgaW4gY2FzZSBvdmVsYXBzIHdpdGggYW4gZXhjbHVkZWQgY2VsbFxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmNvbmRpdGlvbmFsU2VsZWN0aW9uVXBkYXRlID0gZnVuY3Rpb24odHlwZSwgbywgZCkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChvYmouc2VsZWN0ZWRDZWxsICYmICgobyA+PSBvYmouc2VsZWN0ZWRDZWxsWzFdICYmIG8gPD0gb2JqLnNlbGVjdGVkQ2VsbFszXSkgfHwgKGQgPj0gb2JqLnNlbGVjdGVkQ2VsbFsxXSAmJiBkIDw9IG9iai5zZWxlY3RlZENlbGxbM10pKSkge1xuICAgICAgICAgICAgICAgICAgICBvYmoucmVzZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5zZWxlY3RlZENlbGwgJiYgKChvID49IG9iai5zZWxlY3RlZENlbGxbMF0gJiYgbyA8PSBvYmouc2VsZWN0ZWRDZWxsWzJdKSB8fCAoZCA+PSBvYmouc2VsZWN0ZWRDZWxsWzBdICYmIGQgPD0gb2JqLnNlbGVjdGVkQ2VsbFsyXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5yZXNldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGVhciB0YWJsZSBzZWxlY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIG9iai5yZXNldFNlbGVjdGlvbiA9IGZ1bmN0aW9uKGJsdXIpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBzdHlsZVxuICAgICAgICAgICAgaWYgKCEgb2JqLmhpZ2hsaWdodGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1N0YXR1cyA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1N0YXR1cyA9IDE7XG4gICAgXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouaGlnaGxpZ2h0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmhpZ2hsaWdodGVkW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICBvYmouaGlnaGxpZ2h0ZWRbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LWxlZnQnKTtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmhpZ2hsaWdodGVkW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodC1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICBvYmouaGlnaGxpZ2h0ZWRbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICBvYmouaGlnaGxpZ2h0ZWRbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LWJvdHRvbScpO1xuICAgICAgICAgICAgICAgICAgICBvYmouaGlnaGxpZ2h0ZWRbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHZhciBweCA9IHBhcnNlSW50KG9iai5oaWdobGlnaHRlZFtpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEteCcpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHB5ID0gcGFyc2VJbnQob2JqLmhpZ2hsaWdodGVkW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS15JykpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgbWVyZ2VkIGNlbGxzXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGlnaGxpZ2h0ZWRbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLW1lcmdlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sc3BhbiA9IHBhcnNlSW50KG9iai5oaWdobGlnaHRlZFtpXS5nZXRBdHRyaWJ1dGUoJ2NvbHNwYW4nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93c3BhbiA9IHBhcnNlSW50KG9iai5oaWdobGlnaHRlZFtpXS5nZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXggPSBjb2xzcGFuID4gMCA/IHB4ICsgKGNvbHNwYW4gLSAxKSA6IHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV5ID0gcm93c3BhbiA+IDAgPyBweSArIChyb3dzcGFuIC0gMSk6IHB5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV4ID0gcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXkgPSBweTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgc2VsZWN0ZWQgZnJvbSBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBweDsgaiA8PSB1eDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmhlYWRlcnNbal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouaGVhZGVyc1tqXS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBzZWxlY3RlZCBmcm9tIHJvd3NcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHB5OyBqIDw9IHV5OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoucm93c1tqXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yb3dzW2pdLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBSZXNldCBoaWdobGlnaGVkIGNlbGxzXG4gICAgICAgICAgICBvYmouaGlnaGxpZ2h0ZWQgPSBbXTtcbiAgICBcbiAgICAgICAgICAgIC8vIFJlc2V0XG4gICAgICAgICAgICBvYmouc2VsZWN0ZWRDZWxsID0gbnVsbDtcbiAgICBcbiAgICAgICAgICAgIC8vIEhpZGUgY29ybmVyXG4gICAgICAgICAgICBvYmouY29ybmVyLnN0eWxlLnRvcCA9ICctMjAwMHB4JztcbiAgICAgICAgICAgIG9iai5jb3JuZXIuc3R5bGUubGVmdCA9ICctMjAwMHB4JztcbiAgICBcbiAgICAgICAgICAgIGlmIChibHVyID09IHRydWUgJiYgcHJldmlvdXNTdGF0dXMgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgb2JqLmRpc3BhdGNoKCdvbmJsdXInLCBlbCk7XHJcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1N0YXR1cztcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIHNlbGVjdGlvbiBiYXNlZCBvbiB0d28gY2VsbHNcbiAgICAgICAgICovXG4gICAgICAgIG9iai51cGRhdGVTZWxlY3Rpb24gPSBmdW5jdGlvbihlbDEsIGVsMiwgb3JpZ2luKSB7XG4gICAgICAgICAgICB2YXIgeDEgPSBlbDEuZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcbiAgICAgICAgICAgIHZhciB5MSA9IGVsMS5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpO1xuICAgICAgICAgICAgaWYgKGVsMikge1xuICAgICAgICAgICAgICAgIHZhciB4MiA9IGVsMi5nZXRBdHRyaWJ1dGUoJ2RhdGEteCcpO1xuICAgICAgICAgICAgICAgIHZhciB5MiA9IGVsMi5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgeDIgPSB4MTtcbiAgICAgICAgICAgICAgICB2YXIgeTIgPSB5MTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIG9iai51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKHgxLCB5MSwgeDIsIHkyLCBvcmlnaW4pO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgc2VsZWN0aW9uIGZyb20gY29vcmRzXG4gICAgICAgICAqL1xuICAgICAgICBvYmoudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3JkcyA9IGZ1bmN0aW9uKHgxLCB5MSwgeDIsIHkyLCBvcmlnaW4pIHtcbiAgICAgICAgICAgIC8vIFJlc2V0IFNlbGVjdGlvblxuICAgICAgICAgICAgdmFyIHVwZGF0ZWQgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzU3RhdGUgPSBvYmoucmVzZXRTZWxlY3Rpb24oKTtcbiAgICBcbiAgICAgICAgICAgIC8vIFNhbWUgZWxlbWVudFxuICAgICAgICAgICAgaWYgKHgyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB4MiA9IHgxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHkyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB5MiA9IHkxO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gU2VsZWN0aW9uIG11c3QgYmUgd2l0aGluIHRoZSBleGlzdGluZyBkYXRhXG4gICAgICAgICAgICBpZiAoeDEgPj0gb2JqLmhlYWRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgeDEgPSBvYmouaGVhZGVycy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHkxID49IG9iai5yb3dzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHkxID0gb2JqLnJvd3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4MiA+PSBvYmouaGVhZGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB4MiA9IG9iai5oZWFkZXJzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeTIgPj0gb2JqLnJvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgeTIgPSBvYmoucm93cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gS2VlcCBzZWxlY3RlZCBjZWxsXG4gICAgICAgICAgICBvYmouc2VsZWN0ZWRDZWxsID0gW3gxLCB5MSwgeDIsIHkyXTtcbiAgICBcbiAgICAgICAgICAgIC8vIFNlbGVjdCBjZWxsc1xuICAgICAgICAgICAgaWYgKHgxICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBBZGQgc2VsZWN0ZWQgY2VsbFxuICAgICAgICAgICAgICAgIGlmIChvYmoucmVjb3Jkc1t5MV1beDFdKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW3kxXVt4MV0uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIE9yaWdpbiAmIERlc3RpbmF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHgxKSA8IHBhcnNlSW50KHgyKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHggPSBwYXJzZUludCh4MSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1eCA9IHBhcnNlSW50KHgyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHggPSBwYXJzZUludCh4Mik7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1eCA9IHBhcnNlSW50KHgxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHkxKSA8IHBhcnNlSW50KHkyKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHkgPSBwYXJzZUludCh5MSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1eSA9IHBhcnNlSW50KHkyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHkgPSBwYXJzZUludCh5Mik7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1eSA9IHBhcnNlSW50KHkxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZ5IG1lcmdlZCBjb2x1bW5zXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHB4OyBpIDw9IHV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHB5OyBqIDw9IHV5OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoucmVjb3Jkc1tqXVtpXSAmJiBvYmoucmVjb3Jkc1tqXVtpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWVyZ2VkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IHBhcnNlSW50KG9iai5yZWNvcmRzW2pdW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS14JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ID0gcGFyc2VJbnQob2JqLnJlY29yZHNbal1baV0uZ2V0QXR0cmlidXRlKCdkYXRhLXknKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHNwYW4gPSBwYXJzZUludChvYmoucmVjb3Jkc1tqXVtpXS5nZXRBdHRyaWJ1dGUoJ2NvbHNwYW4nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvd3NwYW4gPSBwYXJzZUludChvYmoucmVjb3Jkc1tqXVtpXS5nZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nKSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHNwYW4gPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4IDwgcHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB4ID0geDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeCArIGNvbHNwYW4gPiB1eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXggPSB4ICsgY29sc3BhbiAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3NwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHkgPCBweSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHkgPSB5O1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ICsgcm93c3BhbiA+IHV5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1eSA9IHkgKyByb3dzcGFuIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBMaW1pdHNcbiAgICAgICAgICAgICAgICB2YXIgYm9yZGVyTGVmdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIGJvcmRlclJpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgYm9yZGVyVG9wID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgYm9yZGVyQm90dG9tID0gbnVsbDtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBsaW1pdHNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gcHk7IGogPD0gdXk7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJvd3Nbal0uc3R5bGUuZGlzcGxheSAhPSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib3JkZXJUb3AgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclRvcCA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b20gPSBqO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIFJlZGVmaW5pbmcgc3R5bGVzXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHB4OyBpIDw9IHV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHB5OyBqIDw9IHV5OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoucm93c1tqXS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJyAmJiBvYmoucmVjb3Jkc1tqXVtpXS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW2pdW2ldLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5oaWdobGlnaHRlZC5wdXNoKG9iai5yZWNvcmRzW2pdW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBIb3Jpem9udGFsIGxpbWl0c1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1tpXS50eXBlICE9ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9yZGVyTGVmdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyTGVmdCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSaWdodCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGJvcmRlcnNcbiAgICAgICAgICAgICAgICBpZiAoISBib3JkZXJMZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckxlZnQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISBib3JkZXJSaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBib3JkZXJSaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBib3JkZXJMZWZ0OyBpIDw9IGJvcmRlclJpZ2h0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbaV0udHlwZSAhPSAnaGlkZGVuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG9wIGJvcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5yZWNvcmRzW2JvcmRlclRvcF1baV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1tib3JkZXJUb3BdW2ldLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodC10b3AnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJvdHRvbSBib3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoucmVjb3Jkc1tib3JkZXJCb3R0b21dW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbYm9yZGVyQm90dG9tXVtpXS5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQtYm90dG9tJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgc2VsZWN0ZWQgZnJvbSBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouaGVhZGVyc1tpXS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBib3JkZXJUb3A7IGogPD0gYm9yZGVyQm90dG9tOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5yb3dzW2pdLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMZWZ0IGJvcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbal1bYm9yZGVyTGVmdF0uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LWxlZnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJpZ2h0IGJvcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbal1bYm9yZGVyUmlnaHRdLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodC1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHNlbGVjdGVkIGZyb20gcm93c1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJvd3Nbal0uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0ZWRDb250YWluZXIgPSBbIGJvcmRlckxlZnQsIGJvcmRlclRvcCwgYm9yZGVyUmlnaHQsIGJvcmRlckJvdHRvbSBdO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gSGFuZGxlIGV2ZW50c1xyXG4gICAgICAgICAgICBpZiAocHJldmlvdXNTdGF0ZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBvYmouZGlzcGF0Y2goJ29uZm9jdXMnLCBlbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgb2JqLnJlbW92ZUNvcHlpbmdTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIH1cblxyXG4gICAgICAgICAgICBvYmouZGlzcGF0Y2goJ29uc2VsZWN0aW9uJywgZWwsIGJvcmRlckxlZnQsIGJvcmRlclRvcCwgYm9yZGVyUmlnaHQsIGJvcmRlckJvdHRvbSwgb3JpZ2luKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpbmQgY29ybmVyIGNlbGxcbiAgICAgICAgICAgIG9iai51cGRhdGVDb3JuZXJQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgY29weSBzZWxlY3Rpb25cbiAgICAgICAgICogXG4gICAgICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLnJlbW92ZUNvcHlTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBjdXJyZW50IHNlbGVjdGlvblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouc2VsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdGlvbltpXS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0aW9uW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGlvbi1sZWZ0Jyk7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdGlvbltpXS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3Rpb24tcmlnaHQnKTtcbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0aW9uW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGlvbi10b3AnKTtcbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0aW9uW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGlvbi1ib3R0b20nKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIG9iai5zZWxlY3Rpb24gPSBbXTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGNvcHkgc2VsZWN0aW9uXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gaW50IHgsIHlcbiAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBvYmoudXBkYXRlQ29weVNlbGVjdGlvbiA9IGZ1bmN0aW9uKHgzLCB5Mykge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHNlbGVjdGlvblxuICAgICAgICAgICAgb2JqLnJlbW92ZUNvcHlTZWxlY3Rpb24oKTtcbiAgICBcbiAgICAgICAgICAgIC8vIEdldCBlbGVtZW50cyBmaXJzdCBhbmQgbGFzdFxuICAgICAgICAgICAgdmFyIHgxID0gb2JqLnNlbGVjdGVkQ29udGFpbmVyWzBdO1xuICAgICAgICAgICAgdmFyIHkxID0gb2JqLnNlbGVjdGVkQ29udGFpbmVyWzFdO1xuICAgICAgICAgICAgdmFyIHgyID0gb2JqLnNlbGVjdGVkQ29udGFpbmVyWzJdO1xuICAgICAgICAgICAgdmFyIHkyID0gb2JqLnNlbGVjdGVkQ29udGFpbmVyWzNdO1xuICAgIFxuICAgICAgICAgICAgaWYgKHgzICE9IG51bGwgJiYgeTMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh4MyAtIHgyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHggPSBwYXJzZUludCh4MikgKyAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXggPSBwYXJzZUludCh4Myk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHB4ID0gcGFyc2VJbnQoeDMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXggPSBwYXJzZUludCh4MSkgLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoeTMgLSB5MiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHB5ID0gcGFyc2VJbnQoeTIpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHV5ID0gcGFyc2VJbnQoeTMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBweSA9IHBhcnNlSW50KHkzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHV5ID0gcGFyc2VJbnQoeTEpIC0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKHV4IC0gcHggPCB1eSAtIHB5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBweCA9IHBhcnNlSW50KHgxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHV4ID0gcGFyc2VJbnQoeDIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBweSA9IHBhcnNlSW50KHkxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHV5ID0gcGFyc2VJbnQoeTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gcHk7IGogPD0gdXk7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gcHg7IGkgPD0gdXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5yZWNvcmRzW2pdW2ldICYmIG9iai5yb3dzW2pdLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnICYmIG9iai5yZWNvcmRzW2pdW2ldLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbal1baV0uY2xhc3NMaXN0LmFkZCgnc2VsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbcHldW2ldLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGlvbi10b3AnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1t1eV1baV0uY2xhc3NMaXN0LmFkZCgnc2VsZWN0aW9uLWJvdHRvbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW2pdW3B4XS5jbGFzc0xpc3QuYWRkKCdzZWxlY3Rpb24tbGVmdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW2pdW3V4XS5jbGFzc0xpc3QuYWRkKCdzZWxlY3Rpb24tcmlnaHQnKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQZXJzaXN0IHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNlbGVjdGlvbi5wdXNoKG9iai5yZWNvcmRzW2pdW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGNvcm5lciBwb3NpdGlvblxuICAgICAgICAgKiBcbiAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBvYmoudXBkYXRlQ29ybmVyUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIElmIGFueSBzZWxlY3RlZCBjZWxsc1xuICAgICAgICAgICAgaWYgKCEgb2JqLmhpZ2hsaWdodGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG9iai5jb3JuZXIuc3R5bGUudG9wID0gJy0yMDAwcHgnO1xuICAgICAgICAgICAgICAgIG9iai5jb3JuZXIuc3R5bGUubGVmdCA9ICctMjAwMHB4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgbGFzdCBjZWxsXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdCA9IG9iai5oaWdobGlnaHRlZFtvYmouaGlnaGxpZ2h0ZWQubGVuZ3RoLTFdO1xyXG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50UmVjdCA9IG9iai5jb250ZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHZhciB4MSA9IGNvbnRlbnRSZWN0LmxlZnQ7XG4gICAgICAgICAgICAgICAgdmFyIHkxID0gY29udGVudFJlY3QudG9wO1xuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0UmVjdCA9IGxhc3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgdmFyIHgyID0gbGFzdFJlY3QubGVmdDtcbiAgICAgICAgICAgICAgICB2YXIgeTIgPSBsYXN0UmVjdC50b3A7XG4gICAgICAgICAgICAgICAgdmFyIHcyID0gbGFzdFJlY3Qud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGgyID0gbGFzdFJlY3QuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgdmFyIHggPSAoeDIgLSB4MSkgKyBvYmouY29udGVudC5zY3JvbGxMZWZ0ICsgdzIgLSA0O1xuICAgICAgICAgICAgICAgIHZhciB5ID0gKHkyIC0geTEpICsgb2JqLmNvbnRlbnQuc2Nyb2xsVG9wICsgaDIgLSA0O1xuXG4gICAgICAgICAgICAgICAgLy8gUGxhY2UgdGhlIGNvcm5lciBpbiB0aGUgY29ycmVjdCBwbGFjZVxuICAgICAgICAgICAgICAgIG9iai5jb3JuZXIuc3R5bGUudG9wID0geSArICdweCc7XG4gICAgICAgICAgICAgICAgb2JqLmNvcm5lci5zdHlsZS5sZWZ0ID0geCArICdweCc7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmZyZWV6ZUNvbHVtbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBvYmouZ2V0RnJlZXplV2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeDIgLSB4MSArIHcyIDwgd2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNvcm5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jb3JuZXIuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNvcm5lci5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBzY3JvbGwgcG9zaXRpb24gYmFzZWQgb24gdGhlIHNlbGVjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLnVwZGF0ZVNjcm9sbCA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgLy8gakV4Y2VsIENvbnRhaW5lciBpbmZvcm1hdGlvblxuICAgICAgICAgICAgY29uc3QgY29udGVudFJlY3QgPSBvYmouY29udGVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgdmFyIHgxID0gY29udGVudFJlY3QubGVmdDtcclxuICAgICAgICAgICAgdmFyIHkxID0gY29udGVudFJlY3QudG9wO1xyXG4gICAgICAgICAgICB2YXIgdzEgPSBjb250ZW50UmVjdC53aWR0aDtcclxuICAgICAgICAgICAgdmFyIGgxID0gY29udGVudFJlY3QuaGVpZ2h0O1xyXG5cbiAgICAgICAgICAgIC8vIERpcmVjdGlvbiBMZWZ0IG9yIFVwXG4gICAgICAgICAgICB2YXIgcmVmZXJlbmNlID0gb2JqLnJlY29yZHNbb2JqLnNlbGVjdGVkQ2VsbFszXV1bb2JqLnNlbGVjdGVkQ2VsbFsyXV07XG4gICAgXG4gICAgICAgICAgICAvLyBSZWZlcmVuY2VcclxuICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlUmVjdCA9IHJlZmVyZW5jZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgdmFyIHgyID0gcmVmZXJlbmNlUmVjdC5sZWZ0O1xyXG4gICAgICAgICAgICB2YXIgeTIgPSByZWZlcmVuY2VSZWN0LnRvcDtcclxuICAgICAgICAgICAgdmFyIHcyID0gcmVmZXJlbmNlUmVjdC53aWR0aDtcclxuICAgICAgICAgICAgdmFyIGgyID0gcmVmZXJlbmNlUmVjdC5oZWlnaHQ7XG4gICAgXG4gICAgICAgICAgICAvLyBEaXJlY3Rpb25cbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gMCB8fCBkaXJlY3Rpb24gPT0gMSkge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gKHgyIC0geDEpICsgb2JqLmNvbnRlbnQuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICB2YXIgeSA9ICh5MiAtIHkxKSArIG9iai5jb250ZW50LnNjcm9sbFRvcCAtIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gKHgyIC0geDEpICsgb2JqLmNvbnRlbnQuc2Nyb2xsTGVmdCArIHcyO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gKHkyIC0geTEpICsgb2JqLmNvbnRlbnQuc2Nyb2xsVG9wICsgaDI7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBUb3AgcG9zaXRpb24gY2hlY2tcbiAgICAgICAgICAgIGlmICh5ID4gKG9iai5jb250ZW50LnNjcm9sbFRvcCArIDMwKSAmJiB5IDwgKG9iai5jb250ZW50LnNjcm9sbFRvcCArIGgxKSkge1xuICAgICAgICAgICAgICAgIC8vIEluIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBPdXQgb2Ygdmlld3BvcnRcbiAgICAgICAgICAgICAgICBpZiAoeSA8IG9iai5jb250ZW50LnNjcm9sbFRvcCArIDMwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5jb250ZW50LnNjcm9sbFRvcCA9IHkgLSBoMjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmouY29udGVudC5zY3JvbGxUb3AgPSB5IC0gKGgxIC0gMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxyXG4gICAgICAgICAgICAvLyBGcmVlemUgY29sdW1ucz8gXHJcbiAgICAgICAgICAgIHZhciBmcmVlemVkID0gb2JqLmdldEZyZWV6ZVdpZHRoKCk7XHJcblxuICAgICAgICAgICAgLy8gTGVmdCBwb3NpdGlvbiBjaGVjayAtIFRPRE86IGNoYW5nZSB0aGF0IHRvIHRoZSBib3R0b20gYm9yZGVyIG9mIHRoZSBlbGVtZW50XG4gICAgICAgICAgICBpZiAoeCA+IChvYmouY29udGVudC5zY3JvbGxMZWZ0ICsgZnJlZXplZCkgJiYgeCA8IChvYmouY29udGVudC5zY3JvbGxMZWZ0ICsgdzEpKSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gdGhlIHZpZXdwb3J0XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE91dCBvZiB2aWV3cG9ydFxuICAgICAgICAgICAgICAgIGlmICh4IDwgb2JqLmNvbnRlbnQuc2Nyb2xsTGVmdCArIDMwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5jb250ZW50LnNjcm9sbExlZnQgPSB4O1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmNvbnRlbnQuc2Nyb2xsTGVmdCA8IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouY29udGVudC5zY3JvbGxMZWZ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh4IDwgb2JqLmNvbnRlbnQuc2Nyb2xsTGVmdCArIGZyZWV6ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmouY29udGVudC5zY3JvbGxMZWZ0ID0geCAtIGZyZWV6ZWQgLSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5jb250ZW50LnNjcm9sbExlZnQgPSB4IC0gKHcxIC0gMjApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBjb2x1bW4gd2lkdGhcbiAgICAgICAgICogXG4gICAgICAgICAqIEBwYXJhbSBpbnQgY29sdW1uIGNvbHVtbiBudW1iZXIgKGZpcnN0IGNvbHVtbiBpczogMClcbiAgICAgICAgICogQHJldHVybiBpbnQgY3VycmVudCB3aWR0aFxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmdldFdpZHRoID0gZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgICAgICBpZiAoISBjb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgYWxsIGhlYWRlcnNcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmhlYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKG9iai5vcHRpb25zLmNvbHVtbnNbaV0ud2lkdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gY2FzZSB0aGUgY29sdW1uIGlzIGFuIG9iamVjdFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoY29sdW1uKSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSAkKGNvbHVtbikuZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgZGF0YSA9IG9iai5jb2xncm91cFtjb2x1bW5dLmdldEF0dHJpYnV0ZSgnd2lkdGgnKVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXQgdGhlIGNvbHVtbiB3aWR0aFxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEBwYXJhbSBpbnQgY29sdW1uIG51bWJlciAoZmlyc3QgY29sdW1uIGlzOiAwKVxyXG4gICAgICAgICAqIEBwYXJhbSBpbnQgbmV3IGNvbHVtbiB3aWR0aFxyXG4gICAgICAgICAqIEBwYXJhbSBpbnQgb2xkIGNvbHVtbiB3aWR0aFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9iai5zZXRXaWR0aCA9IGZ1bmN0aW9uIChjb2x1bW4sIHdpZHRoLCBvbGRXaWR0aCkge1xyXG4gICAgICAgICAgICBpZiAod2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBPbGR3aWR0aFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghIG9sZFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRXaWR0aCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgd2lkdGhcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbHVtbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISBvbGRXaWR0aFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkV2lkdGhbaV0gPSBvYmouY29sZ3JvdXBbY29sdW1uW2ldXS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHcgPSBBcnJheS5pc0FycmF5KHdpZHRoKSAmJiB3aWR0aFtpXSA/IHdpZHRoW2ldIDogd2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jb2xncm91cFtjb2x1bW5baV1dLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29sdW1uc1tjb2x1bW5baV1dLndpZHRoID0gdztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9sZHdpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgb2xkV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkV2lkdGggPSBvYmouY29sZ3JvdXBbY29sdW1uXS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCB3aWR0aFxyXG4gICAgICAgICAgICAgICAgICAgIG9iai5jb2xncm91cFtjb2x1bW5dLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29sdW1uc1tjb2x1bW5dLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gS2VlcGluZyBoaXN0b3J5IG9mIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgIG9iai5zZXRIaXN0b3J5KHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246J3NldFdpZHRoJyxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW46Y29sdW1uLFxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOm9sZFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlOndpZHRoLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gT24gcmVzaXplIGNvbHVtblxyXG4gICAgICAgICAgICAgICAgb2JqLmRpc3BhdGNoKCdvbnJlc2l6ZWNvbHVtbicsIGVsLCBjb2x1bW4sIHdpZHRoLCBvbGRXaWR0aCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvcm5lciBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgb2JqLnVwZGF0ZUNvcm5lclBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSByb3cgaGVpZ2h0XG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gcm93IC0gcm93IG51bWJlciAoZmlyc3Qgcm93IGlzOiAwKVxuICAgICAgICAgKiBAcGFyYW0gaGVpZ2h0IC0gbmV3IHJvdyBoZWlnaHRcbiAgICAgICAgICogQHBhcmFtIG9sZEhlaWdodCAtIG9sZCByb3cgaGVpZ2h0XG4gICAgICAgICAqL1xuICAgICAgICBvYmouc2V0SGVpZ2h0ID0gZnVuY3Rpb24gKHJvdywgaGVpZ2h0LCBvbGRIZWlnaHQpIHtcbiAgICAgICAgICAgIGlmIChoZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gY2FzZSB0aGUgY29sdW1uIGlzIGFuIG9iamVjdFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yocm93KSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByb3cgPSByb3cuZ2V0QXR0cmlidXRlKCdkYXRhLXknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gT2xkd2lkdGhcclxuICAgICAgICAgICAgICAgIGlmICghIG9sZEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZEhlaWdodCA9IG9iai5yb3dzW3Jvd10uZ2V0QXR0cmlidXRlKCdoZWlnaHQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgb2xkSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWN0ID0gb2JqLnJvd3Nbcm93XS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkSGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEludGVnZXJcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHBhcnNlSW50KGhlaWdodCk7XHJcblxuICAgICAgICAgICAgICAgIC8vIFNldCB3aWR0aFxuICAgICAgICAgICAgICAgIG9iai5yb3dzW3Jvd10uc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBLZWVwIG9wdGlvbnMgdXBkYXRlZFxuICAgICAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLnJvd3Nbcm93XSkge1xuICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5yb3dzW3Jvd10gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMucm93c1tyb3ddLmhlaWdodCA9IGhlaWdodDtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBLZWVwaW5nIGhpc3Rvcnkgb2YgY2hhbmdlc1xuICAgICAgICAgICAgICAgIG9iai5zZXRIaXN0b3J5KHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOidzZXRIZWlnaHQnLFxuICAgICAgICAgICAgICAgICAgICByb3c6cm93LFxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZTpvbGRIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlOmhlaWdodCxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIE9uIHJlc2l6ZSBjb2x1bW5cclxuICAgICAgICAgICAgICAgIG9iai5kaXNwYXRjaCgnb25yZXNpemVyb3cnLCBlbCwgcm93LCBoZWlnaHQsIG9sZEhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY29ybmVyIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgb2JqLnVwZGF0ZUNvcm5lclBvc2l0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgcm93IGhlaWdodFxuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIHJvdyAtIHJvdyBudW1iZXIgKGZpcnN0IHJvdyBpczogMClcbiAgICAgICAgICogQHJldHVybiBoZWlnaHQgLSBjdXJyZW50IHJvdyBoZWlnaHRcbiAgICAgICAgICovXG4gICAgICAgIG9iai5nZXRIZWlnaHQgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgICAgIGlmICghIHJvdykge1xuICAgICAgICAgICAgICAgIC8vIEdldCBoZWlnaHQgb2YgYWxsIHJvd3NcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLnJvd3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGggPSBvYmoucm93c1tqXS5zdHlsZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2pdID0gaDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gY2FzZSB0aGUgcm93IGlzIGFuIG9iamVjdFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yocm93KSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByb3cgPSAkKHJvdykuZ2V0QXR0cmlidXRlKCdkYXRhLXknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBvYmoucm93c1tyb3ddLnN0eWxlLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgXHJcbiAgICAgICAgb2JqLnNldEZvb3RlciA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmZvb3RlcnMgPSBkYXRhO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuZm9vdGVycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEgb2JqLnRmb290KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLnRmb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGZvb3QnKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmoudGFibGUuYXBwZW5kQ2hpbGQob2JqLnRmb290KTtcclxuICAgICAgICAgICAgICAgIH0gXHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoub3B0aW9ucy5mb290ZXJzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50Zm9vdC5jaGlsZHJlbltqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHIgPSBvYmoudGZvb3QuY2hpbGRyZW5bal07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoudGZvb3QuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5oZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLmZvb3RlcnNbal1baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmZvb3RlcnNbal1baV0gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnRmb290LmNoaWxkcmVuW2pdLmNoaWxkcmVuW2krMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZCA9IG9iai50Zm9vdC5jaGlsZHJlbltqXS5jaGlsZHJlbltpKzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUZXh0IGFsaWduXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sQWxpZ24gPSBvYmoub3B0aW9ucy5jb2x1bW5zW2ldLmFsaWduID8gb2JqLm9wdGlvbnMuY29sdW1uc1tpXS5hbGlnbiA6ICdjZW50ZXInO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQuc3R5bGUudGV4dEFsaWduID0gY29sQWxpZ247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gb2JqLnBhcnNlVmFsdWUoaSwgaiwgb2JqLm9wdGlvbnMuZm9vdGVyc1tqXVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgY29sdW1uIHRpdGxlXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gY29sdW1uIC0gY29sdW1uIG51bWJlciAoZmlyc3QgY29sdW1uIGlzOiAwKVxuICAgICAgICAgKiBAcGFyYW0gdGl0bGUgLSBuZXcgY29sdW1uIHRpdGxlXG4gICAgICAgICAqL1xuICAgICAgICBvYmouZ2V0SGVhZGVyID0gZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqLmhlYWRlcnNbY29sdW1uXS5pbm5lclRleHQ7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgY29sdW1uIHRpdGxlXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gY29sdW1uIC0gY29sdW1uIG51bWJlciAoZmlyc3QgY29sdW1uIGlzOiAwKVxuICAgICAgICAgKiBAcGFyYW0gdGl0bGUgLSBuZXcgY29sdW1uIHRpdGxlXG4gICAgICAgICAqL1xuICAgICAgICBvYmouc2V0SGVhZGVyID0gZnVuY3Rpb24oY29sdW1uLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKG9iai5oZWFkZXJzW2NvbHVtbl0pIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSBvYmouaGVhZGVyc1tjb2x1bW5dLmlubmVyVGV4dDtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoISBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IHByb21wdChvYmoub3B0aW9ucy50ZXh0LmNvbHVtbk5hbWUsIG9sZFZhbHVlKVxuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmhlYWRlcnNbY29sdW1uXS5pbm5lckhUTUwgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIHRoZSB0aXRsZSBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgIG9iai5oZWFkZXJzW2NvbHVtbl0uc2V0QXR0cmlidXRlKCd0aXRsZScsIG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGl0bGVcclxuICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5jb2x1bW5zW2NvbHVtbl0udGl0bGUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgb2JqLnNldEhpc3Rvcnkoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXRIZWFkZXInLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IG9sZFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBPbiBvbmNoYW5nZSBoZWFkZXJcclxuICAgICAgICAgICAgICAgIG9iai5kaXNwYXRjaCgnb25jaGFuZ2VoZWFkZXInLCBlbCwgY29sdW1uLCBvbGRWYWx1ZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgaGVhZGVyc1xuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIGFzQXJyYXlcbiAgICAgICAgICogQHJldHVybiBtaXhlZFxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmdldEhlYWRlcnMgPSBmdW5jdGlvbiAoYXNBcnJheSkge1xuICAgICAgICAgICAgdmFyIHRpdGxlID0gW107XG4gICAgXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5oZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGl0bGUucHVzaChvYmouZ2V0SGVhZGVyKGkpKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiBhc0FycmF5ID8gdGl0bGUgOiB0aXRsZS5qb2luKG9iai5vcHRpb25zLmNzdkRlbGltaXRlcik7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBtZXRhIGluZm9ybWF0aW9uIGZyb20gY2VsbChzKVxuICAgICAgICAgKiBcbiAgICAgICAgICogQHJldHVybiBpbnRlZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBvYmouZ2V0TWV0YSA9IGZ1bmN0aW9uKGNlbGwsIGtleSkge1xuICAgICAgICAgICAgaWYgKCEgY2VsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmoub3B0aW9ucy5tZXRhO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmoub3B0aW9ucy5tZXRhW2NlbGxdICYmIG9iai5vcHRpb25zLm1ldGFbY2VsbF1ba2V5XSA/IG9iai5vcHRpb25zLm1ldGFbY2VsbF1ba2V5XSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5vcHRpb25zLm1ldGFbY2VsbF0gPyBvYmoub3B0aW9ucy5tZXRhW2NlbGxdIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBtZXRhIGluZm9ybWF0aW9uIHRvIGNlbGwocylcbiAgICAgICAgICogXG4gICAgICAgICAqIEByZXR1cm4gaW50ZWdlclxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLnNldE1ldGEgPSBmdW5jdGlvbihvLCBrLCB2KSB7XG4gICAgICAgICAgICBpZiAoISBvYmoub3B0aW9ucy5tZXRhKSB7XG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMubWV0YSA9IHt9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZiAoayAmJiB2KSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0IGRhdGEgdmFsdWVcbiAgICAgICAgICAgICAgICBpZiAoISBvYmoub3B0aW9ucy5tZXRhW29dKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm1ldGFbb10gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMubWV0YVtvXVtrXSA9IHY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFwcGx5IHRoYXQgZm9yIGFsbCBjZWxsc1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMobyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLm1ldGFba2V5c1tpXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm1ldGFba2V5c1tpXV0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IE9iamVjdC5rZXlzKG9ba2V5c1tpXV0pO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHByb3AubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm1ldGFba2V5c1tpXV1bcHJvcFtqXV0gPSBvW2tleXNbaV1dW3Byb3Bbal1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxyXG4gICAgICAgICAgICBvYmouZGlzcGF0Y2goJ29uY2hhbmdlbWV0YScsIGVsLCBvLCBrLCB2KTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIG1ldGEgaW5mb3JtYXRpb25cbiAgICAgICAgICogXG4gICAgICAgICAqIEByZXR1cm4gaW50ZWdlclxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLnVwZGF0ZU1ldGEgPSBmdW5jdGlvbihhZmZlY3RlZENlbGxzKSB7XG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubWV0YSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdNZXRhID0ge307XG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmoub3B0aW9ucy5tZXRhKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFmZmVjdGVkQ2VsbHNba2V5c1tpXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld01ldGFbYWZmZWN0ZWRDZWxsc1trZXlzW2ldXV0gPSBvYmoub3B0aW9ucy5tZXRhW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWV0YVtrZXlzW2ldXSA9IG9iai5vcHRpb25zLm1ldGFba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIG1ldGEgaW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5tZXRhID0gbmV3TWV0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHN0eWxlIGluZm9ybWF0aW9uIGZyb20gY2VsbChzKVxuICAgICAgICAgKiBcbiAgICAgICAgICogQHJldHVybiBpbnRlZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBvYmouZ2V0U3R5bGUgPSBmdW5jdGlvbihjZWxsLCBrZXkpIHtcbiAgICAgICAgICAgIC8vIENlbGxcbiAgICAgICAgICAgIGlmICghIGNlbGwpIHtcbiAgICAgICAgICAgICAgICAvLyBDb250cm9sIHZhcnNcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIENvbHVtbiBhbmQgcm93IGxlbmd0aFxuICAgICAgICAgICAgICAgIHZhciB4ID0gb2JqLm9wdGlvbnMuZGF0YVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBvYmoub3B0aW9ucy5kYXRhLmxlbmd0aDtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSBjb2x1bW5zIHRvIGdldCB0aGUgZGF0YVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgeTsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBrZXkgPyBvYmoucmVjb3Jkc1tqXVtpXS5zdHlsZVtrZXldIDogb2JqLnJlY29yZHNbal1baV0uZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW55IG1ldGEgZGF0YSBmb3IgdGhpcyBjb2x1bW4/XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbHVtbiBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGsgPSBqZXhjZWwuZ2V0Q29sdW1uTmFtZUZyb21JZChbaSwgal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtrXSA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2VsbCA9IGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lKGNlbGwsIHRydWUpO1xuICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBrZXkgPyBvYmoucmVjb3Jkc1tjZWxsWzFdXVtjZWxsWzBdXS5zdHlsZVtrZXldIDogb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0uZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIFxuICAgICAgICBvYmoucmVzZXRTdHlsZSA9IGZ1bmN0aW9uKG8sIGlnbm9yZUhpc3RvcnlBbmRFdmVudHMpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMobyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBQb3NpdGlvblxuICAgICAgICAgICAgICAgIHZhciBjZWxsID0gamV4Y2VsLmdldElkRnJvbUNvbHVtbk5hbWUoa2V5c1tpXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5yZWNvcmRzW2NlbGxbMV1dICYmIG9iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqLnNldFN0eWxlKG8sIG51bGwsIG51bGwsIG51bGwsIGlnbm9yZUhpc3RvcnlBbmRFdmVudHMpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgbWV0YSBpbmZvcm1hdGlvbiB0byBjZWxsKHMpXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcmV0dXJuIGludGVnZXJcbiAgICAgICAgICovXG4gICAgICAgIG9iai5zZXRTdHlsZSA9IGZ1bmN0aW9uKG8sIGssIHYsIGZvcmNlLCBpZ25vcmVIaXN0b3J5QW5kRXZlbnRzKSB7XG4gICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSB7fTtcbiAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IHt9O1xuICAgIFxuICAgICAgICAgICAgLy8gQXBwbHkgc3R5bGVcbiAgICAgICAgICAgIHZhciBhcHBseVN0eWxlID0gZnVuY3Rpb24oY2VsbElkLCBrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gUG9zaXRpb25cbiAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lKGNlbGxJZCwgdHJ1ZSk7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKG9iai5yZWNvcmRzW2NlbGxbMV1dICYmIG9iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEN1cnJlbnQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IG9iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dLnN0eWxlW2tleV07XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIENoYW5nZSBsYXlvdXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PSB2YWx1ZSAmJiAhIGZvcmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0uc3R5bGVba2V5XSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0uc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIEhpc3RvcnlcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgb2xkVmFsdWVbY2VsbElkXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWVbY2VsbElkXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghIG5ld1ZhbHVlW2NlbGxJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlW2NlbGxJZF0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZVtjZWxsSWRdLnB1c2goW2tleSArICc6JyArIGN1cnJlbnRWYWx1ZV0pO1xuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZVtjZWxsSWRdLnB1c2goW2tleSArICc6JyArIHZhbHVlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKGsgJiYgdikge1xuICAgICAgICAgICAgICAgIC8vIEdldCBvYmplY3QgZnJvbSBzdHJpbmdcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG8pID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGx5U3R5bGUobywgaywgdik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgZHVwbGljYXRpb25zXG4gICAgICAgICAgICAgICAgICAgIHZhciBvbmVBcHBsaWNhdGlvbiA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSB0aGF0IGZvciBhbGwgY2VsbHNcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IG9baV0uZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ID0gb1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGxOYW1lID0gamV4Y2VsLmdldENvbHVtbk5hbWVGcm9tSWQoW3gsIHldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyB3aGVuIGlzIGEgbWVyZ2VkIGNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIG9uZUFwcGxpY2F0aW9uW2NlbGxOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5U3R5bGUoY2VsbE5hbWUsIGssIHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZUFwcGxpY2F0aW9uW2NlbGxOYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMobyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IG9ba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yoc3R5bGUpID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHN0eWxlLnNwbGl0KCc7Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdHlsZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihzdHlsZVtqXSkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVtqXSA9IHN0eWxlW2pdLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlW2pdWzBdLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5U3R5bGUoa2V5c1tpXSwgc3R5bGVbal1bMF0udHJpbSgpLCBzdHlsZVtqXVsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9sZFZhbHVlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleXNbaV1dID0gb2xkVmFsdWVba2V5c1tpXV0uam9pbignOycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhuZXdWYWx1ZSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZVtrZXlzW2ldXSA9IG5ld1ZhbHVlW2tleXNbaV1dLmpvaW4oJzsnKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmICghIGlnbm9yZUhpc3RvcnlBbmRFdmVudHMpIHtcbiAgICAgICAgICAgICAgICAvLyBLZWVwaW5nIGhpc3Rvcnkgb2YgY2hhbmdlc1xuICAgICAgICAgICAgICAgIG9iai5zZXRIaXN0b3J5KHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnc2V0U3R5bGUnLFxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZTogb2xkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxyXG4gICAgICAgICAgICBvYmouZGlzcGF0Y2goJ29uY2hhbmdlc3R5bGUnLCBlbCwgbywgaywgdik7XHJcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgY2VsbCBjb21tZW50cywgbnVsbCBjZWxsIGZvciBhbGxcclxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmdldENvbW1lbnRzID0gZnVuY3Rpb24oY2VsbCwgd2l0aEF1dGhvcikge1xyXG4gICAgICAgICAgICBpZiAoY2VsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoY2VsbCkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGwgPSBqZXhjZWwuZ2V0SWRGcm9tQ29sdW1uTmFtZShjZWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAod2l0aEF1dGhvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW29iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dLmdldEF0dHJpYnV0ZSgndGl0bGUnKSwgb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0uZ2V0QXR0cmlidXRlKCdhdXRob3InKV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dLmdldEF0dHJpYnV0ZSgndGl0bGUnKSB8fCAnJztcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoub3B0aW9ucy5kYXRhLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoub3B0aW9ucy5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50cyA9IG9iai5yZWNvcmRzW2pdW2ldLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IGpleGNlbC5nZXRDb2x1bW5OYW1lRnJvbUlkKFtpLCBqXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2NlbGxdID0gY29tbWVudHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBjZWxsIGNvbW1lbnRzXG4gICAgICAgICAqL1xuICAgICAgICBvYmouc2V0Q29tbWVudHMgPSBmdW5jdGlvbihjZWxsSWQsIGNvbW1lbnRzLCBhdXRob3IpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YoY2VsbElkKSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciBjZWxsID0gamV4Y2VsLmdldElkRnJvbUNvbHVtbk5hbWUoY2VsbElkLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSBjZWxsSWQ7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBLZWVwIG9sZCB2YWx1ZVxuICAgICAgICAgICAgdmFyIHRpdGxlID0gb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0uZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xuICAgICAgICAgICAgdmFyIGF1dGhvciA9IG9iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dLmdldEF0dHJpYnV0ZSgnZGF0YS1hdXRob3InKTtcbiAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IFsgdGl0bGUsIGF1dGhvciBdO1xuICAgIFxuICAgICAgICAgICAgLy8gU2V0IG5ldyB2YWx1ZXNcbiAgICAgICAgICAgIG9iai5yZWNvcmRzW2NlbGxbMV1dW2NlbGxbMF1dLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBjb21tZW50cyA/IGNvbW1lbnRzIDogJycpO1xuICAgICAgICAgICAgb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0uc2V0QXR0cmlidXRlKCdkYXRhLWF1dGhvcicsIGF1dGhvciA/IGF1dGhvciA6ICcnKTtcbiAgICBcbiAgICAgICAgICAgIC8vIFJlbW92ZSBjbGFzcyBpZiB0aGVyZSBpcyBubyBjb21tZW50XG4gICAgICAgICAgICBpZiAoY29tbWVudHMpIHtcbiAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1tjZWxsWzFdXVtjZWxsWzBdXS5jbGFzc0xpc3QuYWRkKCdqZXhjZWxfY29tbWVudHMnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbY2VsbFsxXV1bY2VsbFswXV0uY2xhc3NMaXN0LnJlbW92ZSgnamV4Y2VsX2NvbW1lbnRzJyk7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBTYXZlIGhpc3RvcnlcbiAgICAgICAgICAgIG9iai5zZXRIaXN0b3J5KHtcbiAgICAgICAgICAgICAgICBhY3Rpb246J3NldENvbW1lbnRzJyxcbiAgICAgICAgICAgICAgICBjb2x1bW46IGNlbGxJZCxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogWyBjb21tZW50cywgYXV0aG9yIF0sXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IG9sZFZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0YWJsZSBjb25maWcgaW5mb3JtYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIG9iai5nZXRDb25maWcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gb2JqLm9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zLnN0eWxlID0gb2JqLmdldFN0eWxlKCk7XG4gICAgICAgICAgICBvcHRpb25zLm1lcmdlQ2VsbHMgPSBvYmouZ2V0TWVyZ2UoKTtcclxuICAgICAgICAgICAgb3B0aW9ucy5jb21tZW50cyA9IG9iai5nZXRDb21tZW50cygpO1xuICAgIFxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvcnQgZGF0YSBhbmQgcmVsb2FkIHRhYmxlXG4gICAgICAgICAqL1xuICAgICAgICBvYmoub3JkZXJCeSA9IGZ1bmN0aW9uKGNvbHVtbiwgb3JkZXIpIHtcbiAgICAgICAgICAgIGlmIChjb2x1bW4gPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlZCBjZWxsc1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmoub3B0aW9ucy5tZXJnZUNlbGxzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghIGNvbmZpcm0ob2JqLm9wdGlvbnMudGV4dC50aGlzQWN0aW9uV2lsbERlc3Ryb3lBbnlFeGlzdGluZ01lcmdlZENlbGxzQXJlWW91U3VyZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBtZXJnZWQgY2VsbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kZXN0cm95TWVyZ2VkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gRGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKG9yZGVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXIgPSBvYmouaGVhZGVyc1tjb2x1bW5dLmNsYXNzTGlzdC5jb250YWlucygnYXJyb3ctZG93bicpID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXIgPSBvcmRlciA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBGaWx0ZXJcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUub3JkZXJCeSA9IGZ1bmN0aW9uKHAsIG8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoMCkuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVBID0gYVtwXSA9PSAnJyA/ICcnIDogTnVtYmVyKGFbcF0pID09IGFbcF0gPyBOdW1iZXIoYVtwXSkgOiBhW3BdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVCID0gYltwXSA9PSAnJyA/ICcnIDogTnVtYmVyKGJbcF0pID09IGJbcF0gPyBOdW1iZXIoYltwXSkgOiBiW3BdLnRvTG93ZXJDYXNlKCk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISBvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh2YWx1ZUEgPT0gJycgJiYgdmFsdWVCICE9ICcnKSA/IDEgOiAodmFsdWVBICE9ICcnICYmIHZhbHVlQiA9PSAnJykgPyAtMSA6ICh2YWx1ZUEgPiB2YWx1ZUIpID8gMSA6ICh2YWx1ZUEgPCB2YWx1ZUIpID8gLTEgOiAgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh2YWx1ZUEgPT0gJycgJiYgdmFsdWVCICE9ICcnKSA/IDEgOiAodmFsdWVBICE9ICcnICYmIHZhbHVlQiA9PSAnJykgPyAtMSA6ICh2YWx1ZUEgPiB2YWx1ZUIpID8gLTEgOiAodmFsdWVBIDwgdmFsdWVCKSA/IDEgOiAgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIFRlc3Qgb3JkZXJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5jb2x1bW5zW2NvbHVtbl0udHlwZSA9PSAnY2FsZW5kYXInIHx8XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbY29sdW1uXS50eXBlID09ICdjaGVja2JveCcgfHxcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29sdW1uc1tjb2x1bW5dLnR5cGUgPT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbal0gPSBbIGosIG9iai5vcHRpb25zLmRhdGFbal1bY29sdW1uXSBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoub3B0aW9ucy5kYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW2pdID0gWyBqLCBvYmoucmVjb3Jkc1tqXVtjb2x1bW5dLmlubmVySFRNTCBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRlbXAgPSB0ZW1wLm9yZGVyQnkoMSwgb3JkZXIpO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIFNhdmUgaGlzdG9yeVxuICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZVtqXSA9IHRlbXBbal1bMF07XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIFNhdmUgaGlzdG9yeVxuICAgICAgICAgICAgICAgIG9iai5zZXRIaXN0b3J5KHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnb3JkZXJCeScsXG4gICAgICAgICAgICAgICAgICAgIHJvd3M6IG5ld1ZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgb3JkZXI6IG9yZGVyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBvcmRlclxuICAgICAgICAgICAgICAgIG9iai51cGRhdGVPcmRlckFycm93KGNvbHVtbiwgb3JkZXIpO1xuICAgICAgICAgICAgICAgIG9iai51cGRhdGVPcmRlcihuZXdWYWx1ZSk7XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gT24gc29ydCBldmVudFxyXG4gICAgICAgICAgICAgICAgb2JqLmRpc3BhdGNoKCdvbnNvcnQnLCBlbCwgY29sdW1uLCBvcmRlcik7XG4gICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBvcmRlciBhcnJvd1xuICAgICAgICAgKi9cbiAgICAgICAgb2JqLnVwZGF0ZU9yZGVyQXJyb3cgPSBmdW5jdGlvbihjb2x1bW4sIG9yZGVyKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgb3JkZXJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmhlYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvYmouaGVhZGVyc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvdy11cCcpO1xuICAgICAgICAgICAgICAgIG9iai5oZWFkZXJzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2Fycm93LWRvd24nKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIE5vIG9yZGVyIHNwZWNpZmllZCB0aGVuIHRvZ2dsZSBvcmRlclxuICAgICAgICAgICAgaWYgKG9yZGVyKSB7XG4gICAgICAgICAgICAgICAgb2JqLmhlYWRlcnNbY29sdW1uXS5jbGFzc0xpc3QuYWRkKCdhcnJvdy11cCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmouaGVhZGVyc1tjb2x1bW5dLmNsYXNzTGlzdC5hZGQoJ2Fycm93LWRvd24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIHJvd3MgcG9zaXRpb25cbiAgICAgICAgICovXG4gICAgICAgIG9iai51cGRhdGVPcmRlciA9IGZ1bmN0aW9uKHJvd3MpIHtcbiAgICAgICAgICAgIC8vIEhpc3RvcnlcbiAgICAgICAgICAgIHZhciBkYXRhID0gW11cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcm93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGRhdGFbal0gPSBvYmoub3B0aW9ucy5kYXRhW3Jvd3Nbal1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqLm9wdGlvbnMuZGF0YSA9IGRhdGE7XG4gICAgXG4gICAgICAgICAgICB2YXIgZGF0YSA9IFtdXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJvd3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBkYXRhW2pdID0gb2JqLnJlY29yZHNbcm93c1tqXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvYmoucmVjb3JkcyA9IGRhdGE7XG4gICAgXG4gICAgICAgICAgICB2YXIgZGF0YSA9IFtdXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJvd3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBkYXRhW2pdID0gb2JqLnJvd3Nbcm93c1tqXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvYmoucm93cyA9IGRhdGE7XG4gICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgcmVmZXJlbmNlc1xuICAgICAgICAgICAgb2JqLnVwZGF0ZVRhYmxlUmVmZXJlbmNlcygpO1xuICAgIFxuICAgICAgICAgICAgLy8gUmVkbyBzZWFyY2hcbiAgICAgICAgICAgIGlmIChvYmoucmVzdWx0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouc2VhcmNoSW5wdXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnNlYXJjaChvYmouc2VhcmNoSW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmouY2xvc2VGaWx0ZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHBhZ2VcbiAgICAgICAgICAgICAgICBvYmoucmVzdWx0cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgb2JqLnBhZ2VOdW1iZXIgPSAwO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5wYWdpbmF0aW9uID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBvYmoucGFnZSgwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLmxhenlMb2FkaW5nID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmxvYWRQYWdlKDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLnJvd3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai50Ym9keS5hcHBlbmRDaGlsZChvYmoucm93c1tqXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgcm93XG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgICAgICovXG4gICAgICAgIG9iai5tb3ZlUm93ID0gZnVuY3Rpb24obywgZCwgaWdub3JlRG9tKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqLm9wdGlvbnMubWVyZ2VDZWxscykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG8gPiBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc2VydEJlZm9yZSA9IDE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnNlcnRCZWZvcmUgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cbiAgICAgICAgICAgICAgICBpZiAob2JqLmlzUm93TWVyZ2VkKG8pLmxlbmd0aCB8fCBvYmouaXNSb3dNZXJnZWQoZCwgaW5zZXJ0QmVmb3JlKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgY29uZmlybShvYmoub3B0aW9ucy50ZXh0LnRoaXNBY3Rpb25XaWxsRGVzdHJveUFueUV4aXN0aW5nTWVyZ2VkQ2VsbHNBcmVZb3VTdXJlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRlc3Ryb3lNZXJnZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5zZWFyY2ggPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChvYmoucmVzdWx0cyAmJiBvYmoucmVzdWx0cy5sZW5ndGggIT0gb2JqLnJvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtKG9iai5vcHRpb25zLnRleHQudGhpc0FjdGlvbldpbGxDbGVhcllvdXJTZWFyY2hSZXN1bHRzQXJlWW91U3VyZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZXNldFNlYXJjaCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIG9iai5yZXN1bHRzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmICghIGlnbm9yZURvbSkge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKG9iai50Ym9keS5jaGlsZHJlbiwgb2JqLnJvd3NbZF0pID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8gPiBkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoudGJvZHkuaW5zZXJ0QmVmb3JlKG9iai5yb3dzW29dLCBvYmoucm93c1tkXSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoudGJvZHkuaW5zZXJ0QmVmb3JlKG9iai5yb3dzW29dLCBvYmoucm93c1tkXS5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmoudGJvZHkucmVtb3ZlQ2hpbGQob2JqLnJvd3Nbb10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFBsYWNlIHJlZmVyZW5jZXMgaW4gdGhlIGNvcnJlY3QgcG9zaXRpb25cbiAgICAgICAgICAgIG9iai5yb3dzLnNwbGljZShkLCAwLCBvYmoucm93cy5zcGxpY2UobywgMSlbMF0pO1xuICAgICAgICAgICAgb2JqLnJlY29yZHMuc3BsaWNlKGQsIDAsIG9iai5yZWNvcmRzLnNwbGljZShvLCAxKVswXSk7XG4gICAgICAgICAgICBvYmoub3B0aW9ucy5kYXRhLnNwbGljZShkLCAwLCBvYmoub3B0aW9ucy5kYXRhLnNwbGljZShvLCAxKVswXSk7XG4gICAgXG4gICAgICAgICAgICAvLyBSZXNwZWN0IHBhZ2luYXRpb25cbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5wYWdpbmF0aW9uID4gMCAmJiBvYmoudGJvZHkuY2hpbGRyZW4ubGVuZ3RoICE9IG9iai5vcHRpb25zLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgICAgICBvYmoucGFnZShvYmoucGFnZU51bWJlcik7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBLZWVwaW5nIGhpc3Rvcnkgb2YgY2hhbmdlc1xuICAgICAgICAgICAgb2JqLnNldEhpc3Rvcnkoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjonbW92ZVJvdycsXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IG8sXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IGQsXG4gICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0YWJsZSByZWZlcmVuY2VzXG4gICAgICAgICAgICBvYmoudXBkYXRlVGFibGVSZWZlcmVuY2VzKCk7XG4gICAgXG4gICAgICAgICAgICAvLyBFdmVudHNcclxuICAgICAgICAgICAgb2JqLmRpc3BhdGNoKCdvbm1vdmVyb3cnLCBlbCwgbywgZCk7XHJcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnNlcnQgYSBuZXcgcm93XG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gbWl4ZWQgLSBudW1iZXIgb2YgYmxhbmsgbGluZXMgdG8gYmUgaW5zZXJ0IG9yIGEgc2luZ2xlIGFycmF5IHdpdGggdGhlIGRhdGEgb2YgdGhlIG5ldyByb3dcbiAgICAgICAgICogQHBhcmFtIHJvd051bWJlclxuICAgICAgICAgKiBAcGFyYW0gaW5zZXJ0QmVmb3JlXG4gICAgICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmluc2VydFJvdyA9IGZ1bmN0aW9uKG1peGVkLCByb3dOdW1iZXIsIGluc2VydEJlZm9yZSkge1xuICAgICAgICAgICAgLy8gQ29uZmlndXJhdGlvblxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmFsbG93SW5zZXJ0Um93ID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBSZWNvcmRzXG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZHMgPSBbXTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBEYXRhIHRvIGJlIGluc2VydFxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gW107XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gVGhlIGluc2VydCBjb3VsZCBiZSBsZWFkIGJ5IG51bWJlciBvZiByb3dzIG9yIHRoZSBhcnJheSBvZiBkYXRhXG4gICAgICAgICAgICAgICAgaWYgKG1peGVkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtT2ZSb3dzID0gbWl4ZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bU9mUm93cyA9IDE7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChtaXhlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG1peGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIERpcmVjdGlvblxuICAgICAgICAgICAgICAgIHZhciBpbnNlcnRCZWZvcmUgPSBpbnNlcnRCZWZvcmUgPyB0cnVlIDogZmFsc2U7XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gQ3VycmVudCBjb2x1bW4gbnVtYmVyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RSb3cgPSBvYmoub3B0aW9ucy5kYXRhLmxlbmd0aCAtIDE7XG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAocm93TnVtYmVyID09IHVuZGVmaW5lZCB8fCByb3dOdW1iZXIgPj0gcGFyc2VJbnQobGFzdFJvdykgfHwgcm93TnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICByb3dOdW1iZXIgPSBsYXN0Um93O1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBPbmJlZm9yZWluc2VydHJvd1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5kaXNwYXRjaCgnb25iZWZvcmVpbnNlcnRyb3cnLCBlbCwgcm93TnVtYmVyLCBudW1PZlJvd3MsIGluc2VydEJlZm9yZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvbmJlZm9yZWluc2VydHJvdyByZXR1cm5lZCBmYWxzZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gTWVyZ2VkIGNlbGxzXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG9iai5vcHRpb25zLm1lcmdlQ2VsbHMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5pc1Jvd01lcmdlZChyb3dOdW1iZXIsIGluc2VydEJlZm9yZSkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISBjb25maXJtKG9iai5vcHRpb25zLnRleHQudGhpc0FjdGlvbldpbGxEZXN0cm95QW55RXhpc3RpbmdNZXJnZWRDZWxsc0FyZVlvdVN1cmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZGVzdHJveU1lcmdlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIENsZWFyIGFueSBzZWFyY2hcbiAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuc2VhcmNoID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5yZXN1bHRzICYmIG9iai5yZXN1bHRzLmxlbmd0aCAhPSBvYmoucm93cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtKG9iai5vcHRpb25zLnRleHQudGhpc0FjdGlvbldpbGxDbGVhcllvdXJTZWFyY2hSZXN1bHRzQXJlWW91U3VyZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVzZXRTZWFyY2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIG9iai5yZXN1bHRzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gSW5zZXJ0YmVmb3JlXG4gICAgICAgICAgICAgICAgdmFyIHJvd0luZGV4ID0gKCEgaW5zZXJ0QmVmb3JlKSA/IHJvd051bWJlciArIDEgOiByb3dOdW1iZXI7XG5cbiAgICAgICAgICAgICAgICAvLyBLZWVwIHRoZSBjdXJyZW50IGRhdGFcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFJlY29yZHMgPSBvYmoucmVjb3Jkcy5zcGxpY2Uocm93SW5kZXgpO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RGF0YSA9IG9iai5vcHRpb25zLmRhdGEuc3BsaWNlKHJvd0luZGV4KTtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFJvd3MgPSBvYmoucm93cy5zcGxpY2Uocm93SW5kZXgpO1xuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQWRkaW5nIGxpbmVzXG4gICAgICAgICAgICAgICAgdmFyIHJvd1JlY29yZHMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgcm93RGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciByb3dOb2RlID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciByb3cgPSByb3dJbmRleDsgcm93IDwgKG51bU9mUm93cyArIHJvd0luZGV4KTsgcm93KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBQdXNoIGRhdGEgdG8gdGhlIGRhdGEgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGFbcm93XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBvYmoub3B0aW9ucy5jb2x1bW5zLmxlbmd0aDsgY29sKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGFbcm93XVtjb2xdICA9IGRhdGFbY29sXSA/IGRhdGFbY29sXSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSByb3dcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gb2JqLmNyZWF0ZVJvdyhyb3csIG9iai5vcHRpb25zLmRhdGFbcm93XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIG5vZGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFJvd3NbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwob2JqLnRib2R5LmNoaWxkcmVuLCBjdXJyZW50Um93c1swXSkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnRib2R5Lmluc2VydEJlZm9yZSh0ciwgY3VycmVudFJvd3NbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwob2JqLnRib2R5LmNoaWxkcmVuLCBvYmoucm93c1tyb3dOdW1iZXJdKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoudGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgSGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICByb3dSZWNvcmRzLnB1c2gob2JqLnJlY29yZHNbcm93XSk7XG4gICAgICAgICAgICAgICAgICAgIHJvd0RhdGEucHVzaChvYmoub3B0aW9ucy5kYXRhW3Jvd10pO1xuICAgICAgICAgICAgICAgICAgICByb3dOb2RlLnB1c2godHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBkYXRhIGJhY2sgdG8gdGhlIG1haW4gZGF0YVxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG9iai5yZWNvcmRzLCBjdXJyZW50UmVjb3Jkcyk7XG4gICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkob2JqLm9wdGlvbnMuZGF0YSwgY3VycmVudERhdGEpO1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG9iai5yb3dzLCBjdXJyZW50Um93cyk7XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gUmVzcGVjdCBwYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnBhZ2luYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5wYWdlKG9iai5wYWdlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gS2VlcCBoaXN0b3J5XG4gICAgICAgICAgICAgICAgb2JqLnNldEhpc3Rvcnkoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdpbnNlcnRSb3cnLFxuICAgICAgICAgICAgICAgICAgICByb3dOdW1iZXI6IHJvd051bWJlcixcbiAgICAgICAgICAgICAgICAgICAgbnVtT2ZSb3dzOiBudW1PZlJvd3MsXG4gICAgICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZTogaW5zZXJ0QmVmb3JlLFxuICAgICAgICAgICAgICAgICAgICByb3dSZWNvcmRzOiByb3dSZWNvcmRzLFxuICAgICAgICAgICAgICAgICAgICByb3dEYXRhOiByb3dEYXRhLFxuICAgICAgICAgICAgICAgICAgICByb3dOb2RlOiByb3dOb2RlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0YWJsZSByZWZlcmVuY2VzXG4gICAgICAgICAgICAgICAgb2JqLnVwZGF0ZVRhYmxlUmVmZXJlbmNlcygpO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIEV2ZW50c1xyXG4gICAgICAgICAgICAgICAgb2JqLmRpc3BhdGNoKCdvbmluc2VydHJvdycsIGVsLCByb3dOdW1iZXIsIG51bU9mUm93cywgcm93UmVjb3JkcywgaW5zZXJ0QmVmb3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogRGVsZXRlIGEgcm93IGJ5IG51bWJlclxuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIGludGVnZXIgcm93TnVtYmVyIC0gcm93IG51bWJlciB0byBiZSBleGNsdWRlZFxuICAgICAgICAgKiBAcGFyYW0gaW50ZWdlciBudW1PZlJvd3MgLSBudW1iZXIgb2YgbGluZXNcbiAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBvYmouZGVsZXRlUm93ID0gZnVuY3Rpb24ocm93TnVtYmVyLCBudW1PZlJvd3MpIHtcbiAgICAgICAgICAgIC8vIEdsb2JhbCBDb25maWd1cmF0aW9uXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuYWxsb3dEZWxldGVSb3cgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5hbGxvd0RlbGV0aW5nQWxsUm93cyA9PSB0cnVlIHx8IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgcm93IGRlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3dOdW1iZXIgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtYmVyID0gb2JqLmdldFNlbGVjdGVkUm93cygpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgbnVtYmVyWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93TnVtYmVyID0gb2JqLm9wdGlvbnMuZGF0YS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bU9mUm93cyA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd051bWJlciA9IHBhcnNlSW50KG51bWJlclswXS5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1PZlJvd3MgPSBudW1iZXIubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIExhc3QgY29sdW1uXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Um93ID0gb2JqLm9wdGlvbnMuZGF0YS5sZW5ndGggLSAxO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAocm93TnVtYmVyID09IHVuZGVmaW5lZCB8fCByb3dOdW1iZXIgPiBsYXN0Um93IHx8IHJvd051bWJlciA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd051bWJlciA9IGxhc3RSb3c7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgbnVtT2ZSb3dzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBudW1PZlJvd3MgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCBkZWxldGUgbW9yZSB0aGFuIHRoZSBudW1iZXIgb2YgcmVjb3JlZHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd051bWJlciArIG51bU9mUm93cyA+PSBvYmoub3B0aW9ucy5kYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtT2ZSb3dzID0gb2JqLm9wdGlvbnMuZGF0YS5sZW5ndGggLSByb3dOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBPbmJlZm9yZWRlbGV0ZXJvd1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmRpc3BhdGNoKCdvbmJlZm9yZWRlbGV0ZXJvdycsIGVsLCByb3dOdW1iZXIsIG51bU9mUm93cykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb25iZWZvcmVkZWxldGVyb3cgcmV0dXJuZWQgZmFsc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQocm93TnVtYmVyKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNZXJnZWQgY2VsbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXJnZUV4aXN0cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG9iai5vcHRpb25zLm1lcmdlQ2VsbHMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByb3cgPSByb3dOdW1iZXI7IHJvdyA8IHJvd051bWJlciArIG51bU9mUm93czsgcm93KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5pc1Jvd01lcmdlZChyb3csIGZhbHNlKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlRXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXJnZUV4aXN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIGNvbmZpcm0ob2JqLm9wdGlvbnMudGV4dC50aGlzQWN0aW9uV2lsbERlc3Ryb3lBbnlFeGlzdGluZ01lcmdlZENlbGxzQXJlWW91U3VyZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kZXN0cm95TWVyZ2VkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgYW55IHNlYXJjaFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnNlYXJjaCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5yZXN1bHRzICYmIG9iai5yZXN1bHRzLmxlbmd0aCAhPSBvYmoucm93cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0ob2JqLm9wdGlvbnMudGV4dC50aGlzQWN0aW9uV2lsbENsZWFyWW91clNlYXJjaFJlc3VsdHNBcmVZb3VTdXJlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlc2V0U2VhcmNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlc3VsdHMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJvdyA9IHJvd051bWJlcjsgcm93IDwgcm93TnVtYmVyICsgbnVtT2ZSb3dzOyByb3crKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKG9iai50Ym9keS5jaGlsZHJlbiwgb2JqLnJvd3Nbcm93XSkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucm93c1tyb3ddLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucm93c1tyb3ddLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob2JqLnJvd3Nbcm93XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3dSZWNvcmRzID0gb2JqLnJlY29yZHMuc3BsaWNlKHJvd051bWJlciwgbnVtT2ZSb3dzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3dEYXRhID0gb2JqLm9wdGlvbnMuZGF0YS5zcGxpY2Uocm93TnVtYmVyLCBudW1PZlJvd3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvd05vZGUgPSBvYmoucm93cy5zcGxpY2Uocm93TnVtYmVyLCBudW1PZlJvd3MpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzcGVjdCBwYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMucGFnaW5hdGlvbiA+IDAgJiYgb2JqLnRib2R5LmNoaWxkcmVuLmxlbmd0aCAhPSBvYmoub3B0aW9ucy5wYWdpbmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnBhZ2Uob2JqLnBhZ2VOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNvbmRpdGlvbmFsU2VsZWN0aW9uVXBkYXRlKDEsIHJvd051bWJlciwgKHJvd051bWJlciArIG51bU9mUm93cykgLSAxKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgaGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNldEhpc3Rvcnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2RlbGV0ZVJvdycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93TnVtYmVyOiByb3dOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtT2ZSb3dzOiBudW1PZlJvd3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1JlY29yZHM6IHJvd1JlY29yZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93RGF0YTogcm93RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dOb2RlOiByb3dOb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0YWJsZSByZWZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoudXBkYXRlVGFibGVSZWZlcmVuY2VzKCk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFdmVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRpc3BhdGNoKCdvbmRlbGV0ZXJvdycsIGVsLCByb3dOdW1iZXIsIG51bU9mUm93cywgcm93UmVjb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdKRVhDRUwuIEl0IGlzIG5vdCBwb3NzaWJsZSB0byBkZWxldGUgdGhlIGxhc3Qgcm93Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGNvbHVtblxuICAgICAgICAgKiBcbiAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBvYmoubW92ZUNvbHVtbiA9IGZ1bmN0aW9uKG8sIGQpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmoub3B0aW9ucy5tZXJnZUNlbGxzKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobyA+IGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zZXJ0QmVmb3JlID0gMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc2VydEJlZm9yZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxuICAgICAgICAgICAgICAgIGlmIChvYmouaXNDb2xNZXJnZWQobykubGVuZ3RoIHx8IG9iai5pc0NvbE1lcmdlZChkLCBpbnNlcnRCZWZvcmUpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoISBjb25maXJtKG9iai5vcHRpb25zLnRleHQudGhpc0FjdGlvbldpbGxEZXN0cm95QW55RXhpc3RpbmdNZXJnZWRDZWxsc0FyZVlvdVN1cmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouZGVzdHJveU1lcmdlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgdmFyIG8gPSBwYXJzZUludChvKTtcbiAgICAgICAgICAgIHZhciBkID0gcGFyc2VJbnQoZCk7XG4gICAgXG4gICAgICAgICAgICBpZiAobyA+IGQpIHtcbiAgICAgICAgICAgICAgICBvYmouaGVhZGVyQ29udGFpbmVyLmluc2VydEJlZm9yZShvYmouaGVhZGVyc1tvXSwgb2JqLmhlYWRlcnNbZF0pO1xuICAgICAgICAgICAgICAgIG9iai5jb2xncm91cENvbnRhaW5lci5pbnNlcnRCZWZvcmUob2JqLmNvbGdyb3VwW29dLCBvYmouY29sZ3JvdXBbZF0pO1xuICAgIFxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLnJvd3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJvd3Nbal0uaW5zZXJ0QmVmb3JlKG9iai5yZWNvcmRzW2pdW29dLCBvYmoucmVjb3Jkc1tqXVtkXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmouaGVhZGVyQ29udGFpbmVyLmluc2VydEJlZm9yZShvYmouaGVhZGVyc1tvXSwgb2JqLmhlYWRlcnNbZF0ubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgIG9iai5jb2xncm91cENvbnRhaW5lci5pbnNlcnRCZWZvcmUob2JqLmNvbGdyb3VwW29dLCBvYmouY29sZ3JvdXBbZF0ubmV4dFNpYmxpbmcpO1xuICAgIFxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLnJvd3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJvd3Nbal0uaW5zZXJ0QmVmb3JlKG9iai5yZWNvcmRzW2pdW29dLCBvYmoucmVjb3Jkc1tqXVtkXS5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29sdW1ucy5zcGxpY2UoZCwgMCwgb2JqLm9wdGlvbnMuY29sdW1ucy5zcGxpY2UobywgMSlbMF0pO1xuICAgICAgICAgICAgb2JqLmhlYWRlcnMuc3BsaWNlKGQsIDAsIG9iai5oZWFkZXJzLnNwbGljZShvLCAxKVswXSk7XG4gICAgICAgICAgICBvYmouY29sZ3JvdXAuc3BsaWNlKGQsIDAsIG9iai5jb2xncm91cC5zcGxpY2UobywgMSlbMF0pO1xuICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoucm93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGFbal0uc3BsaWNlKGQsIDAsIG9iai5vcHRpb25zLmRhdGFbal0uc3BsaWNlKG8sIDEpWzBdKTtcbiAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1tqXS5zcGxpY2UoZCwgMCwgb2JqLnJlY29yZHNbal0uc3BsaWNlKG8sIDEpWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICBcclxuICAgICAgICAgICAgLy8gVXBkYXRlIGZvb3RlcnMgcG9zaXRpb25cclxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmZvb3RlcnMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLm9wdGlvbnMuZm9vdGVycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmZvb3RlcnNbal0uc3BsaWNlKGQsIDAsIG9iai5vcHRpb25zLmZvb3RlcnNbal0uc3BsaWNlKG8sIDEpWzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cbiAgICAgICAgICAgIC8vIEtlZXBpbmcgaGlzdG9yeSBvZiBjaGFuZ2VzXG4gICAgICAgICAgICBvYmouc2V0SGlzdG9yeSh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOidtb3ZlQ29sdW1uJyxcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZTogbyxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogZCxcbiAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHRhYmxlIHJlZmVyZW5jZXNcbiAgICAgICAgICAgIG9iai51cGRhdGVUYWJsZVJlZmVyZW5jZXMoKTtcbiAgICBcbiAgICAgICAgICAgIC8vIEV2ZW50c1xyXG4gICAgICAgICAgICBvYmouZGlzcGF0Y2goJ29ubW92ZWNvbHVtbicsIGVsLCBvLCBkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnNlcnQgYSBuZXcgY29sdW1uXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gbWl4ZWQgLSBudW0gb2YgY29sdW1ucyB0byBiZSBhZGRlZCBvciBkYXRhIHRvIGJlIGFkZGVkIGluIG9uZSBzaW5nbGUgY29sdW1uXG4gICAgICAgICAqIEBwYXJhbSBpbnQgY29sdW1uTnVtYmVyIC0gbnVtYmVyIG9mIGNvbHVtbnMgdG8gYmUgY3JlYXRlZFxuICAgICAgICAgKiBAcGFyYW0gYm9vbCBpbnNlcnRCZWZvcmVcbiAgICAgICAgICogQHBhcmFtIG9iamVjdCBwcm9wZXJ0aWVzIC0gY29sdW1uIHByb3BlcnRpZXNcbiAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBvYmouaW5zZXJ0Q29sdW1uID0gZnVuY3Rpb24obWl4ZWQsIGNvbHVtbk51bWJlciwgaW5zZXJ0QmVmb3JlLCBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAvLyBDb25maWd1cmF0aW9uXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuYWxsb3dJbnNlcnRDb2x1bW4gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIFJlY29yZHNcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkcyA9IFtdO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIERhdGEgdG8gYmUgaW5zZXJ0XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBbXTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBUaGUgaW5zZXJ0IGNvdWxkIGJlIGxlYWQgYnkgbnVtYmVyIG9mIHJvd3Mgb3IgdGhlIGFycmF5IG9mIGRhdGFcbiAgICAgICAgICAgICAgICBpZiAobWl4ZWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1PZkNvbHVtbnMgPSBtaXhlZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtT2ZDb2x1bW5zID0gMTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1peGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gbWl4ZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gRGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgdmFyIGluc2VydEJlZm9yZSA9IGluc2VydEJlZm9yZSA/IHRydWUgOiBmYWxzZTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBDdXJyZW50IGNvbHVtbiBudW1iZXJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdENvbHVtbiA9IG9iai5vcHRpb25zLmNvbHVtbnMubGVuZ3RoIC0gMTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBDb25maXJtIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbk51bWJlciA9PSB1bmRlZmluZWQgfHwgY29sdW1uTnVtYmVyID49IHBhcnNlSW50KGxhc3RDb2x1bW4pIHx8IGNvbHVtbk51bWJlciA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uTnVtYmVyID0gbGFzdENvbHVtbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gT25iZWZvcmVpbnNlcnRjb2x1bW5cbiAgICAgICAgICAgICAgICBpZiAob2JqLmRpc3BhdGNoKCdvbmJlZm9yZWluc2VydGNvbHVtbicsIGVsLCBjb2x1bW5OdW1iZXIsIG51bU9mQ29sdW1ucywgaW5zZXJ0QmVmb3JlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29uYmVmb3JlaW5zZXJ0Y29sdW1uIHJldHVybmVkIGZhbHNlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBNZXJnZWQgY2VsbHNcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqLm9wdGlvbnMubWVyZ2VDZWxscykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmlzQ29sTWVyZ2VkKGNvbHVtbk51bWJlciwgaW5zZXJ0QmVmb3JlKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIGNvbmZpcm0ob2JqLm9wdGlvbnMudGV4dC50aGlzQWN0aW9uV2lsbERlc3Ryb3lBbnlFeGlzdGluZ01lcmdlZENlbGxzQXJlWW91U3VyZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kZXN0cm95TWVyZ2VkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGRlZmF1bHQgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIGlmICghIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bU9mQ29sdW1uczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghIHByb3BlcnRpZXNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNbaV0gPSB7IHR5cGU6J3RleHQnLCBzb3VyY2U6W10sIG9wdGlvbnM6W10sIHdpZHRoOm9iai5vcHRpb25zLmRlZmF1bHRDb2xXaWR0aCwgYWxpZ246b2JqLm9wdGlvbnMuZGVmYXVsdENvbEFsaWduIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gSW5zZXJ0IGJlZm9yZVxuICAgICAgICAgICAgICAgIHZhciBjb2x1bW5JbmRleCA9ICghIGluc2VydEJlZm9yZSkgPyBjb2x1bW5OdW1iZXIgKyAxIDogY29sdW1uTnVtYmVyO1xuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnMgPSBqZXhjZWwuaW5qZWN0QXJyYXkob2JqLm9wdGlvbnMuY29sdW1ucywgY29sdW1uSW5kZXgsIHByb3BlcnRpZXMpO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIE9wZW4gc3BhY2UgaW4gdGhlIGNvbnRhaW5lcnNcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEhlYWRlcnMgPSBvYmouaGVhZGVycy5zcGxpY2UoY29sdW1uSW5kZXgpO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50Q29sZ3JvdXAgPSBvYmouY29sZ3JvdXAuc3BsaWNlKGNvbHVtbkluZGV4KTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBIaXN0b3J5XG4gICAgICAgICAgICAgICAgdmFyIGhpc3RvcnlIZWFkZXJzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGhpc3RvcnlDb2xncm91cCA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBoaXN0b3J5UmVjb3JkcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBoaXN0b3J5RGF0YSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhpc3RvcnlGb290ZXJzID0gW107XHJcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBBZGQgbmV3IGhlYWRlcnNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSBjb2x1bW5JbmRleDsgY29sIDwgKG51bU9mQ29sdW1ucyArIGNvbHVtbkluZGV4KTsgY29sKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNyZWF0ZUNlbGxIZWFkZXIoY29sKTtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmhlYWRlckNvbnRhaW5lci5pbnNlcnRCZWZvcmUob2JqLmhlYWRlcnNbY29sXSwgb2JqLmhlYWRlckNvbnRhaW5lci5jaGlsZHJlbltjb2wrMV0pO1xuICAgICAgICAgICAgICAgICAgICBvYmouY29sZ3JvdXBDb250YWluZXIuaW5zZXJ0QmVmb3JlKG9iai5jb2xncm91cFtjb2xdLCBvYmouY29sZ3JvdXBDb250YWluZXIuY2hpbGRyZW5bY29sKzFdKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeUhlYWRlcnMucHVzaChvYmouaGVhZGVyc1tjb2xdKTtcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeUNvbGdyb3VwLnB1c2gob2JqLmNvbGdyb3VwW2NvbF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcclxuICAgICAgICAgICAgICAgIC8vIEFkZCBuZXcgZm9vdGVyIGNlbGxzXHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuZm9vdGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLm9wdGlvbnMuZm9vdGVycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5Rm9vdGVyc1tqXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bU9mQ29sdW1uczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5Rm9vdGVyc1tqXS5wdXNoKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5mb290ZXJzW2pdLnNwbGljZShjb2x1bW5JbmRleCwgMCwgaGlzdG9yeUZvb3RlcnNbal0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGRpbmcgdmlzdWFsIGNvbHVtbnNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBvYmoub3B0aW9ucy5kYXRhLmxlbmd0aDsgcm93KyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCB0aGUgY3VycmVudCBkYXRhXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RGF0YSA9IG9iai5vcHRpb25zLmRhdGFbcm93XS5zcGxpY2UoY29sdW1uSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFJlY29yZCA9IG9iai5yZWNvcmRzW3Jvd10uc3BsaWNlKGNvbHVtbkluZGV4KTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gSGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5RGF0YVtyb3ddID0gW107XG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnlSZWNvcmRzW3Jvd10gPSBbXTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgY29sID0gY29sdW1uSW5kZXg7IGNvbCA8IChudW1PZkNvbHVtbnMgKyBjb2x1bW5JbmRleCk7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXcgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRhdGFbcm93XSA/IGRhdGFbcm93XSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuZGF0YVtyb3ddW2NvbF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldyBjZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGQgPSBvYmouY3JlYXRlQ2VsbChjb2wsIHJvdywgb2JqLm9wdGlvbnMuZGF0YVtyb3ddW2NvbF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbcm93XVtjb2xdID0gdGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgY2VsbCB0byB0aGUgcm93XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJvd3Nbcm93XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yb3dzW3Jvd10uaW5zZXJ0QmVmb3JlKHRkLCBvYmoucm93c1tyb3ddLmNoaWxkcmVuW2NvbCsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgSGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeURhdGFbcm93XS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlSZWNvcmRzW3Jvd10ucHVzaCh0ZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29weSB0aGUgZGF0YSBiYWNrIHRvIHRoZSBtYWluIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkob2JqLm9wdGlvbnMuZGF0YVtyb3ddLCBjdXJyZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG9iai5yZWNvcmRzW3Jvd10sIGN1cnJlbnRSZWNvcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShvYmouaGVhZGVycywgY3VycmVudEhlYWRlcnMpO1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG9iai5jb2xncm91cCwgY3VycmVudENvbGdyb3VwKTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBBZGp1c3QgbmVzdGVkIGhlYWRlcnNcbiAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubmVzdGVkSGVhZGVycyAmJiBvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmxleGlibGUgd2F5IHRvIGhhbmRsZSBuZXN0ZWRoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzWzBdICYmIG9iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbMF1bMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLm9wdGlvbnMubmVzdGVkSGVhZGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xzcGFuID0gcGFyc2VJbnQob2JqLm9wdGlvbnMubmVzdGVkSGVhZGVyc1tqXVtvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzW2pdLmxlbmd0aC0xXS5jb2xzcGFuKSArIG51bU9mQ29sdW1ucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzW2pdW29iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbal0ubGVuZ3RoLTFdLmNvbHNwYW4gPSBjb2xzcGFuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai50aGVhZC5jaGlsZHJlbltqXS5jaGlsZHJlbltvYmoudGhlYWQuY2hpbGRyZW5bal0uY2hpbGRyZW4ubGVuZ3RoLTFdLnNldEF0dHJpYnV0ZSgnY29sc3BhbicsIGNvbHNwYW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHNwYW4gPSBwYXJzZUludChvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzWzBdLmNvbHNwYW4pICsgbnVtT2ZDb2x1bW5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMubmVzdGVkSGVhZGVyc1swXS5jb2xzcGFuID0gY29sc3BhbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai50aGVhZC5jaGlsZHJlblswXS5jaGlsZHJlbltvYmoudGhlYWQuY2hpbGRyZW5bMF0uY2hpbGRyZW4ubGVuZ3RoLTFdLnNldEF0dHJpYnV0ZSgnY29sc3BhbicsIGNvbHNwYW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIEtlZXAgaGlzdG9yeVxuICAgICAgICAgICAgICAgIG9iai5zZXRIaXN0b3J5KHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnaW5zZXJ0Q29sdW1uJyxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uTnVtYmVyOmNvbHVtbk51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgbnVtT2ZDb2x1bW5zOm51bU9mQ29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlOmluc2VydEJlZm9yZSxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uczpwcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOmhpc3RvcnlIZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBjb2xncm91cDpoaXN0b3J5Q29sZ3JvdXAsXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZHM6aGlzdG9yeVJlY29yZHMsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyczpoaXN0b3J5Rm9vdGVycyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTpoaXN0b3J5RGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGFibGUgcmVmZXJlbmNlc1xuICAgICAgICAgICAgICAgIG9iai51cGRhdGVUYWJsZVJlZmVyZW5jZXMoKTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBFdmVudHNcclxuICAgICAgICAgICAgICAgIG9iai5kaXNwYXRjaCgnb25pbnNlcnRjb2x1bW4nLCBlbCwgY29sdW1uTnVtYmVyLCBudW1PZkNvbHVtbnMsIGhpc3RvcnlSZWNvcmRzLCBpbnNlcnRCZWZvcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxldGUgYSBjb2x1bW4gYnkgbnVtYmVyXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcGFyYW0gaW50ZWdlciBjb2x1bW5OdW1iZXIgLSByZWZlcmVuY2UgY29sdW1uIHRvIGJlIGV4Y2x1ZGVkXG4gICAgICAgICAqIEBwYXJhbSBpbnRlZ2VyIG51bU9mQ29sdW1ucyAtIG51bWJlciBvZiBjb2x1bW5zIHRvIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIHJlZmVyZW5jZSBjb2x1bW5cbiAgICAgICAgICogQHJldHVybiB2b2lkXG4gICAgICAgICAqL1xuICAgICAgICBvYmouZGVsZXRlQ29sdW1uID0gZnVuY3Rpb24oY29sdW1uTnVtYmVyLCBudW1PZkNvbHVtbnMpIHtcbiAgICAgICAgICAgIC8vIEdsb2JhbCBDb25maWd1cmF0aW9uXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuYWxsb3dEZWxldGVDb2x1bW4gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChvYmouaGVhZGVycy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSBjb2x1bW4gZGVmaW5pdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbk51bWJlciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW1iZXIgPSBvYmouZ2V0U2VsZWN0ZWRDb2x1bW5zKHRydWUpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgbnVtYmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBsYXN0IGNvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk51bWJlciA9IG9iai5oZWFkZXJzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtT2ZDb2x1bW5zID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTnVtYmVyID0gcGFyc2VJbnQobnVtYmVyWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1PZkNvbHVtbnMgPSBwYXJzZUludChudW1iZXIubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBMYXNhdCBjb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RDb2x1bW4gPSBvYmoub3B0aW9ucy5kYXRhWzBdLmxlbmd0aCAtIDE7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW5OdW1iZXIgPT0gdW5kZWZpbmVkIHx8IGNvbHVtbk51bWJlciA+IGxhc3RDb2x1bW4gfHwgY29sdW1uTnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTnVtYmVyID0gbGFzdENvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBNaW5pbXVtIG9mIGNvbHVtbnMgdG8gYmUgZGVsZXRlIGlzIDFcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgbnVtT2ZDb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBudW1PZkNvbHVtbnMgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbid0IGRlbGV0ZSBtb3JlIHRoYW4gdGhlIGxpbWl0IG9mIHRoZSB0YWJsZVxuICAgICAgICAgICAgICAgICAgICBpZiAobnVtT2ZDb2x1bW5zID4gb2JqLm9wdGlvbnMuZGF0YVswXS5sZW5ndGggLSBjb2x1bW5OdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bU9mQ29sdW1ucyA9IG9iai5vcHRpb25zLmRhdGFbMF0ubGVuZ3RoIC0gY29sdW1uTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uYmVmb3JlZGVsZXRlY29sdW1uXG4gICAgICAgICAgICAgICAgICAgaWYgKG9iai5kaXNwYXRjaCgnb25iZWZvcmVkZWxldGVjb2x1bW4nLCBlbCwgY29sdW1uTnVtYmVyLCBudW1PZkNvbHVtbnMpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvbmJlZm9yZWRlbGV0ZWNvbHVtbiByZXR1cm5lZCBmYWxzZScpO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbid0IHJlbW92ZSB0aGUgbGFzdCBjb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KGNvbHVtbk51bWJlcikgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWVyZ2VkIGNlbGxzXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVyZ2VFeGlzdHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmoub3B0aW9ucy5tZXJnZUNlbGxzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgY29sID0gY29sdW1uTnVtYmVyOyBjb2wgPCBjb2x1bW5OdW1iZXIgKyBudW1PZkNvbHVtbnM7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouaXNDb2xNZXJnZWQoY29sLCBmYWxzZSkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZUV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVyZ2VFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISBjb25maXJtKG9iai5vcHRpb25zLnRleHQudGhpc0FjdGlvbldpbGxEZXN0cm95QW55RXhpc3RpbmdNZXJnZWRDZWxsc0FyZVlvdVN1cmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZGVzdHJveU1lcmdlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgY29sdW1uIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW5zID0gb2JqLm9wdGlvbnMuY29sdW1ucy5zcGxpY2UoY29sdW1uTnVtYmVyLCBudW1PZkNvbHVtbnMpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgY29sID0gY29sdW1uTnVtYmVyOyBjb2wgPCBjb2x1bW5OdW1iZXIgKyBudW1PZkNvbHVtbnM7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNvbGdyb3VwW2NvbF0uY2xhc3NOYW1lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmhlYWRlcnNbY29sXS5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouY29sZ3JvdXBbY29sXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9iai5jb2xncm91cFtjb2xdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouaGVhZGVyc1tjb2xdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob2JqLmhlYWRlcnNbY29sXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGlzdG9yeUhlYWRlcnMgPSBvYmouaGVhZGVycy5zcGxpY2UoY29sdW1uTnVtYmVyLCBudW1PZkNvbHVtbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhpc3RvcnlDb2xncm91cCA9IG9iai5jb2xncm91cC5zcGxpY2UoY29sdW1uTnVtYmVyLCBudW1PZkNvbHVtbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhpc3RvcnlSZWNvcmRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGlzdG9yeURhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoaXN0b3J5Rm9vdGVycyA9IFtdO1xyXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoOyByb3crKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IGNvbHVtbk51bWJlcjsgY29sIDwgY29sdW1uTnVtYmVyICsgbnVtT2ZDb2x1bW5zOyBjb2wrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1tyb3ddW2NvbF0uY2xhc3NOYW1lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW3Jvd11bY29sXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9iai5yZWNvcmRzW3Jvd11bY29sXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoOyByb3crKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhpc3RvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5RGF0YVtyb3ddID0gb2JqLm9wdGlvbnMuZGF0YVtyb3ddLnNwbGljZShjb2x1bW5OdW1iZXIsIG51bU9mQ29sdW1ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVJlY29yZHNbcm93XSA9IG9iai5yZWNvcmRzW3Jvd10uc3BsaWNlKGNvbHVtbk51bWJlciwgbnVtT2ZDb2x1bW5zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSBmb290ZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5mb290ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBvYmoub3B0aW9ucy5mb290ZXJzLmxlbmd0aDsgcm93KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5Rm9vdGVyc1tyb3ddID0gb2JqLm9wdGlvbnMuZm9vdGVyc1tyb3ddLnNwbGljZShjb2x1bW5OdW1iZXIsIG51bU9mQ29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouY29uZGl0aW9uYWxTZWxlY3Rpb25VcGRhdGUoMCwgY29sdW1uTnVtYmVyLCAoY29sdW1uTnVtYmVyICsgbnVtT2ZDb2x1bW5zKSAtIDEpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRqdXN0IG5lc3RlZCBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubmVzdGVkSGVhZGVycyAmJiBvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGbGV4aWJsZSB3YXkgdG8gaGFuZGxlIG5lc3RlZGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubmVzdGVkSGVhZGVyc1swXSAmJiBvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzWzBdWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLm9wdGlvbnMubmVzdGVkSGVhZGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHNwYW4gPSBwYXJzZUludChvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzW2pdW29iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbal0ubGVuZ3RoLTFdLmNvbHNwYW4pIC0gbnVtT2ZDb2x1bW5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMubmVzdGVkSGVhZGVyc1tqXVtvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzW2pdLmxlbmd0aC0xXS5jb2xzcGFuID0gY29sc3BhbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai50aGVhZC5jaGlsZHJlbltqXS5jaGlsZHJlbltvYmoudGhlYWQuY2hpbGRyZW5bal0uY2hpbGRyZW4ubGVuZ3RoLTFdLnNldEF0dHJpYnV0ZSgnY29sc3BhbicsIGNvbHNwYW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHNwYW4gPSBwYXJzZUludChvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzWzBdLmNvbHNwYW4pIC0gbnVtT2ZDb2x1bW5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzWzBdLmNvbHNwYW4gPSBjb2xzcGFuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoudGhlYWQuY2hpbGRyZW5bMF0uY2hpbGRyZW5bb2JqLnRoZWFkLmNoaWxkcmVuWzBdLmNoaWxkcmVuLmxlbmd0aC0xXS5zZXRBdHRyaWJ1dGUoJ2NvbHNwYW4nLCBjb2xzcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBLZWVwaW5nIGhpc3Rvcnkgb2YgY2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNldEhpc3Rvcnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjonZGVsZXRlQ29sdW1uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5OdW1iZXI6Y29sdW1uTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bU9mQ29sdW1uczpudW1PZkNvbHVtbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6Y29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOmhpc3RvcnlIZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGdyb3VwOmhpc3RvcnlDb2xncm91cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRzOmhpc3RvcnlSZWNvcmRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyczpoaXN0b3J5Rm9vdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOmhpc3RvcnlEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGFibGUgcmVmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnVwZGF0ZVRhYmxlUmVmZXJlbmNlcygpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kaXNwYXRjaCgnb25kZWxldGVjb2x1bW4nLCBlbCwgY29sdW1uTnVtYmVyLCBudW1PZkNvbHVtbnMsIGhpc3RvcnlSZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0pFWENFTC4gSXQgaXMgbm90IHBvc3NpYmxlIHRvIGRlbGV0ZSB0aGUgbGFzdCBjb2x1bW4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBzZWxldGVkIHJvd3MgbnVtYmVyc1xuICAgICAgICAgKiBcbiAgICAgICAgICogQHJldHVybiBhcnJheVxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmdldFNlbGVjdGVkUm93cyA9IGZ1bmN0aW9uKGFzSWRzKSB7XG4gICAgICAgICAgICB2YXIgcm93cyA9IFtdO1xuICAgICAgICAgICAgLy8gR2V0IGFsbCBzZWxlY3RlZCByb3dzXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5yb3dzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5yb3dzW2pdLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXNJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaChqKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaChvYmoucm93c1tqXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICByZXR1cm4gcm93cztcbiAgICAgICAgfSxcbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBzZWxldGVkIGNvbHVtbiBudW1iZXJzXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcmV0dXJuIGFycmF5XG4gICAgICAgICAqL1xuICAgICAgICBvYmouZ2V0U2VsZWN0ZWRDb2x1bW5zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY29scyA9IFtdO1xuICAgICAgICAgICAgLy8gR2V0IGFsbCBzZWxlY3RlZCBjb2xzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5oZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5oZWFkZXJzW2ldLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICBjb2xzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgcmV0dXJuIGNvbHM7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBoaWdobGlnaHRlZFxuICAgICAgICAgKiBcbiAgICAgICAgICogQHJldHVybiBhcnJheVxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmdldEhpZ2hsaWdodGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqLmhpZ2hsaWdodGVkO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgY2VsbCByZWZlcmVuY2VzXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgICAgICovXG4gICAgICAgIG9iai51cGRhdGVUYWJsZVJlZmVyZW5jZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBoZWFkZXJzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5oZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBvYmouaGVhZGVyc1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEteCcpO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmICh4ICE9IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvb3Jkc1xuICAgICAgICAgICAgICAgICAgICBvYmouaGVhZGVyc1tpXS5zZXRBdHRyaWJ1dGUoJ2RhdGEteCcsIGkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaXRsZVxuICAgICAgICAgICAgICAgICAgICBpZiAoISBvYmouaGVhZGVyc1tpXS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5oZWFkZXJzW2ldLmlubmVySFRNTCA9IGpleGNlbC5nZXRDb2x1bW5OYW1lKGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIGFsbCByb3dzXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5yb3dzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5yb3dzW2pdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gb2JqLnJvd3Nbal0uZ2V0QXR0cmlidXRlKCdkYXRhLXknKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHkgIT0gaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvb3Jkc1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJvd3Nbal0uc2V0QXR0cmlidXRlKCdkYXRhLXknLCBqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yb3dzW2pdLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZSgnZGF0YS15Jywgaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSb3cgbnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucm93c1tqXS5jaGlsZHJlblswXS5pbm5lckhUTUwgPSBqICsgMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFJlZ3VsYXIgY2VsbHMgYWZmZWN0ZWQgYnkgdGhpcyBjaGFuZ2VcbiAgICAgICAgICAgIHZhciBhZmZlY3RlZFRva2VucyA9IFtdO1xuICAgICAgICAgICAgdmFyIG1lcmdlQ2VsbFVwZGF0ZXMgPSBbXTtcbiAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBjZWxsXG4gICAgICAgICAgICB2YXIgdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbih4LHksaSxqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHggIT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1tqXVtpXS5zZXRBdHRyaWJ1dGUoJ2RhdGEteCcsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoeSAhPSBqKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW2pdW2ldLnNldEF0dHJpYnV0ZSgnZGF0YS15Jywgaik7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIE90aGVyIHVwZGF0ZXNcbiAgICAgICAgICAgICAgICBpZiAoeCAhPSBpIHx8IHkgIT0gaikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uSWRGcm9tID0gamV4Y2VsLmdldENvbHVtbk5hbWVGcm9tSWQoW3gsIHldKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbklkVG8gPSBqZXhjZWwuZ2V0Q29sdW1uTmFtZUZyb21JZChbaSwgal0pO1xuICAgICAgICAgICAgICAgICAgICBhZmZlY3RlZFRva2Vuc1tjb2x1bW5JZEZyb21dID0gY29sdW1uSWRUbztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5yZWNvcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoucmVjb3Jkc1swXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlY29yZHNbal1baV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN1cnJlbnQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IG9iai5yZWNvcmRzW2pdW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS14Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IG9iai5yZWNvcmRzW2pdW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS15Jyk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY29sdW1uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlY29yZHNbal1baV0uZ2V0QXR0cmlidXRlKCdkYXRhLW1lcmdlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbklkRnJvbSA9IGpleGNlbC5nZXRDb2x1bW5OYW1lRnJvbUlkKFt4LCB5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbklkVG8gPSBqZXhjZWwuZ2V0Q29sdW1uTmFtZUZyb21JZChbaSwgal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXJnZUNlbGxVcGRhdGVzW2NvbHVtbklkRnJvbV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uSWRGcm9tID09IGNvbHVtbklkVG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlQ2VsbFVwZGF0ZXNbY29sdW1uSWRGcm9tXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsWCA9IHBhcnNlSW50KGkgLSB4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbFkgPSBwYXJzZUludChqIC0geSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZUNlbGxVcGRhdGVzW2NvbHVtbklkRnJvbV0gPSBbIGNvbHVtbklkVG8sIHRvdGFsWCwgdG90YWxZIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBvc2l0aW9uKHgseSxpLGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIG1lcmdlZCBpZiBhcHBsaWNhYmxlXG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG1lcmdlQ2VsbFVwZGF0ZXMpO1xuICAgICAgICAgICAgaWYgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXJnZUNlbGxVcGRhdGVzW2tleXNbaV1dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lKGtleXNbaV0sIHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGluZm9bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IGluZm9bMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQb3NpdGlvbih4LHkseCArIG1lcmdlQ2VsbFVwZGF0ZXNba2V5c1tpXV1bMV0seSArIG1lcmdlQ2VsbFVwZGF0ZXNba2V5c1tpXV1bMl0pO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbklkRnJvbSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uSWRUbyA9IG1lcmdlQ2VsbFVwZGF0ZXNba2V5c1tpXV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5vcHRpb25zLm1lcmdlQ2VsbHNbY29sdW1uSWRGcm9tXVsyXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4ID0gcGFyc2VJbnQob2JqLm9wdGlvbnMubWVyZ2VDZWxsc1tjb2x1bW5JZEZyb21dWzJdW2pdLmdldEF0dHJpYnV0ZSgnZGF0YS14JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ID0gcGFyc2VJbnQob2JqLm9wdGlvbnMubWVyZ2VDZWxsc1tjb2x1bW5JZEZyb21dWzJdW2pdLmdldEF0dHJpYnV0ZSgnZGF0YS15JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm1lcmdlQ2VsbHNbY29sdW1uSWRGcm9tXVsyXVtqXS5zZXRBdHRyaWJ1dGUoJ2RhdGEteCcsIHggKyBtZXJnZUNlbGxVcGRhdGVzW2tleXNbaV1dWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5tZXJnZUNlbGxzW2NvbHVtbklkRnJvbV1bMl1bal0uc2V0QXR0cmlidXRlKCdkYXRhLXknLCB5ICsgbWVyZ2VDZWxsVXBkYXRlc1trZXlzW2ldXVsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5tZXJnZUNlbGxzW2NvbHVtbklkVG9dID0gb2JqLm9wdGlvbnMubWVyZ2VDZWxsc1tjb2x1bW5JZEZyb21dO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlKG9iai5vcHRpb25zLm1lcmdlQ2VsbHNbY29sdW1uSWRGcm9tXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgZm9ybXVsYXNcbiAgICAgICAgICAgIG9iai51cGRhdGVGb3JtdWxhcyhhZmZlY3RlZFRva2Vucyk7XG4gICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgbWV0YSBkYXRhXG4gICAgICAgICAgICBvYmoudXBkYXRlTWV0YShhZmZlY3RlZFRva2Vucyk7XG4gICAgXG4gICAgICAgICAgICAvLyBSZWZyZXNoIHNlbGVjdGlvblxuICAgICAgICAgICAgb2JqLnJlZnJlc2hTZWxlY3Rpb24oKTtcbiAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0YWJsZSB3aXRoIGN1c3RvbSBjb25maWd1cmF0aW9uIGlmIGFwcGxpY2FibGVcbiAgICAgICAgICAgIG9iai51cGRhdGVUYWJsZSgpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXN0b20gc2V0dGluZ3MgZm9yIHRoZSBjZWxsc1xuICAgICAgICAgKi9cbiAgICAgICAgb2JqLnVwZGF0ZVRhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3Igc3BhcmVcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5taW5TcGFyZVJvd3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIG51bUJsYW5rUm93cyA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IG9iai5yb3dzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmhlYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5kYXRhW2pdW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtQmxhbmtSb3dzKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLm1pblNwYXJlUm93cyAtIG51bUJsYW5rUm93cyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmluc2VydFJvdyhvYmoub3B0aW9ucy5taW5TcGFyZVJvd3MgLSBudW1CbGFua1Jvd3MpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLm1pblNwYXJlQ29scyA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgbnVtQmxhbmtDb2xzID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gb2JqLmhlYWRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwIDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLnJvd3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5kYXRhW2pdW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtQmxhbmtDb2xzKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLm1pblNwYXJlQ29scyAtIG51bUJsYW5rQ29scyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmluc2VydENvbHVtbihvYmoub3B0aW9ucy5taW5TcGFyZUNvbHMgLSBudW1CbGFua0NvbHMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gQ3VzdG9taXphdGlvbnMgYnkgdGhlIGRldmVsb3BlclxuICAgICAgICAgICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy51cGRhdGVUYWJsZSkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5kZXRhY2hGb3JVcGRhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2hpbGQob2JqLmNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5yb3dzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmhlYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLnVwZGF0ZVRhYmxlKGVsLCBvYmoucmVjb3Jkc1tqXVtpXSwgaSwgaiwgb2JqLm9wdGlvbnMuZGF0YVtqXVtpXSwgb2JqLnJlY29yZHNbal1baV0uaW5uZXJUZXh0LCBqZXhjZWwuZ2V0Q29sdW1uTmFtZUZyb21JZChbaSwgal0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmRldGFjaEZvclVwZGF0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5pbnNlcnRCZWZvcmUob2JqLmNvbnRlbnQsIG9iai5wYWdpbmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcclxuICAgICAgICAgICAgLy8gVXBkYXRlIGZvb3RlcnNcclxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmZvb3RlcnMpIHtcclxuICAgICAgICAgICAgICAgIG9iai5zZXRGb290ZXIoKTtcclxuICAgICAgICAgICAgfVxyXG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBjb3JuZXIgcG9zaXRpb25cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgb2JqLnVwZGF0ZUNvcm5lclBvc2l0aW9uKCk7XG4gICAgICAgICAgICB9LDApO1xuICAgICAgICB9XG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaG93IHJvd1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9iai5zaG93Um93ID0gZnVuY3Rpb24ocm93TnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG9iai5yb3dzW3Jvd051bWJlcl0uc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGlkZSByb3dcclxuICAgICAgICAgKi9cclxuICAgICAgICBvYmouaGlkZVJvdyA9IGZ1bmN0aW9uKHJvd051bWJlcikge1xyXG4gICAgICAgICAgICBvYmoucm93c1tyb3dOdW1iZXJdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaG93IGNvbHVtblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9iai5zaG93Q29sdW1uID0gZnVuY3Rpb24oY29sTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG9iai5oZWFkZXJzW2NvbE51bWJlcl0uc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICBvYmouY29sZ3JvdXBbY29sTnVtYmVyXS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLm9wdGlvbnMuZGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbal1bY29sTnVtYmVyXS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhpZGUgY29sdW1uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb2JqLmhpZGVDb2x1bW4gPSBmdW5jdGlvbihjb2xOdW1iZXIpIHtcclxuICAgICAgICAgICAgb2JqLmhlYWRlcnNbY29sTnVtYmVyXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICBvYmouY29sZ3JvdXBbY29sTnVtYmVyXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW2pdW2NvbE51bWJlcl0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG93IGluZGV4IGNvbHVtblxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLnNob3dJbmRleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgb2JqLnRhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ2pleGNlbF9oaWRkZW5faW5kZXgnKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogSGlkZSBpbmRleCBjb2x1bW5cbiAgICAgICAgICovXG4gICAgICAgIG9iai5oaWRlSW5kZXggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG9iai50YWJsZS5jbGFzc0xpc3QuYWRkKCdqZXhjZWxfaGlkZGVuX2luZGV4Jyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBhbGwgcmVsYXRlZCBjZWxscyBpbiB0aGUgY2hhaW5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBjaGFpbkxvb3BQcm90ZWN0aW9uID0gW107XG4gICAgXG4gICAgICAgIG9iai51cGRhdGVGb3JtdWxhQ2hhaW4gPSBmdW5jdGlvbih4LCB5LCByZWNvcmRzKSB7XG4gICAgICAgICAgICB2YXIgY2VsbElkID0gamV4Y2VsLmdldENvbHVtbk5hbWVGcm9tSWQoW3gsIHldKTtcbiAgICAgICAgICAgIGlmIChvYmouZm9ybXVsYVtjZWxsSWRdICYmIG9iai5mb3JtdWxhW2NlbGxJZF0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChjaGFpbkxvb3BQcm90ZWN0aW9uW2NlbGxJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbeV1beF0uaW5uZXJIVE1MID0gJyNFUlJPUic7XG4gICAgICAgICAgICAgICAgICAgIG9iai5mb3JtdWxhW2NlbGxJZF0gPSAnJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBQcm90ZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGNoYWluTG9vcFByb3RlY3Rpb25bY2VsbElkXSA9IHRydWU7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmZvcm11bGFbY2VsbElkXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGwgPSBqZXhjZWwuZ2V0SWRGcm9tQ29sdW1uTmFtZShvYmouZm9ybXVsYVtjZWxsSWRdW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAnJytvYmoub3B0aW9ucy5kYXRhW2NlbGxbMV1dW2NlbGxbMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnN1YnN0cigwLDEpID09ICc9Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZHMucHVzaChvYmoudXBkYXRlQ2VsbChjZWxsWzBdLCBjZWxsWzFdLCB2YWx1ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyBsb25nZXIgYSBmb3JtdWxhLCByZW1vdmUgZnJvbSB0aGUgY2hhaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhvYmouZm9ybXVsYSlbaV0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnVwZGF0ZUZvcm11bGFDaGFpbihjZWxsWzBdLCBjZWxsWzFdLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGNoYWluTG9vcFByb3RlY3Rpb24gPSBbXTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGZvcm11bGFzXG4gICAgICAgICAqL1xuICAgICAgICBvYmoudXBkYXRlRm9ybXVsYXMgPSBmdW5jdGlvbihyZWZlcmVuY2VzVG9VcGRhdGUpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBmb3JtdWxhc1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoub3B0aW9ucy5kYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoub3B0aW9ucy5kYXRhWzBdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9ICcnICsgb2JqLm9wdGlvbnMuZGF0YVtqXVtpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXMgZm9ybXVsYVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuc3Vic3RyKDAsMSkgPT0gJz0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRva2Vuc1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0Zvcm11bGEgPSBvYmoudXBkYXRlRm9ybXVsYSh2YWx1ZSwgcmVmZXJlbmNlc1RvVXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdGb3JtdWxhICE9IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuZGF0YVtqXVtpXSA9IG5ld0Zvcm11bGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgZm9ybXVsYSBjaGFpblxuICAgICAgICAgICAgdmFyIGZvcm11bGEgPSBbXTtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqLmZvcm11bGEpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgLy8gQ3VycmVudCBrZXkgYW5kIHZhbHVlc1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9iai5mb3JtdWxhW2tleV07XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGtleVxuICAgICAgICAgICAgICAgIGlmIChyZWZlcmVuY2VzVG9VcGRhdGVba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSByZWZlcmVuY2VzVG9VcGRhdGVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHZhbHVlc1xuICAgICAgICAgICAgICAgIGZvcm11bGFba2V5XSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxldHRlciA9IHZhbHVlW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVmZXJlbmNlc1RvVXBkYXRlW2xldHRlcl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldHRlciA9IHJlZmVyZW5jZXNUb1VwZGF0ZVtsZXR0ZXJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvcm11bGFba2V5XS5wdXNoKGxldHRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqLmZvcm11bGEgPSBmb3JtdWxhO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgZm9ybXVsYVxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLnVwZGF0ZUZvcm11bGEgPSBmdW5jdGlvbihmb3JtdWxhLCByZWZlcmVuY2VzVG9VcGRhdGUpIHtcbiAgICAgICAgICAgIHZhciB0ZXN0TGV0dGVyID0gL1tBLVpdLztcbiAgICAgICAgICAgIHZhciB0ZXN0TnVtYmVyID0gL1swLTldLztcbiAgICBcbiAgICAgICAgICAgIHZhciBuZXdGb3JtdWxhID0gJyc7XG4gICAgICAgICAgICB2YXIgbGV0dGVyID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBudW1iZXIgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHRva2VuID0gJyc7XG4gICAgXG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZm9ybXVsYS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGVzdExldHRlci5leGVjKGZvcm11bGFbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXR0ZXIgPSAxO1xuICAgICAgICAgICAgICAgICAgICBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiArPSBmb3JtdWxhW2luZGV4XTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRlc3ROdW1iZXIuZXhlYyhmb3JtdWxhW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyID0gbGV0dGVyID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuICs9IGZvcm11bGFbaW5kZXhdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZXR0ZXIgJiYgbnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHJlZmVyZW5jZXNUb1VwZGF0ZVt0b2tlbl0gPyByZWZlcmVuY2VzVG9VcGRhdGVbdG9rZW5dIDogdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV3Rm9ybXVsYSArPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgbmV3Rm9ybXVsYSArPSBmb3JtdWxhW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgbGV0dGVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAobGV0dGVyICYmIG51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHJlZmVyZW5jZXNUb1VwZGF0ZVt0b2tlbl0gPyByZWZlcmVuY2VzVG9VcGRhdGVbdG9rZW5dIDogdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld0Zvcm11bGEgKz0gdG9rZW47XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICByZXR1cm4gbmV3Rm9ybXVsYTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogUGFyc2UgZm9ybXVsYXNcbiAgICAgICAgICovXG4gICAgICAgIG9iai5leGVjdXRlRm9ybXVsYSA9IGZ1bmN0aW9uKGV4cHJlc3Npb24sIHgsIHkpIHtcbiAgICBcbiAgICAgICAgICAgIHZhciBmb3JtdWxhUmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgdmFyIGZvcm11bGFMb29wUHJvdGVjdGlvbiA9IFtdO1xuICAgIFxuICAgICAgICAgICAgLy8gRXhlY3V0ZSBmb3JtdWxhIHdpdGggbG9vcCBwcm90ZWN0aW9uXG4gICAgICAgICAgICB2YXIgZXhlY3V0ZSA9IGZ1bmN0aW9uKGV4cHJlc3Npb24sIHgsIHkpIHtcbiAgICAgICAgICAgICAvLyBQYXJlbnQgY29sdW1uIGlkZW50aWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudElkID0gamV4Y2VsLmdldENvbHVtbk5hbWVGcm9tSWQoW3gsIHldKTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBDb2RlIHByb3RlY3Rpb25cbiAgICAgICAgICAgICAgICBpZiAoZm9ybXVsYUxvb3BQcm90ZWN0aW9uW3BhcmVudElkXSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdSZWZlcmVuY2UgbG9vcCBkZXRlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyNFUlJPUic7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIGZvcm11bGFMb29wUHJvdGVjdGlvbltwYXJlbnRJZF0gPSB0cnVlO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgcmFuZ2UgdG9rZW5zXG4gICAgICAgICAgICAgICAgdmFyIHRva2Vuc1VwZGF0ZSA9IGZ1bmN0aW9uKHRva2Vucykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdG9rZW5zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpbmRleF0uc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlMSA9IGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lKHRva2VuWzBdLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlMiA9IGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lKHRva2VuWzFdLCB0cnVlKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlMVswXSA8PSBlMlswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4MSA9IGUxWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4MiA9IGUyWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeDEgPSBlMlswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeDIgPSBlMVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlMVsxXSA8PSBlMlsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5MSA9IGUxWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5MiA9IGUyWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeTEgPSBlMlsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeTIgPSBlMVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSB5MTsgaiA8PSB5MjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHgxOyBpIDw9IHgyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZi5wdXNoKGpleGNlbC5nZXRDb2x1bW5OYW1lRnJvbUlkKFtpLCBqXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UodG9rZW5zW2luZGV4XSwgZi5qb2luKCcsJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIHZhciB0b2tlbnMgPSBleHByZXNzaW9uLm1hdGNoKC8oW0EtWl0rWzAtOV0rKVxcOihbQS1aXStbMC05XSspL2cpO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbnMgJiYgdG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnNVcGRhdGUodG9rZW5zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gU3RyaW5nXG4gICAgICAgICAgICAgICAgdmFyIGV2YWxzdHJpbmcgPSAnJztcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBHZXQgdG9rZW5zXG4gICAgICAgICAgICAgICAgdmFyIHRva2VucyA9IGV4cHJlc3Npb24ubWF0Y2goLyhbQS1aXStbMC05XSspL2cpO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIERpcmVjdCBzZWxmLXJlZmVyZW5jZSBwcm90ZWN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRva2VucyAmJiB0b2tlbnMuaW5kZXhPZihwYXJlbnRJZCkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTZWxmIFJlZmVyZW5jZSBkZXRlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyNFUlJPUic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2Vucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIGNoYWluXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgb2JqLmZvcm11bGFbdG9rZW5zW2ldXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZm9ybXVsYVt0b2tlbnNbaV1dID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElzIGFscmVhZHkgaW4gdGhlIHJlZ2lzdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5mb3JtdWxhW3Rva2Vuc1tpXV0uaW5kZXhPZihwYXJlbnRJZCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5mb3JtdWxhW3Rva2Vuc1tpXV0ucHVzaChwYXJlbnRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCBjYWxjdWxhdGUgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZhbCgndHlwZW9mKCcgKyB0b2tlbnNbaV0gKyAnKSA9PSBcInVuZGVmaW5lZFwiJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29vcmRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lKHRva2Vuc1tpXSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLmRhdGFbcG9zaXRpb25bMV1dKSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2Yob2JqLm9wdGlvbnMuZGF0YVtwb3NpdGlvblsxXV1bcG9zaXRpb25bMF1dKSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gb2JqLm9wdGlvbnMuZGF0YVtwb3NpdGlvblsxXV1bcG9zaXRpb25bMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGNvbHVtbiBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJycrdmFsdWUpLnN1YnN0cigwLDEpID09ICc9Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm11bGFSZXN1bHRzW3Rva2Vuc1tpXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZvcm11bGFSZXN1bHRzW3Rva2Vuc1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZXhlY3V0ZSh2YWx1ZSwgcG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhUmVzdWx0c1t0b2tlbnNbaV1dID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHlwZSFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgnJyt2YWx1ZSkudHJpbSgpID09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOdWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmFsc3RyaW5nICs9IFwidmFyIFwiICsgdG9rZW5zW2ldICsgXCIgPSBudWxsO1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IE51bWJlcih2YWx1ZSkgJiYgb2JqLm9wdGlvbnMuYXV0b0Nhc3RpbmcgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxzdHJpbmcgKz0gXCJ2YXIgXCIgKyB0b2tlbnNbaV0gKyBcIiA9IFwiICsgTnVtYmVyKHZhbHVlKSArIFwiO1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnlpbmcgYW55IGZvcm1hdHRlZCBudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtYmVyID0gb2JqLnBhcnNlTnVtYmVyKHZhbHVlLCBwb3NpdGlvblswXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuYXV0b0Nhc3RpbmcgPT0gdHJ1ZSAmJiBudW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyIGFzIG51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmFsc3RyaW5nICs9IFwidmFyIFwiICsgdG9rZW5zW2ldICsgXCIgPSBcIiArIG51bWJlciArIFwiO1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciBhcyBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZhbHN0cmluZyArPSBcInZhciBcIiArIHRva2Vuc1tpXSArIFwiID0gJ1wiICsgdmFsdWUgKyBcIic7XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgZm9ybXVsYSB0byBqYXZhc2NyaXB0XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsc3RyaW5nICs9IFwiZnVuY3Rpb24gQ09MVU1OKCkgeyByZXR1cm4gcGFyc2VJbnQoeCkgKyAxOyB9OyBmdW5jdGlvbiBST1coKSB7IHJldHVybiBwYXJzZUludCh5KSArIDE7IH07IGZ1bmN0aW9uIENFTEwoKSB7IHJldHVybiBwYXJlbnRJZDsgfTsgZnVuY3Rpb24gVEFCTEUoKSB7IHJldHVybiBvYmo7IH07IGZ1bmN0aW9uIFZBTFVFKGNvbCwgcm93KSB7IHJldHVybiBvYmoucmVjb3Jkc1tyb3ctMV1bY29sLTFdLmlubmVySFRNTDsgfTsgZnVuY3Rpb24gVEhJU1JPV0NFTEwoY29sKSB7IHZhciBpZCA9IGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lKGNvbCsocGFyc2VJbnQoeSkrMSksIHRydWUpOyByZXR1cm4gb2JqLnJlY29yZHNbaWRbMV1dW2lkWzBdXS5pbm5lckhUTUw7IH1cIjtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSBldmFsKGV2YWxzdHJpbmcgKyBleHByZXNzaW9uLnN1YnN0cigxKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSAnI0VSUk9SJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiBleGVjdXRlKGV4cHJlc3Npb24sIHgsIHkpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcnlpbmcgdG8gZXh0cmFjdCBhIG51bWJlciBmcm9tIGEgc3RyaW5nXG4gICAgICAgICAqL1xuICAgICAgICBvYmoucGFyc2VOdW1iZXIgPSBmdW5jdGlvbih2YWx1ZSwgY29sdW1uTnVtYmVyKSB7XG4gICAgICAgICAgICAvLyBEZWNpbWFsIHBvaW50XG4gICAgICAgICAgICB2YXIgZGVjaW1hbCA9IGNvbHVtbk51bWJlciAmJiBvYmoub3B0aW9ucy5jb2x1bW5zW2NvbHVtbk51bWJlcl0uZGVjaW1hbCA/IG9iai5vcHRpb25zLmNvbHVtbnNbY29sdW1uTnVtYmVyXS5kZWNpbWFsIDogJy4nO1xuICAgIFxuICAgICAgICAgICAgLy8gUGFyc2UgYm90aCBwYXJ0cyBvZiB0aGUgbnVtYmVyXG4gICAgICAgICAgICB2YXIgbnVtYmVyID0gKCcnICsgdmFsdWUpO1xuICAgICAgICAgICAgbnVtYmVyID0gbnVtYmVyLnNwbGl0KGRlY2ltYWwpO1xuICAgICAgICAgICAgbnVtYmVyWzBdID0gbnVtYmVyWzBdLm1hdGNoKC9bKy1dP1swLTldL2cpO1xuICAgICAgICAgICAgaWYgKG51bWJlclswXSkge1xuICAgICAgICAgICAgICAgIG51bWJlclswXSA9IG51bWJlclswXS5qb2luKCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChudW1iZXJbMV0pIHtcbiAgICAgICAgICAgICAgICBudW1iZXJbMV0gPSBudW1iZXJbMV0ubWF0Y2goL1swLTldKi9nKS5qb2luKCcnKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIElzIGEgdmFsaWQgbnVtYmVyXG4gICAgICAgICAgICBpZiAobnVtYmVyWzBdICYmIE51bWJlcihudW1iZXJbMF0pID49IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoISBudW1iZXJbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKG51bWJlclswXSArICcuMDAnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBOdW1iZXIobnVtYmVyWzBdICsgJy4nICsgbnVtYmVyWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCByb3cgbnVtYmVyXG4gICAgICAgICAqL1xuICAgICAgICBvYmoucm93ID0gZnVuY3Rpb24oY2VsbCkge1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgY29sIG51bWJlclxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmNvbCA9IGZ1bmN0aW9uKGNlbGwpIHtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBvYmoudXAgPSBmdW5jdGlvbihzaGlmdEtleSwgY3RybEtleSkge1xuICAgICAgICAgICAgaWYgKHNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5zZWxlY3RlZENlbGxbM10gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai51cC52aXNpYmxlKDEsIGN0cmxLZXkgPyAwIDogMSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChvYmouc2VsZWN0ZWRDZWxsWzFdID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBvYmoudXAudmlzaWJsZSgwLCBjdHJsS2V5ID8gMCA6IDEpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbMl0gPSBvYmouc2VsZWN0ZWRDZWxsWzBdO1xuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbM10gPSBvYmouc2VsZWN0ZWRDZWxsWzFdO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHNlbGVjdGlvblxuICAgICAgICAgICAgb2JqLnVwZGF0ZVNlbGVjdGlvbkZyb21Db29yZHMob2JqLnNlbGVjdGVkQ2VsbFswXSwgb2JqLnNlbGVjdGVkQ2VsbFsxXSwgb2JqLnNlbGVjdGVkQ2VsbFsyXSwgb2JqLnNlbGVjdGVkQ2VsbFszXSk7XG4gICAgXG4gICAgICAgICAgICAvLyBDaGFuZ2UgcGFnZVxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmxhenlMb2FkaW5nID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLnNlbGVjdGVkQ2VsbFsxXSA9PSAwIHx8IG9iai5zZWxlY3RlZENlbGxbM10gPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvYmoubG9hZFBhZ2UoMCk7XG4gICAgICAgICAgICAgICAgICAgIG9iai51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKG9iai5zZWxlY3RlZENlbGxbMF0sIG9iai5zZWxlY3RlZENlbGxbMV0sIG9iai5zZWxlY3RlZENlbGxbMl0sIG9iai5zZWxlY3RlZENlbGxbM10pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoubG9hZFZhbGlkYXRpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnVwZGF0ZVNlbGVjdGlvbkZyb21Db29yZHMob2JqLnNlbGVjdGVkQ2VsbFswXSwgb2JqLnNlbGVjdGVkQ2VsbFsxXSwgb2JqLnNlbGVjdGVkQ2VsbFsyXSwgb2JqLnNlbGVjdGVkQ2VsbFszXSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHBhcnNlSW50KG9iai50Ym9keS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgnZGF0YS15JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5zZWxlY3RlZENlbGxbMV0gLSBpdGVtIDwgMzApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoubG9hZFVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnVwZGF0ZVNlbGVjdGlvbkZyb21Db29yZHMob2JqLnNlbGVjdGVkQ2VsbFswXSwgb2JqLnNlbGVjdGVkQ2VsbFsxXSwgb2JqLnNlbGVjdGVkQ2VsbFsyXSwgb2JqLnNlbGVjdGVkQ2VsbFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLnBhZ2luYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VOdW1iZXIgPSBvYmoud2hpY2hQYWdlKG9iai5zZWxlY3RlZENlbGxbM10pO1xuICAgICAgICAgICAgICAgIGlmIChwYWdlTnVtYmVyICE9IG9iai5wYWdlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5wYWdlKHBhZ2VOdW1iZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIG9iai51cGRhdGVTY3JvbGwoMSk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgb2JqLnVwLnZpc2libGUgPSBmdW5jdGlvbihncm91cCwgZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZ3JvdXAgPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gcGFyc2VJbnQob2JqLnNlbGVjdGVkQ2VsbFswXSk7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBwYXJzZUludChvYmouc2VsZWN0ZWRDZWxsWzFdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBwYXJzZUludChvYmouc2VsZWN0ZWRDZWxsWzJdKTtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHBhcnNlSW50KG9iai5zZWxlY3RlZENlbGxbM10pO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB5OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5yZWNvcmRzW2pdW3hdLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnICYmIG9iai5yb3dzW2pdLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB5ID0gb2JqLnVwLmdldCh4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmIChncm91cCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFswXSA9IHg7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFsxXSA9IHk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbMl0gPSB4O1xuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbM10gPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIG9iai51cC5nZXQgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHBhcnNlSW50KHgpO1xuICAgICAgICAgICAgdmFyIHkgPSBwYXJzZUludCh5KTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAoeSAtIDEpOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgICAgIGlmIChvYmoucmVjb3Jkc1tqXVt4XS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJyAmJiBvYmoucm93c1tqXS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlY29yZHNbal1beF0uZ2V0QXR0cmlidXRlKCdkYXRhLW1lcmdlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlY29yZHNbal1beF0gPT0gb2JqLnJlY29yZHNbeV1beF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB5ID0gajtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgcmV0dXJuIHk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgb2JqLmRvd24gPSBmdW5jdGlvbihzaGlmdEtleSwgY3RybEtleSkge1xuICAgICAgICAgICAgaWYgKHNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5zZWxlY3RlZENlbGxbM10gPCBvYmoucmVjb3Jkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5kb3duLnZpc2libGUoMSwgY3RybEtleSA/IDAgOiAxKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5zZWxlY3RlZENlbGxbMV0gPCBvYmoucmVjb3Jkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5kb3duLnZpc2libGUoMCwgY3RybEtleSA/IDAgOiAxKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0ZWRDZWxsWzJdID0gb2JqLnNlbGVjdGVkQ2VsbFswXTtcbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0ZWRDZWxsWzNdID0gb2JqLnNlbGVjdGVkQ2VsbFsxXTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIG9iai51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKG9iai5zZWxlY3RlZENlbGxbMF0sIG9iai5zZWxlY3RlZENlbGxbMV0sIG9iai5zZWxlY3RlZENlbGxbMl0sIG9iai5zZWxlY3RlZENlbGxbM10pO1xuICAgIFxuICAgICAgICAgICAgLy8gQ2hhbmdlIHBhZ2VcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5sYXp5TG9hZGluZyA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKChvYmouc2VsZWN0ZWRDZWxsWzFdID09IG9iai5yZWNvcmRzLmxlbmd0aCAtIDEgfHwgb2JqLnNlbGVjdGVkQ2VsbFszXSA9PSBvYmoucmVjb3Jkcy5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICBvYmoubG9hZFBhZ2UoLTEpO1xuICAgICAgICAgICAgICAgICAgICBvYmoudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3JkcyhvYmouc2VsZWN0ZWRDZWxsWzBdLCBvYmouc2VsZWN0ZWRDZWxsWzFdLCBvYmouc2VsZWN0ZWRDZWxsWzJdLCBvYmouc2VsZWN0ZWRDZWxsWzNdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmxvYWRWYWxpZGF0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKG9iai5zZWxlY3RlZENlbGxbMF0sIG9iai5zZWxlY3RlZENlbGxbMV0sIG9iai5zZWxlY3RlZENlbGxbMl0sIG9iai5zZWxlY3RlZENlbGxbM10pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBwYXJzZUludChvYmoudGJvZHkubGFzdENoaWxkLmdldEF0dHJpYnV0ZSgnZGF0YS15JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gLSBvYmouc2VsZWN0ZWRDZWxsWzNdIDwgMzApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoubG9hZERvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3JkcyhvYmouc2VsZWN0ZWRDZWxsWzBdLCBvYmouc2VsZWN0ZWRDZWxsWzFdLCBvYmouc2VsZWN0ZWRDZWxsWzJdLCBvYmouc2VsZWN0ZWRDZWxsWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqLm9wdGlvbnMucGFnaW5hdGlvbiA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFnZU51bWJlciA9IG9iai53aGljaFBhZ2Uob2JqLnNlbGVjdGVkQ2VsbFszXSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VOdW1iZXIgIT0gb2JqLnBhZ2VOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnBhZ2UocGFnZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgb2JqLnVwZGF0ZVNjcm9sbCgzKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBvYmouZG93bi52aXNpYmxlID0gZnVuY3Rpb24oZ3JvdXAsIGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaWYgKGdyb3VwID09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBhcnNlSW50KG9iai5zZWxlY3RlZENlbGxbMF0pO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gcGFyc2VJbnQob2JqLnNlbGVjdGVkQ2VsbFsxXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gcGFyc2VJbnQob2JqLnNlbGVjdGVkQ2VsbFsyXSk7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBwYXJzZUludChvYmouc2VsZWN0ZWRDZWxsWzNdKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gMCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBvYmoucm93cy5sZW5ndGggLSAxOyBqID4geTsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoucmVjb3Jkc1tqXVt4XS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJyAmJiBvYmoucm93c1tqXS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeSA9IG9iai5kb3duLmdldCh4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmIChncm91cCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFswXSA9IHg7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFsxXSA9IHk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbMl0gPSB4O1xuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbM10gPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIG9iai5kb3duLmdldCA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcGFyc2VJbnQoeCk7XG4gICAgICAgICAgICB2YXIgeSA9IHBhcnNlSW50KHkpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9ICh5ICsgMSk7IGogPCBvYmoucm93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChvYmoucmVjb3Jkc1tqXVt4XS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJyAmJiBvYmoucm93c1tqXS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlY29yZHNbal1beF0uZ2V0QXR0cmlidXRlKCdkYXRhLW1lcmdlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlY29yZHNbal1beF0gPT0gb2JqLnJlY29yZHNbeV1beF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB5ID0gajtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgcmV0dXJuIHk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgb2JqLnJpZ2h0ID0gZnVuY3Rpb24oc2hpZnRLZXksIGN0cmxLZXkpIHtcbiAgICAgICAgICAgIGlmIChzaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGlmIChvYmouc2VsZWN0ZWRDZWxsWzJdIDwgb2JqLmhlYWRlcnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBvYmoucmlnaHQudmlzaWJsZSgxLCBjdHJsS2V5ID8gMCA6IDEpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLnNlbGVjdGVkQ2VsbFswXSA8IG9iai5oZWFkZXJzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJpZ2h0LnZpc2libGUoMCwgY3RybEtleSA/IDAgOiAxKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0ZWRDZWxsWzJdID0gb2JqLnNlbGVjdGVkQ2VsbFswXTtcbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0ZWRDZWxsWzNdID0gb2JqLnNlbGVjdGVkQ2VsbFsxXTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIG9iai51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKG9iai5zZWxlY3RlZENlbGxbMF0sIG9iai5zZWxlY3RlZENlbGxbMV0sIG9iai5zZWxlY3RlZENlbGxbMl0sIG9iai5zZWxlY3RlZENlbGxbM10pO1xuICAgICAgICAgICAgb2JqLnVwZGF0ZVNjcm9sbCgyKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBvYmoucmlnaHQudmlzaWJsZSA9IGZ1bmN0aW9uKGdyb3VwLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChncm91cCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBwYXJzZUludChvYmouc2VsZWN0ZWRDZWxsWzBdKTtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHBhcnNlSW50KG9iai5zZWxlY3RlZENlbGxbMV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBhcnNlSW50KG9iai5zZWxlY3RlZENlbGxbMl0pO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gcGFyc2VJbnQob2JqLnNlbGVjdGVkQ2VsbFszXSk7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gb2JqLmhlYWRlcnMubGVuZ3RoIC0gMTsgaSA+IHg7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlY29yZHNbeV1baV0uc3R5bGUuZGlzcGxheSAhPSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHggPSBvYmoucmlnaHQuZ2V0KHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKGdyb3VwID09IDApIHtcbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0ZWRDZWxsWzBdID0geDtcbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0ZWRDZWxsWzFdID0geTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFsyXSA9IHg7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFszXSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgb2JqLnJpZ2h0LmdldCA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcGFyc2VJbnQoeCk7XG4gICAgICAgICAgICB2YXIgeSA9IHBhcnNlSW50KHkpO1xuICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9ICh4ICsgMSk7IGkgPCBvYmouaGVhZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChvYmoucmVjb3Jkc1t5XVtpXS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlY29yZHNbeV1baV0uZ2V0QXR0cmlidXRlKCdkYXRhLW1lcmdlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlY29yZHNbeV1baV0gPT0gb2JqLnJlY29yZHNbeV1beF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgb2JqLmxlZnQgPSBmdW5jdGlvbihzaGlmdEtleSwgY3RybEtleSkge1xuICAgICAgICAgICAgaWYgKHNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5zZWxlY3RlZENlbGxbMl0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5sZWZ0LnZpc2libGUoMSwgY3RybEtleSA/IDAgOiAxKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5zZWxlY3RlZENlbGxbMF0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5sZWZ0LnZpc2libGUoMCwgY3RybEtleSA/IDAgOiAxKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0ZWRDZWxsWzJdID0gb2JqLnNlbGVjdGVkQ2VsbFswXTtcbiAgICAgICAgICAgICAgICBvYmouc2VsZWN0ZWRDZWxsWzNdID0gb2JqLnNlbGVjdGVkQ2VsbFsxXTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIG9iai51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKG9iai5zZWxlY3RlZENlbGxbMF0sIG9iai5zZWxlY3RlZENlbGxbMV0sIG9iai5zZWxlY3RlZENlbGxbMl0sIG9iai5zZWxlY3RlZENlbGxbM10pO1xuICAgICAgICAgICAgb2JqLnVwZGF0ZVNjcm9sbCgwKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBvYmoubGVmdC52aXNpYmxlID0gZnVuY3Rpb24oZ3JvdXAsIGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaWYgKGdyb3VwID09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBhcnNlSW50KG9iai5zZWxlY3RlZENlbGxbMF0pO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gcGFyc2VJbnQob2JqLnNlbGVjdGVkQ2VsbFsxXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gcGFyc2VJbnQob2JqLnNlbGVjdGVkQ2VsbFsyXSk7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBwYXJzZUludChvYmouc2VsZWN0ZWRDZWxsWzNdKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gMCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoucmVjb3Jkc1t5XVtpXS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeCA9IG9iai5sZWZ0LmdldCh4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmIChncm91cCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFswXSA9IHg7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFsxXSA9IHk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbMl0gPSB4O1xuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbM10gPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIG9iai5sZWZ0LmdldCA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcGFyc2VJbnQoeCk7XG4gICAgICAgICAgICB2YXIgeSA9IHBhcnNlSW50KHkpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9ICh4IC0gMSk7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5yZWNvcmRzW3ldW2ldLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoucmVjb3Jkc1t5XVtpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWVyZ2VkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoucmVjb3Jkc1t5XVtpXSA9PSBvYmoucmVjb3Jkc1t5XVt4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHggPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBvYmouZmlyc3QgPSBmdW5jdGlvbihzaGlmdEtleSwgY3RybEtleSkge1xuICAgICAgICAgICAgaWYgKHNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFszXSA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmxlZnQudmlzaWJsZSgxLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbMV0gPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5sZWZ0LnZpc2libGUoMCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbMl0gPSBvYmouc2VsZWN0ZWRDZWxsWzBdO1xuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbM10gPSBvYmouc2VsZWN0ZWRDZWxsWzFdO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gQ2hhbmdlIHBhZ2VcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5sYXp5TG9hZGluZyA9PSB0cnVlICYmIChvYmouc2VsZWN0ZWRDZWxsWzFdID09IDAgfHwgb2JqLnNlbGVjdGVkQ2VsbFszXSA9PSAwKSkge1xuICAgICAgICAgICAgICAgIG9iai5sb2FkUGFnZSgwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqLm9wdGlvbnMucGFnaW5hdGlvbiA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFnZU51bWJlciA9IG9iai53aGljaFBhZ2Uob2JqLnNlbGVjdGVkQ2VsbFszXSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VOdW1iZXIgIT0gb2JqLnBhZ2VOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnBhZ2UocGFnZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgb2JqLnVwZGF0ZVNlbGVjdGlvbkZyb21Db29yZHMob2JqLnNlbGVjdGVkQ2VsbFswXSwgb2JqLnNlbGVjdGVkQ2VsbFsxXSwgb2JqLnNlbGVjdGVkQ2VsbFsyXSwgb2JqLnNlbGVjdGVkQ2VsbFszXSk7XG4gICAgICAgICAgICBvYmoudXBkYXRlU2Nyb2xsKDEpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIG9iai5sYXN0ID0gZnVuY3Rpb24oc2hpZnRLZXksIGN0cmxLZXkpIHtcbiAgICAgICAgICAgIGlmIChzaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGlmIChjdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbM10gPSBvYmoucmVjb3Jkcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5yaWdodC52aXNpYmxlKDEsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFsxXSA9IG9iai5yZWNvcmRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJpZ2h0LnZpc2libGUoMCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbMl0gPSBvYmouc2VsZWN0ZWRDZWxsWzBdO1xuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbM10gPSBvYmouc2VsZWN0ZWRDZWxsWzFdO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gQ2hhbmdlIHBhZ2VcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5sYXp5TG9hZGluZyA9PSB0cnVlICYmIChvYmouc2VsZWN0ZWRDZWxsWzFdID09IG9iai5yZWNvcmRzLmxlbmd0aCAtIDEgfHwgb2JqLnNlbGVjdGVkQ2VsbFszXSA9PSBvYmoucmVjb3Jkcy5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICAgIG9iai5sb2FkUGFnZSgtMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLnBhZ2luYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VOdW1iZXIgPSBvYmoud2hpY2hQYWdlKG9iai5zZWxlY3RlZENlbGxbM10pO1xuICAgICAgICAgICAgICAgIGlmIChwYWdlTnVtYmVyICE9IG9iai5wYWdlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5wYWdlKHBhZ2VOdW1iZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIG9iai51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKG9iai5zZWxlY3RlZENlbGxbMF0sIG9iai5zZWxlY3RlZENlbGxbMV0sIG9iai5zZWxlY3RlZENlbGxbMl0sIG9iai5zZWxlY3RlZENlbGxbM10pO1xuICAgICAgICAgICAgb2JqLnVwZGF0ZVNjcm9sbCgzKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBvYmouc2VsZWN0QWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoISBvYmouc2VsZWN0ZWRDZWxsKSB7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbCA9IFtdO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFswXSA9IDA7XG4gICAgICAgICAgICBvYmouc2VsZWN0ZWRDZWxsWzFdID0gMDtcbiAgICAgICAgICAgIG9iai5zZWxlY3RlZENlbGxbMl0gPSBvYmouaGVhZGVycy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgb2JqLnNlbGVjdGVkQ2VsbFszXSA9IG9iai5yZWNvcmRzLmxlbmd0aCAtIDE7XG4gICAgXG4gICAgICAgICAgICBvYmoudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3JkcyhvYmouc2VsZWN0ZWRDZWxsWzBdLCBvYmouc2VsZWN0ZWRDZWxsWzFdLCBvYmouc2VsZWN0ZWRDZWxsWzJdLCBvYmouc2VsZWN0ZWRDZWxsWzNdKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogR28gdG8gYSBwYWdlIGluIGEgbGF6eUxvYWRpbmdcbiAgICAgICAgICovXG4gICAgICAgIG9iai5sb2FkUGFnZSA9IGZ1bmN0aW9uKHBhZ2VOdW1iZXIpIHtcbiAgICAgICAgICAgIC8vIFNlYXJjaFxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnNlYXJjaCA9PSB0cnVlICYmIG9iai5yZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBvYmoucmVzdWx0cztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBvYmoucm93cztcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFBlciBwYWdlXG4gICAgICAgICAgICB2YXIgcXVhbnRpdHlQZXJQYWdlID0gMTAwO1xuICAgIFxuICAgICAgICAgICAgLy8gcGFnZU51bWJlclxuICAgICAgICAgICAgaWYgKHBhZ2VOdW1iZXIgPT0gbnVsbCB8fCBwYWdlTnVtYmVyID09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gTGFzdCBwYWdlXG4gICAgICAgICAgICAgICAgcGFnZU51bWJlciA9IE1hdGguY2VpbChyZXN1bHRzLmxlbmd0aCAvIHF1YW50aXR5UGVyUGFnZSk7IFxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgdmFyIHN0YXJ0Um93ID0gKHBhZ2VOdW1iZXIgKiBxdWFudGl0eVBlclBhZ2UpO1xuICAgICAgICAgICAgdmFyIGZpbmFsUm93ID0gKHBhZ2VOdW1iZXIgKiBxdWFudGl0eVBlclBhZ2UpICsgcXVhbnRpdHlQZXJQYWdlO1xuICAgICAgICAgICAgaWYgKGZpbmFsUm93ID4gcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmaW5hbFJvdyA9IHJlc3VsdHMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhcnRSb3cgPSBmaW5hbFJvdyAtIDEwMDtcbiAgICAgICAgICAgIGlmIChzdGFydFJvdyA8IDApIHtcbiAgICAgICAgICAgICAgICBzdGFydFJvdyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBBcHBlZGluZyBpdGVtc1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0Um93OyBqIDwgZmluYWxSb3c7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5zZWFyY2ggPT0gdHJ1ZSAmJiBvYmoucmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICBvYmoudGJvZHkuYXBwZW5kQ2hpbGQob2JqLnJvd3NbcmVzdWx0c1tqXV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai50Ym9keS5hcHBlbmRDaGlsZChvYmoucm93c1tqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIGlmIChvYmoudGJvZHkuY2hpbGRyZW4ubGVuZ3RoID4gcXVhbnRpdHlQZXJQYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai50Ym9keS5yZW1vdmVDaGlsZChvYmoudGJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIG9iai5sb2FkVXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFNlYXJjaFxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnNlYXJjaCA9PSB0cnVlICYmIG9iai5yZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBvYmoucmVzdWx0cztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBvYmoucm93cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXN0ID0gMDtcbiAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDEwMCkge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgcGFnZVxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gcGFyc2VJbnQob2JqLnRib2R5LmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCdkYXRhLXknKSk7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnNlYXJjaCA9PSB0cnVlICYmIG9iai5yZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSByZXN1bHRzLmluZGV4T2YoaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdGVtID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDMwOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuc2VhcmNoID09IHRydWUgJiYgb2JqLnJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnRib2R5Lmluc2VydEJlZm9yZShvYmoucm93c1tyZXN1bHRzW2l0ZW1dXSwgb2JqLnRib2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai50Ym9keS5pbnNlcnRCZWZvcmUob2JqLnJvd3NbaXRlbV0sIG9iai50Ym9keS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai50Ym9keS5jaGlsZHJlbi5sZW5ndGggPiAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnRib2R5LnJlbW92ZUNoaWxkKG9iai50Ym9keS5sYXN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGVzdDtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBvYmoubG9hZERvd24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFNlYXJjaFxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnNlYXJjaCA9PSB0cnVlICYmIG9iai5yZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBvYmoucmVzdWx0cztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBvYmoucm93cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXN0ID0gMDtcbiAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDEwMCkge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBwYXJzZUludChvYmoudGJvZHkubGFzdENoaWxkLmdldEF0dHJpYnV0ZSgnZGF0YS15JykpO1xuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5zZWFyY2ggPT0gdHJ1ZSAmJiBvYmoucmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICBpdGVtID0gcmVzdWx0cy5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXRlbSA8IG9iai5yb3dzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPD0gMzA7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gPCByZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5zZWFyY2ggPT0gdHJ1ZSAmJiBvYmoucmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoudGJvZHkuYXBwZW5kQ2hpbGQob2JqLnJvd3NbcmVzdWx0c1tpdGVtXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai50Ym9keS5hcHBlbmRDaGlsZChvYmoucm93c1tpdGVtXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoudGJvZHkuY2hpbGRyZW4ubGVuZ3RoID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai50Ym9keS5yZW1vdmVDaGlsZChvYmoudGJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3QgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtICsgMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiB0ZXN0O1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIG9iai5sb2FkVmFsaWRhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKG9iai5zZWxlY3RlZENlbGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFBhZ2UgPSBwYXJzZUludChvYmoudGJvZHkuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpKSAvIDEwMDtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRQYWdlID0gcGFyc2VJbnQob2JqLnNlbGVjdGVkQ2VsbFszXSAvIDEwMCk7XG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsUGFnZXMgPSBwYXJzZUludChvYmoucm93cy5sZW5ndGggLyAxMDApO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZSAhPSBzZWxlY3RlZFBhZ2UgJiYgc2VsZWN0ZWRQYWdlIDw9IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChvYmoudGJvZHkuY2hpbGRyZW4sIG9iai5yb3dzW29iai5zZWxlY3RlZENlbGxbM11dKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmxvYWRQYWdlKHNlbGVjdGVkUGFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogUmVzZXQgc2VhcmNoXG4gICAgICAgICAqL1xuICAgICAgICBvYmoucmVzZXRTZWFyY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG9iai5zZWFyY2hJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgb2JqLnNlYXJjaCgnJyk7XG4gICAgICAgICAgICBvYmoucmVzdWx0cyA9IG51bGw7XG4gICAgICAgIH1cblxyXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWFyY2hcbiAgICAgICAgICovXG4gICAgICAgIG9iai5zZWFyY2ggPSBmdW5jdGlvbihxdWVyeSkge1xuICAgICAgICAgICAgLy8gUXVlcnlcbiAgICAgICAgICAgIGlmIChxdWVyeSkge1xuICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJlc2V0IGFueSBmaWx0ZXJcclxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmZpbHRlcnMpIHtcclxuICAgICAgICAgICAgICAgIG9iai5yZXNldEZpbHRlcnMoKTtcclxuICAgICAgICAgICAgfVxyXG5cbiAgICAgICAgICAgIC8vIFJlc2V0IHNlbGVjdGlvblxuICAgICAgICAgICAgb2JqLnJlc2V0U2VsZWN0aW9uKCk7XG4gICAgXG4gICAgICAgICAgICAvLyBUb3RhbCBvZiByZXN1bHRzXG4gICAgICAgICAgICBvYmoucGFnZU51bWJlciA9IDA7XG4gICAgICAgICAgICBvYmoucmVzdWx0cyA9IFtdO1xuICAgIFxuICAgICAgICAgICAgaWYgKHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgLy8gU2VhcmNoIGZpbHRlclxuICAgICAgICAgICAgICAgIHZhciBzZWFyY2ggPSBmdW5jdGlvbihpdGVtLCBxdWVyeSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCcnK2l0ZW1baV0pLnRvTG93ZXJDYXNlKCkuc2VhcmNoKHF1ZXJ5KSA+PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCcnK29iai5yZWNvcmRzW2luZGV4XVtpXS5pbm5lckhUTUwpLnRvTG93ZXJDYXNlKCkuc2VhcmNoKHF1ZXJ5KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBSZXN1bHRcbiAgICAgICAgICAgICAgICB2YXIgYWRkVG9SZXN1bHQgPSBmdW5jdGlvbihrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoucmVzdWx0cy5pbmRleE9mKGspID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVzdWx0cy5wdXNoKGspO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIEZpbHRlclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gb2JqLm9wdGlvbnMuZGF0YS5maWx0ZXIoZnVuY3Rpb24odiwgaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoKHYsIHF1ZXJ5LCBrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWVyZ2VkIHJvd3MgZm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3dzID0gb2JqLmlzUm93TWVyZ2VkKGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3cgPSBqZXhjZWwuZ2V0SWRGcm9tQ29sdW1uTmFtZShyb3dzW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoub3B0aW9ucy5tZXJnZUNlbGxzW3Jvd3NbaV1dWzFdOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUmVzdWx0KHJvd1sxXStqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm9ybWFsIHJvdyBmb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUmVzdWx0KGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqLnJlc3VsdHMgPSBudWxsO1xuICAgICAgICAgICAgfVxuXHJcbiAgICAgICAgICAgIHJldHVybiBvYmoudXBkYXRlUmVzdWx0KCk7XG4gICAgICAgIH1cbiAgICBcclxuICAgICAgICBvYmoudXBkYXRlUmVzdWx0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IDA7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUGFnZSAxXHJcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5sYXp5TG9hZGluZyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbCA9IDEwMDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy5wYWdpbmF0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdG90YWwgPSBvYmoub3B0aW9ucy5wYWdpbmF0aW9uO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5yZXN1bHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWwgPSBvYmoucmVzdWx0cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsID0gb2JqLnJvd3MubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmVzZXQgY3VycmVudCBub2Rlc1xyXG4gICAgICAgICAgICB3aGlsZSAob2JqLnRib2R5LmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgICAgIG9iai50Ym9keS5yZW1vdmVDaGlsZChvYmoudGJvZHkuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBIaWRlIGFsbCByZWNvcmRzIGZyb20gdGhlIHRhYmxlXHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLnJvd3MubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghIG9iai5yZXN1bHRzIHx8IG9iai5yZXN1bHRzLmluZGV4T2YoaikgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IHRvdGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai50Ym9keS5hcHBlbmRDaGlsZChvYmoucm93c1tqXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9iai5yb3dzW2pdLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJvd3Nbal0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwYWdpbmF0aW9uXHJcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5wYWdpbmF0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgICAgb2JqLnVwZGF0ZVBhZ2luYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb2JqLnVwZGF0ZUNvcm5lclBvc2l0aW9uKCk7XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHRvdGFsO1xyXG4gICAgICAgIH1cclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGljaCBwYWdlIHRoZSBjZWxsIGlzXG4gICAgICAgICAqL1xuICAgICAgICBvYmoud2hpY2hQYWdlID0gZnVuY3Rpb24oY2VsbCkge1xuICAgICAgICAgICAgLy8gU2VhcmNoXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuc2VhcmNoID09IHRydWUgJiYgb2JqLnJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBjZWxsID0gb2JqLnJlc3VsdHMuaW5kZXhPZihjZWxsKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiAoTWF0aC5jZWlsKChwYXJzZUludChjZWxsKSArIDEpIC8gcGFyc2VJbnQob2JqLm9wdGlvbnMucGFnaW5hdGlvbikpKSAtIDE7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdvIHRvIHBhZ2VcbiAgICAgICAgICovXG4gICAgICAgIG9iai5wYWdlID0gZnVuY3Rpb24ocGFnZU51bWJlcikge1xyXG4gICAgICAgICAgICB2YXIgb2xkUGFnZSA9IG9iai5wYWdlTnVtYmVyO1xyXG5cbiAgICAgICAgICAgIC8vIFNlYXJjaFxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnNlYXJjaCA9PSB0cnVlICYmIG9iai5yZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBvYmoucmVzdWx0cztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBvYmoucm93cztcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFBlciBwYWdlXG4gICAgICAgICAgICB2YXIgcXVhbnRpdHlQZXJQYWdlID0gcGFyc2VJbnQob2JqLm9wdGlvbnMucGFnaW5hdGlvbik7XG4gICAgXG4gICAgICAgICAgICAvLyBwYWdlTnVtYmVyXG4gICAgICAgICAgICBpZiAocGFnZU51bWJlciA9PSBudWxsIHx8IHBhZ2VOdW1iZXIgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBMYXN0IHBhZ2VcbiAgICAgICAgICAgICAgICBwYWdlTnVtYmVyID0gTWF0aC5jZWlsKHJlc3VsdHMubGVuZ3RoIC8gcXVhbnRpdHlQZXJQYWdlKTsgXG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBQYWdlIG51bWJlclxuICAgICAgICAgICAgb2JqLnBhZ2VOdW1iZXIgPSBwYWdlTnVtYmVyO1xuICAgIFxuICAgICAgICAgICAgdmFyIHN0YXJ0Um93ID0gKHBhZ2VOdW1iZXIgKiBxdWFudGl0eVBlclBhZ2UpO1xuICAgICAgICAgICAgdmFyIGZpbmFsUm93ID0gKHBhZ2VOdW1iZXIgKiBxdWFudGl0eVBlclBhZ2UpICsgcXVhbnRpdHlQZXJQYWdlO1xuICAgICAgICAgICAgaWYgKGZpbmFsUm93ID4gcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmaW5hbFJvdyA9IHJlc3VsdHMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXJ0Um93IDwgMCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0Um93ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFJlc2V0IGNvbnRhaW5lclxuICAgICAgICAgICAgd2hpbGUgKG9iai50Ym9keS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgb2JqLnRib2R5LnJlbW92ZUNoaWxkKG9iai50Ym9keS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIEFwcGVkaW5nIGl0ZW1zXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gc3RhcnRSb3c7IGogPCBmaW5hbFJvdzsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnNlYXJjaCA9PSB0cnVlICYmIG9iai5yZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai50Ym9keS5hcHBlbmRDaGlsZChvYmoucm93c1tyZXN1bHRzW2pdXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnRib2R5LmFwcGVuZENoaWxkKG9iai5yb3dzW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMucGFnaW5hdGlvbiA+IDApIHtcbiAgICAgICAgICAgICAgICBvYmoudXBkYXRlUGFnaW5hdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIGNvcm5lciBwb3NpdGlvblxuICAgICAgICAgICAgb2JqLnVwZGF0ZUNvcm5lclBvc2l0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBFdmVudHNcclxuICAgICAgICAgICAgb2JqLmRpc3BhdGNoKCdvbmNoYW5nZXBhZ2UnLCBlbCwgcGFnZU51bWJlciwgb2xkUGFnZSk7XHJcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIHRoZSBwYWdpbmF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBvYmoudXBkYXRlUGFnaW5hdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gUmVzZXQgY29udGFpbmVyXG4gICAgICAgICAgICBvYmoucGFnaW5hdGlvbi5jaGlsZHJlblswXS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIG9iai5wYWdpbmF0aW9uLmNoaWxkcmVuWzFdLmlubmVySFRNTCA9ICcnO1xuICAgIFxuICAgICAgICAgICAgLy8gU3RhcnQgcGFnaW5hdGlvblxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBTZWFyY2hhYmxlXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnNlYXJjaCA9PSB0cnVlICYmIG9iai5yZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0gb2JqLnJlc3VsdHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0gb2JqLnJvd3MubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoISByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHJlY29yZHMgZm91bmRcbiAgICAgICAgICAgICAgICAgICAgb2JqLnBhZ2luYXRpb24uY2hpbGRyZW5bMF0uaW5uZXJIVE1MID0gb2JqLm9wdGlvbnMudGV4dC5ub1JlY29yZHNGb3VuZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBQYWdpbmF0aW9uIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICB2YXIgcXVhbnR5T2ZQYWdlcyA9IE1hdGguY2VpbChyZXN1bHRzIC8gb2JqLm9wdGlvbnMucGFnaW5hdGlvbik7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoucGFnZU51bWJlciA8IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydE51bWJlciA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmluYWxOdW1iZXIgPSBxdWFudHlPZlBhZ2VzIDwgMTAgPyBxdWFudHlPZlBhZ2VzIDogMTA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocXVhbnR5T2ZQYWdlcyAtIG9iai5wYWdlTnVtYmVyIDwgNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0TnVtYmVyID0gcXVhbnR5T2ZQYWdlcyAtIDk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmluYWxOdW1iZXIgPSBxdWFudHlPZlBhZ2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0TnVtYmVyIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TnVtYmVyID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydE51bWJlciA9IG9iai5wYWdlTnVtYmVyIC0gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaW5hbE51bWJlciA9IG9iai5wYWdlTnVtYmVyICsgNTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBGaXJzdFxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnROdW1iZXIgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFnaW5hdGlvbkl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25JdGVtLmNsYXNzTmFtZSA9ICdqZXhjZWxfcGFnZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uSXRlbS5pbm5lckhUTUwgPSAnPCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uSXRlbS50aXRsZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucGFnaW5hdGlvbi5jaGlsZHJlblsxXS5hcHBlbmRDaGlsZChwYWdpbmF0aW9uSXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHBhZ2UgbGlua3NcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0TnVtYmVyOyBpIDw9IGZpbmFsTnVtYmVyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbkl0ZW0uY2xhc3NOYW1lID0gJ2pleGNlbF9wYWdlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25JdGVtLmlubmVySFRNTCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucGFnaW5hdGlvbi5jaGlsZHJlblsxXS5hcHBlbmRDaGlsZChwYWdpbmF0aW9uSXRlbSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnBhZ2VOdW1iZXIgPT0gKGktMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uSXRlbS5jbGFzc0xpc3QuYWRkKCdqZXhjZWxfcGFnZV9zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIExhc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmFsTnVtYmVyIDwgcXVhbnR5T2ZQYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2luYXRpb25JdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uSXRlbS5jbGFzc05hbWUgPSAnamV4Y2VsX3BhZ2UnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbkl0ZW0uaW5uZXJIVE1MID0gJz4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbkl0ZW0udGl0bGUgPSBxdWFudHlPZlBhZ2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnBhZ2luYXRpb24uY2hpbGRyZW5bMV0uYXBwZW5kQ2hpbGQocGFnaW5hdGlvbkl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIFRleHRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdCA9IGZ1bmN0aW9uKGZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC97KFxcZCspfS9nLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgYXJnc1tudW1iZXJdICE9ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcmdzW251bWJlcl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBvYmoucGFnaW5hdGlvbi5jaGlsZHJlblswXS5pbm5lckhUTUwgPSBmb3JtYXQob2JqLm9wdGlvbnMudGV4dC5zaG93aW5nUGFnZSwgb2JqLnBhZ2VOdW1iZXIgKyAxLCBxdWFudHlPZlBhZ2VzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogRG93bmxvYWQgQ1NWIHRhYmxlXG4gICAgICAgICAqIFxuICAgICAgICAgKiBAcmV0dXJuIG51bGxcbiAgICAgICAgICovXG4gICAgICAgIG9iai5kb3dubG9hZCA9IGZ1bmN0aW9uKGluY2x1ZGVIZWFkZXJzKSB7XG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuYWxsb3dFeHBvcnQgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFeHBvcnQgbm90IGFsbG93ZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRGF0YVxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVIZWFkZXJzID09IHRydWUgfHwgb2JqLm9wdGlvbnMuaW5jbHVkZUhlYWRlcnNPbkRvd25sb2FkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSArPSBvYmouZ2V0SGVhZGVycygpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhICs9IFwiXFxyXFxuXCI7XG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldCBkYXRhXHJcbiAgICAgICAgICAgICAgICBkYXRhICs9IG9iai5jb3B5KGZhbHNlLCBvYmoub3B0aW9ucy5jc3ZEZWxpbWl0ZXIsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERvd25sb2FkIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW1wiXFx1RkVGRlwiK2RhdGFdLCB7dHlwZTogJ3RleHQvY3N2O2NoYXJzZXQ9dXRmLTg7J30pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIElFIENvbXBhdGliaWxpdHlcclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yICYmIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihibG9iLCBvcHRpb25zLmNzdkZpbGVOYW1lICsgJy5jc3YnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvd25sb2FkIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICAgICAgICAgIHBvbS5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICBwb20uc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIG9iai5vcHRpb25zLmNzdkZpbGVOYW1lICsgJy5jc3YnKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwb20pO1xuICAgICAgICAgICAgICAgICAgICBwb20uY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgcG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocG9tKTtcclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdGlhbGl6ZXMgYSBuZXcgaGlzdG9yeSByZWNvcmQgZm9yIHVuZG8vcmVkb1xuICAgICAgICAgKiBcbiAgICAgICAgICogQHJldHVybiBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBvYmouc2V0SGlzdG9yeSA9IGZ1bmN0aW9uKGNoYW5nZXMpIHtcbiAgICAgICAgICAgIGlmIChvYmouaWdub3JlSGlzdG9yeSAhPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IGFuZCBnZXQgdGhlIGN1cnJlbnQgaGlzdG9yeSBpbmRleFxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICsrb2JqLmhpc3RvcnlJbmRleDtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBTbGljZSB0aGUgYXJyYXkgdG8gZGlzY2FyZCB1bmRvbmUgY2hhbmdlc1xuICAgICAgICAgICAgICAgIG9iai5oaXN0b3J5ID0gKG9iai5oaXN0b3J5ID0gb2JqLmhpc3Rvcnkuc2xpY2UoMCwgaW5kZXggKyAxKSk7XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gS2VlcCBoaXN0b3J5XG4gICAgICAgICAgICAgICAgb2JqLmhpc3RvcnlbaW5kZXhdID0gY2hhbmdlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogQ29weSBtZXRob2RcbiAgICAgICAgICogXG4gICAgICAgICAqIEBwYXJhbSBib29sIGhpZ2hsaWdodGVkIC0gR2V0IG9ubHkgaGlnaGxpZ2h0ZWQgY2VsbHNcbiAgICAgICAgICogQHBhcmFtIGRlbGltaXRlciAtIFxcdCBkZWZhdWx0IHRvIGtlZXAgY29tcGF0aWJpbGl0eSB3aXRoIGV4Y2VsXG4gICAgICAgICAqIEByZXR1cm4gc3RyaW5nIHZhbHVlXG4gICAgICAgICAqL1xuICAgICAgICBvYmouY29weSA9IGZ1bmN0aW9uKGhpZ2hsaWdodGVkLCBkZWxpbWl0ZXIsIHJldHVybkRhdGEpIHtcbiAgICAgICAgICAgIGlmICghIGRlbGltaXRlcikge1xuICAgICAgICAgICAgICAgIGRlbGltaXRlciA9IFwiXFx0XCI7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBDb250cm9sc1xuICAgICAgICAgICAgdmFyIGNvbCA9IFtdO1xuICAgICAgICAgICAgdmFyIGNvbExhYmVsID0gW107XG4gICAgICAgICAgICB2YXIgcm93ID0gW107XG4gICAgICAgICAgICB2YXIgcm93TGFiZWwgPSBbXTtcbiAgICAgICAgICAgIHZhciB4ID0gb2JqLm9wdGlvbnMuZGF0YVswXS5sZW5ndGhcbiAgICAgICAgICAgIHZhciB5ID0gb2JqLm9wdGlvbnMuZGF0YS5sZW5ndGhcbiAgICAgICAgICAgIHZhciB0bXAgPSAnJztcblxyXG4gICAgICAgICAgICAvLyBIZWFkZXJzXHJcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5pbmNsdWRlSGVhZGVyc09uQ29weSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29weUNvbXBhdGliaWxpdHkgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ckxhYmVsLnB1c2gob2JqLmdldEhlYWRlcnModHJ1ZSkuam9pbihkZWxpbWl0ZXIpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyLnB1c2gob2JqLmdldEhlYWRlcnModHJ1ZSkuam9pbihkZWxpbWl0ZXIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cbiAgICAgICAgICAgIC8vIFJlc2V0IGNvbnRhaW5lclxuICAgICAgICAgICAgb2JqLnN0eWxlID0gW107XG4gICAgXG4gICAgICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSBjb2x1bW5zIHRvIGdldCB0aGUgZGF0YVxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB5OyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb2wgPSBbXTtcbiAgICAgICAgICAgICAgICBjb2xMYWJlbCA9IFtdO1xuICAgIFxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGNlbGwgaXMgaGlnaGxpZ2h0ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgaGlnaGxpZ2h0ZWQgfHwgb2JqLnJlY29yZHNbal1baV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWdobGlnaHQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmoub3B0aW9ucy5kYXRhW2pdW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLm1hdGNoICYmICh2YWx1ZS5tYXRjaCgvLC9nKSB8fCB2YWx1ZS5tYXRjaCgvXFxuLykgfHwgdmFsdWUubWF0Y2goL1xcXCIvKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cCgnXCInLCAnZycpLCAnXCJcIicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ1wiJyArIHZhbHVlICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5wdXNoKHZhbHVlKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExhYmVsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29sdW1uc1tpXS50eXBlID09ICdjaGVja2JveCcgfHwgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS50eXBlID09ICdyYWRpbycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IG9iai5yZWNvcmRzW2pdW2ldLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbC5tYXRjaCAmJiAobGFiZWwubWF0Y2goLywvZykgfHwgbGFiZWwubWF0Y2goL1xcbi8pIHx8IGxhYmVsLm1hdGNoKC9cXFwiLykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2NhcGUgZG91YmxlIHF1b3Rlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsID0gbGFiZWwucmVwbGFjZShuZXcgUmVnRXhwKCdcIicsICdnJyksICdcIlwiJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSAnXCInICsgbGFiZWwgKyAnXCInO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xMYWJlbC5wdXNoKGxhYmVsKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBzdHlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gb2JqLnJlY29yZHNbal1baV0uZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSB0bXAucmVwbGFjZSgnZGlzcGxheTogbm9uZTsnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouc3R5bGUucHVzaCh0bXAgPyB0bXAgOiAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKGNvbC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnB1c2goY29sLmpvaW4oZGVsaW1pdGVyKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb2xMYWJlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93TGFiZWwucHVzaChjb2xMYWJlbC5qb2luKGRlbGltaXRlcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmluYWwgc3RyaW5nXG4gICAgICAgICAgICB2YXIgc3RyID0gcm93LmpvaW4oXCJcXHJcXG5cIik7XG4gICAgICAgICAgICB2YXIgc3RyTGFiZWwgPSByb3dMYWJlbC5qb2luKFwiXFxyXFxuXCIpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBoaWRkZW4gdGV4dGFyZWEgdG8gY29weSB0aGUgdmFsdWVzXG4gICAgICAgICAgICBpZiAoISByZXR1cm5EYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvcHlDb21wYXRpYmlsaXR5ID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnRleHRhcmVhLnZhbHVlID0gc3RyTGFiZWw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnRleHRhcmVhLnZhbHVlID0gc3RyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvYmoudGV4dGFyZWEuc2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gS2VlcCBkYXRhXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY29weUNvbXBhdGliaWxpdHkgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG9iai5kYXRhID0gc3RyTGFiZWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9iai5kYXRhID0gc3RyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gS2VlcCBub24gdmlzaWJsZSBpbmZvcm1hdGlvblxuICAgICAgICAgICAgb2JqLmhhc2hTdHJpbmcgPSBvYmouaGFzaChvYmouZGF0YSk7XG4gICAgXHJcbiAgICAgICAgICAgIC8vIEJvcmRlclxyXG4gICAgICAgICAgICBpZiAob2JqLmhpZ2hsaWdodGVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5oaWdobGlnaHRlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5oaWdobGlnaHRlZFtpXS5jbGFzc0xpc3QuYWRkKCdjb3B5aW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5oaWdobGlnaHRlZFtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZ2hsaWdodC1sZWZ0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmhpZ2hsaWdodGVkW2ldLmNsYXNzTGlzdC5hZGQoJ2NvcHlpbmctbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmhpZ2hsaWdodGVkW2ldLmNsYXNzTGlzdC5jb250YWlucygnaGlnaGxpZ2h0LXJpZ2h0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmhpZ2hsaWdodGVkW2ldLmNsYXNzTGlzdC5hZGQoJ2NvcHlpbmctcmlnaHQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5oaWdobGlnaHRlZFtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZ2hsaWdodC10b3AnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouaGlnaGxpZ2h0ZWRbaV0uY2xhc3NMaXN0LmFkZCgnY29weWluZy10b3AnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5oaWdobGlnaHRlZFtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZ2hsaWdodC1ib3R0b20nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouaGlnaGxpZ2h0ZWRbaV0uY2xhc3NMaXN0LmFkZCgnY29weWluZy1ib3R0b20nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXG4gICAgICAgICAgICByZXR1cm4gb2JqLmRhdGE7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGpFeGNlbCBwYXN0ZSBtZXRob2RcbiAgICAgICAgICogXG4gICAgICAgICAqIEBwYXJhbSBpbnRlZ2VyIHJvdyBudW1iZXJcbiAgICAgICAgICogQHJldHVybiBzdHJpbmcgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIG9iai5wYXN0ZSA9IGZ1bmN0aW9uKHgsIHksIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFBhc3RlIGZpbHRlclxuICAgICAgICAgICAgdmFyIHJldCA9IG9iai5kaXNwYXRjaCgnb25iZWZvcmVwYXN0ZScsIGVsLCBkYXRhLCB4LCB5KTtcclxuXG4gICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXQ7XHJcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIENvbnRyb2xzXG4gICAgICAgICAgICB2YXIgaGFzaCA9IG9iai5oYXNoKGRhdGEpO1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gKGhhc2ggPT0gb2JqLmhhc2hTdHJpbmcpID8gb2JqLnN0eWxlIDogbnVsbDtcbiAgICBcbiAgICAgICAgICAgIC8vIERlcGVuZGluZyBvbiB0aGUgYmVoYXZpb3JcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5jb3B5Q29tcGF0aWJpbGl0eSA9PSB0cnVlICYmIGhhc2ggPT0gb2JqLmhhc2hTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IG9iai5kYXRhO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gU3BsaXQgbmV3IGxpbmVcbiAgICAgICAgICAgIHZhciBkYXRhID0gb2JqLnBhcnNlQ1NWKGRhdGEsIFwiXFx0XCIpO1xuICAgIFxuICAgICAgICAgICAgaWYgKHggIT0gbnVsbCAmJiB5ICE9IG51bGwgJiYgZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIFJlY29yZHNcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICAgICAgICAgIHZhciByZWNvcmRzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIG5ld1N0eWxlID0ge307XG4gICAgICAgICAgICAgICAgdmFyIG9sZFN0eWxlID0ge307XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlSW5kZXggPSAwO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIEluZGV4XG4gICAgICAgICAgICAgICAgdmFyIGNvbEluZGV4ID0gcGFyc2VJbnQoeCk7XG4gICAgICAgICAgICAgICAgdmFyIHJvd0luZGV4ID0gcGFyc2VJbnQoeSk7XG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9IG51bGw7XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gR28gdGhyb3VnaCB0aGUgY29sdW1ucyB0byBnZXQgdGhlIGRhdGFcbiAgICAgICAgICAgICAgICB3aGlsZSAocm93ID0gZGF0YVtqXSkge1xuICAgICAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29sSW5kZXggPSBwYXJzZUludCh4KTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJvd1tpXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYW5kIGtlZXAgaGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IG9iai51cGRhdGVDZWxsKGNvbEluZGV4LCByb3dJbmRleCwgcm93W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgaGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3Jkcy5wdXNoKHJlY29yZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYWxsIGZvcm11bGFzIGluIHRoZSBjaGFpblxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnVwZGF0ZUZvcm11bGFDaGFpbihjb2xJbmRleCwgcm93SW5kZXgsIHJlY29yZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3R5bGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZSAmJiBzdHlsZVtzdHlsZUluZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW5OYW1lID0gamV4Y2VsLmdldENvbHVtbk5hbWVGcm9tSWQoW2NvbEluZGV4LCByb3dJbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0eWxlW2NvbHVtbk5hbWVdID0gc3R5bGVbc3R5bGVJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkU3R5bGVbY29sdW1uTmFtZV0gPSBvYmouZ2V0U3R5bGUoY29sdW1uTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbcm93SW5kZXhdW2NvbEluZGV4XS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgc3R5bGVbc3R5bGVJbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlSW5kZXgrK1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1tpXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbEluZGV4ID49IG9iai5oZWFkZXJzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmluc2VydENvbHVtbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xJbmRleCA9IG9iai5yaWdodC5nZXQoY29sSW5kZXgsIHJvd0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2pdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93SW5kZXggPj0gb2JqLnJvd3MubGVuZ3RoLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouaW5zZXJ0Um93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByb3dJbmRleCA9IG9iai5kb3duLmdldCh4LCByb3dJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBuZXcgY2VsbHNcbiAgICAgICAgICAgICAgICBvYmoudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3Jkcyh4LCB5LCBjb2xJbmRleCwgcm93SW5kZXgpO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBoaXN0b3J5XG4gICAgICAgICAgICAgICAgb2JqLnNldEhpc3Rvcnkoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246J3NldFZhbHVlJyxcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkczpyZWNvcmRzLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246b2JqLnNlbGVjdGVkQ2VsbCxcbiAgICAgICAgICAgICAgICAgICAgbmV3U3R5bGU6bmV3U3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIG9sZFN0eWxlOm9sZFN0eWxlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0YWJsZVxuICAgICAgICAgICAgICAgIG9iai51cGRhdGVUYWJsZSgpO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIFBhc3RlIGV2ZW50XHJcbiAgICAgICAgICAgICAgICBvYmouZGlzcGF0Y2goJ29ucGFzdGUnLCBlbCwgZGF0YSk7XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gT24gYWZ0ZXIgY2hhbmdlc1xuICAgICAgICAgICAgICAgIG9iai5vbmFmdGVyY2hhbmdlcyhlbCwgcmVjb3Jkcyk7XG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvYmoucmVtb3ZlQ29weWluZ1NlbGVjdGlvbigpO1xuICAgICAgICB9XG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZW1vdmUgY29weWluZyBib3JkZXJcclxuICAgICAgICAgKi9cclxuICAgICAgICBvYmoucmVtb3ZlQ29weWluZ1NlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgY29weWluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qZXhjZWwgLmNvcHlpbmcnKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3B5aW5nLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb3B5aW5nW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2NvcHlpbmcnKTtcclxuICAgICAgICAgICAgICAgIGNvcHlpbmdbaV0uY2xhc3NMaXN0LnJlbW92ZSgnY29weWluZy1sZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICBjb3B5aW5nW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2NvcHlpbmctcmlnaHQnKTtcclxuICAgICAgICAgICAgICAgIGNvcHlpbmdbaV0uY2xhc3NMaXN0LnJlbW92ZSgnY29weWluZy10b3AnKTtcclxuICAgICAgICAgICAgICAgIGNvcHlpbmdbaV0uY2xhc3NMaXN0LnJlbW92ZSgnY29weWluZy1ib3R0b20nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9jZXNzIHJvd1xuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmhpc3RvcnlQcm9jZXNzUm93ID0gZnVuY3Rpb24odHlwZSwgaGlzdG9yeVJlY29yZCkge1xuICAgICAgICAgICAgdmFyIHJvd0luZGV4ID0gKCEgaGlzdG9yeVJlY29yZC5pbnNlcnRCZWZvcmUpID8gaGlzdG9yeVJlY29yZC5yb3dOdW1iZXIgKyAxIDogaGlzdG9yeVJlY29yZC5yb3dOdW1iZXI7XG4gICAgXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuc2VhcmNoID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLnJlc3VsdHMgJiYgb2JqLnJlc3VsdHMubGVuZ3RoICE9IG9iai5yb3dzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBvYmoucmVzZXRTZWFyY2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBSZW1vdmUgcm93XG4gICAgICAgICAgICBpZiAodHlwZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIG51bU9mUm93cyA9IGhpc3RvcnlSZWNvcmQubnVtT2ZSb3dzO1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBub2Rlc1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSByb3dJbmRleDsgaiA8IChudW1PZlJvd3MgKyByb3dJbmRleCk7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBvYmoucm93c1tqXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9iai5yb3dzW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXNcbiAgICAgICAgICAgICAgICBvYmoucmVjb3Jkcy5zcGxpY2Uocm93SW5kZXgsIG51bU9mUm93cyk7XG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuZGF0YS5zcGxpY2Uocm93SW5kZXgsIG51bU9mUm93cyk7XG4gICAgICAgICAgICAgICAgb2JqLnJvd3Muc3BsaWNlKHJvd0luZGV4LCBudW1PZlJvd3MpO1xuICAgIFxuICAgICAgICAgICAgICAgIG9iai5jb25kaXRpb25hbFNlbGVjdGlvblVwZGF0ZSgxLCByb3dJbmRleCwgKG51bU9mUm93cyArIHJvd0luZGV4KSAtIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJbnNlcnQgZGF0YVxuICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzID0gamV4Y2VsLmluamVjdEFycmF5KG9iai5yZWNvcmRzLCByb3dJbmRleCwgaGlzdG9yeVJlY29yZC5yb3dSZWNvcmRzKTtcbiAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5kYXRhID0gamV4Y2VsLmluamVjdEFycmF5KG9iai5vcHRpb25zLmRhdGEsIHJvd0luZGV4LCBoaXN0b3J5UmVjb3JkLnJvd0RhdGEpO1xuICAgICAgICAgICAgICAgIG9iai5yb3dzID0gamV4Y2VsLmluamVjdEFycmF5KG9iai5yb3dzLCByb3dJbmRleCwgaGlzdG9yeVJlY29yZC5yb3dOb2RlKTtcbiAgICAgICAgICAgICAgICAvLyBJbnNlcnQgbm9kZXNcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHJvd0luZGV4OyBqIDwgKGhpc3RvcnlSZWNvcmQubnVtT2ZSb3dzICsgcm93SW5kZXgpOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnRib2R5Lmluc2VydEJlZm9yZShoaXN0b3J5UmVjb3JkLnJvd05vZGVbaW5kZXhdLCBvYmoudGJvZHkuY2hpbGRyZW5bal0pO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIFJlc3BlY3QgcGFnaW5hdGlvblxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnBhZ2luYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgb2JqLnBhZ2Uob2JqLnBhZ2VOdW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgb2JqLnVwZGF0ZVRhYmxlUmVmZXJlbmNlcygpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9jZXNzIGNvbHVtblxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmhpc3RvcnlQcm9jZXNzQ29sdW1uID0gZnVuY3Rpb24odHlwZSwgaGlzdG9yeVJlY29yZCkge1xuICAgICAgICAgICAgdmFyIGNvbHVtbkluZGV4ID0gKCEgaGlzdG9yeVJlY29yZC5pbnNlcnRCZWZvcmUpID8gaGlzdG9yeVJlY29yZC5jb2x1bW5OdW1iZXIgKyAxIDogaGlzdG9yeVJlY29yZC5jb2x1bW5OdW1iZXI7XG4gICAgXG4gICAgICAgICAgICAvLyBSZW1vdmUgY29sdW1uXG4gICAgICAgICAgICBpZiAodHlwZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIG51bU9mQ29sdW1ucyA9IGhpc3RvcnlSZWNvcmQubnVtT2ZDb2x1bW5zO1xuICAgIFxuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnMuc3BsaWNlKGNvbHVtbkluZGV4LCBudW1PZkNvbHVtbnMpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBjb2x1bW5JbmRleDsgaSA8IChudW1PZkNvbHVtbnMgKyBjb2x1bW5JbmRleCk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBvYmouaGVhZGVyc1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9iai5oZWFkZXJzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNvbGdyb3VwW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob2JqLmNvbGdyb3VwW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2JqLmhlYWRlcnMuc3BsaWNlKGNvbHVtbkluZGV4LCBudW1PZkNvbHVtbnMpO1xuICAgICAgICAgICAgICAgIG9iai5jb2xncm91cC5zcGxpY2UoY29sdW1uSW5kZXgsIG51bU9mQ29sdW1ucyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBoaXN0b3J5UmVjb3JkLmRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNvbHVtbkluZGV4OyBpIDwgKG51bU9mQ29sdW1ucyArIGNvbHVtbkluZGV4KTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1tqXVtpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9iai5yZWNvcmRzW2pdW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1tqXS5zcGxpY2UoY29sdW1uSW5kZXgsIG51bU9mQ29sdW1ucyk7XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGFbal0uc3BsaWNlKGNvbHVtbkluZGV4LCBudW1PZkNvbHVtbnMpO1xuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgZm9vdGVyc1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmZvb3RlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoub3B0aW9ucy5mb290ZXJzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmZvb3RlcnNbal0uc3BsaWNlKGNvbHVtbkluZGV4LCBudW1PZkNvbHVtbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEluc2VydCBkYXRhXG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29sdW1ucyA9IGpleGNlbC5pbmplY3RBcnJheShvYmoub3B0aW9ucy5jb2x1bW5zLCBjb2x1bW5JbmRleCwgaGlzdG9yeVJlY29yZC5jb2x1bW5zKTtcbiAgICAgICAgICAgICAgICBvYmouaGVhZGVycyA9IGpleGNlbC5pbmplY3RBcnJheShvYmouaGVhZGVycywgY29sdW1uSW5kZXgsIGhpc3RvcnlSZWNvcmQuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgb2JqLmNvbGdyb3VwID0gamV4Y2VsLmluamVjdEFycmF5KG9iai5jb2xncm91cCwgY29sdW1uSW5kZXgsIGhpc3RvcnlSZWNvcmQuY29sZ3JvdXApO1xuICAgIFxyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMFxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBjb2x1bW5JbmRleDsgaSA8IChoaXN0b3J5UmVjb3JkLm51bU9mQ29sdW1ucyArIGNvbHVtbkluZGV4KTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5oZWFkZXJDb250YWluZXIuaW5zZXJ0QmVmb3JlKGhpc3RvcnlSZWNvcmQuaGVhZGVyc1tpbmRleF0sIG9iai5oZWFkZXJDb250YWluZXIuY2hpbGRyZW5baSsxXSk7XG4gICAgICAgICAgICAgICAgICAgIG9iai5jb2xncm91cENvbnRhaW5lci5pbnNlcnRCZWZvcmUoaGlzdG9yeVJlY29yZC5jb2xncm91cFtpbmRleF0sIG9iai5jb2xncm91cENvbnRhaW5lci5jaGlsZHJlbltpKzFdKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBoaXN0b3J5UmVjb3JkLmRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuZGF0YVtqXSA9IGpleGNlbC5pbmplY3RBcnJheShvYmoub3B0aW9ucy5kYXRhW2pdLCBjb2x1bW5JbmRleCwgaGlzdG9yeVJlY29yZC5kYXRhW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJlY29yZHNbal0gPSBqZXhjZWwuaW5qZWN0QXJyYXkob2JqLnJlY29yZHNbal0sIGNvbHVtbkluZGV4LCBoaXN0b3J5UmVjb3JkLnJlY29yZHNbal0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBjb2x1bW5JbmRleDsgaSA8IChoaXN0b3J5UmVjb3JkLm51bU9mQ29sdW1ucyArIGNvbHVtbkluZGV4KTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucm93c1tqXS5pbnNlcnRCZWZvcmUoaGlzdG9yeVJlY29yZC5yZWNvcmRzW2pdW2luZGV4XSwgb2JqLnJvd3Nbal0uY2hpbGRyZW5baSsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBmb290ZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuZm9vdGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLm9wdGlvbnMuZm9vdGVycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5mb290ZXJzW2pdID0gamV4Y2VsLmluamVjdEFycmF5KG9iai5vcHRpb25zLmZvb3RlcnNbal0sIGNvbHVtbkluZGV4LCBoaXN0b3J5UmVjb3JkLmZvb3RlcnNbal0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIEFkanVzdCBuZXN0ZWQgaGVhZGVyc1xuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLm5lc3RlZEhlYWRlcnMgJiYgb2JqLm9wdGlvbnMubmVzdGVkSGVhZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gRmxleGlibGUgd2F5IHRvIGhhbmRsZSBuZXN0ZWRoZWFkZXJzXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbMF0gJiYgb2JqLm9wdGlvbnMubmVzdGVkSGVhZGVyc1swXVswXSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5vcHRpb25zLm5lc3RlZEhlYWRlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sc3BhbiA9IHBhcnNlSW50KG9iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbal1bb2JqLm9wdGlvbnMubmVzdGVkSGVhZGVyc1tqXS5sZW5ndGgtMV0uY29sc3BhbikgLSBoaXN0b3J5UmVjb3JkLm51bU9mQ29sdW1ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHNwYW4gPSBwYXJzZUludChvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzW2pdW29iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbal0ubGVuZ3RoLTFdLmNvbHNwYW4pICsgaGlzdG9yeVJlY29yZC5udW1PZkNvbHVtbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5uZXN0ZWRIZWFkZXJzW2pdW29iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbal0ubGVuZ3RoLTFdLmNvbHNwYW4gPSBjb2xzcGFuO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnRoZWFkLmNoaWxkcmVuW2pdLmNoaWxkcmVuW29iai50aGVhZC5jaGlsZHJlbltqXS5jaGlsZHJlbi5sZW5ndGgtMV0uc2V0QXR0cmlidXRlKCdjb2xzcGFuJywgY29sc3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sc3BhbiA9IHBhcnNlSW50KG9iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbMF0uY29sc3BhbikgLSBoaXN0b3J5UmVjb3JkLm51bU9mQ29sdW1ucztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xzcGFuID0gcGFyc2VJbnQob2JqLm9wdGlvbnMubmVzdGVkSGVhZGVyc1swXS5jb2xzcGFuKSArIGhpc3RvcnlSZWNvcmQubnVtT2ZDb2x1bW5zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm5lc3RlZEhlYWRlcnNbMF0uY29sc3BhbiA9IGNvbHNwYW47XG4gICAgICAgICAgICAgICAgICAgIG9iai50aGVhZC5jaGlsZHJlblswXS5jaGlsZHJlbltvYmoudGhlYWQuY2hpbGRyZW5bMF0uY2hpbGRyZW4ubGVuZ3RoLTFdLnNldEF0dHJpYnV0ZSgnY29sc3BhbicsIGNvbHNwYW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIG9iai51cGRhdGVUYWJsZVJlZmVyZW5jZXMoKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVW5kbyBsYXN0IGFjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBldmVudHMgYW5kIGhpc3RvcnlcbiAgICAgICAgICAgIHZhciBpZ25vcmVFdmVudHMgPSBvYmouaWdub3JlRXZlbnRzID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGlnbm9yZUhpc3RvcnkgPSBvYmouaWdub3JlSGlzdG9yeSA/IHRydWUgOiBmYWxzZTtcbiAgICBcbiAgICAgICAgICAgIG9iai5pZ25vcmVFdmVudHMgPSB0cnVlO1xuICAgICAgICAgICAgb2JqLmlnbm9yZUhpc3RvcnkgPSB0cnVlO1xuICAgIFxuICAgICAgICAgICAgLy8gUmVjb3Jkc1xuICAgICAgICAgICAgdmFyIHJlY29yZHMgPSBbXTtcbiAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBjZWxsc1xuICAgICAgICAgICAgaWYgKG9iai5oaXN0b3J5SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIEhpc3RvcnlcbiAgICAgICAgICAgICAgICB2YXIgaGlzdG9yeVJlY29yZCA9IG9iai5oaXN0b3J5W29iai5oaXN0b3J5SW5kZXgtLV07XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlSZWNvcmQuYWN0aW9uID09ICdpbnNlcnRSb3cnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5oaXN0b3J5UHJvY2Vzc1JvdygxLCBoaXN0b3J5UmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhpc3RvcnlSZWNvcmQuYWN0aW9uID09ICdkZWxldGVSb3cnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5oaXN0b3J5UHJvY2Vzc1JvdygwLCBoaXN0b3J5UmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhpc3RvcnlSZWNvcmQuYWN0aW9uID09ICdpbnNlcnRDb2x1bW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5oaXN0b3J5UHJvY2Vzc0NvbHVtbigxLCBoaXN0b3J5UmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhpc3RvcnlSZWNvcmQuYWN0aW9uID09ICdkZWxldGVDb2x1bW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5oaXN0b3J5UHJvY2Vzc0NvbHVtbigwLCBoaXN0b3J5UmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhpc3RvcnlSZWNvcmQuYWN0aW9uID09ICdtb3ZlUm93Jykge1xuICAgICAgICAgICAgICAgICAgICBvYmoubW92ZVJvdyhoaXN0b3J5UmVjb3JkLm5ld1ZhbHVlLCBoaXN0b3J5UmVjb3JkLm9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhpc3RvcnlSZWNvcmQuYWN0aW9uID09ICdtb3ZlQ29sdW1uJykge1xuICAgICAgICAgICAgICAgICAgICBvYmoubW92ZUNvbHVtbihoaXN0b3J5UmVjb3JkLm5ld1ZhbHVlLCBoaXN0b3J5UmVjb3JkLm9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhpc3RvcnlSZWNvcmQuYWN0aW9uID09ICdzZXRNZXJnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJlbW92ZU1lcmdlKGhpc3RvcnlSZWNvcmQuY29sdW1uLCBoaXN0b3J5UmVjb3JkLmRhdGEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGlzdG9yeVJlY29yZC5hY3Rpb24gPT0gJ3NldFN0eWxlJykge1xuICAgICAgICAgICAgICAgICAgICBvYmouc2V0U3R5bGUoaGlzdG9yeVJlY29yZC5vbGRWYWx1ZSwgbnVsbCwgbnVsbCwgMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnc2V0V2lkdGgnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5zZXRXaWR0aChoaXN0b3J5UmVjb3JkLmNvbHVtbiwgaGlzdG9yeVJlY29yZC5vbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnc2V0SGVpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICBvYmouc2V0SGVpZ2h0KGhpc3RvcnlSZWNvcmQucm93LCBoaXN0b3J5UmVjb3JkLm9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhpc3RvcnlSZWNvcmQuYWN0aW9uID09ICdzZXRIZWFkZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5zZXRIZWFkZXIoaGlzdG9yeVJlY29yZC5jb2x1bW4sIGhpc3RvcnlSZWNvcmQub2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGlzdG9yeVJlY29yZC5hY3Rpb24gPT0gJ3NldENvbW1lbnRzJykge1xuICAgICAgICAgICAgICAgICAgICBvYmouc2V0Q29tbWVudHMoaGlzdG9yeVJlY29yZC5jb2x1bW4sIGhpc3RvcnlSZWNvcmQub2xkVmFsdWVbMF0sIGhpc3RvcnlSZWNvcmQub2xkVmFsdWVbMV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGlzdG9yeVJlY29yZC5hY3Rpb24gPT0gJ29yZGVyQnknKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaGlzdG9yeVJlY29yZC5yb3dzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzW2hpc3RvcnlSZWNvcmQucm93c1tqXV0gPSBqO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9iai51cGRhdGVPcmRlckFycm93KGhpc3RvcnlSZWNvcmQuY29sdW1uLCBoaXN0b3J5UmVjb3JkLm9yZGVyID8gMCA6IDEpO1xuICAgICAgICAgICAgICAgICAgICBvYmoudXBkYXRlT3JkZXIocm93cyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnc2V0VmFsdWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVkbyBmb3IgY2hhbmdlcyBpbiBjZWxsc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGlzdG9yeVJlY29yZC5yZWNvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBoaXN0b3J5UmVjb3JkLnJlY29yZHNbaV0ueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGhpc3RvcnlSZWNvcmQucmVjb3Jkc1tpXS55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWU6IGhpc3RvcnlSZWNvcmQucmVjb3Jkc1tpXS5vbGRWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVJlY29yZC5vbGRTdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlc2V0U3R5bGUoaGlzdG9yeVJlY29yZC5vbGRTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHJlY29yZHNcclxuICAgICAgICAgICAgICAgICAgICBvYmouc2V0VmFsdWUocmVjb3Jkcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzZWxlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVJlY29yZC5zZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnVwZGF0ZVNlbGVjdGlvbkZyb21Db29yZHMoaGlzdG9yeVJlY29yZC5zZWxlY3Rpb25bMF0sIGhpc3RvcnlSZWNvcmQuc2VsZWN0aW9uWzFdLCBoaXN0b3J5UmVjb3JkLnNlbGVjdGlvblsyXSwgaGlzdG9yeVJlY29yZC5zZWxlY3Rpb25bM10pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvYmouaWdub3JlRXZlbnRzID0gaWdub3JlRXZlbnRzO1xuICAgICAgICAgICAgb2JqLmlnbm9yZUhpc3RvcnkgPSBpZ25vcmVIaXN0b3J5O1xuICAgIFxyXG4gICAgICAgICAgICAvLyBFdmVudHNcclxuICAgICAgICAgICAgb2JqLmRpc3BhdGNoKCdvbnVuZG8nLCBlbCwgaGlzdG9yeVJlY29yZCk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZG8gcHJldmlvdXNseSB1bmRvbmUgYWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBvYmoucmVkbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gSWdub3JlIGV2ZW50cyBhbmQgaGlzdG9yeVxuICAgICAgICAgICAgdmFyIGlnbm9yZUV2ZW50cyA9IG9iai5pZ25vcmVFdmVudHMgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICB2YXIgaWdub3JlSGlzdG9yeSA9IG9iai5pZ25vcmVIaXN0b3J5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgIFxuICAgICAgICAgICAgb2JqLmlnbm9yZUV2ZW50cyA9IHRydWU7XG4gICAgICAgICAgICBvYmouaWdub3JlSGlzdG9yeSA9IHRydWU7XG4gICAgXG4gICAgICAgICAgICAvLyBSZWNvcmRzXG4gICAgICAgICAgICB2YXIgcmVjb3JkcyA9IFtdO1xuICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIGNlbGxzXG4gICAgICAgICAgICBpZiAob2JqLmhpc3RvcnlJbmRleCA8IG9iai5oaXN0b3J5Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAvLyBIaXN0b3J5XG4gICAgICAgICAgICAgICAgdmFyIGhpc3RvcnlSZWNvcmQgPSBvYmouaGlzdG9yeVsrK29iai5oaXN0b3J5SW5kZXhdO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnaW5zZXJ0Um93Jykge1xuICAgICAgICAgICAgICAgICAgICBvYmouaGlzdG9yeVByb2Nlc3NSb3coMCwgaGlzdG9yeVJlY29yZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnZGVsZXRlUm93Jykge1xuICAgICAgICAgICAgICAgICAgICBvYmouaGlzdG9yeVByb2Nlc3NSb3coMSwgaGlzdG9yeVJlY29yZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnaW5zZXJ0Q29sdW1uJykge1xuICAgICAgICAgICAgICAgICAgICBvYmouaGlzdG9yeVByb2Nlc3NDb2x1bW4oMCwgaGlzdG9yeVJlY29yZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnZGVsZXRlQ29sdW1uJykge1xuICAgICAgICAgICAgICAgICAgICBvYmouaGlzdG9yeVByb2Nlc3NDb2x1bW4oMSwgaGlzdG9yeVJlY29yZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnbW92ZVJvdycpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLm1vdmVSb3coaGlzdG9yeVJlY29yZC5vbGRWYWx1ZSwgaGlzdG9yeVJlY29yZC5uZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnbW92ZUNvbHVtbicpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLm1vdmVDb2x1bW4oaGlzdG9yeVJlY29yZC5vbGRWYWx1ZSwgaGlzdG9yeVJlY29yZC5uZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnc2V0TWVyZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5zZXRNZXJnZShoaXN0b3J5UmVjb3JkLmNvbHVtbiwgaGlzdG9yeVJlY29yZC5jb2xzcGFuLCBoaXN0b3J5UmVjb3JkLnJvd3NwYW4sIDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGlzdG9yeVJlY29yZC5hY3Rpb24gPT0gJ3NldFN0eWxlJykge1xuICAgICAgICAgICAgICAgICAgICBvYmouc2V0U3R5bGUoaGlzdG9yeVJlY29yZC5uZXdWYWx1ZSwgbnVsbCwgbnVsbCwgMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnc2V0V2lkdGgnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5zZXRXaWR0aChoaXN0b3J5UmVjb3JkLmNvbHVtbiwgaGlzdG9yeVJlY29yZC5uZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnc2V0SGVpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICBvYmouc2V0SGVpZ2h0KGhpc3RvcnlSZWNvcmQucm93LCBoaXN0b3J5UmVjb3JkLm5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhpc3RvcnlSZWNvcmQuYWN0aW9uID09ICdzZXRIZWFkZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5zZXRIZWFkZXIoaGlzdG9yeVJlY29yZC5jb2x1bW4sIGhpc3RvcnlSZWNvcmQubmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGlzdG9yeVJlY29yZC5hY3Rpb24gPT0gJ3NldENvbW1lbnRzJykge1xuICAgICAgICAgICAgICAgICAgICBvYmouc2V0Q29tbWVudHMoaGlzdG9yeVJlY29yZC5jb2x1bW4sIGhpc3RvcnlSZWNvcmQubmV3VmFsdWVbMF0sIGhpc3RvcnlSZWNvcmQubmV3VmFsdWVbMV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGlzdG9yeVJlY29yZC5hY3Rpb24gPT0gJ29yZGVyQnknKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai51cGRhdGVPcmRlckFycm93KGhpc3RvcnlSZWNvcmQuY29sdW1uLCBoaXN0b3J5UmVjb3JkLm9yZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgb2JqLnVwZGF0ZU9yZGVyKGhpc3RvcnlSZWNvcmQucm93cyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoaXN0b3J5UmVjb3JkLmFjdGlvbiA9PSAnc2V0VmFsdWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLnNldFZhbHVlKGhpc3RvcnlSZWNvcmQucmVjb3Jkcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVkbyBmb3IgY2hhbmdlcyBpbiBjZWxsc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGlzdG9yeVJlY29yZC5yZWNvcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5UmVjb3JkLm9sZFN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVzZXRTdHlsZShoaXN0b3J5UmVjb3JkLm5ld1N0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc2VsZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlSZWNvcmQuc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKGhpc3RvcnlSZWNvcmQuc2VsZWN0aW9uWzBdLCBoaXN0b3J5UmVjb3JkLnNlbGVjdGlvblsxXSwgaGlzdG9yeVJlY29yZC5zZWxlY3Rpb25bMl0sIGhpc3RvcnlSZWNvcmQuc2VsZWN0aW9uWzNdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqLmlnbm9yZUV2ZW50cyA9IGlnbm9yZUV2ZW50cztcbiAgICAgICAgICAgIG9iai5pZ25vcmVIaXN0b3J5ID0gaWdub3JlSGlzdG9yeTtcbiAgICBcclxuICAgICAgICAgICAgLy8gRXZlbnRzXHJcbiAgICAgICAgICAgIG9iai5kaXNwYXRjaCgnb25yZWRvJywgZWwsIGhpc3RvcnlSZWNvcmQpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgZHJvcGRvd24gdmFsdWUgZnJvbSBrZXlcbiAgICAgICAgICovXG4gICAgICAgIG9iai5nZXREcm9wRG93blZhbHVlID0gZnVuY3Rpb24oY29sdW1uLCBrZXkpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgIFxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtbnNbY29sdW1uXSAmJiBvYmoub3B0aW9ucy5jb2x1bW5zW2NvbHVtbl0uc291cmNlKSB7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFycmF5IGZyb20gc291cmNlXG4gICAgICAgICAgICAgICAgdmFyIGNvbWJvID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IG9iai5vcHRpb25zLmNvbHVtbnNbY29sdW1uXS5zb3VyY2U7XG4gICAgXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihzb3VyY2VbaV0pID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21ib1tzb3VyY2VbaV0uaWRdID0gc291cmNlW2ldLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21ib1tzb3VyY2VbaV1dID0gc291cmNlW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIEdhcmFudGUgc2luZ2xlIG11bHRpcGxlIGNvbXBhdGliaWx5XG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSAoJycgKyBrZXkpLnNwbGl0KCc7JylcbiAgICBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbWJvW2tleXNbaV1dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKGNvbWJvW2tleXNbaV1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBjb2x1bW4nKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiAodmFsdWUubGVuZ3RoID4gMCkgPyB2YWx1ZS5qb2luKCc7ICcpIDogJyc7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyb20gc3RhcmNrb3ZlcmZsb3cgY29udHJpYnV0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgb2JqLnBhcnNlQ1NWID0gZnVuY3Rpb24oc3RyLCBkZWxpbWl0ZXIpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBsYXN0IGxpbmUgYnJlYWtcbiAgICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXHI/XFxuJHxcXHIkfFxcbiQvZywgXCJcIik7XG4gICAgICAgICAgICAvLyBMYXN0IGNhcmFjdGVyIGlzIHRoZSBkZWxpbWl0ZXJcbiAgICAgICAgICAgIGlmIChzdHIuY2hhckNvZGVBdChzdHIubGVuZ3RoLTEpID09IDkpIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCJcXDBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVzZXItc3VwcGxpZWQgZGVsaW1ldGVyIG9yIGRlZmF1bHQgY29tbWFcbiAgICAgICAgICAgIGRlbGltaXRlciA9IChkZWxpbWl0ZXIgfHwgXCIsXCIpO1xuICAgIFxuICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICAgICAgdmFyIHF1b3RlID0gZmFsc2U7ICAvLyB0cnVlIG1lYW5zIHdlJ3JlIGluc2lkZSBhIHF1b3RlZCBmaWVsZFxuICAgICAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIGVhY2ggY2hhcmFjdGVyLCBrZWVwIHRyYWNrIG9mIGN1cnJlbnQgcm93IGFuZCBjb2x1bW4gKG9mIHRoZSByZXR1cm5lZCBhcnJheSlcbiAgICAgICAgICAgIGZvciAodmFyIHJvdyA9IDAsIGNvbCA9IDAsIGMgPSAwOyBjIDwgc3RyLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNjID0gc3RyW2NdLCBuYyA9IHN0cltjKzFdO1xuICAgICAgICAgICAgICAgIGFycltyb3ddID0gYXJyW3Jvd10gfHwgW107XG4gICAgICAgICAgICAgICAgYXJyW3Jvd11bY29sXSA9IGFycltyb3ddW2NvbF0gfHwgJyc7XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGlzIGEgcXVvdGF0aW9uIG1hcmssIGFuZCB3ZSdyZSBpbnNpZGUgYSBxdW90ZWQgZmllbGQsIGFuZCB0aGUgbmV4dCBjaGFyYWN0ZXIgaXMgYWxzbyBhIHF1b3RhdGlvbiBtYXJrLCBhZGQgYSBxdW90YXRpb24gbWFyayB0byB0aGUgY3VycmVudCBjb2x1bW4gYW5kIHNraXAgdGhlIG5leHQgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgaWYgKGNjID09ICdcIicgJiYgcXVvdGUgJiYgbmMgPT0gJ1wiJykgeyBhcnJbcm93XVtjb2xdICs9IGNjOyArK2M7IGNvbnRpbnVlOyB9ICBcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGp1c3Qgb25lIHF1b3RhdGlvbiBtYXJrLCBiZWdpbi9lbmQgcXVvdGVkIGZpZWxkXG4gICAgICAgICAgICAgICAgaWYgKGNjID09ICdcIicpIHsgcXVvdGUgPSAhcXVvdGU7IGNvbnRpbnVlOyB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhIGNvbW1hIGFuZCB3ZSdyZSBub3QgaW4gYSBxdW90ZWQgZmllbGQsIG1vdmUgb24gdG8gdGhlIG5leHQgY29sdW1uXG4gICAgICAgICAgICAgICAgaWYgKGNjID09IGRlbGltaXRlciAmJiAhcXVvdGUpIHsgKytjb2w7IGNvbnRpbnVlOyB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhIG5ld2xpbmUgKENSTEYpIGFuZCB3ZSdyZSBub3QgaW4gYSBxdW90ZWQgZmllbGQsIHNraXAgdGhlIG5leHQgY2hhcmFjdGVyIGFuZCBtb3ZlIG9uIHRvIHRoZSBuZXh0IHJvdyBhbmQgbW92ZSB0byBjb2x1bW4gMCBvZiB0aGF0IG5ldyByb3dcbiAgICAgICAgICAgICAgICBpZiAoY2MgPT0gJ1xccicgJiYgbmMgPT0gJ1xcbicgJiYgIXF1b3RlKSB7ICsrcm93OyBjb2wgPSAwOyArK2M7IGNvbnRpbnVlOyB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhIG5ld2xpbmUgKExGIG9yIENSKSBhbmQgd2UncmUgbm90IGluIGEgcXVvdGVkIGZpZWxkLCBtb3ZlIG9uIHRvIHRoZSBuZXh0IHJvdyBhbmQgbW92ZSB0byBjb2x1bW4gMCBvZiB0aGF0IG5ldyByb3dcbiAgICAgICAgICAgICAgICBpZiAoY2MgPT0gJ1xcbicgJiYgIXF1b3RlKSB7ICsrcm93OyBjb2wgPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgIGlmIChjYyA9PSAnXFxyJyAmJiAhcXVvdGUpIHsgKytyb3c7IGNvbCA9IDA7IGNvbnRpbnVlOyB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBhcHBlbmQgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIHRvIHRoZSBjdXJyZW50IGNvbHVtblxuICAgICAgICAgICAgICAgIGFycltyb3ddW2NvbF0gKz0gY2M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIG9iai5oYXNoID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgICAgICB2YXIgaGFzaCA9IDAsIGksIGNocjtcbiAgICBcbiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIGNociA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgY2hyO1xuICAgICAgICAgICAgICAgICAgaGFzaCB8PSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYXNoO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIG9iai5vbmFmdGVyY2hhbmdlcyA9IGZ1bmN0aW9uKGVsLCByZWNvcmRzKSB7XHJcbiAgICAgICAgICAgIC8vIEV2ZW50c1xyXG4gICAgICAgICAgICBvYmouZGlzcGF0Y2goJ29uYWZ0ZXJjaGFuZ2VzJywgZWwsIHJlY29yZHMpO1xyXG4gICAgICAgIH1cbiAgICBcclxuICAgICAgICBvYmouZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBqZXhjZWwuZGVzdHJveShlbCk7XHJcbiAgICAgICAgfVxyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXRpYWxpemF0aW9uIG1ldGhvZFxuICAgICAgICAgKi9cbiAgICAgICAgb2JqLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGpleGNlbC5jdXJyZW50ID0gb2JqO1xuICAgIFxuICAgICAgICAgICAgLy8gQnVpbGQgaGFuZGxlcnNcbiAgICAgICAgICAgIGlmICh0eXBlb2YoamV4Y2VsLmJ1aWxkKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnJvb3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuYnVpbGQob2JqLm9wdGlvbnMucm9vdCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGpleGNlbC5idWlsZChkb2N1bWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmJ1aWxkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBFdmVudFxyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMSk7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50ICYmICEgb2JqLnNlbGVjdGVkQ2VsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKDAsMCwwLDApO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5sZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cbiAgICAgICAgICAgIC8vIExvYWQgdGhlIHRhYmxlIGRhdGEgYmFzZWQgb24gYW4gQ1NWIGZpbGVcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5jc3YpIHtcbiAgICAgICAgICAgICAgICAvLyBMb2FkaW5nXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmxvYWRpbmdTcGluID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgalN1aXRlcy5sb2FkaW5nLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gTG9hZCBDU1YgZmlsZVxuICAgICAgICAgICAgICAgIGpTdWl0ZXMuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogb2JqLm9wdGlvbnMuY3N2LFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0RhdGEgPSBvYmoucGFyc2VDU1YocmVzdWx0LCBvYmoub3B0aW9ucy5jc3ZEZWxpbWl0ZXIpXG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuY3N2SGVhZGVycyA9PSB0cnVlICYmIG5ld0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoZWFkZXJzID0gbmV3RGF0YS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLmNvbHVtbnNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLmNvbHVtbnNbaV0gPSB7IHR5cGU6J3RleHQnLCBhbGlnbjpvYmoub3B0aW9ucy5kZWZhdWx0Q29sQWxpZ24sIHdpZHRoOm9iai5vcHRpb25zLmRlZmF1bHRDb2xXaWR0aCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZWNlZGVuY2Ugb3ZlciBwcmUtY29uZmlndXJhdGVkIHRpdGxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iai5vcHRpb25zLmNvbHVtbnNbaV0udGl0bGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29sdW1uc1tpXS50aXRsZSA9IGhlYWRlcnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5kYXRhID0gbmV3RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXBhcmUgdGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wcmVwYXJlVGFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgc3BpblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmxvYWRpbmdTcGluID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqU3VpdGVzLmxvYWRpbmcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLnVybCkge1xuICAgICAgICAgICAgICAgIC8vIExvYWRpbmdcbiAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubG9hZGluZ1NwaW4gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBqU3VpdGVzLmxvYWRpbmcuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBqU3VpdGVzLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IG9iai5vcHRpb25zLnVybCxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5kYXRhID0gKHJlc3VsdC5kYXRhKSA/IHJlc3VsdC5kYXRhIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlcGFyZSB0YWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnByZXBhcmVUYWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGlkZSBzcGluXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubG9hZGluZ1NwaW4gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpTdWl0ZXMubG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUHJlcGFyZSB0YWJsZVxuICAgICAgICAgICAgICAgIG9iai5wcmVwYXJlVGFibGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyBDb250ZXh0IG1lbnVcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5jb250ZXh0TWVudSAhPSBudWxsKSB7XG4gICAgICAgICAgICBvYmoub3B0aW9ucy5jb250ZXh0TWVudSA9IG9wdGlvbnMuY29udGV4dE1lbnU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmoub3B0aW9ucy5jb250ZXh0TWVudSA9IGZ1bmN0aW9uKGVsLCB4LCB5LCBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbnNlcnQgYSBuZXcgY29sdW1uXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5hbGxvd0luc2VydENvbHVtbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTpvYmoub3B0aW9ucy50ZXh0Lmluc2VydEFOZXdDb2x1bW5CZWZvcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazpmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmluc2VydENvbHVtbigxLCBwYXJzZUludCh4KSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmFsbG93SW5zZXJ0Q29sdW1uID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOm9iai5vcHRpb25zLnRleHQuaW5zZXJ0QU5ld0NvbHVtbkFmdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5pbnNlcnRDb2x1bW4oMSwgcGFyc2VJbnQoeCksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSBhIGNvbHVtblxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuYWxsb3dEZWxldGVDb2x1bW4gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6b2JqLm9wdGlvbnMudGV4dC5kZWxldGVTZWxlY3RlZENvbHVtbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazpmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRlbGV0ZUNvbHVtbihvYmouZ2V0U2VsZWN0ZWRDb2x1bW5zKCkubGVuZ3RoID8gdW5kZWZpbmVkIDogcGFyc2VJbnQoeCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbmFtZSBjb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmFsbG93UmVuYW1lQ29sdW1uID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOm9iai5vcHRpb25zLnRleHQucmVuYW1lVGhpc0NvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouc2V0SGVhZGVyKHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvcnRpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmNvbHVtblNvcnRpbmcgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7IHR5cGU6J2xpbmUnIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6b2JqLm9wdGlvbnMudGV4dC5vcmRlckFzY2VuZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoub3JkZXJCeSh4LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOm9iai5vcHRpb25zLnRleHQub3JkZXJEZXNjZW5kaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcmRlckJ5KHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5zZXJ0IG5ldyByb3dcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmFsbG93SW5zZXJ0Um93ID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOm9iai5vcHRpb25zLnRleHQuaW5zZXJ0QU5ld1Jvd0JlZm9yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouaW5zZXJ0Um93KDEsIHBhcnNlSW50KHkpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOm9iai5vcHRpb25zLnRleHQuaW5zZXJ0QU5ld1Jvd0FmdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5pbnNlcnRSb3coMSwgcGFyc2VJbnQoeSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5hbGxvd0RlbGV0ZVJvdyA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTpvYmoub3B0aW9ucy50ZXh0LmRlbGV0ZVNlbGVjdGVkUm93cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZGVsZXRlUm93KG9iai5nZXRTZWxlY3RlZFJvd3MoKS5sZW5ndGggPyB1bmRlZmluZWQgOiBwYXJzZUludCh5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5hbGxvd0NvbW1lbnRzID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHsgdHlwZTonbGluZScgfSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gb2JqLnJlY29yZHNbeV1beF0uZ2V0QXR0cmlidXRlKCd0aXRsZScpIHx8ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUgPyBvYmoub3B0aW9ucy50ZXh0LmVkaXRDb21tZW50cyA6IG9iai5vcHRpb25zLnRleHQuYWRkQ29tbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50ID0gcHJvbXB0KG9iai5vcHRpb25zLnRleHQuY29tbWVudHMsIHRpdGxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zZXRDb21tZW50cyhbIHgsIHkgXSwgY29tbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOm9iai5vcHRpb25zLnRleHQuY2xlYXJDb21tZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNldENvbW1lbnRzKFsgeCwgeSBdLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBMaW5lXG4gICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7IHR5cGU6J2xpbmUnIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIENvcHlcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6b2JqLm9wdGlvbnMudGV4dC5jb3B5LFxuICAgICAgICAgICAgICAgICAgICBzaG9ydGN1dDonQ3RybCArIEMnLFxuICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNvcHkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBQYXN0ZVxuICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLmNsaXBib2FyZCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOm9iai5vcHRpb25zLnRleHQucGFzdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG9ydGN1dDonQ3RybCArIFYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazpmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnNlbGVjdGVkQ2VsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCkudGhlbihmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnBhc3RlKG9iai5zZWxlY3RlZENlbGxbMF0sIG9iai5zZWxlY3RlZENlbGxbMV0sIHRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBTYXZlXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmFsbG93RXhwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG9iai5vcHRpb25zLnRleHQuc2F2ZUFzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvcnRjdXQ6ICdDdHJsICsgUycsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmRvd25sb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBBYm91dFxuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5hYm91dCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOm9iai5vcHRpb25zLnRleHQuYWJvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KG9iai5vcHRpb25zLmFib3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICBvYmouc2Nyb2xsQ29udHJvbHMgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIG9iai53aGVlbENvbnRyb2xzKCk7XHJcblxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmZyZWV6ZUNvbHVtbnMgPiAwICYmIG9iai5jb250ZW50LnNjcm9sbExlZnQgIT0gc2Nyb2xsTGVmdCkge1xyXG4gICAgICAgICAgICAgICAgb2JqLnVwZGF0ZUZyZWV6ZVBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuXG4gICAgICAgICAgICAvLyBDbG9zZSBlZGl0b3JcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5sYXp5TG9hZGluZyA9PSB0cnVlIHx8IG9iai5vcHRpb25zLnRhYmxlT3ZlcmZsb3cgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChvYmouZWRpdGlvbiAmJiBlLnRhcmdldC5jbGFzc05hbWUuc3Vic3RyKDAsOSkgIT0gJ2pkcm9wZG93bicpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNsb3NlRWRpdG9yKG9iai5lZGl0aW9uWzBdLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxyXG4gICAgICAgIG9iai53aGVlbENvbnRyb2xzID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMubGF6eUxvYWRpbmcgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGpleGNlbC50aW1lQ29udHJvbExvYWRpbmcgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpleGNlbC50aW1lQ29udHJvbExvYWRpbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmNvbnRlbnQuc2Nyb2xsVG9wICsgb2JqLmNvbnRlbnQuY2xpZW50SGVpZ2h0ID49IG9iai5jb250ZW50LnNjcm9sbEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5sb2FkRG93bigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5jb250ZW50LnNjcm9sbFRvcCArIG9iai5jb250ZW50LmNsaWVudEhlaWdodCA+IG9iai5jb250ZW50LnNjcm9sbEhlaWdodCAtIDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jb250ZW50LnNjcm9sbFRvcCA9IG9iai5jb250ZW50LnNjcm9sbFRvcCAtIG9iai5jb250ZW50LmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnVwZGF0ZUNvcm5lclBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqLmNvbnRlbnQuc2Nyb2xsVG9wIDw9IG9iai5jb250ZW50LmNsaWVudEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5sb2FkVXAoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouY29udGVudC5zY3JvbGxUb3AgPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouY29udGVudC5zY3JvbGxUb3AgPSBvYmouY29udGVudC5zY3JvbGxUb3AgKyBvYmouY29udGVudC5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai51cGRhdGVDb3JuZXJQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLnRpbWVDb250cm9sTG9hZGluZyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IHdpZHRoIG9mIGFsbCBmcmVlemVkIGNlbGxzIHRvZ2V0aGVyXHJcbiAgICAgICAgb2JqLmdldEZyZWV6ZVdpZHRoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5mcmVlemVDb2x1bW5zID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoub3B0aW9ucy5mcmVlemVDb2x1bW5zOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBwYXJzZUludChvYmoub3B0aW9ucy5jb2x1bW5zW2ldLndpZHRoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IDA7XHJcblxyXG4gICAgICAgIG9iai51cGRhdGVGcmVlemVQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzY3JvbGxMZWZ0ID0gb2JqLmNvbnRlbnQuc2Nyb2xsTGVmdDtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gMDtcclxuICAgICAgICAgICAgaWYgKHNjcm9sbExlZnQgPiA1MCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoub3B0aW9ucy5mcmVlemVDb2x1bW5zOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gcGFyc2VJbnQob2JqLm9wdGlvbnMuY29sdW1uc1tpLTFdLndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmhlYWRlcnNbaV0uY2xhc3NMaXN0LmFkZCgnamV4Y2VsX2ZyZWV6ZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaGVhZGVyc1tpXS5zdHlsZS5sZWZ0ID0gd2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLnJvd3MubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5yb3dzW2pdICYmIG9iai5yZWNvcmRzW2pdW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZnRlZCA9IChzY3JvbGxMZWZ0ICsgKGkgPiAwID8gb2JqLnJlY29yZHNbal1baS0xXS5zdHlsZS53aWR0aCA6IDApKSAtIDUxICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW2pdW2ldLmNsYXNzTGlzdC5hZGQoJ2pleGNlbF9mcmVlemVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1tqXVtpXS5zdHlsZS5sZWZ0ID0gc2hpZnRlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLm9wdGlvbnMuZnJlZXplQ29sdW1uczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmhlYWRlcnNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnamV4Y2VsX2ZyZWV6ZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaGVhZGVyc1tpXS5zdHlsZS5sZWZ0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoucm93cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlY29yZHNbal1baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZWNvcmRzW2pdW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2pleGNlbF9mcmVlemVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVjb3Jkc1tqXVtpXS5zdHlsZS5sZWZ0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFBsYWNlIHRoZSBjb3JuZXIgaW4gdGhlIGNvcnJlY3QgcGxhY2VcclxuICAgICAgICAgICAgb2JqLnVwZGF0ZUNvcm5lclBvc2l0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsIG9iai53aGVlbENvbnRyb2xzKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIiwgb2JqLndoZWVsQ29udHJvbHMpO1xuICAgIFxuICAgICAgICBlbC5qZXhjZWwgPSBvYmo7XG4gICAgXG4gICAgICAgIG9iai5pbml0KCk7XG4gICAgXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSk7XG4gICAgXG4gICAgamV4Y2VsLmN1cnJlbnQgPSBudWxsO1xuICAgIGpleGNlbC50aW1lQ29udHJvbCA9IG51bGw7XG4gICAgamV4Y2VsLnRpbWVDb250cm9sTG9hZGluZyA9IG51bGw7XG4gICAgXG4gICAgamV4Y2VsLmRlc3Ryb3kgPSBmdW5jdGlvbihlbGVtZW50LCBkZXN0cm95RXZlbnRIYW5kbGVycykge1xuICAgICAgICBpZiAoZWxlbWVudC5qZXhjZWwpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gZWxlbWVudC5qZXhjZWwub3B0aW9ucy5yb290ID8gZWxlbWVudC5qZXhjZWwub3B0aW9ucy5yb290IDogZG9jdW1lbnQ7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLCBlbGVtZW50LmpleGNlbC5zY3JvbGxDb250cm9scyk7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsIGVsZW1lbnQuamV4Y2VsLnNjcm9sbENvbnRyb2xzKTtcbiAgICAgICAgICAgIGVsZW1lbnQuamV4Y2VsID0gbnVsbDtcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgXG4gICAgICAgICAgICBpZiAoZGVzdHJveUV2ZW50SGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICByb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGpleGNlbC5tb3VzZVVwQ29udHJvbHMpO1xuICAgICAgICAgICAgICAgIHJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBqZXhjZWwubW91c2VEb3duQ29udHJvbHMpO1xuICAgICAgICAgICAgICAgIHJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBqZXhjZWwubW91c2VNb3ZlQ29udHJvbHMpO1xuICAgICAgICAgICAgICAgIHJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBqZXhjZWwubW91c2VPdmVyQ29udHJvbHMpO1xuICAgICAgICAgICAgICAgIHJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIGpleGNlbC5kb3VibGVDbGlja0NvbnRyb2xzKTtcbiAgICAgICAgICAgICAgICByb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYXN0ZVwiLCBqZXhjZWwucGFzdGVDb250cm9scyk7XG4gICAgICAgICAgICAgICAgcm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgamV4Y2VsLmNvbnRleHRNZW51Q29udHJvbHMpO1xuICAgICAgICAgICAgICAgIHJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgamV4Y2VsLnRvdWNoU3RhcnRDb250cm9scyk7XG4gICAgICAgICAgICAgICAgcm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgamV4Y2VsLnRvdWNoRW5kQ29udHJvbHMpO1xuICAgICAgICAgICAgICAgIHJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsIGpleGNlbC50b3VjaEVuZENvbnRyb2xzKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGpleGNlbC5rZXlEb3duQ29udHJvbHMpO1xuICAgICAgICAgICAgICAgIGpleGNlbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgamV4Y2VsLmJ1aWxkID0gZnVuY3Rpb24ocm9vdCkge1xuICAgICAgICByb290LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGpleGNlbC5tb3VzZVVwQ29udHJvbHMpO1xuICAgICAgICByb290LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgamV4Y2VsLm1vdXNlRG93bkNvbnRyb2xzKTtcbiAgICAgICAgcm9vdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGpleGNlbC5tb3VzZU1vdmVDb250cm9scyk7XG4gICAgICAgIHJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBqZXhjZWwubW91c2VPdmVyQ29udHJvbHMpO1xuICAgICAgICByb290LmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCBqZXhjZWwuZG91YmxlQ2xpY2tDb250cm9scyk7XG4gICAgICAgIHJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsIGpleGNlbC5wYXN0ZUNvbnRyb2xzKTtcbiAgICAgICAgcm9vdC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgamV4Y2VsLmNvbnRleHRNZW51Q29udHJvbHMpO1xuICAgICAgICByb290LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGpleGNlbC50b3VjaFN0YXJ0Q29udHJvbHMpO1xuICAgICAgICByb290LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBqZXhjZWwudG91Y2hFbmRDb250cm9scyk7XG4gICAgICAgIHJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsIGpleGNlbC50b3VjaEVuZENvbnRyb2xzKTtcbiAgICAgICAgcm9vdC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIGpleGNlbC50b3VjaEVuZENvbnRyb2xzKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBqZXhjZWwua2V5RG93bkNvbnRyb2xzKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogRXZlbnRzXG4gICAgICovXG4gICAgamV4Y2VsLmtleURvd25Db250cm9scyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuZWRpdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChlLndoaWNoID09IDI3KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVzY2FwZVxuICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuZWRpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhpdCB3aXRob3V0IHNhdmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY2xvc2VFZGl0b3IoamV4Y2VsLmN1cnJlbnQuZWRpdGlvblswXSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW50ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuY29sdW1uc1tqZXhjZWwuY3VycmVudC5lZGl0aW9uWzJdXS50eXBlID09ICdjYWxlbmRhcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmNsb3NlRWRpdG9yKGpleGNlbC5jdXJyZW50LmVkaXRpb25bMF0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuY29sdW1uc1tqZXhjZWwuY3VycmVudC5lZGl0aW9uWzJdXS50eXBlID09ICdkcm9wZG93bicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5vcHRpb25zLmNvbHVtbnNbamV4Y2VsLmN1cnJlbnQuZWRpdGlvblsyXV0udHlwZSA9PSAnYXV0b2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWx0IGVudGVyIC0+IGRvIG5vdCBjbG9zZSBlZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoamV4Y2VsLmN1cnJlbnQub3B0aW9ucy53b3JkV3JhcCA9PSB0cnVlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuY29sdW1uc1tqZXhjZWwuY3VycmVudC5lZGl0aW9uWzJdXS53b3JkV3JhcCA9PSB0cnVlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuZGF0YVtqZXhjZWwuY3VycmVudC5lZGl0aW9uWzNdXVtqZXhjZWwuY3VycmVudC5lZGl0aW9uWzJdXS5sZW5ndGggPiAyMDApICYmIGUuYWx0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIG5ldyBsaW5lIHRvIHRoZSBlZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdG9yVGV4dGFyZWEgPSBqZXhjZWwuY3VycmVudC5lZGl0aW9uWzBdLmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0b3JWYWx1ZSA9IGpleGNlbC5jdXJyZW50LmVkaXRpb25bMF0uY2hpbGRyZW5bMF0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRvckluZGV4T2YgPSBlZGl0b3JUZXh0YXJlYS5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3JWYWx1ZSA9IGVkaXRvclZhbHVlLnNsaWNlKDAsIGVkaXRvckluZGV4T2YpICsgXCJcXG5cIiArIGVkaXRvclZhbHVlLnNsaWNlKGVkaXRvckluZGV4T2YpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvclRleHRhcmVhLnZhbHVlID0gZWRpdG9yVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yVGV4dGFyZWEuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3JUZXh0YXJlYS5zZWxlY3Rpb25TdGFydCA9IGVkaXRvckluZGV4T2YgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvclRleHRhcmVhLnNlbGVjdGlvbkVuZCA9IGVkaXRvckluZGV4T2YgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5lZGl0aW9uWzBdLmNoaWxkcmVuWzBdLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRhYlxuICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5jb2x1bW5zW2pleGNlbC5jdXJyZW50LmVkaXRpb25bMl1dLnR5cGUgPT0gJ2NhbGVuZGFyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY2xvc2VFZGl0b3IoamV4Y2VsLmN1cnJlbnQuZWRpdGlvblswXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5lZGl0aW9uWzBdLmNoaWxkcmVuWzBdLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmICghIGpleGNlbC5jdXJyZW50LmVkaXRpb24gJiYgamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRDZWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGljaCBrZXlcbiAgICAgICAgICAgICAgICBpZiAoZS53aGljaCA9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5sZWZ0KGUuc2hpZnRLZXksIGUuY3RybEtleSk7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT0gMzkpIHtcbiAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQucmlnaHQoZS5zaGlmdEtleSwgZS5jdHJsS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSAzOCkge1xuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC51cChlLnNoaWZ0S2V5LCBlLmN0cmxLZXkpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmRvd24oZS5zaGlmdEtleSwgZS5jdHJsS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSAzNikge1xuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5maXJzdChlLnNoaWZ0S2V5LCBlLmN0cmxLZXkpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IDM1KSB7XG4gICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50Lmxhc3QoZS5zaGlmdEtleSwgZS5jdHJsS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5lZGl0YWJsZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5zZXRDaGVja1JhZGlvVmFsdWUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IDQ2KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5lZGl0YWJsZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5hbGxvd0RlbGV0ZVJvdyA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMudGV4dC5hcmVZb3VTdXJlVG9EZWxldGVUaGVTZWxlY3RlZFJvd3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5kZWxldGVSb3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5hbGxvd0RlbGV0ZUNvbHVtbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMudGV4dC5hcmVZb3VTdXJlVG9EZWxldGVUaGVTZWxlY3RlZENvbHVtbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5kZWxldGVDb2x1bW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hhbmdlIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuc2V0VmFsdWUoamV4Y2VsLmN1cnJlbnQuaGlnaGxpZ2h0ZWQsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIGN1cnNvclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5vcHRpb25zLmFsbG93SW5zZXJ0Um93ID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5hbGxvd01hbnVhbEluc2VydFJvdyA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5zZWxlY3RlZENlbGxbMV0gPT0gamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5kYXRhLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldyByZWNvcmQgaW4gY2FzZSBzZWxlY3RlZENlbGwgaW4gdGhlIGxhc3Qgcm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5pbnNlcnRSb3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmRvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGFiXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5sZWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5hbGxvd0luc2VydENvbHVtbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuYWxsb3dNYW51YWxJbnNlcnRDb2x1bW4gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRDZWxsWzBdID09IGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuZGF0YVswXS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXcgcmVjb3JkIGluIGNhc2Ugc2VsZWN0ZWRDZWxsIGluIHRoZSBsYXN0IGNvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuaW5zZXJ0Q29sdW1uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5yaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmICEgZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gNjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDdHJsICsgQVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnNlbGVjdEFsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSA4Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN0cmwgKyBTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuZG93bmxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT0gODkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDdHJsICsgWVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnJlZG8oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT0gOTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDdHJsICsgWlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnVuZG8oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT0gNjcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDdHJsICsgQ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmNvcHkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IDY3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3RybCArIENcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5jb3B5KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSA4OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN0cmwgKyBYXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuZWRpdGFibGUgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3V0Q29udHJvbHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY29weUNvbnRyb2xzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSA4Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN0cmwgKyBWXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLnBhc3RlQ29udHJvbHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5zZWxlY3RlZENlbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5lZGl0YWJsZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3dJZCA9IGpleGNlbC5jdXJyZW50LnNlbGVjdGVkQ2VsbFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbklkID0gamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRDZWxsWzBdO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBpcyBub3QgcmVhZG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuY29sdW1uc1tjb2x1bW5JZF0udHlwZSAhPSAncmVhZG9ubHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGFyYWN0ZXJzIGFibGUgdG8gc3RhcnQgYSBlZGl0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5jb2x1bW5zW2NvbHVtbklkXS50eXBlID09ICdjaGVja2JveCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5jb2x1bW5zW2NvbHVtbklkXS50eXBlID09ICdyYWRpbycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IGVkaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQub3BlbkVkaXRvcihqZXhjZWwuY3VycmVudC5yZWNvcmRzW3Jvd0lkXVtjb2x1bW5JZF0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09IDExMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IGVkaXRpb24gd2l0aCBjdXJyZW50IGNvbnRlbnQgRjJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5vcGVuRWRpdG9yKGpleGNlbC5jdXJyZW50LnJlY29yZHNbcm93SWRdW2NvbHVtbklkXSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoZS5rZXlDb2RlID09IDgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLmtleUNvZGUgPj0gNDggJiYgZS5rZXlDb2RlIDw9IDU3KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS5rZXlDb2RlID49IDk2ICYmIGUua2V5Q29kZSA8PSAxMTEpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLmtleUNvZGUgPT0gMTg3KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS5rZXlDb2RlID09IDE4OSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChTdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSkgPT0gZS5rZXkgfHwgU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpLnRvTG93ZXJDYXNlKCkgPT0gZS5rZXkudG9Mb3dlckNhc2UoKSkgJiYgamV4Y2VsLnZhbGlkTGV0dGVyKFN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlKSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZWRpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50Lm9wZW5FZGl0b3IoamV4Y2VsLmN1cnJlbnQucmVjb3Jkc1tyb3dJZF1bY29sdW1uSWRdLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGVudHJpZXMgaW4gdGhlIGNhbGVuZGFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuY29sdW1uc1tjb2x1bW5JZF0udHlwZSA9PSAnY2FsZW5kYXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnamV4Y2VsX3NlYXJjaCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwudGltZUNvbnRyb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChqZXhjZWwudGltZUNvbnRyb2wpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGpleGNlbC50aW1lQ29udHJvbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5zZWFyY2goZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBqZXhjZWwuaXNNb3VzZUFjdGlvbiA9IGZhbHNlO1xuICAgIFxuICAgIGpleGNlbC5tb3VzZURvd25Db250cm9scyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICBpZiAoZS5idXR0b25zKSB7XG4gICAgICAgICAgICB2YXIgbW91c2VCdXR0b24gPSBlLmJ1dHRvbnM7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5idXR0b24pIHtcbiAgICAgICAgICAgIHZhciBtb3VzZUJ1dHRvbiA9IGUuYnV0dG9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1vdXNlQnV0dG9uID0gZS53aGljaDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBlbGVtZW50c1xuICAgICAgICB2YXIgamV4Y2VsVGFibGUgPSBqZXhjZWwuZ2V0RWxlbWVudChlLnRhcmdldCk7XG5cbiAgICAgICAgaWYgKGpleGNlbFRhYmxlWzBdKSB7XG4gICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQgIT0gamV4Y2VsVGFibGVbMF0uamV4Y2VsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LmVkaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY2xvc2VFZGl0b3IoamV4Y2VsLmN1cnJlbnQuZWRpdGlvblswXSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5yZXNldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudCA9IGpleGNlbFRhYmxlWzBdLmpleGNlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LmVkaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5jbG9zZUVkaXRvcihqZXhjZWwuY3VycmVudC5lZGl0aW9uWzBdLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnJlc2V0U2VsZWN0aW9uKHRydWUpO1xuICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQgJiYgbW91c2VCdXR0b24gPT0gMSkge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnamV4Y2VsX3NlbGVjdGFsbCcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnNlbGVjdEFsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqZXhjZWxfY29ybmVyJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5lZGl0YWJsZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnNlbGVjdGVkQ29ybmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEhlYWRlciBmb3VuZFxuICAgICAgICAgICAgICAgIGlmIChqZXhjZWxUYWJsZVsxXSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW5JZCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS14Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW5JZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGN1cnNvclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5vcHRpb25zLmNvbHVtblJlc2l6ZSA9PSB0cnVlICYmIGluZm8ud2lkdGggLSBlLm9mZnNldFggPCA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzaXplIGhlbHBlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnJlc2l6aW5nID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3VzZVBvc2l0aW9uOiBlLnBhZ2VYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaW5mby53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJvcmRlciBpbmRpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuaGVhZGVyc1tjb2x1bW5JZF0uY2xhc3NMaXN0LmFkZCgncmVzaXppbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGpleGNlbC5jdXJyZW50LnJlY29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LnJlY29yZHNbal1bY29sdW1uSWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5yZWNvcmRzW2pdW2NvbHVtbklkXS5jbGFzc0xpc3QuYWRkKCdyZXNpemluZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChqZXhjZWwuY3VycmVudC5vcHRpb25zLmNvbHVtbkRyYWcgPT0gdHJ1ZSAmJiBpbmZvLmhlaWdodCAtIGUub2Zmc2V0WSA8IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuaXNDb2xNZXJnZWQoY29sdW1uSWQpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdKRVhDRUw6IFRoaXMgY29sdW1uIGlzIHBhcnQgb2YgYSBtZXJnZWQgY2VsbC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQucmVzZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRHJhZyBoZWxwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuZHJhZ2dpbmcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjpjb2x1bW5JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOmNvbHVtbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCb3JkZXIgaW5kaWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5oZWFkZXJzW2NvbHVtbklkXS5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGpleGNlbC5jdXJyZW50LnJlY29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5yZWNvcmRzW2pdW2NvbHVtbklkXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnJlY29yZHNbal1bY29sdW1uSWRdLmNsYXNzTGlzdC5hZGQoJ2RyYWdnaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5zZWxlY3RlZEhlYWRlciAmJiAoZS5zaGlmdEtleSB8fCBlLmN0cmxLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRIZWFkZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gY29sdW1uSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlc3MgdG8gcmVuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5zZWxlY3RlZEhlYWRlciA9PSBjb2x1bW5JZCAmJiBqZXhjZWwuY3VycmVudC5vcHRpb25zLmFsbG93UmVuYW1lQ29sdW1uID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC50aW1lQ29udHJvbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuc2V0SGVhZGVyKGNvbHVtbklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDgwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiB3aGljaCBoZWFkZXIgd2FzIHNlbGVjdGVkIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnNlbGVjdGVkSGVhZGVyID0gY29sdW1uSWQ7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzZWxlY3Rpb24gc2luZ2xlIGNvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IGNvbHVtbklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGNvbHVtbklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3JkcyhvLCAwLCBkLCBqZXhjZWwuY3VycmVudC5vcHRpb25zLmRhdGEubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2pleGNlbF9uZXN0ZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2x1bW4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbHVtbicpLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMxID0gcGFyc2VJbnQoY29sdW1uWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYzIgPSBwYXJzZUludChjb2x1bW5bY29sdW1uLmxlbmd0aC0xXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjMSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMyID0gamV4Y2VsLmN1cnJlbnQub3B0aW9ucy5jb2x1bW5zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3JkcyhjMSwgMCwgYzIsIGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuZGF0YS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnNlbGVjdGVkSGVhZGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIEJvZHkgZm91bmRcbiAgICAgICAgICAgICAgICBpZiAoamV4Y2VsVGFibGVbMV0gPT0gMikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93SWQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnamV4Y2VsX3JvdycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMucm93UmVzaXplID09IHRydWUgJiYgaW5mby5oZWlnaHQgLSBlLm9mZnNldFkgPCA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzaXplIGhlbHBlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnJlc2l6aW5nID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlLnRhcmdldC5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3VzZVBvc2l0aW9uOiBlLnBhZ2VZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6IHJvd0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGluZm8uaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm9yZGVyIGluZGljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ3Jlc2l6aW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMucm93RHJhZyA9PSB0cnVlICYmIGluZm8ud2lkdGggLSBlLm9mZnNldFggPCA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LmlzUm93TWVyZ2VkKHJvd0lkKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSkVYQ0VMOiBUaGlzIHJvdyBpcyBwYXJ0IG9mIGEgbWVyZ2VkIGNlbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuc2VhcmNoID09IHRydWUgJiYgamV4Y2VsLmN1cnJlbnQucmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdKRVhDRUw6IFBsZWFzZSBjbGVhciB5b3VyIHNlYXJjaCBiZWZvcmUgcGVyZm9ybSB0aGlzIGFjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5yZXNldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEcmFnIGhlbHBlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5kcmFnZ2luZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGUudGFyZ2V0LnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6cm93SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjpyb3dJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm9yZGVyIGluZGljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LnNlbGVjdGVkUm93ICYmIChlLnNoaWZ0S2V5IHx8IGUuY3RybEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBqZXhjZWwuY3VycmVudC5zZWxlY3RlZFJvdztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSByb3dJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGhlYWRlciB3YXMgc2VsZWN0ZWQgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRSb3cgPSByb3dJZDtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHNlbGVjdGlvbiBzaW5nbGUgY29sdW1uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gcm93SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gcm93SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKDAsIG8sIGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuZGF0YVswXS5sZW5ndGggLSAxLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSmNsb3NlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqY2xvc2UnKSAmJiBlLnRhcmdldC5jbGllbnRXaWR0aCAtIGUub2Zmc2V0WCA8IDUwICYmIGUub2Zmc2V0WSA8IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY2xvc2VFZGl0b3IoamV4Y2VsLmN1cnJlbnQuZWRpdGlvblswXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnZXRDZWxsQ29vcmRzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS15Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4ICYmIHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbeCwgeV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldENlbGxDb29yZHMoZWxlbWVudC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBnZXRDZWxsQ29vcmRzKGUudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24pIHtcclxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW5JZCA9IHBvc2l0aW9uWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93SWQgPSBwb3NpdGlvblsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2UgZWRpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuZWRpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LmVkaXRpb25bMl0gIT0gY29sdW1uSWQgfHwgamV4Y2VsLmN1cnJlbnQuZWRpdGlvblszXSAhPSByb3dJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmNsb3NlRWRpdG9yKGpleGNlbC5jdXJyZW50LmVkaXRpb25bMF0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIGpleGNlbC5jdXJyZW50LmVkaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjZWxsIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKGpleGNlbC5jdXJyZW50LnNlbGVjdGVkQ2VsbFswXSwgamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRDZWxsWzFdLCBjb2x1bW5JZCwgcm93SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC51cGRhdGVTZWxlY3Rpb25Gcm9tQ29vcmRzKGNvbHVtbklkLCByb3dJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyBmdWxsIHJvdyBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5zZWxlY3RlZEhlYWRlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnNlbGVjdGVkUm93ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5zZWxlY3RlZFJvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBQYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnamV4Y2VsX3BhZ2UnKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuaW5uZXJUZXh0ID09ICc8Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQucGFnZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5pbm5lclRleHQgPT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5wYWdlKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgndGl0bGUnKSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQucGFnZShlLnRhcmdldC5pbm5lclRleHQgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5lZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgamV4Y2VsLmlzTW91c2VBY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgamV4Y2VsLmlzTW91c2VBY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgamV4Y2VsLmlzTW91c2VBY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBqZXhjZWwubW91c2VVcENvbnRyb2xzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBjZWxsIHNpemVcbiAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5yZXNpemluZykge1xuICAgICAgICAgICAgICAgIC8vIENvbHVtbnMgdG8gYmUgdXBkYXRlZFxuICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5yZXNpemluZy5jb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBOZXcgd2lkdGhcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3V2lkdGggPSBqZXhjZWwuY3VycmVudC5jb2xncm91cFtqZXhjZWwuY3VycmVudC5yZXNpemluZy5jb2x1bW5dLmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbnMgPSBqZXhjZWwuY3VycmVudC5nZXRTZWxlY3RlZENvbHVtbnMoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50V2lkdGggPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2x1bW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2lkdGgucHVzaChwYXJzZUludChqZXhjZWwuY3VycmVudC5jb2xncm91cFtjb2x1bW5zW2ldXS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2aW91cyB3aWR0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBjb2x1bW5zLmluZGV4T2YocGFyc2VJbnQoamV4Y2VsLmN1cnJlbnQucmVzaXppbmcuY29sdW1uKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRXaWR0aFtpbmRleF0gPSBqZXhjZWwuY3VycmVudC5yZXNpemluZy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuc2V0V2lkdGgoY29sdW1ucywgbmV3V2lkdGgsIGN1cnJlbnRXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuc2V0V2lkdGgoamV4Y2VsLmN1cnJlbnQucmVzaXppbmcuY29sdW1uLCBuZXdXaWR0aCwgamV4Y2VsLmN1cnJlbnQucmVzaXppbmcud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYm9yZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuaGVhZGVyc1tqZXhjZWwuY3VycmVudC5yZXNpemluZy5jb2x1bW5dLmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2l6aW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBqZXhjZWwuY3VycmVudC5yZWNvcmRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5yZWNvcmRzW2pdW2pleGNlbC5jdXJyZW50LnJlc2l6aW5nLmNvbHVtbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnJlY29yZHNbal1bamV4Y2VsLmN1cnJlbnQucmVzaXppbmcuY29sdW1uXS5jbGFzc0xpc3QucmVtb3ZlKCdyZXNpemluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBDbGFzc1xuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5yb3dzW2pleGNlbC5jdXJyZW50LnJlc2l6aW5nLnJvd10uY2hpbGRyZW5bMF0uY2xhc3NMaXN0LnJlbW92ZSgncmVzaXppbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0hlaWdodCA9IGpleGNlbC5jdXJyZW50LnJvd3NbamV4Y2VsLmN1cnJlbnQucmVzaXppbmcucm93XS5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5zZXRIZWlnaHQoamV4Y2VsLmN1cnJlbnQucmVzaXppbmcucm93LCBuZXdIZWlnaHQsIGpleGNlbC5jdXJyZW50LnJlc2l6aW5nLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBib3JkZXJcbiAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQucmVzaXppbmcuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNpemluZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXNldCByZXNpemluZyBoZWxwZXJcbiAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5yZXNpemluZyA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGpleGNlbC5jdXJyZW50LmRyYWdnaW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgZHJhZ2dpbmcgaGVscGVyXG4gICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LmRyYWdnaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5kcmFnZ2luZy5jb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbklkID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBtb3ZlIHN0eWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5oZWFkZXJzW2pleGNlbC5jdXJyZW50LmRyYWdnaW5nLmNvbHVtbl0uY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ2dpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgamV4Y2VsLmN1cnJlbnQucm93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5yZWNvcmRzW2pdW2pleGNlbC5jdXJyZW50LmRyYWdnaW5nLmNvbHVtbl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQucmVjb3Jkc1tqXVtqZXhjZWwuY3VycmVudC5kcmFnZ2luZy5jb2x1bW5dLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqZXhjZWwuY3VycmVudC5oZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuaGVhZGVyc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZy1sZWZ0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuaGVhZGVyc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZy1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuZHJhZ2dpbmcuY29sdW1uICE9IGpleGNlbC5jdXJyZW50LmRyYWdnaW5nLmRlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50Lm1vdmVDb2x1bW4oamV4Y2VsLmN1cnJlbnQuZHJhZ2dpbmcuY29sdW1uLCBqZXhjZWwuY3VycmVudC5kcmFnZ2luZy5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuZHJhZ2dpbmcuZWxlbWVudC5uZXh0U2libGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gcGFyc2VJbnQoamV4Y2VsLmN1cnJlbnQuZHJhZ2dpbmcuZWxlbWVudC5uZXh0U2libGluZy5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5kcmFnZ2luZy5yb3cgPCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uIC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBwYXJzZUludChqZXhjZWwuY3VycmVudC5kcmFnZ2luZy5lbGVtZW50LnByZXZpb3VzU2libGluZy5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuZHJhZ2dpbmcucm93ICE9IHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQubW92ZVJvdyhqZXhjZWwuY3VycmVudC5kcmFnZ2luZy5yb3csIHBvc2l0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmRyYWdnaW5nLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ2dpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5kcmFnZ2luZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDbG9zZSBhbnkgY29ybmVyIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5zZWxlY3RlZENvcm5lcikge1xuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5zZWxlY3RlZENvcm5lciA9IGZhbHNlO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBEYXRhIHRvIGJlIGNvcGllZFxuICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuc2VsZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvcHkgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY29weURhdGEoamV4Y2VsLmN1cnJlbnQuc2VsZWN0aW9uWzBdLCBqZXhjZWwuY3VycmVudC5zZWxlY3Rpb25bamV4Y2VsLmN1cnJlbnQuc2VsZWN0aW9uLmxlbmd0aCAtIDFdKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnJlbW92ZUNvcHlTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsZWFyIGFueSB0aW1lIGNvbnRyb2xcbiAgICAgICAgaWYgKGpleGNlbC50aW1lQ29udHJvbCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGpleGNlbC50aW1lQ29udHJvbCk7XG4gICAgICAgICAgICBqZXhjZWwudGltZUNvbnRyb2wgPSBudWxsO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIE1vdXNlIHVwXG4gICAgICAgIGpleGNlbC5pc01vdXNlQWN0aW9uID0gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8vIE1vdXNlIG1vdmUgY29udHJvbHNcbiAgICBqZXhjZWwubW91c2VNb3ZlQ29udHJvbHMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgaWYgKGUuYnV0dG9ucykge1xuICAgICAgICAgICAgdmFyIG1vdXNlQnV0dG9uID0gZS5idXR0b25zO1xuICAgICAgICB9IGVsc2UgaWYgKGUuYnV0dG9uKSB7XG4gICAgICAgICAgICB2YXIgbW91c2VCdXR0b24gPSBlLmJ1dHRvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBtb3VzZUJ1dHRvbiA9IGUud2hpY2g7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKCEgbW91c2VCdXR0b24pIHtcbiAgICAgICAgICAgIGpleGNlbC5pc01vdXNlQWN0aW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoamV4Y2VsLmlzTW91c2VBY3Rpb24gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIFJlc2l6aW5nIGlzIG9uZ29pbmdcbiAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQucmVzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LnJlc2l6aW5nLmNvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gZS5wYWdlWCAtIGpleGNlbC5jdXJyZW50LnJlc2l6aW5nLm1vdXNlUG9zaXRpb247XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQucmVzaXppbmcud2lkdGggKyB3aWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcFdpZHRoID0gamV4Y2VsLmN1cnJlbnQucmVzaXppbmcud2lkdGggKyB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5jb2xncm91cFtqZXhjZWwuY3VycmVudC5yZXNpemluZy5jb2x1bW5dLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0ZW1wV2lkdGgpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnVwZGF0ZUNvcm5lclBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gZS5wYWdlWSAtIGpleGNlbC5jdXJyZW50LnJlc2l6aW5nLm1vdXNlUG9zaXRpb247XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQucmVzaXppbmcuaGVpZ2h0ICsgaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wSGVpZ2h0ID0gamV4Y2VsLmN1cnJlbnQucmVzaXppbmcuaGVpZ2h0ICsgaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnJvd3NbamV4Y2VsLmN1cnJlbnQucmVzaXppbmcucm93XS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRlbXBIZWlnaHQpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnVwZGF0ZUNvcm5lclBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS15Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmN1cnNvci5zdHlsZS5jdXJzb3IgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlICYmIGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2l6YWJsZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgJiYgeCAmJiAhIHkgJiYgKHJlY3Qud2lkdGggLSAoZS5jbGllbnRYIC0gcmVjdC5sZWZ0KSA8IDYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY3Vyc29yID0gZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY3Vyc29yLnN0eWxlLmN1cnNvciA9ICdjb2wtcmVzaXplJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQgJiYgISB4ICYmIHkgJiYgKHJlY3QuaGVpZ2h0IC0gKGUuY2xpZW50WSAtIHJlY3QudG9wKSA8IDYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY3Vyc29yID0gZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY3Vyc29yLnN0eWxlLmN1cnNvciA9ICdyb3ctcmVzaXplJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnZHJhZ2dhYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCAmJiAhIHggJiYgeSAmJiAocmVjdC53aWR0aCAtIChlLmNsaWVudFggLSByZWN0LmxlZnQpIDwgNikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5jdXJzb3IgPSBlLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5jdXJzb3Iuc3R5bGUuY3Vyc29yID0gJ21vdmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldCAmJiB4ICYmICEgeSAmJiAocmVjdC5oZWlnaHQgLSAoZS5jbGllbnRZIC0gcmVjdC50b3ApIDwgNikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5jdXJzb3IgPSBlLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5jdXJzb3Iuc3R5bGUuY3Vyc29yID0gJ21vdmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGpleGNlbC5tb3VzZU92ZXJDb250cm9scyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICBpZiAoZS5idXR0b25zKSB7XG4gICAgICAgICAgICB2YXIgbW91c2VCdXR0b24gPSBlLmJ1dHRvbnM7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5idXR0b24pIHtcbiAgICAgICAgICAgIHZhciBtb3VzZUJ1dHRvbiA9IGUuYnV0dG9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1vdXNlQnV0dG9uID0gZS53aGljaDtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBpZiAoISBtb3VzZUJ1dHRvbikge1xuICAgICAgICAgICAgamV4Y2VsLmlzTW91c2VBY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQgJiYgamV4Y2VsLmlzTW91c2VBY3Rpb24gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gR2V0IGVsZW1lbnRzXG4gICAgICAgICAgICB2YXIgamV4Y2VsVGFibGUgPSBqZXhjZWwuZ2V0RWxlbWVudChlLnRhcmdldCk7XG4gICAgXG4gICAgICAgICAgICBpZiAoamV4Y2VsVGFibGVbMF0pIHtcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBjcm9zcyByZWZlcmVuY2VcbiAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQgIT0gamV4Y2VsVGFibGVbMF0uamV4Y2VsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIHZhciBjb2x1bW5JZCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS14Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHJvd0lkID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXknKTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LmRyYWdnaW5nLmNvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LmlzQ29sTWVyZ2VkKGNvbHVtbklkKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSkVYQ0VMOiBUaGlzIGNvbHVtbiBpcyBwYXJ0IG9mIGEgbWVyZ2VkIGNlbGwuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqZXhjZWwuY3VycmVudC5oZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5oZWFkZXJzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nLWxlZnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmhlYWRlcnNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ2dpbmctcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuZHJhZ2dpbmcuY29sdW1uID09IGNvbHVtbklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5kcmFnZ2luZy5kZXN0aW5hdGlvbiA9IHBhcnNlSW50KGNvbHVtbklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbGllbnRXaWR0aCAvIDIgPiBlLm9mZnNldFgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuZHJhZ2dpbmcuY29sdW1uIDwgY29sdW1uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuZHJhZ2dpbmcuZGVzdGluYXRpb24gPSBwYXJzZUludChjb2x1bW5JZCkgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmRyYWdnaW5nLmRlc3RpbmF0aW9uID0gcGFyc2VJbnQoY29sdW1uSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5oZWFkZXJzW2NvbHVtbklkXS5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZy1sZWZ0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5kcmFnZ2luZy5jb2x1bW4gPCBjb2x1bW5JZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5kcmFnZ2luZy5kZXN0aW5hdGlvbiA9IHBhcnNlSW50KGNvbHVtbklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5kcmFnZ2luZy5kZXN0aW5hdGlvbiA9IHBhcnNlSW50KGNvbHVtbklkKSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmhlYWRlcnNbY29sdW1uSWRdLmNsYXNzTGlzdC5hZGQoJ2RyYWdnaW5nLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuaXNSb3dNZXJnZWQocm93SWQpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdKRVhDRUw6IFRoaXMgcm93IGlzIHBhcnQgb2YgYSBtZXJnZWQgY2VsbC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gKGUudGFyZ2V0LmNsaWVudEhlaWdodCAvIDIgPiBlLm9mZnNldFkpID8gZS50YXJnZXQucGFyZW50Tm9kZS5uZXh0U2libGluZyA6IGUudGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoamV4Y2VsLmN1cnJlbnQuZHJhZ2dpbmcuZWxlbWVudCwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGpleGNlbC5jdXJyZW50LnJlc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGVhZGVyIGZvdW5kXG4gICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWxUYWJsZVsxXSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uSWQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRIZWFkZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBjb2x1bW5JZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3JkcyhvLCAwLCBkLCBqZXhjZWwuY3VycmVudC5vcHRpb25zLmRhdGEubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQm9keSBmb3VuZFxuICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsVGFibGVbMV0gPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnamV4Y2VsX3JvdycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LnNlbGVjdGVkUm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRSb3c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gcm93SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3JkcygwLCBvLCBqZXhjZWwuY3VycmVudC5vcHRpb25zLmRhdGFbMF0ubGVuZ3RoIC0gMSwgZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3Qgc2VsZWN0IGVkdGlvbiBpcyBpbiBwcm9ncmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIGpleGNlbC5jdXJyZW50LmVkaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbklkICYmIHJvd0lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRDb3JuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC51cGRhdGVDb3B5U2VsZWN0aW9uKGNvbHVtbklkLCByb3dJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5zZWxlY3RlZENlbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3JkcyhqZXhjZWwuY3VycmVudC5zZWxlY3RlZENlbGxbMF0sIGpleGNlbC5jdXJyZW50LnNlbGVjdGVkQ2VsbFsxXSwgY29sdW1uSWQsIHJvd0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8gQ2xlYXIgYW55IHRpbWUgY29udHJvbFxuICAgICAgICBpZiAoamV4Y2VsLnRpbWVDb250cm9sKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoamV4Y2VsLnRpbWVDb250cm9sKTtcbiAgICAgICAgICAgIGpleGNlbC50aW1lQ29udHJvbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogRG91YmxlIGNsaWNrIGV2ZW50IGhhbmRsZXI6IGNvbnRyb2xzIHRoZSBkb3VibGUgY2xpY2sgaW4gdGhlIGNvcm5lciwgY2VsbCBlZGl0aW9uIG9yIGNvbHVtbiByZS1vcmRlcmluZy5cbiAgICAgKi9cbiAgICBqZXhjZWwuZG91YmxlQ2xpY2tDb250cm9scyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gSmV4Y2VsIGlzIHNlbGVjdGVkXG4gICAgICAgIGlmIChqZXhjZWwuY3VycmVudCkge1xuICAgICAgICAgICAgLy8gQ29ybmVyIGFjdGlvblxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnamV4Y2VsX2Nvcm5lcicpKSB7XG4gICAgICAgICAgICAgICAgLy8gQW55IHNlbGVjdGVkIGNlbGxzXG4gICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LmhpZ2hsaWdodGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29weSBmcm9tIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgxID0gamV4Y2VsLmN1cnJlbnQuaGlnaGxpZ2h0ZWRbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkxID0gcGFyc2VJbnQoamV4Y2VsLmN1cnJlbnQuaGlnaGxpZ2h0ZWRbamV4Y2VsLmN1cnJlbnQuaGlnaGxpZ2h0ZWQubGVuZ3RoIC0gMV0uZ2V0QXR0cmlidXRlKCdkYXRhLXknKSkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAvLyBVbnRpbCB0aGlzXG4gICAgICAgICAgICAgICAgICAgIHZhciB4MiA9IGpleGNlbC5jdXJyZW50LmhpZ2hsaWdodGVkW2pleGNlbC5jdXJyZW50LmhpZ2hsaWdodGVkLmxlbmd0aCAtIDFdLmdldEF0dHJpYnV0ZSgnZGF0YS14Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5MiA9IGpleGNlbC5jdXJyZW50LnJlY29yZHMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIGNvcHlcbiAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY29weURhdGEoamV4Y2VsLmN1cnJlbnQucmVjb3Jkc1t5MV1beDFdLCBqZXhjZWwuY3VycmVudC5yZWNvcmRzW3kyXVt4Ml0pO1xuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pleGNlbF9jb2x1bW5fZmlsdGVyJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbHVtblxyXG4gICAgICAgICAgICAgICAgdmFyIGNvbHVtbklkID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcclxuICAgICAgICAgICAgICAgIC8vIE9wZW4gZmlsdGVyXHJcbiAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5vcGVuRmlsdGVyKGNvbHVtbklkKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0YWJsZVxuICAgICAgICAgICAgICAgIHZhciBqZXhjZWxUYWJsZSA9IGpleGNlbC5nZXRFbGVtZW50KGUudGFyZ2V0KTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBEb3VibGUgY2xpY2sgb3ZlciBoZWFkZXJcbiAgICAgICAgICAgICAgICBpZiAoamV4Y2VsVGFibGVbMV0gPT0gMSAmJiBqZXhjZWwuY3VycmVudC5vcHRpb25zLmNvbHVtblNvcnRpbmcgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB2YWxpZCBjb2x1bW4gaGVhZGVyIGNvb3Jkc1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uSWQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50Lm9yZGVyQnkoY29sdW1uSWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIC8vIERvdWJsZSBjbGljayBvdmVyIGJvZHlcbiAgICAgICAgICAgICAgICBpZiAoamV4Y2VsVGFibGVbMV0gPT0gMiAmJiBqZXhjZWwuY3VycmVudC5vcHRpb25zLmVkaXRhYmxlID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgamV4Y2VsLmN1cnJlbnQuZWRpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldENlbGxDb29yZHMgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS15Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4ICYmIHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldENlbGxDb29yZHMoZWxlbWVudC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZWxsID0gZ2V0Q2VsbENvb3JkcyhlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbCAmJiBjZWxsLmNsYXNzTGlzdC5jb250YWlucygnaGlnaGxpZ2h0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50Lm9wZW5FZGl0b3IoY2VsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBqZXhjZWwuY29weUNvbnRyb2xzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoamV4Y2VsLmN1cnJlbnQgJiYgamV4Y2VsLmNvcHlDb250cm9scy5lbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAoISBqZXhjZWwuY3VycmVudC5lZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQuY29weSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBqZXhjZWwuY3V0Q29udHJvbHMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChqZXhjZWwuY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKCEgamV4Y2VsLmN1cnJlbnQuZWRpdGlvbikge1xuICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmNvcHkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuZWRpdGFibGUgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5zZXRWYWx1ZShqZXhjZWwuY3VycmVudC5oaWdobGlnaHRlZCwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBqZXhjZWwucGFzdGVDb250cm9scyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50ICYmIGpleGNlbC5jdXJyZW50LnNlbGVjdGVkQ2VsbCkge1xuICAgICAgICAgICAgaWYgKCEgamV4Y2VsLmN1cnJlbnQuZWRpdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudC5vcHRpb25zLmVkaXRhYmxlID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgJiYgZS5jbGlwYm9hcmREYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5wYXN0ZShqZXhjZWwuY3VycmVudC5zZWxlY3RlZENlbGxbMF0sIGpleGNlbC5jdXJyZW50LnNlbGVjdGVkQ2VsbFsxXSwgZS5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmNsaXBib2FyZERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnBhc3RlKGpleGNlbC5jdXJyZW50LnNlbGVjdGVkQ2VsbFswXSwgamV4Y2VsLmN1cnJlbnQuc2VsZWN0ZWRDZWxsWzFdLCB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0JykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGpleGNlbC5jb250ZXh0TWVudUNvbnRyb2xzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIGlmIChcImJ1dHRvbnNcIiBpbiBlKSB7XG4gICAgICAgICAgICB2YXIgbW91c2VCdXR0b24gPSBlLmJ1dHRvbnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbW91c2VCdXR0b24gPSBlLndoaWNoIHx8IGUuYnV0dG9uO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmIChqZXhjZWwuY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50LmVkaXRpb24pIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuY29udGV4dE1lbnUpIHtcbiAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5jb250ZXh0TWVudS5jb250ZXh0bWVudS5jbG9zZSgpO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS14Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXknKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHggfHwgeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGFibGUgZm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuY29udGV4dE1lbnUoamV4Y2VsLmN1cnJlbnQsIHgsIHksIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGlkIGlzIGRlcGVuZGluZyBvbiBoZWFkZXIgYW5kIGJvZHlcbiAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LmNvbnRleHRNZW51LmNvbnRleHRtZW51Lm9wZW4oZSwgaXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgdGhlIHJlYWwgb25lXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBqZXhjZWwudG91Y2hTdGFydENvbnRyb2xzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgamV4Y2VsVGFibGUgPSBqZXhjZWwuZ2V0RWxlbWVudChlLnRhcmdldCk7XG4gICAgXG4gICAgICAgIGlmIChqZXhjZWxUYWJsZVswXSkge1xuICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50ICE9IGpleGNlbFRhYmxlWzBdLmpleGNlbCkge1xuICAgICAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudC5yZXNldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBqZXhjZWwuY3VycmVudCA9IGpleGNlbFRhYmxlWzBdLmpleGNlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChqZXhjZWwuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50LnJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmIChqZXhjZWwuY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKCEgamV4Y2VsLmN1cnJlbnQuZWRpdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBjb2x1bW5JZCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS14Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHJvd0lkID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXknKTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uSWQgJiYgcm93SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgamV4Y2VsLmN1cnJlbnQudXBkYXRlU2VsZWN0aW9uRnJvbUNvb3Jkcyhjb2x1bW5JZCwgcm93SWQpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBqZXhjZWwudGltZUNvbnRyb2wgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIHRlbXBvcmFyeSByZWZlcmVuY2UgdG8gdGhlIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpleGNlbC5jdXJyZW50Lm9wdGlvbnMuY29sdW1uc1tjb2x1bW5JZF0udHlwZSA9PSAnY29sb3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwudG1wRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqZXhjZWwudG1wRWxlbWVudCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpleGNlbC5jdXJyZW50Lm9wZW5FZGl0b3IoZS50YXJnZXQsIGZhbHNlLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgamV4Y2VsLnRvdWNoRW5kQ29udHJvbHMgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgYW55IHRpbWUgY29udHJvbFxuICAgICAgICBpZiAoamV4Y2VsLnRpbWVDb250cm9sKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoamV4Y2VsLnRpbWVDb250cm9sKTtcbiAgICAgICAgICAgIGpleGNlbC50aW1lQ29udHJvbCA9IG51bGw7XHJcbiAgICAgICAgICAgIC8vIEVsZW1lbnRcclxuICAgICAgICAgICAgaWYgKGpleGNlbC50bXBFbGVtZW50ICYmIGpleGNlbC50bXBFbGVtZW50LmNoaWxkcmVuWzBdLnRhZ05hbWUgPT0gJ0lOUFVUJykge1xyXG4gICAgICAgICAgICAgICAgamV4Y2VsLnRtcEVsZW1lbnQuY2hpbGRyZW5bMF0uZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBqZXhjZWwudG1wRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogSmV4Y2VsIGV4dGVuc2lvbnNcclxuICAgICAqL1xyXG4gICAgXHJcbiAgICBqZXhjZWwudGFicyA9IGZ1bmN0aW9uKHRhYnMsIHJlc3VsdCkge1xyXG4gICAgICAgIC8vIENyZWF0ZSB0YWIgY29udGFpbmVyXHJcbiAgICAgICAgaWYgKCEgdGFicy5jbGFzc0xpc3QuY29udGFpbnMoJ2pleGNlbF90YWJzJykpIHtcclxuICAgICAgICAgICAgdGFicy5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgdGFicy5jbGFzc0xpc3QuYWRkKCdqZXhjZWxfdGFicycpXHJcbiAgICAgICAgICAgIHRhYnMuamV4Y2VsID0gW107XHJcblxyXG4gICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHZhciBoZWFkZXJzID0gdGFicy5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gdGFicy5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBoZWFkZXJzID0gdGFicy5jaGlsZHJlblswXTtcclxuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSB0YWJzLmNoaWxkcmVuWzFdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHNwcmVhZHNoZWV0ID0gW11cclxuICAgICAgICB2YXIgbGluayA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIFNwcmVhZHNoZWV0IGNvbnRhaW5lclxyXG4gICAgICAgICAgICBzcHJlYWRzaGVldFtpXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBzcHJlYWRzaGVldFtpXS5jbGFzc0xpc3QuYWRkKCdqZXhjZWxfdGFiJyk7XHJcbiAgICAgICAgICAgIHZhciB3b3Jrc2hlZXQgPSBqZXhjZWwoc3ByZWFkc2hlZXRbaV0sIHJlc3VsdFtpXSk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoc3ByZWFkc2hlZXRbaV0pO1xyXG4gICAgICAgICAgICB0YWJzLmpleGNlbC5wdXNoKHdvcmtzaGVldCk7XHJcblxyXG4gICAgICAgICAgICAvLyBUYWIgbGlua1xyXG4gICAgICAgICAgICBsaW5rW2ldID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGxpbmtbaV0uY2xhc3NMaXN0LmFkZCgnamV4Y2VsX3RhYl9saW5rJyk7XHJcbiAgICAgICAgICAgIGxpbmtbaV0uc2V0QXR0cmlidXRlKCdkYXRhLXNwcmVhZHNoZWV0JywgdGFicy5qZXhjZWwubGVuZ3RoLTEpO1xyXG4gICAgICAgICAgICBsaW5rW2ldLmlubmVySFRNTCA9IHJlc3VsdFtpXS5zaGVldE5hbWU7XHJcbiAgICAgICAgICAgIGxpbmtbaV0ub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBoZWFkZXJzLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycy5jaGlsZHJlbltqXS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuY2hpbGRyZW5bal0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3ByZWFkc2hlZXQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQuY2hpbGRyZW5baV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBoZWFkZXJzLmFwcGVuZENoaWxkKGxpbmtbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmlyc3QgdGFiXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBoZWFkZXJzLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGhlYWRlcnMuY2hpbGRyZW5bal0uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgY29udGVudC5jaGlsZHJlbltqXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBoZWFkZXJzLmNoaWxkcmVuW2hlYWRlcnMuY2hpbGRyZW4ubGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgICAgICBjb250ZW50LmNoaWxkcmVuW2hlYWRlcnMuY2hpbGRyZW4ubGVuZ3RoIC0gMV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcGFiaWxpdHkgdG8gb2xkZXIgdmVyc2lvbnNcclxuICAgIGpleGNlbC5jcmVhdGVUYWJzID0gamV4Y2VsLnRhYnM7XHJcblxyXG4gICAgamV4Y2VsLmZyb21TcHJlYWRzaGVldCA9IGZ1bmN0aW9uKGZpbGUsIF9fY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgY29udmVydCA9IGZ1bmN0aW9uKHdvcmtib29rKSB7XHJcbiAgICAgICAgICAgIHZhciBzcHJlYWRzaGVldHMgPSBbXTtcclxuICAgICAgICAgICAgd29ya2Jvb2suU2hlZXROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKHNoZWV0TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwcmVhZHNoZWV0ID0ge307XHJcbiAgICAgICAgICAgICAgICBzcHJlYWRzaGVldC5yb3dzID0gW107XHJcbiAgICAgICAgICAgICAgICBzcHJlYWRzaGVldC5jb2x1bW5zID0gW107XHJcbiAgICAgICAgICAgICAgICBzcHJlYWRzaGVldC5kYXRhID0gW107XHJcbiAgICAgICAgICAgICAgICBzcHJlYWRzaGVldC5zdHlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgc3ByZWFkc2hlZXQuc2hlZXROYW1lID0gc2hlZXROYW1lO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBDb2x1bW4gd2lkdGhzXHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHdvcmtib29rLlNoZWV0c1tzaGVldE5hbWVdWychY29scyddO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRlbXAgJiYgdGVtcC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByZWFkc2hlZXQuY29sdW1uc1tpXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFtpXSAmJiB0ZW1wW2ldLndweCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByZWFkc2hlZXQuY29sdW1uc1tpXS53aWR0aCA9IHRlbXBbaV0ud3B4ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBSb3dzIGhlaWdodHNcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gd29ya2Jvb2suU2hlZXRzW3NoZWV0TmFtZV1bJyFyb3dzJ107XHJcbiAgICAgICAgICAgICAgICBpZiAodGVtcCAmJiB0ZW1wLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcFtpXSAmJiB0ZW1wW2ldLmhweCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByZWFkc2hlZXQucm93c1tpXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByZWFkc2hlZXQucm93c1tpXS5oZWlnaHQgPSB0ZW1wW2ldLmhweCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBNZXJnZSBjZWxsc1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSB3b3JrYm9vay5TaGVldHNbc2hlZXROYW1lXVsnIW1lcmdlcyddO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRlbXAgJiYgdGVtcC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByZWFkc2hlZXQubWVyZ2VDZWxscyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeDEgPSB0ZW1wW2ldLnMuYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHkxID0gdGVtcFtpXS5zLnI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4MiA9IHRlbXBbaV0uZS5jO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeTIgPSB0ZW1wW2ldLmUucjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGpleGNlbC5nZXRDb2x1bW5OYW1lRnJvbUlkKFt4MSx5MV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJlYWRzaGVldC5tZXJnZUNlbGxzW2tleV0gPSBbIHgyLXgxKzEsIHkyLXkxKzEgXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBEYXRhIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgdmFyIG1heF94ID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBtYXhfeSA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IE9iamVjdC5rZXlzKHdvcmtib29rLlNoZWV0c1tzaGVldE5hbWVdKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wW2ldLnN1YnN0cigwLDEpICE9ICchJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IHdvcmtib29rLlNoZWV0c1tzaGVldE5hbWVdW3RlbXBbaV1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lKHRlbXBbaV0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISBzcHJlYWRzaGVldC5kYXRhW2luZm9bMV1dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJlYWRzaGVldC5kYXRhW2luZm9bMV1dID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByZWFkc2hlZXQuZGF0YVtpbmZvWzFdXVtpbmZvWzBdXSA9IGNlbGwuZiA/ICc9JyArIGNlbGwuZiA6IGNlbGwudztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heF94IDwgaW5mb1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4X3ggPSBpbmZvWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXhfeSA8IGluZm9bMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heF95ID0gaW5mb1sxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdHlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbC5zdHlsZSAmJiBPYmplY3Qua2V5cyhjZWxsLnN0eWxlKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJlYWRzaGVldC5zdHlsZVt0ZW1wW2ldXSA9IGNlbGwuc3R5bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwucyAmJiBjZWxsLnMuZmdDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwcmVhZHNoZWV0LnN0eWxlW3RlbXBbaV1dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByZWFkc2hlZXQuc3R5bGVbdGVtcFtpXV0gKz0gJzsnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByZWFkc2hlZXQuc3R5bGVbdGVtcFtpXV0gKz0gJ2JhY2tncm91bmQtY29sb3I6IycgKyBjZWxsLnMuZmdDb2xvci5yZ2I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbnVtQ29sdW1ucyA9IHNwcmVhZHNoZWV0LmNvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8PSBtYXhfeTsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbWF4X3g7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISBzcHJlYWRzaGVldC5kYXRhW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJlYWRzaGVldC5kYXRhW2pdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgc3ByZWFkc2hlZXQuZGF0YVtqXVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bUNvbHVtbnMgPCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByZWFkc2hlZXQuZGF0YVtqXVtpXSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3ByZWFkc2hlZXRzLnB1c2goc3ByZWFkc2hlZXQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gc3ByZWFkc2hlZXRzO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHZhciBvUmVxO1xyXG4gICAgICAgIG9SZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICBvUmVxLm9wZW4oXCJHRVRcIiwgZmlsZSwgdHJ1ZSk7XHJcbiAgICBcclxuICAgICAgICBpZih0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgb1JlcS5yZXNwb25zZVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XHJcbiAgICAgICAgICAgIG9SZXEub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5YnVmZmVyID0gb1JlcS5yZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHdiID0gWExTWC5yZWFkKGRhdGEsIHt0eXBlOlwiYXJyYXlcIiwgY2VsbEZvcm11bGE6dHJ1ZSwgY2VsbFN0eWxlczp0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgX19jYWxsYmFjayhjb252ZXJ0KHdiKSlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvUmVxLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHQtQ2hhcnNldFwiLCBcIngtdXNlci1kZWZpbmVkXCIpOyAgXHJcbiAgICAgICAgICAgIG9SZXEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7IGlmKG9SZXEucmVhZHlTdGF0ZSA9PSA0ICYmIG9SZXEuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZmID0gY29udmVydFJlc3BvbnNlQm9keVRvVGV4dChvUmVxLnJlc3BvbnNlQm9keSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2IgPSBYTFNYLnJlYWQoZmYsIHt0eXBlOlwiYmluYXJ5XCIsIGNlbGxGb3JtdWxhOnRydWUsIGNlbGxTdHlsZXM6dHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgIF9fY2FsbGJhY2soY29udmVydCh3YikpXHJcbiAgICAgICAgICAgIH19O1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIG9SZXEuc2VuZCgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFZhbGlkIGludGVybmF0aW9uYWwgbGV0dGVyXHJcbiAgICAgKi9cclxuICAgIFxyXG4gICAgamV4Y2VsLnZhbGlkTGV0dGVyID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB2YXIgcmVnZXggPSAvKFtcXHUwMDQxLVxcdTAwNUFcXHUwMDYxLVxcdTAwN0FcXHUwMEFBXFx1MDBCNVxcdTAwQkFcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyQzFcXHUwMkM2LVxcdTAyRDFcXHUwMkUwLVxcdTAyRTRcXHUwMkVDXFx1MDJFRVxcdTAzNzAtXFx1MDM3NFxcdTAzNzZcXHUwMzc3XFx1MDM3QS1cXHUwMzdEXFx1MDM4NlxcdTAzODgtXFx1MDM4QVxcdTAzOENcXHUwMzhFLVxcdTAzQTFcXHUwM0EzLVxcdTAzRjVcXHUwM0Y3LVxcdTA0ODFcXHUwNDhBLVxcdTA1MjdcXHUwNTMxLVxcdTA1NTZcXHUwNTU5XFx1MDU2MS1cXHUwNTg3XFx1MDVEMC1cXHUwNUVBXFx1MDVGMC1cXHUwNUYyXFx1MDYyMC1cXHUwNjRBXFx1MDY2RVxcdTA2NkZcXHUwNjcxLVxcdTA2RDNcXHUwNkQ1XFx1MDZFNVxcdTA2RTZcXHUwNkVFXFx1MDZFRlxcdTA2RkEtXFx1MDZGQ1xcdTA2RkZcXHUwNzEwXFx1MDcxMi1cXHUwNzJGXFx1MDc0RC1cXHUwN0E1XFx1MDdCMVxcdTA3Q0EtXFx1MDdFQVxcdTA3RjRcXHUwN0Y1XFx1MDdGQVxcdTA4MDAtXFx1MDgxNVxcdTA4MUFcXHUwODI0XFx1MDgyOFxcdTA4NDAtXFx1MDg1OFxcdTA4QTBcXHUwOEEyLVxcdTA4QUNcXHUwOTA0LVxcdTA5MzlcXHUwOTNEXFx1MDk1MFxcdTA5NTgtXFx1MDk2MVxcdTA5NzEtXFx1MDk3N1xcdTA5NzktXFx1MDk3RlxcdTA5ODUtXFx1MDk4Q1xcdTA5OEZcXHUwOTkwXFx1MDk5My1cXHUwOUE4XFx1MDlBQS1cXHUwOUIwXFx1MDlCMlxcdTA5QjYtXFx1MDlCOVxcdTA5QkRcXHUwOUNFXFx1MDlEQ1xcdTA5RERcXHUwOURGLVxcdTA5RTFcXHUwOUYwXFx1MDlGMVxcdTBBMDUtXFx1MEEwQVxcdTBBMEZcXHUwQTEwXFx1MEExMy1cXHUwQTI4XFx1MEEyQS1cXHUwQTMwXFx1MEEzMlxcdTBBMzNcXHUwQTM1XFx1MEEzNlxcdTBBMzhcXHUwQTM5XFx1MEE1OS1cXHUwQTVDXFx1MEE1RVxcdTBBNzItXFx1MEE3NFxcdTBBODUtXFx1MEE4RFxcdTBBOEYtXFx1MEE5MVxcdTBBOTMtXFx1MEFBOFxcdTBBQUEtXFx1MEFCMFxcdTBBQjJcXHUwQUIzXFx1MEFCNS1cXHUwQUI5XFx1MEFCRFxcdTBBRDBcXHUwQUUwXFx1MEFFMVxcdTBCMDUtXFx1MEIwQ1xcdTBCMEZcXHUwQjEwXFx1MEIxMy1cXHUwQjI4XFx1MEIyQS1cXHUwQjMwXFx1MEIzMlxcdTBCMzNcXHUwQjM1LVxcdTBCMzlcXHUwQjNEXFx1MEI1Q1xcdTBCNURcXHUwQjVGLVxcdTBCNjFcXHUwQjcxXFx1MEI4M1xcdTBCODUtXFx1MEI4QVxcdTBCOEUtXFx1MEI5MFxcdTBCOTItXFx1MEI5NVxcdTBCOTlcXHUwQjlBXFx1MEI5Q1xcdTBCOUVcXHUwQjlGXFx1MEJBM1xcdTBCQTRcXHUwQkE4LVxcdTBCQUFcXHUwQkFFLVxcdTBCQjlcXHUwQkQwXFx1MEMwNS1cXHUwQzBDXFx1MEMwRS1cXHUwQzEwXFx1MEMxMi1cXHUwQzI4XFx1MEMyQS1cXHUwQzMzXFx1MEMzNS1cXHUwQzM5XFx1MEMzRFxcdTBDNThcXHUwQzU5XFx1MEM2MFxcdTBDNjFcXHUwQzg1LVxcdTBDOENcXHUwQzhFLVxcdTBDOTBcXHUwQzkyLVxcdTBDQThcXHUwQ0FBLVxcdTBDQjNcXHUwQ0I1LVxcdTBDQjlcXHUwQ0JEXFx1MENERVxcdTBDRTBcXHUwQ0UxXFx1MENGMVxcdTBDRjJcXHUwRDA1LVxcdTBEMENcXHUwRDBFLVxcdTBEMTBcXHUwRDEyLVxcdTBEM0FcXHUwRDNEXFx1MEQ0RVxcdTBENjBcXHUwRDYxXFx1MEQ3QS1cXHUwRDdGXFx1MEQ4NS1cXHUwRDk2XFx1MEQ5QS1cXHUwREIxXFx1MERCMy1cXHUwREJCXFx1MERCRFxcdTBEQzAtXFx1MERDNlxcdTBFMDEtXFx1MEUzMFxcdTBFMzJcXHUwRTMzXFx1MEU0MC1cXHUwRTQ2XFx1MEU4MVxcdTBFODJcXHUwRTg0XFx1MEU4N1xcdTBFODhcXHUwRThBXFx1MEU4RFxcdTBFOTQtXFx1MEU5N1xcdTBFOTktXFx1MEU5RlxcdTBFQTEtXFx1MEVBM1xcdTBFQTVcXHUwRUE3XFx1MEVBQVxcdTBFQUJcXHUwRUFELVxcdTBFQjBcXHUwRUIyXFx1MEVCM1xcdTBFQkRcXHUwRUMwLVxcdTBFQzRcXHUwRUM2XFx1MEVEQy1cXHUwRURGXFx1MEYwMFxcdTBGNDAtXFx1MEY0N1xcdTBGNDktXFx1MEY2Q1xcdTBGODgtXFx1MEY4Q1xcdTEwMDAtXFx1MTAyQVxcdTEwM0ZcXHUxMDUwLVxcdTEwNTVcXHUxMDVBLVxcdTEwNURcXHUxMDYxXFx1MTA2NVxcdTEwNjZcXHUxMDZFLVxcdTEwNzBcXHUxMDc1LVxcdTEwODFcXHUxMDhFXFx1MTBBMC1cXHUxMEM1XFx1MTBDN1xcdTEwQ0RcXHUxMEQwLVxcdTEwRkFcXHUxMEZDLVxcdTEyNDhcXHUxMjRBLVxcdTEyNERcXHUxMjUwLVxcdTEyNTZcXHUxMjU4XFx1MTI1QS1cXHUxMjVEXFx1MTI2MC1cXHUxMjg4XFx1MTI4QS1cXHUxMjhEXFx1MTI5MC1cXHUxMkIwXFx1MTJCMi1cXHUxMkI1XFx1MTJCOC1cXHUxMkJFXFx1MTJDMFxcdTEyQzItXFx1MTJDNVxcdTEyQzgtXFx1MTJENlxcdTEyRDgtXFx1MTMxMFxcdTEzMTItXFx1MTMxNVxcdTEzMTgtXFx1MTM1QVxcdTEzODAtXFx1MTM4RlxcdTEzQTAtXFx1MTNGNFxcdTE0MDEtXFx1MTY2Q1xcdTE2NkYtXFx1MTY3RlxcdTE2ODEtXFx1MTY5QVxcdTE2QTAtXFx1MTZFQVxcdTE3MDAtXFx1MTcwQ1xcdTE3MEUtXFx1MTcxMVxcdTE3MjAtXFx1MTczMVxcdTE3NDAtXFx1MTc1MVxcdTE3NjAtXFx1MTc2Q1xcdTE3NkUtXFx1MTc3MFxcdTE3ODAtXFx1MTdCM1xcdTE3RDdcXHUxN0RDXFx1MTgyMC1cXHUxODc3XFx1MTg4MC1cXHUxOEE4XFx1MThBQVxcdTE4QjAtXFx1MThGNVxcdTE5MDAtXFx1MTkxQ1xcdTE5NTAtXFx1MTk2RFxcdTE5NzAtXFx1MTk3NFxcdTE5ODAtXFx1MTlBQlxcdTE5QzEtXFx1MTlDN1xcdTFBMDAtXFx1MUExNlxcdTFBMjAtXFx1MUE1NFxcdTFBQTdcXHUxQjA1LVxcdTFCMzNcXHUxQjQ1LVxcdTFCNEJcXHUxQjgzLVxcdTFCQTBcXHUxQkFFXFx1MUJBRlxcdTFCQkEtXFx1MUJFNVxcdTFDMDAtXFx1MUMyM1xcdTFDNEQtXFx1MUM0RlxcdTFDNUEtXFx1MUM3RFxcdTFDRTktXFx1MUNFQ1xcdTFDRUUtXFx1MUNGMVxcdTFDRjVcXHUxQ0Y2XFx1MUQwMC1cXHUxREJGXFx1MUUwMC1cXHUxRjE1XFx1MUYxOC1cXHUxRjFEXFx1MUYyMC1cXHUxRjQ1XFx1MUY0OC1cXHUxRjREXFx1MUY1MC1cXHUxRjU3XFx1MUY1OVxcdTFGNUJcXHUxRjVEXFx1MUY1Ri1cXHUxRjdEXFx1MUY4MC1cXHUxRkI0XFx1MUZCNi1cXHUxRkJDXFx1MUZCRVxcdTFGQzItXFx1MUZDNFxcdTFGQzYtXFx1MUZDQ1xcdTFGRDAtXFx1MUZEM1xcdTFGRDYtXFx1MUZEQlxcdTFGRTAtXFx1MUZFQ1xcdTFGRjItXFx1MUZGNFxcdTFGRjYtXFx1MUZGQ1xcdTIwNzFcXHUyMDdGXFx1MjA5MC1cXHUyMDlDXFx1MjEwMlxcdTIxMDdcXHUyMTBBLVxcdTIxMTNcXHUyMTE1XFx1MjExOS1cXHUyMTFEXFx1MjEyNFxcdTIxMjZcXHUyMTI4XFx1MjEyQS1cXHUyMTJEXFx1MjEyRi1cXHUyMTM5XFx1MjEzQy1cXHUyMTNGXFx1MjE0NS1cXHUyMTQ5XFx1MjE0RVxcdTIxODNcXHUyMTg0XFx1MkMwMC1cXHUyQzJFXFx1MkMzMC1cXHUyQzVFXFx1MkM2MC1cXHUyQ0U0XFx1MkNFQi1cXHUyQ0VFXFx1MkNGMlxcdTJDRjNcXHUyRDAwLVxcdTJEMjVcXHUyRDI3XFx1MkQyRFxcdTJEMzAtXFx1MkQ2N1xcdTJENkZcXHUyRDgwLVxcdTJEOTZcXHUyREEwLVxcdTJEQTZcXHUyREE4LVxcdTJEQUVcXHUyREIwLVxcdTJEQjZcXHUyREI4LVxcdTJEQkVcXHUyREMwLVxcdTJEQzZcXHUyREM4LVxcdTJEQ0VcXHUyREQwLVxcdTJERDZcXHUyREQ4LVxcdTJEREVcXHUyRTJGXFx1MzAwNVxcdTMwMDZcXHUzMDMxLVxcdTMwMzVcXHUzMDNCXFx1MzAzQ1xcdTMwNDEtXFx1MzA5NlxcdTMwOUQtXFx1MzA5RlxcdTMwQTEtXFx1MzBGQVxcdTMwRkMtXFx1MzBGRlxcdTMxMDUtXFx1MzEyRFxcdTMxMzEtXFx1MzE4RVxcdTMxQTAtXFx1MzFCQVxcdTMxRjAtXFx1MzFGRlxcdTM0MDAtXFx1NERCNVxcdTRFMDAtXFx1OUZDQ1xcdUEwMDAtXFx1QTQ4Q1xcdUE0RDAtXFx1QTRGRFxcdUE1MDAtXFx1QTYwQ1xcdUE2MTAtXFx1QTYxRlxcdUE2MkFcXHVBNjJCXFx1QTY0MC1cXHVBNjZFXFx1QTY3Ri1cXHVBNjk3XFx1QTZBMC1cXHVBNkU1XFx1QTcxNy1cXHVBNzFGXFx1QTcyMi1cXHVBNzg4XFx1QTc4Qi1cXHVBNzhFXFx1QTc5MC1cXHVBNzkzXFx1QTdBMC1cXHVBN0FBXFx1QTdGOC1cXHVBODAxXFx1QTgwMy1cXHVBODA1XFx1QTgwNy1cXHVBODBBXFx1QTgwQy1cXHVBODIyXFx1QTg0MC1cXHVBODczXFx1QTg4Mi1cXHVBOEIzXFx1QThGMi1cXHVBOEY3XFx1QThGQlxcdUE5MEEtXFx1QTkyNVxcdUE5MzAtXFx1QTk0NlxcdUE5NjAtXFx1QTk3Q1xcdUE5ODQtXFx1QTlCMlxcdUE5Q0ZcXHVBQTAwLVxcdUFBMjhcXHVBQTQwLVxcdUFBNDJcXHVBQTQ0LVxcdUFBNEJcXHVBQTYwLVxcdUFBNzZcXHVBQTdBXFx1QUE4MC1cXHVBQUFGXFx1QUFCMVxcdUFBQjVcXHVBQUI2XFx1QUFCOS1cXHVBQUJEXFx1QUFDMFxcdUFBQzJcXHVBQURCLVxcdUFBRERcXHVBQUUwLVxcdUFBRUFcXHVBQUYyLVxcdUFBRjRcXHVBQjAxLVxcdUFCMDZcXHVBQjA5LVxcdUFCMEVcXHVBQjExLVxcdUFCMTZcXHVBQjIwLVxcdUFCMjZcXHVBQjI4LVxcdUFCMkVcXHVBQkMwLVxcdUFCRTJcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBNkRcXHVGQTcwLVxcdUZBRDlcXHVGQjAwLVxcdUZCMDZcXHVGQjEzLVxcdUZCMTdcXHVGQjFEXFx1RkIxRi1cXHVGQjI4XFx1RkIyQS1cXHVGQjM2XFx1RkIzOC1cXHVGQjNDXFx1RkIzRVxcdUZCNDBcXHVGQjQxXFx1RkI0M1xcdUZCNDRcXHVGQjQ2LVxcdUZCQjFcXHVGQkQzLVxcdUZEM0RcXHVGRDUwLVxcdUZEOEZcXHVGRDkyLVxcdUZEQzdcXHVGREYwLVxcdUZERkJcXHVGRTcwLVxcdUZFNzRcXHVGRTc2LVxcdUZFRkNcXHVGRjIxLVxcdUZGM0FcXHVGRjQxLVxcdUZGNUFcXHVGRjY2LVxcdUZGQkVcXHVGRkMyLVxcdUZGQzdcXHVGRkNBLVxcdUZGQ0ZcXHVGRkQyLVxcdUZGRDdcXHVGRkRBLVxcdUZGREMtXFx1MDQwMC1cXHUwNEZGJ10rKS9nO1xyXG4gICAgICAgIHJldHVybiB0ZXh0Lm1hdGNoKHJlZ2V4KSA/IDEgOiAwO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBpbmplY3RBcnJheVxyXG4gICAgICovXHJcbiAgICBqZXhjZWwuaW5qZWN0QXJyYXkgPSBmdW5jdGlvbihvLCBpZHgsIGFycikge1xyXG4gICAgICAgIHJldHVybiBvLnNsaWNlKDAsIGlkeCkuY29uY2F0KGFycikuY29uY2F0KG8uc2xpY2UoaWR4KSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2V0IGxldHRlciBiYXNlZCBvbiBhIG51bWJlclxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gaW50ZWdlciBpXHJcbiAgICAgKiBAcmV0dXJuIHN0cmluZyBsZXR0ZXJcclxuICAgICAqL1xyXG4gICAgamV4Y2VsLmdldENvbHVtbk5hbWUgPSBmdW5jdGlvbihpKSB7XHJcbiAgICAgICAgdmFyIGxldHRlciA9ICcnO1xyXG4gICAgICAgIGlmIChpID4gNzAxKSB7XHJcbiAgICAgICAgICAgIGxldHRlciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDY0ICsgcGFyc2VJbnQoaSAvIDY3NikpO1xyXG4gICAgICAgICAgICBsZXR0ZXIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSg2NCArIHBhcnNlSW50KChpICUgNjc2KSAvIDI2KSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpID4gMjUpIHtcclxuICAgICAgICAgICAgbGV0dGVyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoNjQgKyBwYXJzZUludChpIC8gMjYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0dGVyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyAoaSAlIDI2KSk7XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gbGV0dGVyO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnQgZXhjZWwgbGlrZSBjb2x1bW4gdG8gamV4Y2VsIGlkXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBzdHJpbmcgaWRcclxuICAgICAqIEByZXR1cm4gc3RyaW5nIGlkXHJcbiAgICAgKi9cclxuICAgIGpleGNlbC5nZXRJZEZyb21Db2x1bW5OYW1lID0gZnVuY3Rpb24gKGlkLCBhcnIpIHtcclxuICAgICAgICAvLyBHZXQgdGhlIGxldHRlcnNcclxuICAgICAgICB2YXIgdCA9IC9eW2EtekEtWl0rLy5leGVjKGlkKTtcclxuICAgIFxyXG4gICAgICAgIGlmICh0KSB7XHJcbiAgICAgICAgICAgIC8vIEJhc2UgMjYgY2FsY3VsYXRpb25cclxuICAgICAgICAgICAgdmFyIGNvZGUgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRbMF0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvZGUgKz0gcGFyc2VJbnQodFswXS5jaGFyQ29kZUF0KGkpIC0gNjQpICogTWF0aC5wb3coMjYsICh0WzBdLmxlbmd0aCAtIDEgLSBpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29kZS0tO1xyXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgamV4Y2VsIHN0YXJ0cyBvbiB6ZXJvXHJcbiAgICAgICAgICAgIGlmIChjb2RlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgY29kZSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBOdW1iZXJcclxuICAgICAgICAgICAgdmFyIG51bWJlciA9IHBhcnNlSW50KC9bMC05XSskLy5leGVjKGlkKSk7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBudW1iZXItLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChhcnIgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWQgPSBbIGNvZGUsIG51bWJlciBdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWQgPSBjb2RlICsgJy0nICsgbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnQgamV4Y2VsIGlkIHRvIGV4Y2VsIGxpa2UgY29sdW1uIG5hbWVcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHN0cmluZyBpZFxyXG4gICAgICogQHJldHVybiBzdHJpbmcgaWRcclxuICAgICAqL1xyXG4gICAgamV4Y2VsLmdldENvbHVtbk5hbWVGcm9tSWQgPSBmdW5jdGlvbiAoY2VsbElkKSB7XHJcbiAgICAgICAgaWYgKCEgQXJyYXkuaXNBcnJheShjZWxsSWQpKSB7XHJcbiAgICAgICAgICAgIGNlbGxJZCA9IGNlbGxJZC5zcGxpdCgnLScpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHJldHVybiBqZXhjZWwuZ2V0Q29sdW1uTmFtZShwYXJzZUludChjZWxsSWRbMF0pKSArIChwYXJzZUludChjZWxsSWRbMV0pICsgMSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogVmVyaWZ5IGVsZW1lbnQgaW5zaWRlIGpleGNlbCB0YWJsZVxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gc3RyaW5nIGlkXHJcbiAgICAgKiBAcmV0dXJuIHN0cmluZyBpZFxyXG4gICAgICovXHJcbiAgICBqZXhjZWwuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgamV4Y2VsU2VjdGlvbiA9IDA7XHJcbiAgICAgICAgdmFyIGpleGNlbEVsZW1lbnQgPSAwO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gcGF0aCAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnamV4Y2VsX2NvbnRhaW5lcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgamV4Y2VsRWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09ICdUSEVBRCcpIHtcclxuICAgICAgICAgICAgICAgIGpleGNlbFNlY3Rpb24gPSAxO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQudGFnTmFtZSA9PSAnVEJPRFknKSB7XHJcbiAgICAgICAgICAgICAgICBqZXhjZWxTZWN0aW9uID0gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghIGpleGNlbEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoKGVsZW1lbnQucGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBwYXRoKGVsZW1lbnQpO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIFsgamV4Y2VsRWxlbWVudCwgamV4Y2VsU2VjdGlvbiBdO1xyXG4gICAgfVxyXG5cclxuICAgIGpleGNlbC5kb3VibGVEaWdpdEZvcm1hdCA9IGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICB2ID0gJycrdjtcclxuICAgICAgICBpZiAodi5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICB2ID0gJzAnK3Y7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2O1xyXG4gICAgfVxyXG5cclxuICAgIGpleGNlbC5jcmVhdGVGcm9tVGFibGUgPSBmdW5jdGlvbihlbCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChlbC50YWdOYW1lICE9ICdUQUJMRScpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0VsZW1lbnQgaXMgbm90IGEgdGFibGUnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIGlmICghIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcHRpb25zLmNvbHVtbnMgPSBbXTtcclxuICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBDb2xncm91cFxyXG4gICAgICAgICAgICB2YXIgY29sZ3JvdXAgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKCdjb2xncm91cCA+IGNvbCcpO1xyXG4gICAgICAgICAgICBpZiAoY29sZ3JvdXAubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgY29sdW1uIHdpZHRoXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbGdyb3VwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gY29sZ3JvdXBbaV0uc3R5bGUud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgd2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gY29sZ3JvdXBbaV0uZ2V0QXR0cmlidXRlKCd3aWR0aCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgY29sdW1uIHdpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIG9wdGlvbnMuY29sdW1uc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jb2x1bW5zW2ldID0ge31cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNvbHVtbnNbaV0ud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFBhcnNlIGhlYWRlclxyXG4gICAgICAgICAgICB2YXIgcGFyc2VIZWFkZXIgPSBmdW5jdGlvbihoZWFkZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCB3aWR0aCBpbmZvcm1hdGlvblxyXG4gICAgICAgICAgICAgICAgdmFyIGluZm8gPSBoZWFkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBpbmZvLndpZHRoID4gNTAgPyBpbmZvLndpZHRoIDogNTA7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGNvbHVtbiBvcHRpb25cclxuICAgICAgICAgICAgICAgIGlmICghIG9wdGlvbnMuY29sdW1uc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY29sdW1uc1tpXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgIGlmIChoZWFkZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWNlbGx0eXBlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNvbHVtbnNbaV0udHlwZSA9IGhlYWRlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2VsbHR5cGUnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jb2x1bW5zW2ldLnR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNvbHVtbnNbaV0ud2lkdGggPSB3aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNvbHVtbnNbaV0udGl0bGUgPSBoZWFkZXIuaW5uZXJUZXh0O1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jb2x1bW5zW2ldLmFsaWduID0gaGVhZGVyLnN0eWxlLnRleHRBbGlnbiB8fCAnY2VudGVyJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSGVhZGVyc1xyXG4gICAgICAgICAgICB2YXIgaGVhZGVycyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoZWFkID4gdHInKTtcclxuICAgICAgICAgICAgaWYgKGhlYWRlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGxhc3Qgcm93IGluIHRoZSB0aGVhZFxyXG4gICAgICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnNbaGVhZGVycy5sZW5ndGgtMV0uY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAvLyBHbyB0aG91Z2ggdGhlIGhlYWRlcnNcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSGVhZGVyKGhlYWRlcnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDb250ZW50XHJcbiAgICAgICAgICAgIHZhciByb3dOdW1iZXIgPSAwO1xyXG4gICAgICAgICAgICB2YXIgbWVyZ2VDZWxscyA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgcm93cyA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gZWwucXVlcnlTZWxlY3RvckFsbCgndGFibGUgPiB0ciwgdGJvZHkgdHInKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb250ZW50Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGFbcm93TnVtYmVyXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucGFyc2VUYWJsZUZpcnN0Um93QXNIZWFkZXIgPT0gdHJ1ZSAmJiBqID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRlbnRbal0uY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VIZWFkZXIoY29udGVudFtqXS5jaGlsZHJlbltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRlbnRbal0uY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2lja2VkR3JpZCBmb3JtdWxhIGNvbXBhdGliaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY29udGVudFtqXS5jaGlsZHJlbltpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZm9ybXVsYScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5zdWJzdHIoMCwxKSAhPSAnPScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICc9JyArIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY29udGVudFtqXS5jaGlsZHJlbltpXS5pbm5lclRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhW3Jvd051bWJlcl0ucHVzaCh2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBLZXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGxOYW1lID0gamV4Y2VsLmdldENvbHVtbk5hbWVGcm9tSWQoWyBpLCBqIF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWVyZ2VkIGNlbGxzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXJnZWRDb2xzcGFuID0gcGFyc2VJbnQoY29udGVudFtqXS5jaGlsZHJlbltpXS5nZXRBdHRyaWJ1dGUoJ2NvbHNwYW4nKSkgfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lcmdlZFJvd3NwYW4gPSBwYXJzZUludChjb250ZW50W2pdLmNoaWxkcmVuW2ldLmdldEF0dHJpYnV0ZSgncm93c3BhbicpKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVyZ2VkQ29sc3BhbiB8fCBtZXJnZWRSb3dzcGFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZUNlbGxzW2NlbGxOYW1lXSA9IFsgbWVyZ2VkQ29sc3BhbiB8fCAxLCBtZXJnZWRSb3dzcGFuIHx8IDEgXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgcHJvYmxlbXMgd2l0aCBoaWRkZW4gY2VsbHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPSBjb250ZW50W2pdLmNoaWxkcmVuW2ldLnN0eWxlICYmIGNvbnRlbnRbal0uY2hpbGRyZW5baV0uc3R5bGUuZGlzcGxheSA9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRbal0uY2hpbGRyZW5baV0uc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBzdHlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGNvbnRlbnRbal0uY2hpbGRyZW5baV0uZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVbY2VsbE5hbWVdID0gcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCb2xkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50W2pdLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5jb250YWlucygnc3R5bGVCb2xkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZVtjZWxsTmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVtjZWxsTmFtZV0gKz0gJzsgZm9udC13ZWlnaHQ6Ym9sZDsnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVtjZWxsTmFtZV0gPSAnZm9udC13ZWlnaHQ6Ym9sZDsnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSb3cgSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRbal0uc3R5bGUgJiYgY29udGVudFtqXS5zdHlsZS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tqXSA9IHsgaGVpZ2h0OiBjb250ZW50W2pdLnN0eWxlLmhlaWdodCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5kZXhcclxuICAgICAgICAgICAgICAgICAgICByb3dOdW1iZXIrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU3R5bGVcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHN0eWxlKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvL29wdGlvbnMuc3R5bGUgPSBzdHlsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBNZXJnZWRcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1lcmdlQ2VsbHMpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMubWVyZ2VDZWxscyA9IG1lcmdlQ2VsbHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUm93IGhlaWdodFxyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocm93cykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5yb3dzID0gcm93cztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVE9ETzogZGF0YS1oaWRkZW5jb2x1bW5zPVwiMyw0XCJcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEkgZ3Vlc3MgaW4gdGVybXMgdGhlIGJldHRlciBjb2x1bW4gdHlwZVxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wYXJzZVRhYmxlQXV0b0NlbGxUeXBlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMuY29sdW1ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdENhbGVuZGFyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuW2ldID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvcHRpb25zLmRhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gb3B0aW9ucy5kYXRhW2pdW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISBwYXR0ZXJuW2ldW3ZhbHVlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybltpXVt2YWx1ZV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm5baV1bdmFsdWVdKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAyNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghICh2YWx1ZS5zdWJzdHIoNCwxKSA9PSAnLScgJiYgdmFsdWUuc3Vic3RyKDcsMSkgPT0gJy0nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RDYWxlbmRhciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdENhbGVuZGFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocGF0dGVybltpXSkubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0Q2FsZW5kYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jb2x1bW5zW2ldLnR5cGUgPSAnY2FsZW5kYXInO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGVzdCA9PSB0cnVlICYmIGtleXMgPiAxICYmIGtleXMgPD0gcGFyc2VJbnQob3B0aW9ucy5kYXRhLmxlbmd0aCAqIDAuMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jb2x1bW5zW2ldLnR5cGUgPSAnZHJvcGRvd24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNvbHVtbnNbaV0uc291cmNlID0gT2JqZWN0LmtleXMocGF0dGVybltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBKcXVlcnkgU3VwcG9ydFxyXG4gICAgICovXHJcbiAgICBpZiAodHlwZW9mKGpRdWVyeSkgIT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAoZnVuY3Rpb24oJCl7XHJcbiAgICAgICAgICAgICQuZm4uamV4Y2VsID0gZnVuY3Rpb24obWV0aG9kKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ByZWFkc2hlZXRDb250YWluZXIgPSAkKHRoaXMpLmdldCgwKTtcclxuICAgICAgICAgICAgICAgIGlmICghIHNwcmVhZHNoZWV0Q29udGFpbmVyLmpleGNlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqZXhjZWwoJCh0aGlzKS5nZXQoMCksIGFyZ3VtZW50c1swXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzcHJlYWRzaGVldENvbnRhaW5lci5qZXhjZWxbbWV0aG9kXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCggYXJndW1lbnRzLCAxICkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgfSkoalF1ZXJ5KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAvLyBCYXNlZCBvbiBzdXRvaWt1IHdvcmsgKGh0dHBzOi8vZ2l0aHViLmNvbS9zdXRvaWt1KVxyXG4gICAgXHJcbiAgICB2YXIgZXJyb3IgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGV4cG9ydHMgPSB7fTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMubmlsID0gbmV3IEVycm9yKCcjTlVMTCEnKTtcclxuICAgICAgICBleHBvcnRzLmRpdjAgPSBuZXcgRXJyb3IoJyNESVYvMCEnKTtcclxuICAgICAgICBleHBvcnRzLnZhbHVlID0gbmV3IEVycm9yKCcjVkFMVUUhJyk7XHJcbiAgICAgICAgZXhwb3J0cy5yZWYgPSBuZXcgRXJyb3IoJyNSRUYhJyk7XHJcbiAgICAgICAgZXhwb3J0cy5uYW1lID0gbmV3IEVycm9yKCcjTkFNRT8nKTtcclxuICAgICAgICBleHBvcnRzLm51bSA9IG5ldyBFcnJvcignI05VTSEnKTtcclxuICAgICAgICBleHBvcnRzLm5hID0gbmV3IEVycm9yKCcjTi9BJyk7XHJcbiAgICAgICAgZXhwb3J0cy5lcnJvciA9IG5ldyBFcnJvcignI0VSUk9SIScpO1xyXG4gICAgICAgIGV4cG9ydHMuZGF0YSA9IG5ldyBFcnJvcignI0dFVFRJTkdfREFUQScpO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XHJcbiAgICB9KSgpO1xyXG4gICAgXHJcbiAgICB2YXIgdXRpbHMgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGV4cG9ydHMgPSB7fTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuZmxhdHRlblNoYWxsb3cgPSBmdW5jdGlvbihhcnJheSkge1xyXG4gICAgICAgICAgICBpZiAoIWFycmF5IHx8ICFhcnJheS5yZWR1Y2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFJc0FycmF5ID0gQXJyYXkuaXNBcnJheShhKTtcclxuICAgICAgICAgICAgICAgIHZhciBiSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoYik7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChhSXNBcnJheSAmJiBiSXNBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmNvbmNhdChiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhSXNBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChiKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGJJc0FycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgYSBdLmNvbmNhdChiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsgYSwgYiBdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5pc0ZsYXQgPSBmdW5jdGlvbihhcnJheSkge1xyXG4gICAgICAgICAgICBpZiAoIWFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnJheVtpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5mbGF0dGVuID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBleHBvcnRzLmFyZ3NUb0FycmF5LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICBcclxuICAgICAgICAgICAgd2hpbGUgKCFleHBvcnRzLmlzRmxhdChyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBleHBvcnRzLmZsYXR0ZW5TaGFsbG93KHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLmFyZ3NUb0FycmF5ID0gZnVuY3Rpb24oYXJncykge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICBcclxuICAgICAgICAgICAgZXhwb3J0cy5hcnJheUVhY2goYXJncywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5udW1iZXJzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBwb3NzaWJsZU51bWJlcnMgPSB0aGlzLmZsYXR0ZW4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc3NpYmxlTnVtYmVycy5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZWwgPT09ICdudW1iZXInO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5jbGVhbkZsb2F0ID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHZhciBwb3dlciA9IDFlMTQ7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlciAqIHBvd2VyKSAvIHBvd2VyO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLnBhcnNlQm9vbCA9IGZ1bmN0aW9uKGJvb2wpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBib29sID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBib29sO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKGJvb2wgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvb2w7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGJvb2wgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9vbCAhPT0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYm9vbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1cCA9IGJvb2wudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIGlmICh1cCA9PT0gJ1RSVUUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICh1cCA9PT0gJ0ZBTFNFJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChib29sIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4oYm9vbCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLnBhcnNlTnVtYmVyID0gZnVuY3Rpb24oc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGlmIChzdHJpbmcgPT09IHVuZGVmaW5lZCB8fCBzdHJpbmcgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFpc05hTihzdHJpbmcpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChzdHJpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLnBhcnNlTnVtYmVyQXJyYXkgPSBmdW5jdGlvbihhcnIpIHtcclxuICAgICAgICAgICAgdmFyIGxlbjtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAoIWFyciB8fCAobGVuID0gYXJyLmxlbmd0aCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBwYXJzZWQ7XHJcbiAgICBcclxuICAgICAgICAgICAgd2hpbGUgKGxlbi0tKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSBleHBvcnRzLnBhcnNlTnVtYmVyKGFycltsZW5dKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPT09IGVycm9yLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFycltsZW5dID0gcGFyc2VkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGFycjtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5wYXJzZU1hdHJpeCA9IGZ1bmN0aW9uKG1hdHJpeCkge1xyXG4gICAgICAgICAgICB2YXIgbjtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAoIW1hdHJpeCB8fCAobiA9IG1hdHJpeC5sZW5ndGgpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHBuYXJyO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0cml4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBwbmFyciA9IGV4cG9ydHMucGFyc2VOdW1iZXJBcnJheShtYXRyaXhbaV0pO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4W2ldID0gcG5hcnI7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChwbmFyciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBuYXJyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgdmFyIGQxOTAwID0gbmV3IERhdGUoRGF0ZS5VVEMoMTkwMCwgMCwgMSkpO1xyXG4gICAgICAgIGV4cG9ydHMucGFyc2VEYXRlID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAoIWlzTmFOKGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9IHBhcnNlSW50KGRhdGUsIDEwKTtcclxuICAgICAgICAgICAgICAgIGlmIChkIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZCA8PSA2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShkMTkwMC5nZXRUaW1lKCkgKyAoZCAtIDEpICogODY0MDAwMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGQxOTAwLmdldFRpbWUoKSArIChkIC0gMikgKiA4NjQwMDAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5wYXJzZURhdGVBcnJheSA9IGZ1bmN0aW9uKGFycikge1xyXG4gICAgICAgICAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIHBhcnNlZDtcclxuICAgICAgICAgICAgd2hpbGUgKGxlbi0tKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSB0aGlzLnBhcnNlRGF0ZShhcnJbbGVuXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkID09PSBlcnJvci52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhcnJbbGVuXSA9IHBhcnNlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLmFueUlzRXJyb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgICAgICAgICB3aGlsZSAobi0tKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW25dIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuYXJyYXlWYWx1ZXNUb051bWJlcnMgPSBmdW5jdGlvbihhcnIpIHtcclxuICAgICAgICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgZWw7XHJcbiAgICAgICAgICAgIHdoaWxlIChuLS0pIHtcclxuICAgICAgICAgICAgICAgIGVsID0gYXJyW25dO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycltuXSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyW25dID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlciA9IHRoaXMucGFyc2VOdW1iZXIoZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJbbl0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycltuXSA9IG51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGFycjtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5yZXN0ID0gZnVuY3Rpb24oYXJyYXksIGlkeCkge1xyXG4gICAgICAgICAgICBpZHggPSBpZHggfHwgMTtcclxuICAgICAgICAgICAgaWYgKCFhcnJheSB8fCB0eXBlb2YgYXJyYXkuc2xpY2UgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXkuc2xpY2UoaWR4KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIGlkeCkge1xyXG4gICAgICAgICAgICBpZHggPSBpZHggfHwgMTtcclxuICAgICAgICAgICAgaWYgKCFhcnJheSB8fCB0eXBlb2YgYXJyYXkuc2xpY2UgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXkuc2xpY2UoMCwgYXJyYXkubGVuZ3RoIC0gaWR4KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5hcnJheUVhY2ggPSBmdW5jdGlvbihhcnJheSwgaXRlcmF0ZWUpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTEsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcclxuICAgIFxyXG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy50cmFuc3Bvc2UgPSBmdW5jdGlvbihtYXRyaXgpIHtcclxuICAgICAgICAgICAgaWYgKCFtYXRyaXgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiBtYXRyaXhbMF0ubWFwKGZ1bmN0aW9uKGNvbCwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdHJpeC5tYXAoZnVuY3Rpb24ocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd1tpXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XHJcbiAgICB9KSgpO1xyXG4gICAgXHJcbiAgICBqZXhjZWwubWV0aG9kcyA9IHt9O1xyXG4gICAgXHJcbiAgICBqZXhjZWwubWV0aG9kcy5kYXRldGltZSA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZXhwb3J0cyA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgdmFyIGQxOTAwID0gbmV3IERhdGUoMTkwMCwgMCwgMSk7XHJcbiAgICAgICAgdmFyIFdFRUtfU1RBUlRTID0gW1xyXG4gICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgIDEsXHJcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIDEsXHJcbiAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgIDMsXHJcbiAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgIDUsXHJcbiAgICAgICAgICAgIDYsXHJcbiAgICAgICAgICAgIDBcclxuICAgICAgICBdO1xyXG4gICAgICAgIHZhciBXRUVLX1RZUEVTID0gW1xyXG4gICAgICAgICAgICBbXSxcclxuICAgICAgICAgICAgWzEsIDIsIDMsIDQsIDUsIDYsIDddLFxyXG4gICAgICAgICAgICBbNywgMSwgMiwgMywgNCwgNSwgNl0sXHJcbiAgICAgICAgICAgIFs2LCAwLCAxLCAyLCAzLCA0LCA1XSxcclxuICAgICAgICAgICAgW10sXHJcbiAgICAgICAgICAgIFtdLFxyXG4gICAgICAgICAgICBbXSxcclxuICAgICAgICAgICAgW10sXHJcbiAgICAgICAgICAgIFtdLFxyXG4gICAgICAgICAgICBbXSxcclxuICAgICAgICAgICAgW10sXHJcbiAgICAgICAgICAgIFs3LCAxLCAyLCAzLCA0LCA1LCA2XSxcclxuICAgICAgICAgICAgWzYsIDcsIDEsIDIsIDMsIDQsIDVdLFxyXG4gICAgICAgICAgICBbNSwgNiwgNywgMSwgMiwgMywgNF0sXHJcbiAgICAgICAgICAgIFs0LCA1LCA2LCA3LCAxLCAyLCAzXSxcclxuICAgICAgICAgICAgWzMsIDQsIDUsIDYsIDcsIDEsIDJdLFxyXG4gICAgICAgICAgICBbMiwgMywgNCwgNSwgNiwgNywgMV0sXHJcbiAgICAgICAgICAgIFsxLCAyLCAzLCA0LCA1LCA2LCA3XVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdmFyIFdFRUtFTkRfVFlQRVMgPSBbXHJcbiAgICAgICAgICAgIFtdLFxyXG4gICAgICAgICAgICBbNiwgMF0sXHJcbiAgICAgICAgICAgIFswLCAxXSxcclxuICAgICAgICAgICAgWzEsIDJdLFxyXG4gICAgICAgICAgICBbMiwgM10sXHJcbiAgICAgICAgICAgIFszLCA0XSxcclxuICAgICAgICAgICAgWzQsIDVdLFxyXG4gICAgICAgICAgICBbNSwgNl0sXHJcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB1bmRlZmluZWQsIFswLCAwXSxcclxuICAgICAgICAgICAgWzEsIDFdLFxyXG4gICAgICAgICAgICBbMiwgMl0sXHJcbiAgICAgICAgICAgIFszLCAzXSxcclxuICAgICAgICAgICAgWzQsIDRdLFxyXG4gICAgICAgICAgICBbNSwgNV0sXHJcbiAgICAgICAgICAgIFs2LCA2XVxyXG4gICAgICAgIF07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkRBVEUgPSBmdW5jdGlvbih5ZWFyLCBtb250aCwgZGF5KSB7XHJcbiAgICAgICAgICAgIHllYXIgPSB1dGlscy5wYXJzZU51bWJlcih5ZWFyKTtcclxuICAgICAgICAgICAgbW9udGggPSB1dGlscy5wYXJzZU51bWJlcihtb250aCk7XHJcbiAgICAgICAgICAgIGRheSA9IHV0aWxzLnBhcnNlTnVtYmVyKGRheSk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHllYXIsIG1vbnRoLCBkYXkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHllYXIgPCAwIHx8IG1vbnRoIDwgMCB8fCBkYXkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5EQVRFVkFMVUUgPSBmdW5jdGlvbihkYXRlX3RleHQpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRlX3RleHQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGRhdGUgPSBEYXRlLnBhcnNlKGRhdGVfdGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChpc05hTihkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRlIDw9IC0yMjAzODkxMjAwMDAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGRhdGUgLSBkMTkwMCkgLyA4NjQwMDAwMCArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChkYXRlIC0gZDE5MDApIC8gODY0MDAwMDAgKyAyO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkRBWSA9IGZ1bmN0aW9uKHNlcmlhbF9udW1iZXIpIHtcclxuICAgICAgICAgICAgdmFyIGRhdGUgPSB1dGlscy5wYXJzZURhdGUoc2VyaWFsX251bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChkYXRlIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRlLmdldERhdGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5EQVlTID0gZnVuY3Rpb24oZW5kX2RhdGUsIHN0YXJ0X2RhdGUpIHtcclxuICAgICAgICAgICAgZW5kX2RhdGUgPSB1dGlscy5wYXJzZURhdGUoZW5kX2RhdGUpO1xyXG4gICAgICAgICAgICBzdGFydF9kYXRlID0gdXRpbHMucGFyc2VEYXRlKHN0YXJ0X2RhdGUpO1xyXG4gICAgICAgICAgICBpZiAoZW5kX2RhdGUgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuZF9kYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGFydF9kYXRlIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydF9kYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWwoZW5kX2RhdGUpIC0gc2VyaWFsKHN0YXJ0X2RhdGUpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkRBWVMzNjAgPSBmdW5jdGlvbihzdGFydF9kYXRlLCBlbmRfZGF0ZSwgbWV0aG9kKSB7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuRURBVEUgPSBmdW5jdGlvbihzdGFydF9kYXRlLCBtb250aHMpIHtcclxuICAgICAgICAgICAgc3RhcnRfZGF0ZSA9IHV0aWxzLnBhcnNlRGF0ZShzdGFydF9kYXRlKTtcclxuICAgICAgICAgICAgaWYgKHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0X2RhdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTmFOKG1vbnRocykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtb250aHMgPSBwYXJzZUludChtb250aHMsIDEwKTtcclxuICAgICAgICAgICAgc3RhcnRfZGF0ZS5zZXRNb250aChzdGFydF9kYXRlLmdldE1vbnRoKCkgKyBtb250aHMpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsKHN0YXJ0X2RhdGUpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkVPTU9OVEggPSBmdW5jdGlvbihzdGFydF9kYXRlLCBtb250aHMpIHtcclxuICAgICAgICAgICAgc3RhcnRfZGF0ZSA9IHV0aWxzLnBhcnNlRGF0ZShzdGFydF9kYXRlKTtcclxuICAgICAgICAgICAgaWYgKHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0X2RhdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTmFOKG1vbnRocykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtb250aHMgPSBwYXJzZUludChtb250aHMsIDEwKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbChuZXcgRGF0ZShzdGFydF9kYXRlLmdldEZ1bGxZZWFyKCksIHN0YXJ0X2RhdGUuZ2V0TW9udGgoKSArIG1vbnRocyArIDEsIDApKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5IT1VSID0gZnVuY3Rpb24oc2VyaWFsX251bWJlcikge1xyXG4gICAgICAgICAgICBzZXJpYWxfbnVtYmVyID0gdXRpbHMucGFyc2VEYXRlKHNlcmlhbF9udW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAoc2VyaWFsX251bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWFsX251bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsX251bWJlci5nZXRIb3VycygpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklOVEVSVkFMID0gZnVuY3Rpb24oc2Vjb25kKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2Vjb25kICE9PSAnbnVtYmVyJyAmJiB0eXBlb2Ygc2Vjb25kICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kID0gcGFyc2VJbnQoc2Vjb25kLCAxMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgeWVhciAgPSBNYXRoLmZsb29yKHNlY29uZC85NDYwODAwMDApO1xyXG4gICAgICAgICAgICBzZWNvbmQgICAgPSBzZWNvbmQlOTQ2MDgwMDAwO1xyXG4gICAgICAgICAgICB2YXIgbW9udGggPSBNYXRoLmZsb29yKHNlY29uZC8yNTkyMDAwKTtcclxuICAgICAgICAgICAgc2Vjb25kICAgID0gc2Vjb25kJTI1OTIwMDA7XHJcbiAgICAgICAgICAgIHZhciBkYXkgICA9IE1hdGguZmxvb3Ioc2Vjb25kLzg2NDAwKTtcclxuICAgICAgICAgICAgc2Vjb25kICAgID0gc2Vjb25kJTg2NDAwO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBob3VyICA9IE1hdGguZmxvb3Ioc2Vjb25kLzM2MDApO1xyXG4gICAgICAgICAgICBzZWNvbmQgICAgPSBzZWNvbmQlMzYwMDtcclxuICAgICAgICAgICAgdmFyIG1pbiAgID0gTWF0aC5mbG9vcihzZWNvbmQvNjApO1xyXG4gICAgICAgICAgICBzZWNvbmQgICAgPSBzZWNvbmQlNjA7XHJcbiAgICAgICAgICAgIHZhciBzZWMgICA9IHNlY29uZDtcclxuICAgIFxyXG4gICAgICAgICAgICB5ZWFyICA9ICh5ZWFyICA+IDApID8geWVhciAgKyAnWScgOiAnJztcclxuICAgICAgICAgICAgbW9udGggPSAobW9udGggPiAwKSA/IG1vbnRoICsgJ00nIDogJyc7XHJcbiAgICAgICAgICAgIGRheSAgID0gKGRheSAgID4gMCkgPyBkYXkgICArICdEJyA6ICcnO1xyXG4gICAgICAgICAgICBob3VyICA9IChob3VyICA+IDApID8gaG91ciAgKyAnSCcgOiAnJztcclxuICAgICAgICAgICAgbWluICAgPSAobWluICAgPiAwKSA/IG1pbiAgICsgJ00nIDogJyc7XHJcbiAgICAgICAgICAgIHNlYyAgID0gKHNlYyAgID4gMCkgPyBzZWMgICArICdTJyA6ICcnO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiAnUCcgKyB5ZWFyICsgbW9udGggKyBkYXkgKyAnVCcgKyBob3VyICsgbWluICsgc2VjO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklTT1dFRUtOVU0gPSBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICAgICAgICAgIGRhdGUgPSB1dGlscy5wYXJzZURhdGUoZGF0ZSk7XHJcbiAgICAgICAgICAgIGlmIChkYXRlIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgZGF0ZS5zZXRIb3VycygwLCAwLCAwKTtcclxuICAgICAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgNCAtIChkYXRlLmdldERheSgpIHx8IDcpKTtcclxuICAgICAgICAgICAgdmFyIHllYXJTdGFydCA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgMCwgMSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwoKCgoZGF0ZSAtIHllYXJTdGFydCkgLyA4NjQwMDAwMCkgKyAxKSAvIDcpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk1JTlVURSA9IGZ1bmN0aW9uKHNlcmlhbF9udW1iZXIpIHtcclxuICAgICAgICAgICAgc2VyaWFsX251bWJlciA9IHV0aWxzLnBhcnNlRGF0ZShzZXJpYWxfbnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKHNlcmlhbF9udW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcmlhbF9udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbF9udW1iZXIuZ2V0TWludXRlcygpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk1PTlRIID0gZnVuY3Rpb24oc2VyaWFsX251bWJlcikge1xyXG4gICAgICAgICAgICBzZXJpYWxfbnVtYmVyID0gdXRpbHMucGFyc2VEYXRlKHNlcmlhbF9udW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAoc2VyaWFsX251bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWFsX251bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsX251bWJlci5nZXRNb250aCgpICsgMTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5ORVRXT1JLREFZUyA9IGZ1bmN0aW9uKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBob2xpZGF5cykge1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk5FVFdPUktEQVlTLklOVEwgPSBmdW5jdGlvbihzdGFydF9kYXRlLCBlbmRfZGF0ZSwgd2Vla2VuZCwgaG9saWRheXMpIHtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5OT1cgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuU0VDT05EID0gZnVuY3Rpb24oc2VyaWFsX251bWJlcikge1xyXG4gICAgICAgICAgICBzZXJpYWxfbnVtYmVyID0gdXRpbHMucGFyc2VEYXRlKHNlcmlhbF9udW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAoc2VyaWFsX251bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWFsX251bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsX251bWJlci5nZXRTZWNvbmRzKCk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuVElNRSA9IGZ1bmN0aW9uKGhvdXIsIG1pbnV0ZSwgc2Vjb25kKSB7XHJcbiAgICAgICAgICAgIGhvdXIgPSB1dGlscy5wYXJzZU51bWJlcihob3VyKTtcclxuICAgICAgICAgICAgbWludXRlID0gdXRpbHMucGFyc2VOdW1iZXIobWludXRlKTtcclxuICAgICAgICAgICAgc2Vjb25kID0gdXRpbHMucGFyc2VOdW1iZXIoc2Vjb25kKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoaG91ciwgbWludXRlLCBzZWNvbmQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGhvdXIgPCAwIHx8IG1pbnV0ZSA8IDAgfHwgc2Vjb25kIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKDM2MDAgKiBob3VyICsgNjAgKiBtaW51dGUgKyBzZWNvbmQpIC8gODY0MDA7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuVElNRVZBTFVFID0gZnVuY3Rpb24odGltZV90ZXh0KSB7XHJcbiAgICAgICAgICAgIHRpbWVfdGV4dCA9IHV0aWxzLnBhcnNlRGF0ZSh0aW1lX3RleHQpO1xyXG4gICAgICAgICAgICBpZiAodGltZV90ZXh0IGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aW1lX3RleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICgzNjAwICogdGltZV90ZXh0LmdldEhvdXJzKCkgKyA2MCAqIHRpbWVfdGV4dC5nZXRNaW51dGVzKCkgKyB0aW1lX3RleHQuZ2V0U2Vjb25kcygpKSAvIDg2NDAwO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlRPREFZID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLldFRUtEQVkgPSBmdW5jdGlvbihzZXJpYWxfbnVtYmVyLCByZXR1cm5fdHlwZSkge1xyXG4gICAgICAgICAgICBzZXJpYWxfbnVtYmVyID0gdXRpbHMucGFyc2VEYXRlKHNlcmlhbF9udW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAoc2VyaWFsX251bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWFsX251bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmV0dXJuX3R5cGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuX3R5cGUgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBkYXkgPSBzZXJpYWxfbnVtYmVyLmdldERheSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gV0VFS19UWVBFU1tyZXR1cm5fdHlwZV1bZGF5XTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5XRUVLTlVNID0gZnVuY3Rpb24oc2VyaWFsX251bWJlciwgcmV0dXJuX3R5cGUpIHtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5XT1JLREFZID0gZnVuY3Rpb24oc3RhcnRfZGF0ZSwgZGF5cywgaG9saWRheXMpIHtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5XT1JLREFZLklOVEwgPSBmdW5jdGlvbihzdGFydF9kYXRlLCBkYXlzLCB3ZWVrZW5kLCBob2xpZGF5cykge1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLllFQVIgPSBmdW5jdGlvbihzZXJpYWxfbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHNlcmlhbF9udW1iZXIgPSB1dGlscy5wYXJzZURhdGUoc2VyaWFsX251bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChzZXJpYWxfbnVtYmVyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZXJpYWxfbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxfbnVtYmVyLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGlzTGVhcFllYXIoeWVhcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMSwgMjkpLmdldE1vbnRoKCkgPT09IDE7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5ZRUFSRlJBQyA9IGZ1bmN0aW9uKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBiYXNpcykge1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBzZXJpYWwoZGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgYWRkT24gPSAoZGF0ZSA+IC0yMjAzODkxMjAwMDAwKT8yOjE7XHJcbiAgICAgICAgICAgIHJldHVybiAoZGF0ZSAtIGQxOTAwKSAvIDg2NDAwMDAwICsgYWRkT247XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XHJcbiAgICB9KSgpO1xyXG4gICAgXHJcbiAgICBqZXhjZWwubWV0aG9kcy5kYXRhYmFzZSA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZXhwb3J0cyA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xyXG4gICAgICAgICAgICBpZiAoIWFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5W2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChhcnJheVtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkZJTkRGSUVMRCA9IGZ1bmN0aW9uKGRhdGFiYXNlLCB0aXRsZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFiYXNlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YWJhc2VbaV1bMF0gPT09IHRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHRoZSBpbnB1dCBmaWVsZCB0aXRsZSBpcyBpbmNvcnJlY3RcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGZpbmRSZXN1bHRJbmRleChkYXRhYmFzZSwgY3JpdGVyaWFzKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZGF0YWJhc2VbMF0ubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIG1hdGNoZXNbaV0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtYXhDcml0ZXJpYUxlbmd0aCA9IGNyaXRlcmlhc1swXS5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBjcml0ZXJpYXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjcml0ZXJpYXNbaV0ubGVuZ3RoID4gbWF4Q3JpdGVyaWFMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhDcml0ZXJpYUxlbmd0aCA9IGNyaXRlcmlhc1tpXS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMTsgayA8IGRhdGFiYXNlLmxlbmd0aDsgKytrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMTsgbCA8IGRhdGFiYXNlW2tdLmxlbmd0aDsgKytsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDcml0ZXJpYVJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNNYXRjaGluZ0NyaXRlcmlhID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjcml0ZXJpYXMubGVuZ3RoOyArK2opIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyaXRlcmlhID0gY3JpdGVyaWFzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JpdGVyaWEubGVuZ3RoIDwgbWF4Q3JpdGVyaWFMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyaXRlcmlhRmllbGQgPSBjcml0ZXJpYVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFiYXNlW2tdWzBdICE9PSBjcml0ZXJpYUZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNNYXRjaGluZ0NyaXRlcmlhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IDE7IHAgPCBjcml0ZXJpYS5sZW5ndGg7ICsrcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENyaXRlcmlhUmVzdWx0ID0gY3VycmVudENyaXRlcmlhUmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGV2YWwoZGF0YWJhc2Vba11bbF0gKyBjcml0ZXJpYVtwXSk7IC8vIGpzaGludFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlOmxpbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzTWF0Y2hpbmdDcml0ZXJpYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzW2xdID0gbWF0Y2hlc1tsXSAmJiBjdXJyZW50Q3JpdGVyaWFSZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGRhdGFiYXNlWzBdLmxlbmd0aDsgKytuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlc1tuXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG4gLSAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIC8vIERhdGFiYXNlIGZ1bmN0aW9uc1xyXG4gICAgICAgIGV4cG9ydHMuREFWRVJBR0UgPSBmdW5jdGlvbihkYXRhYmFzZSwgZmllbGQsIGNyaXRlcmlhKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBmaWVsZCBpcyBub3QgYSBudW1iZXIgYW5kIG5vdCBhIHN0cmluZ1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4oZmllbGQpICYmICh0eXBlb2YgZmllbGQgIT09IFwic3RyaW5nXCIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJlc3VsdEluZGV4ZXMgPSBmaW5kUmVzdWx0SW5kZXgoZGF0YWJhc2UsIGNyaXRlcmlhKTtcclxuICAgICAgICAgICAgdmFyIHRhcmdldEZpZWxkcyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBleHBvcnRzLkZJTkRGSUVMRChkYXRhYmFzZSwgZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RmllbGRzID0gdXRpbHMucmVzdChkYXRhYmFzZVtpbmRleF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RmllbGRzID0gdXRpbHMucmVzdChkYXRhYmFzZVtmaWVsZF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBzdW0gPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdEluZGV4ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHN1bSArPSB0YXJnZXRGaWVsZHNbcmVzdWx0SW5kZXhlc1tpXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdEluZGV4ZXMubGVuZ3RoID09PSAwID8gZXJyb3IuZGl2MCA6IHN1bSAvIHJlc3VsdEluZGV4ZXMubGVuZ3RoO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkRDT1VOVCA9IGZ1bmN0aW9uKGRhdGFiYXNlLCBmaWVsZCwgY3JpdGVyaWEpIHtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5EQ09VTlRBID0gZnVuY3Rpb24oZGF0YWJhc2UsIGZpZWxkLCBjcml0ZXJpYSkge1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkRHRVQgPSBmdW5jdGlvbihkYXRhYmFzZSwgZmllbGQsIGNyaXRlcmlhKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBmaWVsZCBpcyBub3QgYSBudW1iZXIgYW5kIG5vdCBhIHN0cmluZ1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4oZmllbGQpICYmICh0eXBlb2YgZmllbGQgIT09IFwic3RyaW5nXCIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJlc3VsdEluZGV4ZXMgPSBmaW5kUmVzdWx0SW5kZXgoZGF0YWJhc2UsIGNyaXRlcmlhKTtcclxuICAgICAgICAgICAgdmFyIHRhcmdldEZpZWxkcyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBleHBvcnRzLkZJTkRGSUVMRChkYXRhYmFzZSwgZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RmllbGRzID0gdXRpbHMucmVzdChkYXRhYmFzZVtpbmRleF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RmllbGRzID0gdXRpbHMucmVzdChkYXRhYmFzZVtmaWVsZF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBubyByZWNvcmQgbWVldHMgdGhlIGNyaXRlcmlhXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHRJbmRleGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJldHVybnMgdGhlICNOVU0hIGVycm9yIHZhbHVlIGJlY2F1c2UgbW9yZSB0aGFuIG9uZSByZWNvcmQgbWVldHMgdGhlXHJcbiAgICAgICAgICAgIC8vIGNyaXRlcmlhXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHRJbmRleGVzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0RmllbGRzW3Jlc3VsdEluZGV4ZXNbMF1dO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkRNQVggPSBmdW5jdGlvbihkYXRhYmFzZSwgZmllbGQsIGNyaXRlcmlhKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBmaWVsZCBpcyBub3QgYSBudW1iZXIgYW5kIG5vdCBhIHN0cmluZ1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4oZmllbGQpICYmICh0eXBlb2YgZmllbGQgIT09IFwic3RyaW5nXCIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJlc3VsdEluZGV4ZXMgPSBmaW5kUmVzdWx0SW5kZXgoZGF0YWJhc2UsIGNyaXRlcmlhKTtcclxuICAgICAgICAgICAgdmFyIHRhcmdldEZpZWxkcyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBleHBvcnRzLkZJTkRGSUVMRChkYXRhYmFzZSwgZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RmllbGRzID0gdXRpbHMucmVzdChkYXRhYmFzZVtpbmRleF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RmllbGRzID0gdXRpbHMucmVzdChkYXRhYmFzZVtmaWVsZF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtYXhWYWx1ZSA9IHRhcmdldEZpZWxkc1tyZXN1bHRJbmRleGVzWzBdXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCByZXN1bHRJbmRleGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4VmFsdWUgPCB0YXJnZXRGaWVsZHNbcmVzdWx0SW5kZXhlc1tpXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZSA9IHRhcmdldEZpZWxkc1tyZXN1bHRJbmRleGVzW2ldXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWF4VmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuRE1JTiA9IGZ1bmN0aW9uKGRhdGFiYXNlLCBmaWVsZCwgY3JpdGVyaWEpIHtcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGZpZWxkIGlzIG5vdCBhIG51bWJlciBhbmQgbm90IGEgc3RyaW5nXHJcbiAgICAgICAgICAgIGlmIChpc05hTihmaWVsZCkgJiYgKHR5cGVvZiBmaWVsZCAhPT0gXCJzdHJpbmdcIikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0SW5kZXhlcyA9IGZpbmRSZXN1bHRJbmRleChkYXRhYmFzZSwgY3JpdGVyaWEpO1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0RmllbGRzID0gW107XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGV4cG9ydHMuRklOREZJRUxEKGRhdGFiYXNlLCBmaWVsZCk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRGaWVsZHMgPSB1dGlscy5yZXN0KGRhdGFiYXNlW2luZGV4XSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRGaWVsZHMgPSB1dGlscy5yZXN0KGRhdGFiYXNlW2ZpZWxkXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG1pblZhbHVlID0gdGFyZ2V0RmllbGRzW3Jlc3VsdEluZGV4ZXNbMF1dO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHJlc3VsdEluZGV4ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChtaW5WYWx1ZSA+IHRhcmdldEZpZWxkc1tyZXN1bHRJbmRleGVzW2ldXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pblZhbHVlID0gdGFyZ2V0RmllbGRzW3Jlc3VsdEluZGV4ZXNbaV1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtaW5WYWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5EUFJPRFVDVCA9IGZ1bmN0aW9uKGRhdGFiYXNlLCBmaWVsZCwgY3JpdGVyaWEpIHtcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGZpZWxkIGlzIG5vdCBhIG51bWJlciBhbmQgbm90IGEgc3RyaW5nXHJcbiAgICAgICAgICAgIGlmIChpc05hTihmaWVsZCkgJiYgKHR5cGVvZiBmaWVsZCAhPT0gXCJzdHJpbmdcIikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0SW5kZXhlcyA9IGZpbmRSZXN1bHRJbmRleChkYXRhYmFzZSwgY3JpdGVyaWEpO1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0RmllbGRzID0gW107XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGV4cG9ydHMuRklOREZJRUxEKGRhdGFiYXNlLCBmaWVsZCk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRGaWVsZHMgPSB1dGlscy5yZXN0KGRhdGFiYXNlW2luZGV4XSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRGaWVsZHMgPSB1dGlscy5yZXN0KGRhdGFiYXNlW2ZpZWxkXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHRhcmdldFZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdEluZGV4ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldFZhbHVlc1tpXSA9IHRhcmdldEZpZWxkc1tyZXN1bHRJbmRleGVzW2ldXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YXJnZXRWYWx1ZXMgPSBjb21wYWN0KHRhcmdldFZhbHVlcyk7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAxO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGFyZ2V0VmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKj0gdGFyZ2V0VmFsdWVzW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuRFNUREVWID0gZnVuY3Rpb24oZGF0YWJhc2UsIGZpZWxkLCBjcml0ZXJpYSkge1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkRTVERFVlAgPSBmdW5jdGlvbihkYXRhYmFzZSwgZmllbGQsIGNyaXRlcmlhKSB7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuRFNVTSA9IGZ1bmN0aW9uKGRhdGFiYXNlLCBmaWVsZCwgY3JpdGVyaWEpIHtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5EVkFSID0gZnVuY3Rpb24oZGF0YWJhc2UsIGZpZWxkLCBjcml0ZXJpYSkge1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkRWQVJQID0gZnVuY3Rpb24oZGF0YWJhc2UsIGZpZWxkLCBjcml0ZXJpYSkge1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk1BVENIID0gZnVuY3Rpb24obG9va3VwVmFsdWUsIGxvb2t1cEFycmF5LCBtYXRjaFR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKCFsb29rdXBWYWx1ZSAmJiAhbG9va3VwQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5uYTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hUeXBlID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIShsb29rdXBBcnJheSBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm5hO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtYXRjaFR5cGUgIT09IC0xICYmIG1hdGNoVHlwZSAhPT0gMCAmJiBtYXRjaFR5cGUgIT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5uYTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBpbmRleDtcclxuICAgICAgICAgICAgdmFyIGluZGV4VmFsdWU7XHJcbiAgICBcclxuICAgICAgICAgICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgbG9va3VwQXJyYXkubGVuZ3RoOyBpZHgrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb29rdXBBcnJheVtpZHhdID09PSBsb29rdXBWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWR4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvb2t1cEFycmF5W2lkeF0gPCBsb29rdXBWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWluZGV4VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaWR4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4VmFsdWUgPSBsb29rdXBBcnJheVtpZHhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvb2t1cEFycmF5W2lkeF0gPiBpbmRleFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGlkeCArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleFZhbHVlID0gbG9va3VwQXJyYXlbaWR4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hUeXBlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsb29rdXBWYWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWUgPSBsb29rdXBWYWx1ZS5yZXBsYWNlKC9cXD8vZywgJy4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvb2t1cEFycmF5W2lkeF0udG9Mb3dlckNhc2UoKS5tYXRjaChsb29rdXBWYWx1ZS50b0xvd2VyQ2FzZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkeCArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9va3VwQXJyYXlbaWR4XSA9PT0gbG9va3VwVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZHggKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaFR5cGUgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvb2t1cEFycmF5W2lkeF0gPT09IGxvb2t1cFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZHggKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9va3VwQXJyYXlbaWR4XSA+IGxvb2t1cFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5kZXhWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpZHggKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhWYWx1ZSA9IGxvb2t1cEFycmF5W2lkeF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9va3VwQXJyYXlbaWR4XSA8IGluZGV4VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaWR4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4VmFsdWUgPSBsb29rdXBBcnJheVtpZHhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGluZGV4ID8gaW5kZXggOiBlcnJvci5uYTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XHJcbiAgICB9KSgpO1xyXG4gICAgXHJcbiAgICBqZXhjZWwubWV0aG9kcy5lbmdpbmVlcmluZyA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZXhwb3J0cyA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gaXNWYWxpZEJpbmFyeU51bWJlcihudW1iZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuICgvXlswMV17MSwxMH0kLykudGVzdChudW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQkVTU0VMSSA9IGZ1bmN0aW9uKHgsIG4pIHtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5CRVNTRUxKID0gZnVuY3Rpb24oeCwgbikge1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkJFU1NFTEsgPSBmdW5jdGlvbih4LCBuKSB7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQkVTU0VMWSA9IGZ1bmN0aW9uKHgsIG4pIHtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5CSU4yREVDID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBudW1iZXIgaXMgbm90IGJpbmFyeSBvciBjb250YWlucyBtb3JlIHRoYW4gMTBcclxuICAgICAgICAgICAgLy8gY2hhcmFjdGVycyAoMTAgZGlnaXRzKVxyXG4gICAgICAgICAgICBpZiAoIWlzVmFsaWRCaW5hcnlOdW1iZXIobnVtYmVyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgYmluYXJ5IG51bWJlciB0byBkZWNpbWFsXHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwYXJzZUludChudW1iZXIsIDIpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBuZWdhdGl2ZSBudW1iZXJzXHJcbiAgICAgICAgICAgIHZhciBzdHJpbmdpZmllZCA9IG51bWJlci50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBpZiAoc3RyaW5naWZpZWQubGVuZ3RoID09PSAxMCAmJiBzdHJpbmdpZmllZC5zdWJzdHJpbmcoMCwgMSkgPT09ICcxJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHN0cmluZ2lmaWVkLnN1YnN0cmluZygxKSwgMikgLSA1MTI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQklOMkhFWCA9IGZ1bmN0aW9uKG51bWJlciwgcGxhY2VzKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBudW1iZXIgaXMgbm90IGJpbmFyeSBvciBjb250YWlucyBtb3JlIHRoYW4gMTBcclxuICAgICAgICAgICAgLy8gY2hhcmFjdGVycyAoMTAgZGlnaXRzKVxyXG4gICAgICAgICAgICBpZiAoIWlzVmFsaWRCaW5hcnlOdW1iZXIobnVtYmVyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIElnbm9yZSBwbGFjZXMgYW5kIHJldHVybiBhIDEwLWNoYXJhY3RlciBoZXhhZGVjaW1hbCBudW1iZXIgaWYgbnVtYmVyXHJcbiAgICAgICAgICAgIC8vIGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgIHZhciBzdHJpbmdpZmllZCA9IG51bWJlci50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBpZiAoc3RyaW5naWZpZWQubGVuZ3RoID09PSAxMCAmJiBzdHJpbmdpZmllZC5zdWJzdHJpbmcoMCwgMSkgPT09ICcxJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgxMDk5NTExNjI3MjY0ICsgcGFyc2VJbnQoc3RyaW5naWZpZWQuc3Vic3RyaW5nKDEpLCAyKSkudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ29udmVydCBiaW5hcnkgbnVtYmVyIHRvIGhleGFkZWNpbWFsXHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwYXJzZUludChudW1iZXIsIDIpLnRvU3RyaW5nKDE2KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gaGV4YWRlY2ltYWwgbnVtYmVyIHVzaW5nIHRoZSBtaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgIC8vIG5lY2Vzc2FyeSBpZiBwbGFjZXMgaXMgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIGlmIChwbGFjZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBwbGFjZXMgaXMgbm9ubnVtZXJpY1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHBsYWNlcykpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgcGxhY2VzIGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VzIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSBwbGFjZXMgaW4gY2FzZSBpdCBpcyBub3QgYW4gaW50ZWdlclxyXG4gICAgICAgICAgICAgICAgcGxhY2VzID0gTWF0aC5mbG9vcihwbGFjZXMpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBQYWQgcmV0dXJuIHZhbHVlIHdpdGggbGVhZGluZyAwcyAoemVyb3MpIGlmIG5lY2Vzc2FyeSAodXNpbmdcclxuICAgICAgICAgICAgICAgIC8vIFVuZGVyc2NvcmUuc3RyaW5nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChwbGFjZXMgPj0gcmVzdWx0Lmxlbmd0aCkgPyBSRVBUKCcwJywgcGxhY2VzIC0gcmVzdWx0Lmxlbmd0aCkgKyByZXN1bHQgOiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5CSU4yT0NUID0gZnVuY3Rpb24obnVtYmVyLCBwbGFjZXMpIHtcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIG51bWJlciBpcyBub3QgYmluYXJ5IG9yIGNvbnRhaW5zIG1vcmUgdGhhbiAxMFxyXG4gICAgICAgICAgICAvLyBjaGFyYWN0ZXJzICgxMCBkaWdpdHMpXHJcbiAgICAgICAgICAgIGlmICghaXNWYWxpZEJpbmFyeU51bWJlcihudW1iZXIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSWdub3JlIHBsYWNlcyBhbmQgcmV0dXJuIGEgMTAtY2hhcmFjdGVyIG9jdGFsIG51bWJlciBpZiBudW1iZXIgaXNcclxuICAgICAgICAgICAgLy8gbmVnYXRpdmVcclxuICAgICAgICAgICAgdmFyIHN0cmluZ2lmaWVkID0gbnVtYmVyLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGlmIChzdHJpbmdpZmllZC5sZW5ndGggPT09IDEwICYmIHN0cmluZ2lmaWVkLnN1YnN0cmluZygwLCAxKSA9PT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKDEwNzM3NDEzMTIgKyBwYXJzZUludChzdHJpbmdpZmllZC5zdWJzdHJpbmcoMSksIDIpKS50b1N0cmluZyg4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgYmluYXJ5IG51bWJlciB0byBvY3RhbFxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VJbnQobnVtYmVyLCAyKS50b1N0cmluZyg4KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gb2N0YWwgbnVtYmVyIHVzaW5nIHRoZSBtaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIG5lY2Vzc2FyeVxyXG4gICAgICAgICAgICAvLyBpZiBwbGFjZXMgaXMgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIGlmIChwbGFjZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBwbGFjZXMgaXMgbm9ubnVtZXJpY1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHBsYWNlcykpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgcGxhY2VzIGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VzIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSBwbGFjZXMgaW4gY2FzZSBpdCBpcyBub3QgYW4gaW50ZWdlclxyXG4gICAgICAgICAgICAgICAgcGxhY2VzID0gTWF0aC5mbG9vcihwbGFjZXMpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBQYWQgcmV0dXJuIHZhbHVlIHdpdGggbGVhZGluZyAwcyAoemVyb3MpIGlmIG5lY2Vzc2FyeSAodXNpbmdcclxuICAgICAgICAgICAgICAgIC8vIFVuZGVyc2NvcmUuc3RyaW5nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChwbGFjZXMgPj0gcmVzdWx0Lmxlbmd0aCkgPyBSRVBUKCcwJywgcGxhY2VzIC0gcmVzdWx0Lmxlbmd0aCkgKyByZXN1bHQgOiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5CSVRBTkQgPSBmdW5jdGlvbihudW1iZXIxLCBudW1iZXIyKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBlaXRoZXIgbnVtYmVyIGlzIGEgbm9uLW51bWVyaWMgdmFsdWVcclxuICAgICAgICAgICAgbnVtYmVyMSA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcjEpO1xyXG4gICAgICAgICAgICBudW1iZXIyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyMik7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bWJlcjEsIG51bWJlcjIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZWl0aGVyIG51bWJlciBpcyBsZXNzIHRoYW4gMFxyXG4gICAgICAgICAgICBpZiAobnVtYmVyMSA8IDAgfHwgbnVtYmVyMiA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZWl0aGVyIG51bWJlciBpcyBhIG5vbi1pbnRlZ2VyXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKG51bWJlcjEpICE9PSBudW1iZXIxIHx8IE1hdGguZmxvb3IobnVtYmVyMikgIT09IG51bWJlcjIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZWl0aGVyIG51bWJlciBpcyBncmVhdGVyIHRoYW4gKDJeNDgpLTFcclxuICAgICAgICAgICAgaWYgKG51bWJlcjEgPiAyODE0NzQ5NzY3MTA2NTUgfHwgbnVtYmVyMiA+IDI4MTQ3NDk3NjcxMDY1NSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBiaXR3aXNlIEFORCBvZiB0d28gbnVtYmVyc1xyXG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyMSAmIG51bWJlcjI7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQklUTFNISUZUID0gZnVuY3Rpb24obnVtYmVyLCBzaGlmdCkge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBzaGlmdCA9IHV0aWxzLnBhcnNlTnVtYmVyKHNoaWZ0KTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IobnVtYmVyLCBzaGlmdCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBudW1iZXIgaXMgbGVzcyB0aGFuIDBcclxuICAgICAgICAgICAgaWYgKG51bWJlciA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgbnVtYmVyIGlzIGEgbm9uLWludGVnZXJcclxuICAgICAgICAgICAgaWYgKE1hdGguZmxvb3IobnVtYmVyKSAhPT0gbnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIG51bWJlciBpcyBncmVhdGVyIHRoYW4gKDJeNDgpLTFcclxuICAgICAgICAgICAgaWYgKG51bWJlciA+IDI4MTQ3NDk3NjcxMDY1NSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiB0aGUgYWJzb2x1dGUgdmFsdWUgb2Ygc2hpZnQgaXMgZ3JlYXRlciB0aGFuIDUzXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhzaGlmdCkgPiA1Mykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBudW1iZXIgc2hpZnRlZCBieSBzaGlmdCBiaXRzIHRvIHRoZSBsZWZ0IG9yIHRvIHRoZSByaWdodCBpZlxyXG4gICAgICAgICAgICAvLyBzaGlmdCBpcyBuZWdhdGl2ZVxyXG4gICAgICAgICAgICByZXR1cm4gKHNoaWZ0ID49IDApID8gbnVtYmVyIDw8IHNoaWZ0IDogbnVtYmVyID4+IC1zaGlmdDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5CSVRPUiA9IGZ1bmN0aW9uKG51bWJlcjEsIG51bWJlcjIpIHtcclxuICAgICAgICAgICAgbnVtYmVyMSA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcjEpO1xyXG4gICAgICAgICAgICBudW1iZXIyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyMik7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bWJlcjEsIG51bWJlcjIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZWl0aGVyIG51bWJlciBpcyBsZXNzIHRoYW4gMFxyXG4gICAgICAgICAgICBpZiAobnVtYmVyMSA8IDAgfHwgbnVtYmVyMiA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZWl0aGVyIG51bWJlciBpcyBhIG5vbi1pbnRlZ2VyXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKG51bWJlcjEpICE9PSBudW1iZXIxIHx8IE1hdGguZmxvb3IobnVtYmVyMikgIT09IG51bWJlcjIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZWl0aGVyIG51bWJlciBpcyBncmVhdGVyIHRoYW4gKDJeNDgpLTFcclxuICAgICAgICAgICAgaWYgKG51bWJlcjEgPiAyODE0NzQ5NzY3MTA2NTUgfHwgbnVtYmVyMiA+IDI4MTQ3NDk3NjcxMDY1NSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBiaXR3aXNlIE9SIG9mIHR3byBudW1iZXJzXHJcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIxIHwgbnVtYmVyMjtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5CSVRSU0hJRlQgPSBmdW5jdGlvbihudW1iZXIsIHNoaWZ0KSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIHNoaWZ0ID0gdXRpbHMucGFyc2VOdW1iZXIoc2hpZnQpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihudW1iZXIsIHNoaWZ0KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIG51bWJlciBpcyBsZXNzIHRoYW4gMFxyXG4gICAgICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBudW1iZXIgaXMgYSBub24taW50ZWdlclxyXG4gICAgICAgICAgICBpZiAoTWF0aC5mbG9vcihudW1iZXIpICE9PSBudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgbnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiAoMl40OCktMVxyXG4gICAgICAgICAgICBpZiAobnVtYmVyID4gMjgxNDc0OTc2NzEwNjU1KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBzaGlmdCBpcyBncmVhdGVyIHRoYW4gNTNcclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNoaWZ0KSA+IDUzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIG51bWJlciBzaGlmdGVkIGJ5IHNoaWZ0IGJpdHMgdG8gdGhlIHJpZ2h0IG9yIHRvIHRoZSBsZWZ0IGlmXHJcbiAgICAgICAgICAgIC8vIHNoaWZ0IGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgIHJldHVybiAoc2hpZnQgPj0gMCkgPyBudW1iZXIgPj4gc2hpZnQgOiBudW1iZXIgPDwgLXNoaWZ0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkJJVFhPUiA9IGZ1bmN0aW9uKG51bWJlcjEsIG51bWJlcjIpIHtcclxuICAgICAgICAgICAgbnVtYmVyMSA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcjEpO1xyXG4gICAgICAgICAgICBudW1iZXIyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyMik7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bWJlcjEsIG51bWJlcjIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZWl0aGVyIG51bWJlciBpcyBsZXNzIHRoYW4gMFxyXG4gICAgICAgICAgICBpZiAobnVtYmVyMSA8IDAgfHwgbnVtYmVyMiA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZWl0aGVyIG51bWJlciBpcyBhIG5vbi1pbnRlZ2VyXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKG51bWJlcjEpICE9PSBudW1iZXIxIHx8IE1hdGguZmxvb3IobnVtYmVyMikgIT09IG51bWJlcjIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZWl0aGVyIG51bWJlciBpcyBncmVhdGVyIHRoYW4gKDJeNDgpLTFcclxuICAgICAgICAgICAgaWYgKG51bWJlcjEgPiAyODE0NzQ5NzY3MTA2NTUgfHwgbnVtYmVyMiA+IDI4MTQ3NDk3NjcxMDY1NSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBiaXR3aXNlIFhPUiBvZiB0d28gbnVtYmVyc1xyXG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyMSBeIG51bWJlcjI7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQ09NUExFWCA9IGZ1bmN0aW9uKHJlYWwsIGltYWdpbmFyeSwgc3VmZml4KSB7XHJcbiAgICAgICAgICAgIHJlYWwgPSB1dGlscy5wYXJzZU51bWJlcihyZWFsKTtcclxuICAgICAgICAgICAgaW1hZ2luYXJ5ID0gdXRpbHMucGFyc2VOdW1iZXIoaW1hZ2luYXJ5KTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IocmVhbCwgaW1hZ2luYXJ5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBTZXQgc3VmZml4XHJcbiAgICAgICAgICAgIHN1ZmZpeCA9IChzdWZmaXggPT09IHVuZGVmaW5lZCkgPyAnaScgOiBzdWZmaXg7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHN1ZmZpeCBpcyBuZWl0aGVyIFwiaVwiIG5vciBcImpcIlxyXG4gICAgICAgICAgICBpZiAoc3VmZml4ICE9PSAnaScgJiYgc3VmZml4ICE9PSAnaicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBjb21wbGV4IG51bWJlclxyXG4gICAgICAgICAgICBpZiAocmVhbCA9PT0gMCAmJiBpbWFnaW5hcnkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlYWwgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoaW1hZ2luYXJ5ID09PSAxKSA/IHN1ZmZpeCA6IGltYWdpbmFyeS50b1N0cmluZygpICsgc3VmZml4O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGltYWdpbmFyeSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWwudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBzaWduID0gKGltYWdpbmFyeSA+IDApID8gJysnIDogJyc7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhbC50b1N0cmluZygpICsgc2lnbiArICgoaW1hZ2luYXJ5ID09PSAxKSA/IHN1ZmZpeCA6IGltYWdpbmFyeS50b1N0cmluZygpICsgc3VmZml4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkNPTlZFUlQgPSBmdW5jdGlvbihudW1iZXIsIGZyb21fdW5pdCwgdG9fdW5pdCkge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBMaXN0IG9mIHVuaXRzIHN1cHBvcnRlZCBieSBDT05WRVJUIGFuZCB1bml0cyBkZWZpbmVkIGJ5IHRoZVxyXG4gICAgICAgICAgICAvLyBJbnRlcm5hdGlvbmFsIFN5c3RlbSBvZiBVbml0c1xyXG4gICAgICAgICAgICAvLyBbTmFtZSwgU3ltYm9sLCBBbHRlcm5hdGUgc3ltYm9scywgUXVhbnRpdHksIElTVSwgQ09OVkVSVCwgQ29udmVyc2lvblxyXG4gICAgICAgICAgICAvLyByYXRpb11cclxuICAgICAgICAgICAgdmFyIHVuaXRzID0gW1xyXG4gICAgICAgICAgICAgICAgW1wiYS51LiBvZiBhY3Rpb25cIiwgXCI/XCIsIG51bGwsIFwiYWN0aW9uXCIsIGZhbHNlLCBmYWxzZSwgMS4wNTQ1NzE2ODE4MTgxOGUtMzRdLFxyXG4gICAgICAgICAgICAgICAgW1wiYS51LiBvZiBjaGFyZ2VcIiwgXCJlXCIsIG51bGwsIFwiZWxlY3RyaWNfY2hhcmdlXCIsIGZhbHNlLCBmYWxzZSwgMS42MDIxNzY1MzE0MTQxNGUtMTldLFxyXG4gICAgICAgICAgICAgICAgW1wiYS51LiBvZiBlbmVyZ3lcIiwgXCJFaFwiLCBudWxsLCBcImVuZXJneVwiLCBmYWxzZSwgZmFsc2UsIDQuMzU5NzQ0MTc3NTc1NzZlLTE4XSxcclxuICAgICAgICAgICAgICAgIFtcImEudS4gb2YgbGVuZ3RoXCIsIFwiYT9cIiwgbnVsbCwgXCJsZW5ndGhcIiwgZmFsc2UsIGZhbHNlLCA1LjI5MTc3MjEwODE4MTgyZS0xMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJhLnUuIG9mIG1hc3NcIiwgXCJtP1wiLCBudWxsLCBcIm1hc3NcIiwgZmFsc2UsIGZhbHNlLCA5LjEwOTM4MjYxNjE2MTYyZS0zMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJhLnUuIG9mIHRpbWVcIiwgXCI/L0VoXCIsIG51bGwsIFwidGltZVwiLCBmYWxzZSwgZmFsc2UsIDIuNDE4ODg0MzI2NTA1MTZlLTE3XSxcclxuICAgICAgICAgICAgICAgIFtcImFkbWlyYWx0eSBrbm90XCIsIFwiYWRta25cIiwgbnVsbCwgXCJzcGVlZFwiLCBmYWxzZSwgdHJ1ZSwgMC41MTQ3NzMzMzNdLFxyXG4gICAgICAgICAgICAgICAgW1wiYW1wZXJlXCIsIFwiQVwiLCBudWxsLCBcImVsZWN0cmljX2N1cnJlbnRcIiwgdHJ1ZSwgZmFsc2UsIDFdLFxyXG4gICAgICAgICAgICAgICAgW1wiYW1wZXJlIHBlciBtZXRlclwiLCBcIkEvbVwiLCBudWxsLCBcIm1hZ25ldGljX2ZpZWxkX2ludGVuc2l0eVwiLCB0cnVlLCBmYWxzZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCLDpW5nc3Ryw7ZtXCIsIFwiw4VcIiwgW1wiYW5nXCJdLCBcImxlbmd0aFwiLCBmYWxzZSwgdHJ1ZSwgMWUtMTBdLFxyXG4gICAgICAgICAgICAgICAgW1wiYXJlXCIsIFwiYXJcIiwgbnVsbCwgXCJhcmVhXCIsIGZhbHNlLCB0cnVlLCAxMDBdLFxyXG4gICAgICAgICAgICAgICAgW1wiYXN0cm9ub21pY2FsIHVuaXRcIiwgXCJ1YVwiLCBudWxsLCBcImxlbmd0aFwiLCBmYWxzZSwgZmFsc2UsIDEuNDk1OTc4NzA2OTE2NjdlLTExXSxcclxuICAgICAgICAgICAgICAgIFtcImJhclwiLCBcImJhclwiLCBudWxsLCBcInByZXNzdXJlXCIsIGZhbHNlLCBmYWxzZSwgMTAwMDAwXSxcclxuICAgICAgICAgICAgICAgIFtcImJhcm5cIiwgXCJiXCIsIG51bGwsIFwiYXJlYVwiLCBmYWxzZSwgZmFsc2UsIDFlLTI4XSxcclxuICAgICAgICAgICAgICAgIFtcImJlY3F1ZXJlbFwiLCBcIkJxXCIsIG51bGwsIFwicmFkaW9hY3Rpdml0eVwiLCB0cnVlLCBmYWxzZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJiaXRcIiwgXCJiaXRcIiwgW1wiYlwiXSwgXCJpbmZvcm1hdGlvblwiLCBmYWxzZSwgdHJ1ZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJidHVcIiwgXCJCVFVcIiwgW1wiYnR1XCJdLCBcImVuZXJneVwiLCBmYWxzZSwgdHJ1ZSwgMTA1NS4wNTU4NTI2Ml0sXHJcbiAgICAgICAgICAgICAgICBbXCJieXRlXCIsIFwiYnl0ZVwiLCBudWxsLCBcImluZm9ybWF0aW9uXCIsIGZhbHNlLCB0cnVlLCA4XSxcclxuICAgICAgICAgICAgICAgIFtcImNhbmRlbGFcIiwgXCJjZFwiLCBudWxsLCBcImx1bWlub3VzX2ludGVuc2l0eVwiLCB0cnVlLCBmYWxzZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJjYW5kZWxhIHBlciBzcXVhcmUgbWV0cmVcIiwgXCJjZC9tP1wiLCBudWxsLCBcImx1bWluYW5jZVwiLCB0cnVlLCBmYWxzZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJjb3Vsb21iXCIsIFwiQ1wiLCBudWxsLCBcImVsZWN0cmljX2NoYXJnZVwiLCB0cnVlLCBmYWxzZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJjdWJpYyDDpW5nc3Ryw7ZtXCIsIFwiYW5nM1wiLCBbXCJhbmdeM1wiXSwgXCJ2b2x1bWVcIiwgZmFsc2UsIHRydWUsIDFlLTMwXSxcclxuICAgICAgICAgICAgICAgIFtcImN1YmljIGZvb3RcIiwgXCJmdDNcIiwgW1wiZnReM1wiXSwgXCJ2b2x1bWVcIiwgZmFsc2UsIHRydWUsIDAuMDI4MzE2ODQ2NTkyXSxcclxuICAgICAgICAgICAgICAgIFtcImN1YmljIGluY2hcIiwgXCJpbjNcIiwgW1wiaW5eM1wiXSwgXCJ2b2x1bWVcIiwgZmFsc2UsIHRydWUsIDAuMDAwMDE2Mzg3MDY0XSxcclxuICAgICAgICAgICAgICAgIFtcImN1YmljIGxpZ2h0LXllYXJcIiwgXCJseTNcIiwgW1wibHleM1wiXSwgXCJ2b2x1bWVcIiwgZmFsc2UsIHRydWUsIDguNDY3ODY2NjQ2MjM3MTVlLTQ3XSxcclxuICAgICAgICAgICAgICAgIFtcImN1YmljIG1ldHJlXCIsIFwibT9cIiwgbnVsbCwgXCJ2b2x1bWVcIiwgdHJ1ZSwgdHJ1ZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJjdWJpYyBtaWxlXCIsIFwibWkzXCIsIFtcIm1pXjNcIl0sIFwidm9sdW1lXCIsIGZhbHNlLCB0cnVlLCA0MTY4MTgxODI1LjQ0MDU4XSxcclxuICAgICAgICAgICAgICAgIFtcImN1YmljIG5hdXRpY2FsIG1pbGVcIiwgXCJObWkzXCIsIFtcIk5taV4zXCJdLCBcInZvbHVtZVwiLCBmYWxzZSwgdHJ1ZSwgNjM1MjE4MjIwOF0sXHJcbiAgICAgICAgICAgICAgICBbXCJjdWJpYyBQaWNhXCIsIFwiUGljYTNcIiwgW1wiUGljYXB0M1wiLCBcIlBpY2FeM1wiLCBcIlBpY2FwdF4zXCJdLCBcInZvbHVtZVwiLCBmYWxzZSwgdHJ1ZSwgNy41ODY2MDM3MDM3MDM2OWUtOF0sXHJcbiAgICAgICAgICAgICAgICBbXCJjdWJpYyB5YXJkXCIsIFwieWQzXCIsIFtcInlkXjNcIl0sIFwidm9sdW1lXCIsIGZhbHNlLCB0cnVlLCAwLjc2NDU1NDg1Nzk4NF0sXHJcbiAgICAgICAgICAgICAgICBbXCJjdXBcIiwgXCJjdXBcIiwgbnVsbCwgXCJ2b2x1bWVcIiwgZmFsc2UsIHRydWUsIDAuMDAwMjM2NTg4MjM2NV0sXHJcbiAgICAgICAgICAgICAgICBbXCJkYWx0b25cIiwgXCJEYVwiLCBbXCJ1XCJdLCBcIm1hc3NcIiwgZmFsc2UsIGZhbHNlLCAxLjY2MDUzODg2MjgyODI4ZS0yN10sXHJcbiAgICAgICAgICAgICAgICBbXCJkYXlcIiwgXCJkXCIsIFtcImRheVwiXSwgXCJ0aW1lXCIsIGZhbHNlLCB0cnVlLCA4NjQwMF0sXHJcbiAgICAgICAgICAgICAgICBbXCJkZWdyZWVcIiwgXCLCsFwiLCBudWxsLCBcImFuZ2xlXCIsIGZhbHNlLCBmYWxzZSwgMC4wMTc0NTMyOTI1MTk5NDMzXSxcclxuICAgICAgICAgICAgICAgIFtcImRlZ3JlZXMgUmFua2luZVwiLCBcIlJhbmtcIiwgbnVsbCwgXCJ0ZW1wZXJhdHVyZVwiLCBmYWxzZSwgdHJ1ZSwgMC41NTU1NTU1NTU1NTU1NTZdLFxyXG4gICAgICAgICAgICAgICAgW1wiZHluZVwiLCBcImR5blwiLCBbXCJkeVwiXSwgXCJmb3JjZVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMDAwMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJlbGVjdHJvbnZvbHRcIiwgXCJlVlwiLCBbXCJldlwiXSwgXCJlbmVyZ3lcIiwgZmFsc2UsIHRydWUsIDEuNjAyMTc2NTY1MTQxNDFdLFxyXG4gICAgICAgICAgICAgICAgW1wiZWxsXCIsIFwiZWxsXCIsIG51bGwsIFwibGVuZ3RoXCIsIGZhbHNlLCB0cnVlLCAxLjE0M10sXHJcbiAgICAgICAgICAgICAgICBbXCJlcmdcIiwgXCJlcmdcIiwgW1wiZVwiXSwgXCJlbmVyZ3lcIiwgZmFsc2UsIHRydWUsIDFlLTddLFxyXG4gICAgICAgICAgICAgICAgW1wiZmFyYWRcIiwgXCJGXCIsIG51bGwsIFwiZWxlY3RyaWNfY2FwYWNpdGFuY2VcIiwgdHJ1ZSwgZmFsc2UsIDFdLFxyXG4gICAgICAgICAgICAgICAgW1wiZmx1aWQgb3VuY2VcIiwgXCJvelwiLCBudWxsLCBcInZvbHVtZVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMDAwMjk1NzM1Mjk1NjI1XSxcclxuICAgICAgICAgICAgICAgIFtcImZvb3RcIiwgXCJmdFwiLCBudWxsLCBcImxlbmd0aFwiLCBmYWxzZSwgdHJ1ZSwgMC4zMDQ4XSxcclxuICAgICAgICAgICAgICAgIFtcImZvb3QtcG91bmRcIiwgXCJmbGJcIiwgbnVsbCwgXCJlbmVyZ3lcIiwgZmFsc2UsIHRydWUsIDEuMzU1ODE3OTQ4MzMxNF0sXHJcbiAgICAgICAgICAgICAgICBbXCJnYWxcIiwgXCJHYWxcIiwgbnVsbCwgXCJhY2NlbGVyYXRpb25cIiwgZmFsc2UsIGZhbHNlLCAwLjAxXSxcclxuICAgICAgICAgICAgICAgIFtcImdhbGxvblwiLCBcImdhbFwiLCBudWxsLCBcInZvbHVtZVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMDM3ODU0MTE3ODRdLFxyXG4gICAgICAgICAgICAgICAgW1wiZ2F1c3NcIiwgXCJHXCIsIFtcImdhXCJdLCBcIm1hZ25ldGljX2ZsdXhfZGVuc2l0eVwiLCBmYWxzZSwgdHJ1ZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJncmFpblwiLCBcImdyYWluXCIsIG51bGwsIFwibWFzc1wiLCBmYWxzZSwgdHJ1ZSwgMC4wMDAwNjQ3OTg5XSxcclxuICAgICAgICAgICAgICAgIFtcImdyYW1cIiwgXCJnXCIsIG51bGwsIFwibWFzc1wiLCBmYWxzZSwgdHJ1ZSwgMC4wMDFdLFxyXG4gICAgICAgICAgICAgICAgW1wiZ3JheVwiLCBcIkd5XCIsIG51bGwsIFwiYWJzb3JiZWRfZG9zZVwiLCB0cnVlLCBmYWxzZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJncm9zcyByZWdpc3RlcmVkIHRvblwiLCBcIkdSVFwiLCBbXCJyZWd0b25cIl0sIFwidm9sdW1lXCIsIGZhbHNlLCB0cnVlLCAyLjgzMTY4NDY1OTJdLFxyXG4gICAgICAgICAgICAgICAgW1wiaGVjdGFyZVwiLCBcImhhXCIsIG51bGwsIFwiYXJlYVwiLCBmYWxzZSwgdHJ1ZSwgMTAwMDBdLFxyXG4gICAgICAgICAgICAgICAgW1wiaGVucnlcIiwgXCJIXCIsIG51bGwsIFwiaW5kdWN0YW5jZVwiLCB0cnVlLCBmYWxzZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJoZXJ0elwiLCBcIkh6XCIsIG51bGwsIFwiZnJlcXVlbmN5XCIsIHRydWUsIGZhbHNlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcImhvcnNlcG93ZXJcIiwgXCJIUFwiLCBbXCJoXCJdLCBcInBvd2VyXCIsIGZhbHNlLCB0cnVlLCA3NDUuNjk5ODcxNTgyMjddLFxyXG4gICAgICAgICAgICAgICAgW1wiaG9yc2Vwb3dlci1ob3VyXCIsIFwiSFBoXCIsIFtcImhoXCIsIFwiaHBoXCJdLCBcImVuZXJneVwiLCBmYWxzZSwgdHJ1ZSwgMjY4NDUxOS41MzhdLFxyXG4gICAgICAgICAgICAgICAgW1wiaG91clwiLCBcImhcIiwgW1wiaHJcIl0sIFwidGltZVwiLCBmYWxzZSwgdHJ1ZSwgMzYwMF0sXHJcbiAgICAgICAgICAgICAgICBbXCJpbXBlcmlhbCBnYWxsb24gKFUuSy4pXCIsIFwidWtfZ2FsXCIsIG51bGwsIFwidm9sdW1lXCIsIGZhbHNlLCB0cnVlLCAwLjAwNDU0NjA5XSxcclxuICAgICAgICAgICAgICAgIFtcImltcGVyaWFsIGh1bmRyZWR3ZWlnaHRcIiwgXCJsY3d0XCIsIFtcInVrX2N3dFwiLCBcImh3ZWlnaHRcIl0sIFwibWFzc1wiLCBmYWxzZSwgdHJ1ZSwgNTAuODAyMzQ1XSxcclxuICAgICAgICAgICAgICAgIFtcImltcGVyaWFsIHF1YXJ0IChVLkspXCIsIFwidWtfcXRcIiwgbnVsbCwgXCJ2b2x1bWVcIiwgZmFsc2UsIHRydWUsIDAuMDAxMTM2NTIyNV0sXHJcbiAgICAgICAgICAgICAgICBbXCJpbXBlcmlhbCB0b25cIiwgXCJicnRvblwiLCBbXCJ1a190b25cIiwgXCJMVE9OXCJdLCBcIm1hc3NcIiwgZmFsc2UsIHRydWUsIDEwMTYuMDQ2OTA5XSxcclxuICAgICAgICAgICAgICAgIFtcImluY2hcIiwgXCJpblwiLCBudWxsLCBcImxlbmd0aFwiLCBmYWxzZSwgdHJ1ZSwgMC4wMjU0XSxcclxuICAgICAgICAgICAgICAgIFtcImludGVybmF0aW9uYWwgYWNyZVwiLCBcInVrX2FjcmVcIiwgbnVsbCwgXCJhcmVhXCIsIGZhbHNlLCB0cnVlLCA0MDQ2Ljg1NjQyMjRdLFxyXG4gICAgICAgICAgICAgICAgW1wiSVQgY2Fsb3JpZVwiLCBcImNhbFwiLCBudWxsLCBcImVuZXJneVwiLCBmYWxzZSwgdHJ1ZSwgNC4xODY4XSxcclxuICAgICAgICAgICAgICAgIFtcImpvdWxlXCIsIFwiSlwiLCBudWxsLCBcImVuZXJneVwiLCB0cnVlLCB0cnVlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcImthdGFsXCIsIFwia2F0XCIsIG51bGwsIFwiY2F0YWx5dGljX2FjdGl2aXR5XCIsIHRydWUsIGZhbHNlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcImtlbHZpblwiLCBcIktcIiwgW1wia2VsXCJdLCBcInRlbXBlcmF0dXJlXCIsIHRydWUsIHRydWUsIDFdLFxyXG4gICAgICAgICAgICAgICAgW1wia2lsb2dyYW1cIiwgXCJrZ1wiLCBudWxsLCBcIm1hc3NcIiwgdHJ1ZSwgdHJ1ZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJrbm90XCIsIFwia25cIiwgbnVsbCwgXCJzcGVlZFwiLCBmYWxzZSwgdHJ1ZSwgMC41MTQ0NDQ0NDQ0NDQ0NDRdLFxyXG4gICAgICAgICAgICAgICAgW1wibGlnaHQteWVhclwiLCBcImx5XCIsIG51bGwsIFwibGVuZ3RoXCIsIGZhbHNlLCB0cnVlLCA5NDYwNzMwNDcyNTgwODAwXSxcclxuICAgICAgICAgICAgICAgIFtcImxpdHJlXCIsIFwiTFwiLCBbXCJsXCIsIFwibHRcIl0sIFwidm9sdW1lXCIsIGZhbHNlLCB0cnVlLCAwLjAwMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJsdW1lblwiLCBcImxtXCIsIG51bGwsIFwibHVtaW5vdXNfZmx1eFwiLCB0cnVlLCBmYWxzZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJsdXhcIiwgXCJseFwiLCBudWxsLCBcImlsbHVtaW5hbmNlXCIsIHRydWUsIGZhbHNlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcIm1heHdlbGxcIiwgXCJNeFwiLCBudWxsLCBcIm1hZ25ldGljX2ZsdXhcIiwgZmFsc2UsIGZhbHNlLCAxZS0xOF0sXHJcbiAgICAgICAgICAgICAgICBbXCJtZWFzdXJlbWVudCB0b25cIiwgXCJNVE9OXCIsIG51bGwsIFwidm9sdW1lXCIsIGZhbHNlLCB0cnVlLCAxLjEzMjY3Mzg2MzY4XSxcclxuICAgICAgICAgICAgICAgIFtcIm1ldGVyIHBlciBob3VyXCIsIFwibS9oXCIsIFtcIm0vaHJcIl0sIFwic3BlZWRcIiwgZmFsc2UsIHRydWUsIDAuMDAwMjc3Nzc3Nzc3Nzc3NzhdLFxyXG4gICAgICAgICAgICAgICAgW1wibWV0ZXIgcGVyIHNlY29uZFwiLCBcIm0vc1wiLCBbXCJtL3NlY1wiXSwgXCJzcGVlZFwiLCB0cnVlLCB0cnVlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcIm1ldGVyIHBlciBzZWNvbmQgc3F1YXJlZFwiLCBcIm0/cz8/XCIsIG51bGwsIFwiYWNjZWxlcmF0aW9uXCIsIHRydWUsIGZhbHNlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcInBhcnNlY1wiLCBcInBjXCIsIFtcInBhcnNlY1wiXSwgXCJsZW5ndGhcIiwgZmFsc2UsIHRydWUsIDMwODU2Nzc1ODE0NjcxOTAwXSxcclxuICAgICAgICAgICAgICAgIFtcIm1ldGVyIHNxdWFyZWQgcGVyIHNlY29uZFwiLCBcIm0/L3NcIiwgbnVsbCwgXCJraW5lbWF0aWNfdmlzY29zaXR5XCIsIHRydWUsIGZhbHNlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcIm1ldHJlXCIsIFwibVwiLCBudWxsLCBcImxlbmd0aFwiLCB0cnVlLCB0cnVlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcIm1pbGVzIHBlciBob3VyXCIsIFwibXBoXCIsIG51bGwsIFwic3BlZWRcIiwgZmFsc2UsIHRydWUsIDAuNDQ3MDRdLFxyXG4gICAgICAgICAgICAgICAgW1wibWlsbGltZXRyZSBvZiBtZXJjdXJ5XCIsIFwibW1IZ1wiLCBudWxsLCBcInByZXNzdXJlXCIsIGZhbHNlLCBmYWxzZSwgMTMzLjMyMl0sXHJcbiAgICAgICAgICAgICAgICBbXCJtaW51dGVcIiwgXCI/XCIsIG51bGwsIFwiYW5nbGVcIiwgZmFsc2UsIGZhbHNlLCAwLjAwMDI5MDg4ODIwODY2NTcyMl0sXHJcbiAgICAgICAgICAgICAgICBbXCJtaW51dGVcIiwgXCJtaW5cIiwgW1wibW5cIl0sIFwidGltZVwiLCBmYWxzZSwgdHJ1ZSwgNjBdLFxyXG4gICAgICAgICAgICAgICAgW1wibW9kZXJuIHRlYXNwb29uXCIsIFwidHNwbVwiLCBudWxsLCBcInZvbHVtZVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMDAwMDVdLFxyXG4gICAgICAgICAgICAgICAgW1wibW9sZVwiLCBcIm1vbFwiLCBudWxsLCBcImFtb3VudF9vZl9zdWJzdGFuY2VcIiwgdHJ1ZSwgZmFsc2UsIDFdLFxyXG4gICAgICAgICAgICAgICAgW1wibW9yZ2VuXCIsIFwiTW9yZ2VuXCIsIG51bGwsIFwiYXJlYVwiLCBmYWxzZSwgdHJ1ZSwgMjUwMF0sXHJcbiAgICAgICAgICAgICAgICBbXCJuLnUuIG9mIGFjdGlvblwiLCBcIj9cIiwgbnVsbCwgXCJhY3Rpb25cIiwgZmFsc2UsIGZhbHNlLCAxLjA1NDU3MTY4MTgxODE4ZS0zNF0sXHJcbiAgICAgICAgICAgICAgICBbXCJuLnUuIG9mIG1hc3NcIiwgXCJtP1wiLCBudWxsLCBcIm1hc3NcIiwgZmFsc2UsIGZhbHNlLCA5LjEwOTM4MjYxNjE2MTYyZS0zMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJuLnUuIG9mIHNwZWVkXCIsIFwiYz9cIiwgbnVsbCwgXCJzcGVlZFwiLCBmYWxzZSwgZmFsc2UsIDI5OTc5MjQ1OF0sXHJcbiAgICAgICAgICAgICAgICBbXCJuLnUuIG9mIHRpbWVcIiwgXCI/LyhtZT9jPz8pXCIsIG51bGwsIFwidGltZVwiLCBmYWxzZSwgZmFsc2UsIDEuMjg4MDg4NjY3Nzg2ODdlLTIxXSxcclxuICAgICAgICAgICAgICAgIFtcIm5hdXRpY2FsIG1pbGVcIiwgXCJNXCIsIFtcIk5taVwiXSwgXCJsZW5ndGhcIiwgZmFsc2UsIHRydWUsIDE4NTJdLFxyXG4gICAgICAgICAgICAgICAgW1wibmV3dG9uXCIsIFwiTlwiLCBudWxsLCBcImZvcmNlXCIsIHRydWUsIHRydWUsIDFdLFxyXG4gICAgICAgICAgICAgICAgW1wixZNyc3RlZFwiLCBcIk9lIFwiLCBudWxsLCBcIm1hZ25ldGljX2ZpZWxkX2ludGVuc2l0eVwiLCBmYWxzZSwgZmFsc2UsIDc5LjU3NzQ3MTU0NTk0NzddLFxyXG4gICAgICAgICAgICAgICAgW1wib2htXCIsIFwizqlcIiwgbnVsbCwgXCJlbGVjdHJpY19yZXNpc3RhbmNlXCIsIHRydWUsIGZhbHNlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcIm91bmNlIG1hc3NcIiwgXCJvem1cIiwgbnVsbCwgXCJtYXNzXCIsIGZhbHNlLCB0cnVlLCAwLjAyODM0OTUyMzEyNV0sXHJcbiAgICAgICAgICAgICAgICBbXCJwYXNjYWxcIiwgXCJQYVwiLCBudWxsLCBcInByZXNzdXJlXCIsIHRydWUsIGZhbHNlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcInBhc2NhbCBzZWNvbmRcIiwgXCJQYT9zXCIsIG51bGwsIFwiZHluYW1pY192aXNjb3NpdHlcIiwgdHJ1ZSwgZmFsc2UsIDFdLFxyXG4gICAgICAgICAgICAgICAgW1wicGZlcmRlc3TDpHJrZVwiLCBcIlBTXCIsIG51bGwsIFwicG93ZXJcIiwgZmFsc2UsIHRydWUsIDczNS40OTg3NV0sXHJcbiAgICAgICAgICAgICAgICBbXCJwaG90XCIsIFwicGhcIiwgbnVsbCwgXCJpbGx1bWluYW5jZVwiLCBmYWxzZSwgZmFsc2UsIDAuMDAwMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJwaWNhICgxLzYgaW5jaClcIiwgXCJwaWNhXCIsIG51bGwsIFwibGVuZ3RoXCIsIGZhbHNlLCB0cnVlLCAwLjAwMDM1Mjc3Nzc3Nzc3Nzc4XSxcclxuICAgICAgICAgICAgICAgIFtcInBpY2EgKDEvNzIgaW5jaClcIiwgXCJQaWNhXCIsIFtcIlBpY2FwdFwiXSwgXCJsZW5ndGhcIiwgZmFsc2UsIHRydWUsIDAuMDA0MjMzMzMzMzMzMzMzMzNdLFxyXG4gICAgICAgICAgICAgICAgW1wicG9pc2VcIiwgXCJQXCIsIG51bGwsIFwiZHluYW1pY192aXNjb3NpdHlcIiwgZmFsc2UsIGZhbHNlLCAwLjFdLFxyXG4gICAgICAgICAgICAgICAgW1wicG9uZFwiLCBcInBvbmRcIiwgbnVsbCwgXCJmb3JjZVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMDk4MDY2NV0sXHJcbiAgICAgICAgICAgICAgICBbXCJwb3VuZCBmb3JjZVwiLCBcImxiZlwiLCBudWxsLCBcImZvcmNlXCIsIGZhbHNlLCB0cnVlLCA0LjQ0ODIyMTYxNTI2MDVdLFxyXG4gICAgICAgICAgICAgICAgW1wicG91bmQgbWFzc1wiLCBcImxibVwiLCBudWxsLCBcIm1hc3NcIiwgZmFsc2UsIHRydWUsIDAuNDUzNTkyMzddLFxyXG4gICAgICAgICAgICAgICAgW1wicXVhcnRcIiwgXCJxdFwiLCBudWxsLCBcInZvbHVtZVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMDA5NDYzNTI5NDZdLFxyXG4gICAgICAgICAgICAgICAgW1wicmFkaWFuXCIsIFwicmFkXCIsIG51bGwsIFwiYW5nbGVcIiwgdHJ1ZSwgZmFsc2UsIDFdLFxyXG4gICAgICAgICAgICAgICAgW1wic2Vjb25kXCIsIFwiP1wiLCBudWxsLCBcImFuZ2xlXCIsIGZhbHNlLCBmYWxzZSwgMC4wMDAwMDQ4NDgxMzY4MTEwOTUzNl0sXHJcbiAgICAgICAgICAgICAgICBbXCJzZWNvbmRcIiwgXCJzXCIsIFtcInNlY1wiXSwgXCJ0aW1lXCIsIHRydWUsIHRydWUsIDFdLFxyXG4gICAgICAgICAgICAgICAgW1wic2hvcnQgaHVuZHJlZHdlaWdodFwiLCBcImN3dFwiLCBbXCJzaHdlaWdodFwiXSwgXCJtYXNzXCIsIGZhbHNlLCB0cnVlLCA0NS4zNTkyMzddLFxyXG4gICAgICAgICAgICAgICAgW1wic2llbWVuc1wiLCBcIlNcIiwgbnVsbCwgXCJlbGVjdHJpY2FsX2NvbmR1Y3RhbmNlXCIsIHRydWUsIGZhbHNlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcInNpZXZlcnRcIiwgXCJTdlwiLCBudWxsLCBcImVxdWl2YWxlbnRfZG9zZVwiLCB0cnVlLCBmYWxzZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJzbHVnXCIsIFwic2dcIiwgbnVsbCwgXCJtYXNzXCIsIGZhbHNlLCB0cnVlLCAxNC41OTM5MDI5NF0sXHJcbiAgICAgICAgICAgICAgICBbXCJzcXVhcmUgw6VuZ3N0csO2bVwiLCBcImFuZzJcIiwgW1wiYW5nXjJcIl0sIFwiYXJlYVwiLCBmYWxzZSwgdHJ1ZSwgMWUtMjBdLFxyXG4gICAgICAgICAgICAgICAgW1wic3F1YXJlIGZvb3RcIiwgXCJmdDJcIiwgW1wiZnReMlwiXSwgXCJhcmVhXCIsIGZhbHNlLCB0cnVlLCAwLjA5MjkwMzA0XSxcclxuICAgICAgICAgICAgICAgIFtcInNxdWFyZSBpbmNoXCIsIFwiaW4yXCIsIFtcImluXjJcIl0sIFwiYXJlYVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMDA2NDUxNl0sXHJcbiAgICAgICAgICAgICAgICBbXCJzcXVhcmUgbGlnaHQteWVhclwiLCBcImx5MlwiLCBbXCJseV4yXCJdLCBcImFyZWFcIiwgZmFsc2UsIHRydWUsIDguOTUwNTQyMTA3NDgxODllKzMxXSxcclxuICAgICAgICAgICAgICAgIFtcInNxdWFyZSBtZXRlclwiLCBcIm0/XCIsIG51bGwsIFwiYXJlYVwiLCB0cnVlLCB0cnVlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcInNxdWFyZSBtaWxlXCIsIFwibWkyXCIsIFtcIm1pXjJcIl0sIFwiYXJlYVwiLCBmYWxzZSwgdHJ1ZSwgMjU4OTk4OC4xMTAzMzZdLFxyXG4gICAgICAgICAgICAgICAgW1wic3F1YXJlIG5hdXRpY2FsIG1pbGVcIiwgXCJObWkyXCIsIFtcIk5taV4yXCJdLCBcImFyZWFcIiwgZmFsc2UsIHRydWUsIDM0Mjk5MDRdLFxyXG4gICAgICAgICAgICAgICAgW1wic3F1YXJlIFBpY2FcIiwgXCJQaWNhMlwiLCBbXCJQaWNhcHQyXCIsIFwiUGljYV4yXCIsIFwiUGljYXB0XjJcIl0sIFwiYXJlYVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMDAwMTc5MjExMTExMTExMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJzcXVhcmUgeWFyZFwiLCBcInlkMlwiLCBbXCJ5ZF4yXCJdLCBcImFyZWFcIiwgZmFsc2UsIHRydWUsIDAuODM2MTI3MzZdLFxyXG4gICAgICAgICAgICAgICAgW1wic3RhdHV0ZSBtaWxlXCIsIFwibWlcIiwgbnVsbCwgXCJsZW5ndGhcIiwgZmFsc2UsIHRydWUsIDE2MDkuMzQ0XSxcclxuICAgICAgICAgICAgICAgIFtcInN0ZXJhZGlhblwiLCBcInNyXCIsIG51bGwsIFwic29saWRfYW5nbGVcIiwgdHJ1ZSwgZmFsc2UsIDFdLFxyXG4gICAgICAgICAgICAgICAgW1wic3RpbGJcIiwgXCJzYlwiLCBudWxsLCBcImx1bWluYW5jZVwiLCBmYWxzZSwgZmFsc2UsIDAuMDAwMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJzdG9rZXNcIiwgXCJTdFwiLCBudWxsLCBcImtpbmVtYXRpY192aXNjb3NpdHlcIiwgZmFsc2UsIGZhbHNlLCAwLjAwMDFdLFxyXG4gICAgICAgICAgICAgICAgW1wic3RvbmVcIiwgXCJzdG9uZVwiLCBudWxsLCBcIm1hc3NcIiwgZmFsc2UsIHRydWUsIDYuMzUwMjkzMThdLFxyXG4gICAgICAgICAgICAgICAgW1widGFibGVzcG9vblwiLCBcInRic1wiLCBudWxsLCBcInZvbHVtZVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMDAwMTQ3ODY4XSxcclxuICAgICAgICAgICAgICAgIFtcInRlYXNwb29uXCIsIFwidHNwXCIsIG51bGwsIFwidm9sdW1lXCIsIGZhbHNlLCB0cnVlLCAwLjAwMDAwNDkyODkyXSxcclxuICAgICAgICAgICAgICAgIFtcInRlc2xhXCIsIFwiVFwiLCBudWxsLCBcIm1hZ25ldGljX2ZsdXhfZGVuc2l0eVwiLCB0cnVlLCB0cnVlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcInRoZXJtb2R5bmFtaWMgY2Fsb3JpZVwiLCBcImNcIiwgbnVsbCwgXCJlbmVyZ3lcIiwgZmFsc2UsIHRydWUsIDQuMTg0XSxcclxuICAgICAgICAgICAgICAgIFtcInRvblwiLCBcInRvblwiLCBudWxsLCBcIm1hc3NcIiwgZmFsc2UsIHRydWUsIDkwNy4xODQ3NF0sXHJcbiAgICAgICAgICAgICAgICBbXCJ0b25uZVwiLCBcInRcIiwgbnVsbCwgXCJtYXNzXCIsIGZhbHNlLCBmYWxzZSwgMTAwMF0sXHJcbiAgICAgICAgICAgICAgICBbXCJVLksuIHBpbnRcIiwgXCJ1a19wdFwiLCBudWxsLCBcInZvbHVtZVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMDA1NjgyNjEyNV0sXHJcbiAgICAgICAgICAgICAgICBbXCJVLlMuIGJ1c2hlbFwiLCBcImJ1c2hlbFwiLCBudWxsLCBcInZvbHVtZVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMzUyMzkwN10sXHJcbiAgICAgICAgICAgICAgICBbXCJVLlMuIG9pbCBiYXJyZWxcIiwgXCJiYXJyZWxcIiwgbnVsbCwgXCJ2b2x1bWVcIiwgZmFsc2UsIHRydWUsIDAuMTU4OTg3Mjk1XSxcclxuICAgICAgICAgICAgICAgIFtcIlUuUy4gcGludFwiLCBcInB0XCIsIFtcInVzX3B0XCJdLCBcInZvbHVtZVwiLCBmYWxzZSwgdHJ1ZSwgMC4wMDA0NzMxNzY0NzNdLFxyXG4gICAgICAgICAgICAgICAgW1wiVS5TLiBzdXJ2ZXkgbWlsZVwiLCBcInN1cnZleV9taVwiLCBudWxsLCBcImxlbmd0aFwiLCBmYWxzZSwgdHJ1ZSwgMTYwOS4zNDcyMTldLFxyXG4gICAgICAgICAgICAgICAgW1wiVS5TLiBzdXJ2ZXkvc3RhdHV0ZSBhY3JlXCIsIFwidXNfYWNyZVwiLCBudWxsLCBcImFyZWFcIiwgZmFsc2UsIHRydWUsIDQwNDYuODcyNjFdLFxyXG4gICAgICAgICAgICAgICAgW1widm9sdFwiLCBcIlZcIiwgbnVsbCwgXCJ2b2x0YWdlXCIsIHRydWUsIGZhbHNlLCAxXSxcclxuICAgICAgICAgICAgICAgIFtcIndhdHRcIiwgXCJXXCIsIG51bGwsIFwicG93ZXJcIiwgdHJ1ZSwgdHJ1ZSwgMV0sXHJcbiAgICAgICAgICAgICAgICBbXCJ3YXR0LWhvdXJcIiwgXCJXaFwiLCBbXCJ3aFwiXSwgXCJlbmVyZ3lcIiwgZmFsc2UsIHRydWUsIDM2MDBdLFxyXG4gICAgICAgICAgICAgICAgW1wid2ViZXJcIiwgXCJXYlwiLCBudWxsLCBcIm1hZ25ldGljX2ZsdXhcIiwgdHJ1ZSwgZmFsc2UsIDFdLFxyXG4gICAgICAgICAgICAgICAgW1wieWFyZFwiLCBcInlkXCIsIG51bGwsIFwibGVuZ3RoXCIsIGZhbHNlLCB0cnVlLCAwLjkxNDRdLFxyXG4gICAgICAgICAgICAgICAgW1wieWVhclwiLCBcInlyXCIsIG51bGwsIFwidGltZVwiLCBmYWxzZSwgdHJ1ZSwgMzE1NTc2MDBdXHJcbiAgICAgICAgICAgIF07XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQmluYXJ5IHByZWZpeGVzXHJcbiAgICAgICAgICAgIC8vIFtOYW1lLCBQcmVmaXggcG93ZXIgb2YgMiB2YWx1ZSwgUHJldml4IHZhbHVlLCBBYmJyZXZpYXRpb24sIERlcml2ZWRcclxuICAgICAgICAgICAgLy8gZnJvbV1cclxuICAgICAgICAgICAgdmFyIGJpbmFyeV9wcmVmaXhlcyA9IHtcclxuICAgICAgICAgICAgICAgIFlpOiBbXCJ5b2JpXCIsIDgwLCAxMjA4OTI1ODE5NjE0NjI5MTc0NzA2MTc2LCBcIllpXCIsIFwieW90dGFcIl0sXHJcbiAgICAgICAgICAgICAgICBaaTogW1wiemViaVwiLCA3MCwgMTE4MDU5MTYyMDcxNzQxMTMwMzQyNCwgXCJaaVwiLCBcInpldHRhXCJdLFxyXG4gICAgICAgICAgICAgICAgRWk6IFtcImV4YmlcIiwgNjAsIDExNTI5MjE1MDQ2MDY4NDY5NzYsIFwiRWlcIiwgXCJleGFcIl0sXHJcbiAgICAgICAgICAgICAgICBQaTogW1wicGViaVwiLCA1MCwgMTEyNTg5OTkwNjg0MjYyNCwgXCJQaVwiLCBcInBldGFcIl0sXHJcbiAgICAgICAgICAgICAgICBUaTogW1widGViaVwiLCA0MCwgMTA5OTUxMTYyNzc3NiwgXCJUaVwiLCBcInRlcmFcIl0sXHJcbiAgICAgICAgICAgICAgICBHaTogW1wiZ2liaVwiLCAzMCwgMTA3Mzc0MTgyNCwgXCJHaVwiLCBcImdpZ2FcIl0sXHJcbiAgICAgICAgICAgICAgICBNaTogW1wibWViaVwiLCAyMCwgMTA0ODU3NiwgXCJNaVwiLCBcIm1lZ2FcIl0sXHJcbiAgICAgICAgICAgICAgICBraTogW1wia2liaVwiLCAxMCwgMTAyNCwgXCJraVwiLCBcImtpbG9cIl1cclxuICAgICAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBVbml0IHByZWZpeGVzXHJcbiAgICAgICAgICAgIC8vIFtOYW1lLCBNdWx0aXBsaWVyLCBBYmJyZXZpYXRpb25dXHJcbiAgICAgICAgICAgIHZhciB1bml0X3ByZWZpeGVzID0ge1xyXG4gICAgICAgICAgICAgICAgWTogW1wieW90dGFcIiwgMWUrMjQsIFwiWVwiXSxcclxuICAgICAgICAgICAgICAgIFo6IFtcInpldHRhXCIsIDFlKzIxLCBcIlpcIl0sXHJcbiAgICAgICAgICAgICAgICBFOiBbXCJleGFcIiwgMWUrMTgsIFwiRVwiXSxcclxuICAgICAgICAgICAgICAgIFA6IFtcInBldGFcIiwgMWUrMTUsIFwiUFwiXSxcclxuICAgICAgICAgICAgICAgIFQ6IFtcInRlcmFcIiwgMWUrMTIsIFwiVFwiXSxcclxuICAgICAgICAgICAgICAgIEc6IFtcImdpZ2FcIiwgMWUrMDksIFwiR1wiXSxcclxuICAgICAgICAgICAgICAgIE06IFtcIm1lZ2FcIiwgMWUrMDYsIFwiTVwiXSxcclxuICAgICAgICAgICAgICAgIGs6IFtcImtpbG9cIiwgMWUrMDMsIFwia1wiXSxcclxuICAgICAgICAgICAgICAgIGg6IFtcImhlY3RvXCIsIDFlKzAyLCBcImhcIl0sXHJcbiAgICAgICAgICAgICAgICBlOiBbXCJkZWthb1wiLCAxZSswMSwgXCJlXCJdLFxyXG4gICAgICAgICAgICAgICAgZDogW1wiZGVjaVwiLCAxZS0wMSwgXCJkXCJdLFxyXG4gICAgICAgICAgICAgICAgYzogW1wiY2VudGlcIiwgMWUtMDIsIFwiY1wiXSxcclxuICAgICAgICAgICAgICAgIG06IFtcIm1pbGxpXCIsIDFlLTAzLCBcIm1cIl0sXHJcbiAgICAgICAgICAgICAgICB1OiBbXCJtaWNyb1wiLCAxZS0wNiwgXCJ1XCJdLFxyXG4gICAgICAgICAgICAgICAgbjogW1wibmFub1wiLCAxZS0wOSwgXCJuXCJdLFxyXG4gICAgICAgICAgICAgICAgcDogW1wicGljb1wiLCAxZS0xMiwgXCJwXCJdLFxyXG4gICAgICAgICAgICAgICAgZjogW1wiZmVtdG9cIiwgMWUtMTUsIFwiZlwiXSxcclxuICAgICAgICAgICAgICAgIGE6IFtcImF0dG9cIiwgMWUtMTgsIFwiYVwiXSxcclxuICAgICAgICAgICAgICAgIHo6IFtcInplcHRvXCIsIDFlLTIxLCBcInpcIl0sXHJcbiAgICAgICAgICAgICAgICB5OiBbXCJ5b2N0b1wiLCAxZS0yNCwgXCJ5XCJdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB1bml0cyBhbmQgbXVsdGlwbGllcnNcclxuICAgICAgICAgICAgdmFyIGZyb20gPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgdG8gPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgYmFzZV9mcm9tX3VuaXQgPSBmcm9tX3VuaXQ7XHJcbiAgICAgICAgICAgIHZhciBiYXNlX3RvX3VuaXQgPSB0b191bml0O1xyXG4gICAgICAgICAgICB2YXIgZnJvbV9tdWx0aXBsaWVyID0gMTtcclxuICAgICAgICAgICAgdmFyIHRvX211bHRpcGxpZXIgPSAxO1xyXG4gICAgICAgICAgICB2YXIgYWx0O1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCBmcm9tIGFuZCB0byB1bml0c1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVuaXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhbHQgPSAodW5pdHNbaV1bMl0gPT09IG51bGwpID8gW10gOiB1bml0c1tpXVsyXTtcclxuICAgICAgICAgICAgICAgIGlmICh1bml0c1tpXVsxXSA9PT0gYmFzZV9mcm9tX3VuaXQgfHwgYWx0LmluZGV4T2YoYmFzZV9mcm9tX3VuaXQpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgZnJvbSA9IHVuaXRzW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHVuaXRzW2ldWzFdID09PSBiYXNlX3RvX3VuaXQgfHwgYWx0LmluZGV4T2YoYmFzZV90b191bml0KSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRvID0gdW5pdHNbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBMb29rdXAgZnJvbSBwcmVmaXhcclxuICAgICAgICAgICAgaWYgKGZyb20gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmcm9tX2JpbmFyeV9wcmVmaXggPSBiaW5hcnlfcHJlZml4ZXNbZnJvbV91bml0LnN1YnN0cmluZygwLCAyKV07XHJcbiAgICAgICAgICAgICAgICB2YXIgZnJvbV91bml0X3ByZWZpeCA9IHVuaXRfcHJlZml4ZXNbZnJvbV91bml0LnN1YnN0cmluZygwLCAxKV07XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBkZWthbyB1bml0IHByZWZpeCAob25seSB1bml0IHByZWZpeCB3aXRoIHR3byBjaGFyYWN0ZXJzKVxyXG4gICAgICAgICAgICAgICAgaWYgKGZyb21fdW5pdC5zdWJzdHJpbmcoMCwgMikgPT09ICdkYScpIHtcclxuICAgICAgICAgICAgICAgICAgZnJvbV91bml0X3ByZWZpeCA9IFtcImRla2FvXCIsIDFlKzAxLCBcImRhXCJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYmluYXJ5IHByZWZpeGVzIGZpcnN0IChzbyB0aGF0ICdZaScgaXMgcHJvY2Vzc2VkIGJlZm9yZVxyXG4gICAgICAgICAgICAgICAgLy8gJ1knKVxyXG4gICAgICAgICAgICAgICAgaWYgKGZyb21fYmluYXJ5X3ByZWZpeCkge1xyXG4gICAgICAgICAgICAgICAgICBmcm9tX211bHRpcGxpZXIgPSBmcm9tX2JpbmFyeV9wcmVmaXhbMl07XHJcbiAgICAgICAgICAgICAgICAgIGJhc2VfZnJvbV91bml0ID0gZnJvbV91bml0LnN1YnN0cmluZygyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZnJvbV91bml0X3ByZWZpeCkge1xyXG4gICAgICAgICAgICAgICAgICBmcm9tX211bHRpcGxpZXIgPSBmcm9tX3VuaXRfcHJlZml4WzFdO1xyXG4gICAgICAgICAgICAgICAgICBiYXNlX2Zyb21fdW5pdCA9IGZyb21fdW5pdC5zdWJzdHJpbmcoZnJvbV91bml0X3ByZWZpeFsyXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBMb29rdXAgZnJvbSB1bml0XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHVuaXRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgIGFsdCA9ICh1bml0c1tqXVsyXSA9PT0gbnVsbCkgPyBbXSA6IHVuaXRzW2pdWzJdO1xyXG4gICAgICAgICAgICAgICAgICBpZiAodW5pdHNbal1bMV0gPT09IGJhc2VfZnJvbV91bml0IHx8IGFsdC5pbmRleE9mKGJhc2VfZnJvbV91bml0KSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBmcm9tID0gdW5pdHNbal07XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCB0byBwcmVmaXhcclxuICAgICAgICAgICAgaWYgKHRvID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9fYmluYXJ5X3ByZWZpeCA9IGJpbmFyeV9wcmVmaXhlc1t0b191bml0LnN1YnN0cmluZygwLCAyKV07XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9fdW5pdF9wcmVmaXggPSB1bml0X3ByZWZpeGVzW3RvX3VuaXQuc3Vic3RyaW5nKDAsIDEpXTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGRla2FvIHVuaXQgcHJlZml4IChvbmx5IHVuaXQgcHJlZml4IHdpdGggdHdvIGNoYXJhY3RlcnMpXHJcbiAgICAgICAgICAgICAgICBpZiAodG9fdW5pdC5zdWJzdHJpbmcoMCwgMikgPT09ICdkYScpIHtcclxuICAgICAgICAgICAgICAgICAgdG9fdW5pdF9wcmVmaXggPSBbXCJkZWthb1wiLCAxZSswMSwgXCJkYVwiXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGJpbmFyeSBwcmVmaXhlcyBmaXJzdCAoc28gdGhhdCAnWWknIGlzIHByb2Nlc3NlZCBiZWZvcmVcclxuICAgICAgICAgICAgICAgIC8vICdZJylcclxuICAgICAgICAgICAgICAgIGlmICh0b19iaW5hcnlfcHJlZml4KSB7XHJcbiAgICAgICAgICAgICAgICAgIHRvX211bHRpcGxpZXIgPSB0b19iaW5hcnlfcHJlZml4WzJdO1xyXG4gICAgICAgICAgICAgICAgICBiYXNlX3RvX3VuaXQgPSB0b191bml0LnN1YnN0cmluZygyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9fdW5pdF9wcmVmaXgpIHtcclxuICAgICAgICAgICAgICAgICAgdG9fbXVsdGlwbGllciA9IHRvX3VuaXRfcHJlZml4WzFdO1xyXG4gICAgICAgICAgICAgICAgICBiYXNlX3RvX3VuaXQgPSB0b191bml0LnN1YnN0cmluZyh0b191bml0X3ByZWZpeFsyXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBMb29rdXAgdG8gdW5pdFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB1bml0cy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgICBhbHQgPSAodW5pdHNba11bMl0gPT09IG51bGwpID8gW10gOiB1bml0c1trXVsyXTtcclxuICAgICAgICAgICAgICAgICAgaWYgKHVuaXRzW2tdWzFdID09PSBiYXNlX3RvX3VuaXQgfHwgYWx0LmluZGV4T2YoYmFzZV90b191bml0KSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0byA9IHVuaXRzW2tdO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgYSB1bml0IGRvZXMgbm90IGV4aXN0XHJcbiAgICAgICAgICAgIGlmIChmcm9tID09PSBudWxsIHx8IHRvID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubmE7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgdW5pdHMgcmVwcmVzZW50IGRpZmZlcmVudCBxdWFudGl0aWVzXHJcbiAgICAgICAgICAgIGlmIChmcm9tWzNdICE9PSB0b1szXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm5hO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGNvbnZlcnRlZCBudW1iZXJcclxuICAgICAgICAgICAgcmV0dXJuIG51bWJlciAqIGZyb21bNl0gKiBmcm9tX211bHRpcGxpZXIgLyAodG9bNl0gKiB0b19tdWx0aXBsaWVyKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5ERUMyQklOID0gZnVuY3Rpb24obnVtYmVyLCBwbGFjZXMpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIG51bWJlciBpcyBub3QgZGVjaW1hbCwgaXMgbG93ZXIgdGhhbiAtNTEyLCBvciBpc1xyXG4gICAgICAgICAgICAvLyBncmVhdGVyIHRoYW4gNTExXHJcbiAgICAgICAgICAgIGlmICghL14tP1swLTldezEsM30kLy50ZXN0KG51bWJlcikgfHwgbnVtYmVyIDwgLTUxMiB8fCBudW1iZXIgPiA1MTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJZ25vcmUgcGxhY2VzIGFuZCByZXR1cm4gYSAxMC1jaGFyYWN0ZXIgYmluYXJ5IG51bWJlciBpZiBudW1iZXIgaXNcclxuICAgICAgICAgICAgLy8gbmVnYXRpdmVcclxuICAgICAgICAgICAgaWYgKG51bWJlciA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnMScgKyBSRVBUKCcwJywgOSAtICg1MTIgKyBudW1iZXIpLnRvU3RyaW5nKDIpLmxlbmd0aCkgKyAoNTEyICsgbnVtYmVyKS50b1N0cmluZygyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgZGVjaW1hbCBudW1iZXIgdG8gYmluYXJ5XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwYXJzZUludChudW1iZXIsIDEwKS50b1N0cmluZygyKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gYmluYXJ5IG51bWJlciB1c2luZyB0aGUgbWluaW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyBuZWNlc3NhcnlcclxuICAgICAgICAgICAgLy8gaWYgcGxhY2VzIGlzIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBsYWNlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgcGxhY2VzIGlzIG5vbm51bWVyaWNcclxuICAgICAgICAgICAgICAgIGlmIChpc05hTihwbGFjZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHBsYWNlcyBpcyBuZWdhdGl2ZVxyXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlcyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gVHJ1bmNhdGUgcGxhY2VzIGluIGNhc2UgaXQgaXMgbm90IGFuIGludGVnZXJcclxuICAgICAgICAgICAgICAgIHBsYWNlcyA9IE1hdGguZmxvb3IocGxhY2VzKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUGFkIHJldHVybiB2YWx1ZSB3aXRoIGxlYWRpbmcgMHMgKHplcm9zKSBpZiBuZWNlc3NhcnkgKHVzaW5nXHJcbiAgICAgICAgICAgICAgICAvLyBVbmRlcnNjb3JlLnN0cmluZylcclxuICAgICAgICAgICAgICAgIHJldHVybiAocGxhY2VzID49IHJlc3VsdC5sZW5ndGgpID8gUkVQVCgnMCcsIHBsYWNlcyAtIHJlc3VsdC5sZW5ndGgpICsgcmVzdWx0IDogZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuREVDMkhFWCA9IGZ1bmN0aW9uKG51bWJlciwgcGxhY2VzKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBudW1iZXIgaXMgbm90IGRlY2ltYWwsIGlzIGxvd2VyIHRoYW4gLTU0OTc1NTgxMzg4OCxcclxuICAgICAgICAgICAgLy8gb3IgaXMgZ3JlYXRlciB0aGFuIDU0OTc1NTgxMzg4N1xyXG4gICAgICAgICAgICBpZiAoIS9eLT9bMC05XXsxLDEyfSQvLnRlc3QobnVtYmVyKSB8fCBudW1iZXIgPCAtNTQ5NzU1ODEzODg4IHx8IG51bWJlciA+IDU0OTc1NTgxMzg4Nykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIElnbm9yZSBwbGFjZXMgYW5kIHJldHVybiBhIDEwLWNoYXJhY3RlciBoZXhhZGVjaW1hbCBudW1iZXIgaWYgbnVtYmVyXHJcbiAgICAgICAgICAgIC8vIGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKDEwOTk1MTE2Mjc3NzYgKyBudW1iZXIpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgZGVjaW1hbCBudW1iZXIgdG8gaGV4YWRlY2ltYWxcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlSW50KG51bWJlciwgMTApLnRvU3RyaW5nKDE2KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gaGV4YWRlY2ltYWwgbnVtYmVyIHVzaW5nIHRoZSBtaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgIC8vIG5lY2Vzc2FyeSBpZiBwbGFjZXMgaXMgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGxhY2VzID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBwbGFjZXMgaXMgbm9ubnVtZXJpY1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHBsYWNlcykpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgcGxhY2VzIGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VzIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSBwbGFjZXMgaW4gY2FzZSBpdCBpcyBub3QgYW4gaW50ZWdlclxyXG4gICAgICAgICAgICAgICAgcGxhY2VzID0gTWF0aC5mbG9vcihwbGFjZXMpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBQYWQgcmV0dXJuIHZhbHVlIHdpdGggbGVhZGluZyAwcyAoemVyb3MpIGlmIG5lY2Vzc2FyeSAodXNpbmdcclxuICAgICAgICAgICAgICAgIC8vIFVuZGVyc2NvcmUuc3RyaW5nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChwbGFjZXMgPj0gcmVzdWx0Lmxlbmd0aCkgPyBSRVBUKCcwJywgcGxhY2VzIC0gcmVzdWx0Lmxlbmd0aCkgKyByZXN1bHQgOiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5ERUMyT0NUID0gZnVuY3Rpb24obnVtYmVyLCBwbGFjZXMpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIG51bWJlciBpcyBub3QgZGVjaW1hbCwgaXMgbG93ZXIgdGhhbiAtNTQ5NzU1ODEzODg4LFxyXG4gICAgICAgICAgICAvLyBvciBpcyBncmVhdGVyIHRoYW4gNTQ5NzU1ODEzODg3XHJcbiAgICAgICAgICAgIGlmICghL14tP1swLTldezEsOX0kLy50ZXN0KG51bWJlcikgfHwgbnVtYmVyIDwgLTUzNjg3MDkxMiB8fCBudW1iZXIgPiA1MzY4NzA5MTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJZ25vcmUgcGxhY2VzIGFuZCByZXR1cm4gYSAxMC1jaGFyYWN0ZXIgb2N0YWwgbnVtYmVyIGlmIG51bWJlciBpc1xyXG4gICAgICAgICAgICAvLyBuZWdhdGl2ZVxyXG4gICAgICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgxMDczNzQxODI0ICsgbnVtYmVyKS50b1N0cmluZyg4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgZGVjaW1hbCBudW1iZXIgdG8gb2N0YWxcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlSW50KG51bWJlciwgMTApLnRvU3RyaW5nKDgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBvY3RhbCBudW1iZXIgdXNpbmcgdGhlIG1pbmltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgbmVjZXNzYXJ5XHJcbiAgICAgICAgICAgIC8vIGlmIHBsYWNlcyBpcyB1bmRlZmluZWRcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwbGFjZXMgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHBsYWNlcyBpcyBub25udW1lcmljXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4ocGxhY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBwbGFjZXMgaXMgbmVnYXRpdmVcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZXMgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8vIFRydW5jYXRlIHBsYWNlcyBpbiBjYXNlIGl0IGlzIG5vdCBhbiBpbnRlZ2VyXHJcbiAgICAgICAgICAgICAgICBwbGFjZXMgPSBNYXRoLmZsb29yKHBsYWNlcyk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8vIFBhZCByZXR1cm4gdmFsdWUgd2l0aCBsZWFkaW5nIDBzICh6ZXJvcykgaWYgbmVjZXNzYXJ5ICh1c2luZ1xyXG4gICAgICAgICAgICAgICAgLy8gVW5kZXJzY29yZS5zdHJpbmcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHBsYWNlcyA+PSByZXN1bHQubGVuZ3RoKSA/IFJFUFQoJzAnLCBwbGFjZXMgLSByZXN1bHQubGVuZ3RoKSArIHJlc3VsdCA6IGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkRFTFRBID0gZnVuY3Rpb24obnVtYmVyMSwgbnVtYmVyMikge1xyXG4gICAgICAgICAgICAvLyBTZXQgbnVtYmVyMiB0byB6ZXJvIGlmIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICBudW1iZXIyID0gKG51bWJlcjIgPT09IHVuZGVmaW5lZCkgPyAwIDogbnVtYmVyMjtcclxuICAgICAgICAgICAgbnVtYmVyMSA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcjEpO1xyXG4gICAgICAgICAgICBudW1iZXIyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyMik7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bWJlcjEsIG51bWJlcjIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZGVsdGFcclxuICAgICAgICAgICAgcmV0dXJuIChudW1iZXIxID09PSBudW1iZXIyKSA/IDEgOiAwO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkVSRiA9IGZ1bmN0aW9uKGxvd2VyX2JvdW5kLCB1cHBlcl9ib3VuZCkge1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkVSRi5QUkVDSVNFID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuRVJGQyA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5FUkZDLlBSRUNJU0UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5HRVNURVAgPSBmdW5jdGlvbihudW1iZXIsIHN0ZXApIHtcclxuICAgICAgICAgICAgc3RlcCA9IHN0ZXAgfHwgMDtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3Ioc3RlcCwgbnVtYmVyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBkZWx0YVxyXG4gICAgICAgICAgICByZXR1cm4gKG51bWJlciA+PSBzdGVwKSA/IDEgOiAwO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkhFWDJCSU4gPSBmdW5jdGlvbihudW1iZXIsIHBsYWNlcykge1xyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgbnVtYmVyIGlzIG5vdCBoZXhhZGVjaW1hbCBvciBjb250YWlucyBtb3JlIHRoYW4gdGVuXHJcbiAgICAgICAgICAgIC8vIGNoYXJhY3RlcnMgKDEwIGRpZ2l0cylcclxuICAgICAgICAgICAgaWYgKCEvXlswLTlBLUZhLWZdezEsMTB9JC8udGVzdChudW1iZXIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbnVtYmVyIGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgIHZhciBuZWdhdGl2ZSA9IChudW1iZXIubGVuZ3RoID09PSAxMCAmJiBudW1iZXIuc3Vic3RyaW5nKDAsIDEpLnRvTG93ZXJDYXNlKCkgPT09ICdmJykgPyB0cnVlIDogZmFsc2U7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ29udmVydCBoZXhhZGVjaW1hbCBudW1iZXIgdG8gZGVjaW1hbFxyXG4gICAgICAgICAgICB2YXIgZGVjaW1hbCA9IChuZWdhdGl2ZSkgPyBwYXJzZUludChudW1iZXIsIDE2KSAtIDEwOTk1MTE2Mjc3NzYgOiBwYXJzZUludChudW1iZXIsIDE2KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgbnVtYmVyIGlzIGxvd2VyIHRoYW4gLTUxMiBvciBncmVhdGVyIHRoYW4gNTExXHJcbiAgICAgICAgICAgIGlmIChkZWNpbWFsIDwgLTUxMiB8fCBkZWNpbWFsID4gNTExKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSWdub3JlIHBsYWNlcyBhbmQgcmV0dXJuIGEgMTAtY2hhcmFjdGVyIGJpbmFyeSBudW1iZXIgaWYgbnVtYmVyIGlzXHJcbiAgICAgICAgICAgIC8vIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgIGlmIChuZWdhdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcxJyArIFJFUFQoJzAnLCA5IC0gKDUxMiArIGRlY2ltYWwpLnRvU3RyaW5nKDIpLmxlbmd0aCkgKyAoNTEyICsgZGVjaW1hbCkudG9TdHJpbmcoMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGRlY2ltYWwgbnVtYmVyIHRvIGJpbmFyeVxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZGVjaW1hbC50b1N0cmluZygyKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gYmluYXJ5IG51bWJlciB1c2luZyB0aGUgbWluaW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyBuZWNlc3NhcnlcclxuICAgICAgICAgICAgLy8gaWYgcGxhY2VzIGlzIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICBpZiAocGxhY2VzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgcGxhY2VzIGlzIG5vbm51bWVyaWNcclxuICAgICAgICAgICAgICAgIGlmIChpc05hTihwbGFjZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHBsYWNlcyBpcyBuZWdhdGl2ZVxyXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlcyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gVHJ1bmNhdGUgcGxhY2VzIGluIGNhc2UgaXQgaXMgbm90IGFuIGludGVnZXJcclxuICAgICAgICAgICAgICAgIHBsYWNlcyA9IE1hdGguZmxvb3IocGxhY2VzKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUGFkIHJldHVybiB2YWx1ZSB3aXRoIGxlYWRpbmcgMHMgKHplcm9zKSBpZiBuZWNlc3NhcnkgKHVzaW5nXHJcbiAgICAgICAgICAgICAgICAvLyBVbmRlcnNjb3JlLnN0cmluZylcclxuICAgICAgICAgICAgICAgIHJldHVybiAocGxhY2VzID49IHJlc3VsdC5sZW5ndGgpID8gUkVQVCgnMCcsIHBsYWNlcyAtIHJlc3VsdC5sZW5ndGgpICsgcmVzdWx0IDogZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSEVYMkRFQyA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgbnVtYmVyIGlzIG5vdCBoZXhhZGVjaW1hbCBvciBjb250YWlucyBtb3JlIHRoYW4gdGVuXHJcbiAgICAgICAgICAgIC8vIGNoYXJhY3RlcnMgKDEwIGRpZ2l0cylcclxuICAgICAgICAgICAgaWYgKCEvXlswLTlBLUZhLWZdezEsMTB9JC8udGVzdChudW1iZXIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ29udmVydCBoZXhhZGVjaW1hbCBudW1iZXIgdG8gZGVjaW1hbFxyXG4gICAgICAgICAgICB2YXIgZGVjaW1hbCA9IHBhcnNlSW50KG51bWJlciwgMTYpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBkZWNpbWFsIG51bWJlclxyXG4gICAgICAgICAgICByZXR1cm4gKGRlY2ltYWwgPj0gNTQ5NzU1ODEzODg4KSA/IGRlY2ltYWwgLSAxMDk5NTExNjI3Nzc2IDogZGVjaW1hbDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5IRVgyT0NUID0gZnVuY3Rpb24obnVtYmVyLCBwbGFjZXMpIHtcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIG51bWJlciBpcyBub3QgaGV4YWRlY2ltYWwgb3IgY29udGFpbnMgbW9yZSB0aGFuIHRlblxyXG4gICAgICAgICAgICAvLyBjaGFyYWN0ZXJzICgxMCBkaWdpdHMpXHJcbiAgICAgICAgICAgIGlmICghL15bMC05QS1GYS1mXXsxLDEwfSQvLnRlc3QobnVtYmVyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgaGV4YWRlY2ltYWwgbnVtYmVyIHRvIGRlY2ltYWxcclxuICAgICAgICAgICAgdmFyIGRlY2ltYWwgPSBwYXJzZUludChudW1iZXIsIDE2KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgbnVtYmVyIGlzIHBvc2l0aXZlIGFuZCBncmVhdGVyIHRoYW4gMHgxZmZmZmZmZlxyXG4gICAgICAgICAgICAvLyAoNTM2ODcwOTExKVxyXG4gICAgICAgICAgICBpZiAoZGVjaW1hbCA+IDUzNjg3MDkxMSAmJiBkZWNpbWFsIDwgMTA5ODk3NDc1Njg2NCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIElnbm9yZSBwbGFjZXMgYW5kIHJldHVybiBhIDEwLWNoYXJhY3RlciBvY3RhbCBudW1iZXIgaWYgbnVtYmVyIGlzXHJcbiAgICAgICAgICAgIC8vIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgIGlmIChkZWNpbWFsID49IDEwOTg5NzQ3NTY4NjQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoZGVjaW1hbCAtIDEwOTg0Mzc4ODU5NTIpLnRvU3RyaW5nKDgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ29udmVydCBkZWNpbWFsIG51bWJlciB0byBvY3RhbFxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZGVjaW1hbC50b1N0cmluZyg4KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gb2N0YWwgbnVtYmVyIHVzaW5nIHRoZSBtaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIG5lY2Vzc2FyeVxyXG4gICAgICAgICAgICAvLyBpZiBwbGFjZXMgaXMgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIGlmIChwbGFjZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBwbGFjZXMgaXMgbm9ubnVtZXJpY1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHBsYWNlcykpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgcGxhY2VzIGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VzIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSBwbGFjZXMgaW4gY2FzZSBpdCBpcyBub3QgYW4gaW50ZWdlclxyXG4gICAgICAgICAgICAgICAgcGxhY2VzID0gTWF0aC5mbG9vcihwbGFjZXMpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBQYWQgcmV0dXJuIHZhbHVlIHdpdGggbGVhZGluZyAwcyAoemVyb3MpIGlmIG5lY2Vzc2FyeSAodXNpbmdcclxuICAgICAgICAgICAgICAgIC8vIFVuZGVyc2NvcmUuc3RyaW5nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChwbGFjZXMgPj0gcmVzdWx0Lmxlbmd0aCkgPyBSRVBUKCcwJywgcGxhY2VzIC0gcmVzdWx0Lmxlbmd0aCkgKyByZXN1bHQgOiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JTUFCUyA9IGZ1bmN0aW9uKGludW1iZXIpIHtcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgZXhwb3J0cy5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGVpdGhlciBjb2VmZmljaWVudCBpcyBub3QgYSBudW1iZXJcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBhYnNvbHV0ZSB2YWx1ZSBvZiBjb21wbGV4IG51bWJlclxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHgsIDIpICsgTWF0aC5wb3coeSwgMikpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklNQUdJTkFSWSA9IGZ1bmN0aW9uKGludW1iZXIpIHtcclxuICAgICAgICAgICAgaWYgKGludW1iZXIgPT09IHVuZGVmaW5lZCB8fCBpbnVtYmVyID09PSB0cnVlIHx8IGludW1iZXIgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gMCBpZiBpbnVtYmVyIGlzIGVxdWFsIHRvIDBcclxuICAgICAgICAgICAgaWYgKGludW1iZXIgPT09IDAgfHwgaW51bWJlciA9PT0gJzAnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBzcGVjaWFsIGNhc2VzXHJcbiAgICAgICAgICAgIGlmIChbJ2knLCAnaiddLmluZGV4T2YoaW51bWJlcikgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgaW1hZ2luYXJ5IGNvZWZmaWNpZW50XHJcbiAgICAgICAgICAgIGludW1iZXIgPSBpbnVtYmVyLnJlcGxhY2UoJytpJywgJysxaScpLnJlcGxhY2UoJy1pJywgJy0xaScpLnJlcGxhY2UoJytqJywgJysxaicpLnJlcGxhY2UoJy1qJywgJy0xaicpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCBzaWduXHJcbiAgICAgICAgICAgIHZhciBwbHVzID0gaW51bWJlci5pbmRleE9mKCcrJyk7XHJcbiAgICAgICAgICAgIHZhciBtaW51cyA9IGludW1iZXIuaW5kZXhPZignLScpO1xyXG4gICAgICAgICAgICBpZiAocGx1cyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcGx1cyA9IGludW1iZXIuaW5kZXhPZignKycsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKG1pbnVzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBtaW51cyA9IGludW1iZXIuaW5kZXhPZignLScsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gTG9va3VwIGltYWdpbmFyeSB1bml0XHJcbiAgICAgICAgICAgIHZhciBsYXN0ID0gaW51bWJlci5zdWJzdHJpbmcoaW51bWJlci5sZW5ndGggLSAxLCBpbnVtYmVyLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gKGxhc3QgPT09ICdpJyB8fCBsYXN0ID09PSAnaicpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChwbHVzID49IDAgfHwgbWludXMgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGltYWdpbmFyeSB1bml0IGlzIG5laXRoZXIgaSBub3IgalxyXG4gICAgICAgICAgICAgICAgaWYgKCF1bml0KSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBpbWFnaW5hcnkgY29lZmZpY2llbnQgb2YgY29tcGxleCBudW1iZXJcclxuICAgICAgICAgICAgICAgIGlmIChwbHVzID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc05hTihpbnVtYmVyLnN1YnN0cmluZygwLCBwbHVzKSkgfHwgaXNOYU4oaW51bWJlci5zdWJzdHJpbmcocGx1cyArIDEsIGludW1iZXIubGVuZ3RoIC0gMSkpKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvci5udW0gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgTnVtYmVyKGludW1iZXIuc3Vic3RyaW5nKHBsdXMgKyAxLCBpbnVtYmVyLmxlbmd0aCAtIDEpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoaXNOYU4oaW51bWJlci5zdWJzdHJpbmcoMCwgbWludXMpKSB8fCBpc05hTihpbnVtYmVyLnN1YnN0cmluZyhtaW51cyArIDEsIGludW1iZXIubGVuZ3RoIC0gMSkpKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvci5udW0gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgLU51bWJlcihpbnVtYmVyLnN1YnN0cmluZyhtaW51cyArIDEsIGludW1iZXIubGVuZ3RoIC0gMSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVuaXQpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc05hTihpbnVtYmVyLnN1YnN0cmluZygwLCBpbnVtYmVyLmxlbmd0aCAtIDEpKSkgPyBlcnJvci5udW0gOiBpbnVtYmVyLnN1YnN0cmluZygwLCBpbnVtYmVyLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc05hTihpbnVtYmVyKSkgPyBlcnJvci5udW0gOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSU1BUkdVTUVOVCA9IGZ1bmN0aW9uKGludW1iZXIpIHtcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgZXhwb3J0cy5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGVpdGhlciBjb2VmZmljaWVudCBpcyBub3QgYSBudW1iZXJcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBpbnVtYmVyIGlzIGVxdWFsIHRvIHplcm9cclxuICAgICAgICAgICAgaWYgKHggPT09IDAgJiYgeSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLmRpdjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gUEkvMiBpZiB4IGlzIGVxdWFsIHRvIHplcm8gYW5kIHkgaXMgcG9zaXRpdmVcclxuICAgICAgICAgICAgaWYgKHggPT09IDAgJiYgeSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLlBJIC8gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiAtUEkvMiBpZiB4IGlzIGVxdWFsIHRvIHplcm8gYW5kIHkgaXMgbmVnYXRpdmVcclxuICAgICAgICAgICAgaWYgKHggPT09IDAgJiYgeSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtTWF0aC5QSSAvIDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gemVybyBpZiB4IGlzIG5lZ2F0aXZlIGFuZCB5IGlzIGVxdWFsIHRvIHplcm9cclxuICAgICAgICAgICAgaWYgKHkgPT09IDAgJiYgeCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIHplcm8gaWYgeCBpcyBuZWdhdGl2ZSBhbmQgeSBpcyBlcXVhbCB0byB6ZXJvXHJcbiAgICAgICAgICAgIGlmICh5ID09PSAwICYmIHggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLU1hdGguUEk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gYXJndW1lbnQgb2YgY29tcGxleCBudW1iZXJcclxuICAgICAgICAgICAgaWYgKHggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hdGFuKHkgLyB4KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh4IDwgMCAmJiB5ID49IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmF0YW4oeSAvIHgpICsgTWF0aC5QSTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmF0YW4oeSAvIHgpIC0gTWF0aC5QSTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklNQ09OSlVHQVRFID0gZnVuY3Rpb24oaW51bWJlcikge1xyXG4gICAgICAgICAgICAvLyBMb29rdXAgcmVhbCBhbmQgaW1hZ2luYXJ5IGNvZWZmaWNpZW50cyB1c2luZyBleHBvcnRzLmpzXHJcbiAgICAgICAgICAgIC8vIFtodHRwOi8vZm9ybXVsYWpzLm9yZ11cclxuICAgICAgICAgICAgdmFyIHggPSBleHBvcnRzLklNUkVBTChpbnVtYmVyKTtcclxuICAgICAgICAgICAgdmFyIHkgPSBleHBvcnRzLklNQUdJTkFSWShpbnVtYmVyKTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcih4LCB5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gTG9va3VwIGltYWdpbmFyeSB1bml0XHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gaW51bWJlci5zdWJzdHJpbmcoaW51bWJlci5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgdW5pdCA9ICh1bml0ID09PSAnaScgfHwgdW5pdCA9PT0gJ2onKSA/IHVuaXQgOiAnaSc7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGNvbmp1Z2F0ZSBvZiBjb21wbGV4IG51bWJlclxyXG4gICAgICAgICAgICByZXR1cm4gKHkgIT09IDApID8gZXhwb3J0cy5DT01QTEVYKHgsIC15LCB1bml0KSA6IGludW1iZXI7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSU1DT1MgPSBmdW5jdGlvbihpbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIC8vIExvb2t1cCByZWFsIGFuZCBpbWFnaW5hcnkgY29lZmZpY2llbnRzIHVzaW5nIGV4cG9ydHMuanNcclxuICAgICAgICAgICAgLy8gW2h0dHA6Ly9mb3JtdWxhanMub3JnXVxyXG4gICAgICAgICAgICB2YXIgeCA9IGV4cG9ydHMuSU1SRUFMKGludW1iZXIpO1xyXG4gICAgICAgICAgICB2YXIgeSA9IGV4cG9ydHMuSU1BR0lOQVJZKGludW1iZXIpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHgsIHkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBMb29rdXAgaW1hZ2luYXJ5IHVuaXRcclxuICAgICAgICAgICAgdmFyIHVuaXQgPSBpbnVtYmVyLnN1YnN0cmluZyhpbnVtYmVyLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICB1bml0ID0gKHVuaXQgPT09ICdpJyB8fCB1bml0ID09PSAnaicpID8gdW5pdCA6ICdpJztcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gY29zaW5lIG9mIGNvbXBsZXggbnVtYmVyXHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkNPTVBMRVgoTWF0aC5jb3MoeCkgKiAoTWF0aC5leHAoeSkgKyBNYXRoLmV4cCgteSkpIC8gMiwgLU1hdGguc2luKHgpICogKE1hdGguZXhwKHkpIC0gTWF0aC5leHAoLXkpKSAvIDIsIHVuaXQpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklNQ09TSCA9IGZ1bmN0aW9uKGludW1iZXIpIHtcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgZXhwb3J0cy5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCBpbWFnaW5hcnkgdW5pdFxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IGludW1iZXIuc3Vic3RyaW5nKGludW1iZXIubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIHVuaXQgPSAodW5pdCA9PT0gJ2knIHx8IHVuaXQgPT09ICdqJykgPyB1bml0IDogJ2knO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBoeXBlcmJvbGljIGNvc2luZSBvZiBjb21wbGV4IG51bWJlclxyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5DT01QTEVYKE1hdGguY29zKHkpICogKE1hdGguZXhwKHgpICsgTWF0aC5leHAoLXgpKSAvIDIsIE1hdGguc2luKHkpICogKE1hdGguZXhwKHgpIC0gTWF0aC5leHAoLXgpKSAvIDIsIHVuaXQpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklNQ09UID0gZnVuY3Rpb24oaW51bWJlcikge1xyXG4gICAgICAgICAgICAvLyBMb29rdXAgcmVhbCBhbmQgaW1hZ2luYXJ5IGNvZWZmaWNpZW50cyB1c2luZyBGb3JtdWxhLmpzXHJcbiAgICAgICAgICAgIC8vIFtodHRwOi8vZm9ybXVsYWpzLm9yZ11cclxuICAgICAgICAgICAgdmFyIHggPSBleHBvcnRzLklNUkVBTChpbnVtYmVyKTtcclxuICAgICAgICAgICAgdmFyIHkgPSBleHBvcnRzLklNQUdJTkFSWShpbnVtYmVyKTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcih4LCB5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGNvdGFuZ2VudCBvZiBjb21wbGV4IG51bWJlclxyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5JTURJVihleHBvcnRzLklNQ09TKGludW1iZXIpLCBleHBvcnRzLklNU0lOKGludW1iZXIpKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JTURJViA9IGZ1bmN0aW9uKGludW1iZXIxLCBpbnVtYmVyMikge1xyXG4gICAgICAgICAgICAvLyBMb29rdXAgcmVhbCBhbmQgaW1hZ2luYXJ5IGNvZWZmaWNpZW50cyB1c2luZyBGb3JtdWxhLmpzXHJcbiAgICAgICAgICAgIC8vIFtodHRwOi8vZm9ybXVsYWpzLm9yZ11cclxuICAgICAgICAgICAgdmFyIGEgPSBleHBvcnRzLklNUkVBTChpbnVtYmVyMSk7XHJcbiAgICAgICAgICAgIHZhciBiID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcjEpO1xyXG4gICAgICAgICAgICB2YXIgYyA9IGV4cG9ydHMuSU1SRUFMKGludW1iZXIyKTtcclxuICAgICAgICAgICAgdmFyIGQgPSBleHBvcnRzLklNQUdJTkFSWShpbnVtYmVyMik7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoYSwgYiwgYywgZCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCBpbWFnaW5hcnkgdW5pdFxyXG4gICAgICAgICAgICB2YXIgdW5pdDEgPSBpbnVtYmVyMS5zdWJzdHJpbmcoaW51bWJlcjEubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIHZhciB1bml0MiA9IGludW1iZXIyLnN1YnN0cmluZyhpbnVtYmVyMi5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgdmFyIHVuaXQgPSAnaSc7XHJcbiAgICAgICAgICAgIGlmICh1bml0MSA9PT0gJ2onKSB7XHJcbiAgICAgICAgICAgICAgICB1bml0ID0gJ2onO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHVuaXQyID09PSAnaicpIHtcclxuICAgICAgICAgICAgICAgIHVuaXQgPSAnaic7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgaW51bWJlcjIgaXMgbnVsbFxyXG4gICAgICAgICAgICBpZiAoYyA9PT0gMCAmJiBkID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGV4cG9uZW50aWFsIG9mIGNvbXBsZXggbnVtYmVyXHJcbiAgICAgICAgICAgIHZhciBkZW4gPSBjICogYyArIGQgKiBkO1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5DT01QTEVYKChhICogYyArIGIgKiBkKSAvIGRlbiwgKGIgKiBjIC0gYSAqIGQpIC8gZGVuLCB1bml0KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JTUVYUCA9IGZ1bmN0aW9uKGludW1iZXIpIHtcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgRm9ybXVsYS5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCBpbWFnaW5hcnkgdW5pdFxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IGludW1iZXIuc3Vic3RyaW5nKGludW1iZXIubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIHVuaXQgPSAodW5pdCA9PT0gJ2knIHx8IHVuaXQgPT09ICdqJykgPyB1bml0IDogJ2knO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBleHBvbmVudGlhbCBvZiBjb21wbGV4IG51bWJlclxyXG4gICAgICAgICAgICB2YXIgZSA9IE1hdGguZXhwKHgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5DT01QTEVYKGUgKiBNYXRoLmNvcyh5KSwgZSAqIE1hdGguc2luKHkpLCB1bml0KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JTUxOID0gZnVuY3Rpb24oaW51bWJlcikge1xyXG4gICAgICAgICAgICAvLyBMb29rdXAgcmVhbCBhbmQgaW1hZ2luYXJ5IGNvZWZmaWNpZW50cyB1c2luZyBGb3JtdWxhLmpzXHJcbiAgICAgICAgICAgIC8vIFtodHRwOi8vZm9ybXVsYWpzLm9yZ11cclxuICAgICAgICAgICAgdmFyIHggPSBleHBvcnRzLklNUkVBTChpbnVtYmVyKTtcclxuICAgICAgICAgICAgdmFyIHkgPSBleHBvcnRzLklNQUdJTkFSWShpbnVtYmVyKTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcih4LCB5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gTG9va3VwIGltYWdpbmFyeSB1bml0XHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gaW51bWJlci5zdWJzdHJpbmcoaW51bWJlci5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgdW5pdCA9ICh1bml0ID09PSAnaScgfHwgdW5pdCA9PT0gJ2onKSA/IHVuaXQgOiAnaSc7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGV4cG9uZW50aWFsIG9mIGNvbXBsZXggbnVtYmVyXHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkNPTVBMRVgoTWF0aC5sb2coTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpKSwgTWF0aC5hdGFuKHkgLyB4KSwgdW5pdCk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSU1MT0cxMCA9IGZ1bmN0aW9uKGludW1iZXIpIHtcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgRm9ybXVsYS5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCBpbWFnaW5hcnkgdW5pdFxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IGludW1iZXIuc3Vic3RyaW5nKGludW1iZXIubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIHVuaXQgPSAodW5pdCA9PT0gJ2knIHx8IHVuaXQgPT09ICdqJykgPyB1bml0IDogJ2knO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBleHBvbmVudGlhbCBvZiBjb21wbGV4IG51bWJlclxyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5DT01QTEVYKE1hdGgubG9nKE1hdGguc3FydCh4ICogeCArIHkgKiB5KSkgLyBNYXRoLmxvZygxMCksIE1hdGguYXRhbih5IC8geCkgLyBNYXRoLmxvZygxMCksIHVuaXQpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklNTE9HMiA9IGZ1bmN0aW9uKGludW1iZXIpIHtcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgRm9ybXVsYS5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCBpbWFnaW5hcnkgdW5pdFxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IGludW1iZXIuc3Vic3RyaW5nKGludW1iZXIubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIHVuaXQgPSAodW5pdCA9PT0gJ2knIHx8IHVuaXQgPT09ICdqJykgPyB1bml0IDogJ2knO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBleHBvbmVudGlhbCBvZiBjb21wbGV4IG51bWJlclxyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5DT01QTEVYKE1hdGgubG9nKE1hdGguc3FydCh4ICogeCArIHkgKiB5KSkgLyBNYXRoLmxvZygyKSwgTWF0aC5hdGFuKHkgLyB4KSAvIE1hdGgubG9nKDIpLCB1bml0KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JTVBPV0VSID0gZnVuY3Rpb24oaW51bWJlciwgbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bWJlciwgeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCBpbWFnaW5hcnkgdW5pdFxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IGludW1iZXIuc3Vic3RyaW5nKGludW1iZXIubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIHVuaXQgPSAodW5pdCA9PT0gJ2knIHx8IHVuaXQgPT09ICdqJykgPyB1bml0IDogJ2knO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwb3dlciBvZiBtb2R1bHVzXHJcbiAgICAgICAgICAgIHZhciBwID0gTWF0aC5wb3coZXhwb3J0cy5JTUFCUyhpbnVtYmVyKSwgbnVtYmVyKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgYXJndW1lbnRcclxuICAgICAgICAgICAgdmFyIHQgPSBleHBvcnRzLklNQVJHVU1FTlQoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGV4cG9uZW50aWFsIG9mIGNvbXBsZXggbnVtYmVyXHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkNPTVBMRVgocCAqIE1hdGguY29zKG51bWJlciAqIHQpLCBwICogTWF0aC5zaW4obnVtYmVyICogdCksIHVuaXQpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklNUFJPRFVDVCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHJlc3VsdFxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXJndW1lbnRzWzBdO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb3Agb24gYWxsIG51bWJlcnNcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIExvb2t1cCBjb2VmZmljaWVudHMgb2YgdHdvIGNvbXBsZXggbnVtYmVyc1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPSBleHBvcnRzLklNUkVBTChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGIgPSBleHBvcnRzLklNQUdJTkFSWShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBleHBvcnRzLklNUkVBTChhcmd1bWVudHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSBleHBvcnRzLklNQUdJTkFSWShhcmd1bWVudHNbaV0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihhLCBiLCBjLCBkKSkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8vIENvbXBsdXRlIHByb2R1Y3Qgb2YgdHdvIGNvbXBsZXggbnVtYmVyc1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZXhwb3J0cy5DT01QTEVYKGEgKiBjIC0gYiAqIGQsIGEgKiBkICsgYiAqIGMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIHByb2R1Y3Qgb2YgY29tcGxleCBudW1iZXJzXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSU1SRUFMID0gZnVuY3Rpb24oaW51bWJlcikge1xyXG4gICAgICAgICAgICBpZiAoaW51bWJlciA9PT0gdW5kZWZpbmVkIHx8IGludW1iZXIgPT09IHRydWUgfHwgaW51bWJlciA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiAwIGlmIGludW1iZXIgaXMgZXF1YWwgdG8gMFxyXG4gICAgICAgICAgICBpZiAoaW51bWJlciA9PT0gMCB8fCBpbnVtYmVyID09PSAnMCcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSGFuZGxlIHNwZWNpYWwgY2FzZXNcclxuICAgICAgICAgICAgaWYgKFsnaScsICcraScsICcxaScsICcrMWknLCAnLWknLCAnLTFpJywgJ2onLCAnK2onLCAnMWonLCAnKzFqJywgJy1qJywgJy0xaiddLmluZGV4T2YoaW51bWJlcikgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBMb29rdXAgc2lnblxyXG4gICAgICAgICAgICB2YXIgcGx1cyA9IGludW1iZXIuaW5kZXhPZignKycpO1xyXG4gICAgICAgICAgICB2YXIgbWludXMgPSBpbnVtYmVyLmluZGV4T2YoJy0nKTtcclxuICAgICAgICAgICAgaWYgKHBsdXMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBsdXMgPSBpbnVtYmVyLmluZGV4T2YoJysnLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobWludXMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIG1pbnVzID0gaW51bWJlci5pbmRleE9mKCctJywgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBMb29rdXAgaW1hZ2luYXJ5IHVuaXRcclxuICAgICAgICAgICAgdmFyIGxhc3QgPSBpbnVtYmVyLnN1YnN0cmluZyhpbnVtYmVyLmxlbmd0aCAtIDEsIGludW1iZXIubGVuZ3RoKTtcclxuICAgICAgICAgICAgdmFyIHVuaXQgPSAobGFzdCA9PT0gJ2knIHx8IGxhc3QgPT09ICdqJyk7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHBsdXMgPj0gMCB8fCBtaW51cyA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgaW1hZ2luYXJ5IHVuaXQgaXMgbmVpdGhlciBpIG5vciBqXHJcbiAgICAgICAgICAgICAgICBpZiAoIXVuaXQpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHJlYWwgY29lZmZpY2llbnQgb2YgY29tcGxleCBudW1iZXJcclxuICAgICAgICAgICAgICAgIGlmIChwbHVzID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc05hTihpbnVtYmVyLnN1YnN0cmluZygwLCBwbHVzKSkgfHwgaXNOYU4oaW51bWJlci5zdWJzdHJpbmcocGx1cyArIDEsIGludW1iZXIubGVuZ3RoIC0gMSkpKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvci5udW0gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgTnVtYmVyKGludW1iZXIuc3Vic3RyaW5nKDAsIHBsdXMpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoaXNOYU4oaW51bWJlci5zdWJzdHJpbmcoMCwgbWludXMpKSB8fCBpc05hTihpbnVtYmVyLnN1YnN0cmluZyhtaW51cyArIDEsIGludW1iZXIubGVuZ3RoIC0gMSkpKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvci5udW0gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgTnVtYmVyKGludW1iZXIuc3Vic3RyaW5nKDAsIG1pbnVzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodW5pdCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKGlzTmFOKGludW1iZXIuc3Vic3RyaW5nKDAsIGludW1iZXIubGVuZ3RoIC0gMSkpKSA/IGVycm9yLm51bSA6IDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKGlzTmFOKGludW1iZXIpKSA/IGVycm9yLm51bSA6IGludW1iZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JTVNFQyA9IGZ1bmN0aW9uKGludW1iZXIpIHtcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGludW1iZXIgaXMgYSBsb2dpY2FsIHZhbHVlXHJcbiAgICAgICAgICAgIGlmIChpbnVtYmVyID09PSB0cnVlIHx8IGludW1iZXIgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBMb29rdXAgcmVhbCBhbmQgaW1hZ2luYXJ5IGNvZWZmaWNpZW50cyB1c2luZyBGb3JtdWxhLmpzXHJcbiAgICAgICAgICAgIC8vIFtodHRwOi8vZm9ybXVsYWpzLm9yZ11cclxuICAgICAgICAgICAgdmFyIHggPSBleHBvcnRzLklNUkVBTChpbnVtYmVyKTtcclxuICAgICAgICAgICAgdmFyIHkgPSBleHBvcnRzLklNQUdJTkFSWShpbnVtYmVyKTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcih4LCB5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIHNlY2FudCBvZiBjb21wbGV4IG51bWJlclxyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5JTURJVignMScsIGV4cG9ydHMuSU1DT1MoaW51bWJlcikpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklNU0VDSCA9IGZ1bmN0aW9uKGludW1iZXIpIHtcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgRm9ybXVsYS5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBoeXBlcmJvbGljIHNlY2FudCBvZiBjb21wbGV4IG51bWJlclxyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5JTURJVignMScsIGV4cG9ydHMuSU1DT1NIKGludW1iZXIpKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JTVNJTiA9IGZ1bmN0aW9uKGludW1iZXIpIHtcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgRm9ybXVsYS5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCBpbWFnaW5hcnkgdW5pdFxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IGludW1iZXIuc3Vic3RyaW5nKGludW1iZXIubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIHVuaXQgPSAodW5pdCA9PT0gJ2knIHx8IHVuaXQgPT09ICdqJykgPyB1bml0IDogJ2knO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBzaW5lIG9mIGNvbXBsZXggbnVtYmVyXHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkNPTVBMRVgoTWF0aC5zaW4oeCkgKiAoTWF0aC5leHAoeSkgKyBNYXRoLmV4cCgteSkpIC8gMiwgTWF0aC5jb3MoeCkgKiAoTWF0aC5leHAoeSkgLSBNYXRoLmV4cCgteSkpIC8gMiwgdW5pdCk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSU1TSU5IID0gZnVuY3Rpb24oaW51bWJlcikge1xyXG4gICAgICAgICAgICAvLyBMb29rdXAgcmVhbCBhbmQgaW1hZ2luYXJ5IGNvZWZmaWNpZW50cyB1c2luZyBGb3JtdWxhLmpzXHJcbiAgICAgICAgICAgIC8vIFtodHRwOi8vZm9ybXVsYWpzLm9yZ11cclxuICAgICAgICAgICAgdmFyIHggPSBleHBvcnRzLklNUkVBTChpbnVtYmVyKTtcclxuICAgICAgICAgICAgdmFyIHkgPSBleHBvcnRzLklNQUdJTkFSWShpbnVtYmVyKTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcih4LCB5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gTG9va3VwIGltYWdpbmFyeSB1bml0XHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gaW51bWJlci5zdWJzdHJpbmcoaW51bWJlci5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgdW5pdCA9ICh1bml0ID09PSAnaScgfHwgdW5pdCA9PT0gJ2onKSA/IHVuaXQgOiAnaSc7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGh5cGVyYm9saWMgc2luZSBvZiBjb21wbGV4IG51bWJlclxyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5DT01QTEVYKE1hdGguY29zKHkpICogKE1hdGguZXhwKHgpIC0gTWF0aC5leHAoLXgpKSAvIDIsIE1hdGguc2luKHkpICogKE1hdGguZXhwKHgpICsgTWF0aC5leHAoLXgpKSAvIDIsIHVuaXQpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklNU1FSVCA9IGZ1bmN0aW9uKGludW1iZXIpIHtcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgRm9ybXVsYS5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCBpbWFnaW5hcnkgdW5pdFxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IGludW1iZXIuc3Vic3RyaW5nKGludW1iZXIubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIHVuaXQgPSAodW5pdCA9PT0gJ2knIHx8IHVuaXQgPT09ICdqJykgPyB1bml0IDogJ2knO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwb3dlciBvZiBtb2R1bHVzXHJcbiAgICAgICAgICAgIHZhciBzID0gTWF0aC5zcXJ0KGV4cG9ydHMuSU1BQlMoaW51bWJlcikpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBhcmd1bWVudFxyXG4gICAgICAgICAgICB2YXIgdCA9IGV4cG9ydHMuSU1BUkdVTUVOVChpbnVtYmVyKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXhwb25lbnRpYWwgb2YgY29tcGxleCBudW1iZXJcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ09NUExFWChzICogTWF0aC5jb3ModCAvIDIpLCBzICogTWF0aC5zaW4odCAvIDIpLCB1bml0KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JTUNTQyA9IGZ1bmN0aW9uIChpbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBpbnVtYmVyIGlzIGEgbG9naWNhbCB2YWx1ZVxyXG4gICAgICAgICAgICBpZiAoaW51bWJlciA9PT0gdHJ1ZSB8fCBpbnVtYmVyID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgRm9ybXVsYS5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGVpdGhlciBjb2VmZmljaWVudCBpcyBub3QgYSBudW1iZXJcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gY29zZWNhbnQgb2YgY29tcGxleCBudW1iZXJcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuSU1ESVYoJzEnLCBleHBvcnRzLklNU0lOKGludW1iZXIpKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JTUNTQ0ggPSBmdW5jdGlvbiAoaW51bWJlcikge1xyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgaW51bWJlciBpcyBhIGxvZ2ljYWwgdmFsdWVcclxuICAgICAgICAgICAgaWYgKGludW1iZXIgPT09IHRydWUgfHwgaW51bWJlciA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCByZWFsIGFuZCBpbWFnaW5hcnkgY29lZmZpY2llbnRzIHVzaW5nIEZvcm11bGEuanNcclxuICAgICAgICAgICAgLy8gW2h0dHA6Ly9mb3JtdWxhanMub3JnXVxyXG4gICAgICAgICAgICB2YXIgeCA9IGV4cG9ydHMuSU1SRUFMKGludW1iZXIpO1xyXG4gICAgICAgICAgICB2YXIgeSA9IGV4cG9ydHMuSU1BR0lOQVJZKGludW1iZXIpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBlaXRoZXIgY29lZmZpY2llbnQgaXMgbm90IGEgbnVtYmVyXHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHgsIHkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGh5cGVyYm9saWMgY29zZWNhbnQgb2YgY29tcGxleCBudW1iZXJcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuSU1ESVYoJzEnLCBleHBvcnRzLklNU0lOSChpbnVtYmVyKSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSU1TVUIgPSBmdW5jdGlvbihpbnVtYmVyMSwgaW51bWJlcjIpIHtcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgRm9ybXVsYS5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciBhID0gdGhpcy5JTVJFQUwoaW51bWJlcjEpO1xyXG4gICAgICAgICAgICB2YXIgYiA9IHRoaXMuSU1BR0lOQVJZKGludW1iZXIxKTtcclxuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLklNUkVBTChpbnVtYmVyMik7XHJcbiAgICAgICAgICAgIHZhciBkID0gdGhpcy5JTUFHSU5BUlkoaW51bWJlcjIpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKGEsIGIsIGMsIGQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBMb29rdXAgaW1hZ2luYXJ5IHVuaXRcclxuICAgICAgICAgICAgdmFyIHVuaXQxID0gaW51bWJlcjEuc3Vic3RyaW5nKGludW1iZXIxLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICB2YXIgdW5pdDIgPSBpbnVtYmVyMi5zdWJzdHJpbmcoaW51bWJlcjIubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gJ2knO1xyXG4gICAgICAgICAgICBpZiAodW5pdDEgPT09ICdqJykge1xyXG4gICAgICAgICAgICAgICAgdW5pdCA9ICdqJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh1bml0MiA9PT0gJ2onKSB7XHJcbiAgICAgICAgICAgICAgICB1bml0ID0gJ2onO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIF8gb2YgdHdvIGNvbXBsZXggbnVtYmVyc1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5DT01QTEVYKGEgLSBjLCBiIC0gZCwgdW5pdCk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSU1TVU0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSB1dGlscy5mbGF0dGVuKGFyZ3VtZW50cyk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSByZXN1bHRcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGFyZ3NbMF07XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gTG9vcCBvbiBhbGwgbnVtYmVyc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIExvb2t1cCBjb2VmZmljaWVudHMgb2YgdHdvIGNvbXBsZXggbnVtYmVyc1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPSB0aGlzLklNUkVBTChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLklNQUdJTkFSWShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSB0aGlzLklNUkVBTChhcmdzW2ldKTtcclxuICAgICAgICAgICAgICAgIHZhciBkID0gdGhpcy5JTUFHSU5BUlkoYXJnc1tpXSk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKGEsIGIsIGMsIGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQ29tcGx1dGUgcHJvZHVjdCBvZiB0d28gY29tcGxleCBudW1iZXJzXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLkNPTVBMRVgoYSArIGMsIGIgKyBkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBzdW0gb2YgY29tcGxleCBudW1iZXJzXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSU1UQU4gPSBmdW5jdGlvbihpbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBpbnVtYmVyIGlzIGEgbG9naWNhbCB2YWx1ZVxyXG4gICAgICAgICAgICBpZiAoaW51bWJlciA9PT0gdHJ1ZSB8fCBpbnVtYmVyID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gTG9va3VwIHJlYWwgYW5kIGltYWdpbmFyeSBjb2VmZmljaWVudHMgdXNpbmcgRm9ybXVsYS5qc1xyXG4gICAgICAgICAgICAvLyBbaHR0cDovL2Zvcm11bGFqcy5vcmddXHJcbiAgICAgICAgICAgIHZhciB4ID0gZXhwb3J0cy5JTVJFQUwoaW51bWJlcik7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZXhwb3J0cy5JTUFHSU5BUlkoaW51bWJlcik7XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiB0YW5nZW50IG9mIGNvbXBsZXggbnVtYmVyXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLklNRElWKHRoaXMuSU1TSU4oaW51bWJlciksIHRoaXMuSU1DT1MoaW51bWJlcikpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk9DVDJCSU4gPSBmdW5jdGlvbihudW1iZXIsIHBsYWNlcykge1xyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgbnVtYmVyIGlzIG5vdCBoZXhhZGVjaW1hbCBvciBjb250YWlucyBtb3JlIHRoYW4gdGVuXHJcbiAgICAgICAgICAgIC8vIGNoYXJhY3RlcnMgKDEwIGRpZ2l0cylcclxuICAgICAgICAgICAgaWYgKCEvXlswLTddezEsMTB9JC8udGVzdChudW1iZXIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbnVtYmVyIGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgIHZhciBuZWdhdGl2ZSA9IChudW1iZXIubGVuZ3RoID09PSAxMCAmJiBudW1iZXIuc3Vic3RyaW5nKDAsIDEpID09PSAnNycpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgb2N0YWwgbnVtYmVyIHRvIGRlY2ltYWxcclxuICAgICAgICAgICAgdmFyIGRlY2ltYWwgPSAobmVnYXRpdmUpID8gcGFyc2VJbnQobnVtYmVyLCA4KSAtIDEwNzM3NDE4MjQgOiBwYXJzZUludChudW1iZXIsIDgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBudW1iZXIgaXMgbG93ZXIgdGhhbiAtNTEyIG9yIGdyZWF0ZXIgdGhhbiA1MTFcclxuICAgICAgICAgICAgaWYgKGRlY2ltYWwgPCAtNTEyIHx8IGRlY2ltYWwgPiA1MTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJZ25vcmUgcGxhY2VzIGFuZCByZXR1cm4gYSAxMC1jaGFyYWN0ZXIgYmluYXJ5IG51bWJlciBpZiBudW1iZXIgaXNcclxuICAgICAgICAgICAgLy8gbmVnYXRpdmVcclxuICAgICAgICAgICAgaWYgKG5lZ2F0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJzEnICsgUkVQVCgnMCcsIDkgLSAoNTEyICsgZGVjaW1hbCkudG9TdHJpbmcoMikubGVuZ3RoKSArICg1MTIgKyBkZWNpbWFsKS50b1N0cmluZygyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgZGVjaW1hbCBudW1iZXIgdG8gYmluYXJ5XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBkZWNpbWFsLnRvU3RyaW5nKDIpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBiaW5hcnkgbnVtYmVyIHVzaW5nIHRoZSBtaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIG5lY2Vzc2FyeVxyXG4gICAgICAgICAgICAvLyBpZiBwbGFjZXMgaXMgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGxhY2VzID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBwbGFjZXMgaXMgbm9ubnVtZXJpY1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHBsYWNlcykpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgcGxhY2VzIGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VzIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSBwbGFjZXMgaW4gY2FzZSBpdCBpcyBub3QgYW4gaW50ZWdlclxyXG4gICAgICAgICAgICAgICAgcGxhY2VzID0gTWF0aC5mbG9vcihwbGFjZXMpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBQYWQgcmV0dXJuIHZhbHVlIHdpdGggbGVhZGluZyAwcyAoemVyb3MpIGlmIG5lY2Vzc2FyeSAodXNpbmdcclxuICAgICAgICAgICAgICAgIC8vIFVuZGVyc2NvcmUuc3RyaW5nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChwbGFjZXMgPj0gcmVzdWx0Lmxlbmd0aCkgPyBSRVBUKCcwJywgcGxhY2VzIC0gcmVzdWx0Lmxlbmd0aCkgKyByZXN1bHQgOiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5PQ1QyREVDID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBudW1iZXIgaXMgbm90IG9jdGFsIG9yIGNvbnRhaW5zIG1vcmUgdGhhbiB0ZW5cclxuICAgICAgICAgICAgLy8gY2hhcmFjdGVycyAoMTAgZGlnaXRzKVxyXG4gICAgICAgICAgICBpZiAoIS9eWzAtN117MSwxMH0kLy50ZXN0KG51bWJlcikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IG9jdGFsIG51bWJlciB0byBkZWNpbWFsXHJcbiAgICAgICAgICAgIHZhciBkZWNpbWFsID0gcGFyc2VJbnQobnVtYmVyLCA4KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZGVjaW1hbCBudW1iZXJcclxuICAgICAgICAgICAgcmV0dXJuIChkZWNpbWFsID49IDUzNjg3MDkxMikgPyBkZWNpbWFsIC0gMTA3Mzc0MTgyNCA6IGRlY2ltYWw7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuT0NUMkhFWCA9IGZ1bmN0aW9uKG51bWJlciwgcGxhY2VzKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBudW1iZXIgaXMgbm90IG9jdGFsIG9yIGNvbnRhaW5zIG1vcmUgdGhhbiB0ZW5cclxuICAgICAgICAgICAgLy8gY2hhcmFjdGVycyAoMTAgZGlnaXRzKVxyXG4gICAgICAgICAgICBpZiAoIS9eWzAtN117MSwxMH0kLy50ZXN0KG51bWJlcikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IG9jdGFsIG51bWJlciB0byBkZWNpbWFsXHJcbiAgICAgICAgICAgIHZhciBkZWNpbWFsID0gcGFyc2VJbnQobnVtYmVyLCA4KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJZ25vcmUgcGxhY2VzIGFuZCByZXR1cm4gYSAxMC1jaGFyYWN0ZXIgb2N0YWwgbnVtYmVyIGlmIG51bWJlciBpc1xyXG4gICAgICAgICAgICAvLyBuZWdhdGl2ZVxyXG4gICAgICAgICAgICBpZiAoZGVjaW1hbCA+PSA1MzY4NzA5MTIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnZmYnICsgKGRlY2ltYWwgKyAzMjIxMjI1NDcyKS50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGRlY2ltYWwgbnVtYmVyIHRvIGhleGFkZWNpbWFsXHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBkZWNpbWFsLnRvU3RyaW5nKDE2KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gaGV4YWRlY2ltYWwgbnVtYmVyIHVzaW5nIHRoZSBtaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgIC8vIG5lY2Vzc2FyeSBpZiBwbGFjZXMgaXMgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIGlmIChwbGFjZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBwbGFjZXMgaXMgbm9ubnVtZXJpY1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHBsYWNlcykpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgcGxhY2VzIGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VzIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSBwbGFjZXMgaW4gY2FzZSBpdCBpcyBub3QgYW4gaW50ZWdlclxyXG4gICAgICAgICAgICAgICAgcGxhY2VzID0gTWF0aC5mbG9vcihwbGFjZXMpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBQYWQgcmV0dXJuIHZhbHVlIHdpdGggbGVhZGluZyAwcyAoemVyb3MpIGlmIG5lY2Vzc2FyeSAodXNpbmdcclxuICAgICAgICAgICAgICAgIC8vIFVuZGVyc2NvcmUuc3RyaW5nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChwbGFjZXMgPj0gcmVzdWx0Lmxlbmd0aCkgPyBSRVBUKCcwJywgcGxhY2VzIC0gcmVzdWx0Lmxlbmd0aCkgKyByZXN1bHQgOiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XHJcbiAgICB9KSgpO1xyXG4gICAgXHJcbiAgICBqZXhjZWwubWV0aG9kcy5maW5hbmNpYWwgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGV4cG9ydHMgPSB7fTtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHZhbGlkRGF0ZShkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkICYmIGQuZ2V0VGltZSAmJiAhaXNOYU4oZC5nZXRUaW1lKCkpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGVuc3VyZURhdGUoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGQgaW5zdGFuY2VvZiBEYXRlKT9kOm5ldyBEYXRlKGQpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQUNDUklOVCA9IGZ1bmN0aW9uKGlzc3VlLCBmaXJzdCwgc2V0dGxlbWVudCwgcmF0ZSwgcGFyLCBmcmVxdWVuY3ksIGJhc2lzKSB7XHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBlaXRoZXIgZGF0ZSBpcyBpbnZhbGlkXHJcbiAgICAgICAgICAgIGlzc3VlICAgICAgICA9IGVuc3VyZURhdGUoaXNzdWUpO1xyXG4gICAgICAgICAgICBmaXJzdCAgICAgICAgPSBlbnN1cmVEYXRlKGZpcnN0KTtcclxuICAgICAgICAgICAgc2V0dGxlbWVudCA9IGVuc3VyZURhdGUoc2V0dGxlbWVudCk7XHJcbiAgICAgICAgICAgIGlmICghdmFsaWREYXRlKGlzc3VlKSB8fCAhdmFsaWREYXRlKGZpcnN0KSB8fCAhdmFsaWREYXRlKHNldHRsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyNWQUxVRSEnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGVpdGhlciByYXRlIG9yIHBhciBhcmUgbG93ZXIgdGhhbiBvciBlcXVhbCB0byB6ZXJvXHJcbiAgICAgICAgICAgIGlmIChyYXRlIDw9IDAgfHwgcGFyIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnI05VTSEnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGZyZXF1ZW5jeSBpcyBuZWl0aGVyIDEsIDIsIG9yIDRcclxuICAgICAgICAgICAgaWYgKFsxLCAyLCA0XS5pbmRleE9mKGZyZXF1ZW5jeSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyNOVU0hJztcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBiYXNpcyBpcyBuZWl0aGVyIDAsIDEsIDIsIDMsIG9yIDRcclxuICAgICAgICAgICAgaWYgKFswLCAxLCAyLCAzLCA0XS5pbmRleE9mKGJhc2lzKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnI05VTSEnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHNldHRsZW1lbnQgaXMgYmVmb3JlIG9yIGVxdWFsIHRvIGlzc3VlXHJcbiAgICAgICAgICAgIGlmIChzZXR0bGVtZW50IDw9IGlzc3VlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyNOVU0hJztcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IHZhbHVlc1xyXG4gICAgICAgICAgICBwYXIgICA9IHBhciAgIHx8IDA7XHJcbiAgICAgICAgICAgIGJhc2lzID0gYmFzaXMgfHwgMDtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDb21wdXRlIGFjY3J1ZWQgaW50ZXJlc3RcclxuICAgICAgICAgICAgcmV0dXJuIHBhciAqIHJhdGUgKiBZRUFSRlJBQyhpc3N1ZSwgc2V0dGxlbWVudCwgYmFzaXMpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkFDQ1JJTlRNID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQU1PUkRFR1JDID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQU1PUkxJTkMgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DT1VQREFZQlMgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DT1VQREFZUyA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkNPVVBEQVlTTkMgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DT1VQTkNEID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQ09VUE5VTSA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkNPVVBQQ0QgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DVU1JUE1UID0gZnVuY3Rpb24ocmF0ZSwgcGVyaW9kcywgdmFsdWUsIHN0YXJ0LCBlbmQsIHR5cGUpIHtcclxuICAgICAgICAgICAgLy8gQ3JlZGl0czogYWxnb3JpdGhtIGluc3BpcmVkIGJ5IEFwYWNoZSBPcGVuT2ZmaWNlXHJcbiAgICAgICAgICAgIC8vIENyZWRpdHM6IEhhbm5lcyBTdGllYml0emhvZmVyIGZvciB0aGUgdHJhbnNsYXRpb25zIG9mIGZ1bmN0aW9uIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gdmFyaWFibGUgbmFtZXNcclxuICAgICAgICAgICAgLy8gUmVxdWlyZXMgZXhwb3J0cy5GVigpIGFuZCBleHBvcnRzLlBNVCgpIGZyb20gZXhwb3J0cy5qc1xyXG4gICAgICAgICAgICAgICAgLy8gW2h0dHA6Ly9zdG9pYy5jb20vZXhwb3J0cy9dXHJcbiAgICBcclxuICAgICAgICAgICAgcmF0ZSA9IHV0aWxzLnBhcnNlTnVtYmVyKHJhdGUpO1xyXG4gICAgICAgICAgICBwZXJpb2RzID0gdXRpbHMucGFyc2VOdW1iZXIocGVyaW9kcyk7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdXRpbHMucGFyc2VOdW1iZXIodmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihyYXRlLCBwZXJpb2RzLCB2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBlaXRoZXIgcmF0ZSwgcGVyaW9kcywgb3IgdmFsdWUgYXJlIGxvd2VyIHRoYW4gb3JcclxuICAgICAgICAgICAgICAgIC8vIGVxdWFsIHRvIHplcm9cclxuICAgICAgICAgICAgaWYgKHJhdGUgPD0gMCB8fCBwZXJpb2RzIDw9IDAgfHwgdmFsdWUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBzdGFydCA8IDEsIGVuZCA8IDEsIG9yIHN0YXJ0ID4gZW5kXHJcbiAgICAgICAgICAgIGlmIChzdGFydCA8IDEgfHwgZW5kIDwgMSB8fCBzdGFydCA+IGVuZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiB0eXBlIGlzIG5laXRoZXIgMCBub3IgMVxyXG4gICAgICAgICAgICBpZiAodHlwZSAhPT0gMCAmJiB0eXBlICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBjdW11bGF0aXZlIGludGVyZXN0XHJcbiAgICAgICAgICAgIHZhciBwYXltZW50ID0gZXhwb3J0cy5QTVQocmF0ZSwgcGVyaW9kcywgdmFsdWUsIDAsIHR5cGUpO1xyXG4gICAgICAgICAgICB2YXIgaW50ZXJlc3QgPSAwO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChzdGFydCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcmVzdCA9IC12YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVyZXN0ICs9IGV4cG9ydHMuRlYocmF0ZSwgaSAtIDIsIHBheW1lbnQsIHZhbHVlLCAxKSAtIHBheW1lbnQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVyZXN0ICs9IGV4cG9ydHMuRlYocmF0ZSwgaSAtIDEsIHBheW1lbnQsIHZhbHVlLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbnRlcmVzdCAqPSByYXRlO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBjdW11bGF0aXZlIGludGVyZXN0XHJcbiAgICAgICAgICAgIHJldHVybiBpbnRlcmVzdDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DVU1QUklOQyA9IGZ1bmN0aW9uKHJhdGUsIHBlcmlvZHMsIHZhbHVlLCBzdGFydCwgZW5kLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWRpdHM6IGFsZ29yaXRobSBpbnNwaXJlZCBieSBBcGFjaGUgT3Blbk9mZmljZVxyXG4gICAgICAgICAgICAvLyBDcmVkaXRzOiBIYW5uZXMgU3RpZWJpdHpob2ZlciBmb3IgdGhlIHRyYW5zbGF0aW9ucyBvZiBmdW5jdGlvbiBhbmRcclxuICAgICAgICAgICAgICAgIC8vIHZhcmlhYmxlIG5hbWVzXHJcbiAgICBcclxuICAgICAgICAgICAgcmF0ZSA9IHV0aWxzLnBhcnNlTnVtYmVyKHJhdGUpO1xyXG4gICAgICAgICAgICBwZXJpb2RzID0gdXRpbHMucGFyc2VOdW1iZXIocGVyaW9kcyk7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdXRpbHMucGFyc2VOdW1iZXIodmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihyYXRlLCBwZXJpb2RzLCB2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBlaXRoZXIgcmF0ZSwgcGVyaW9kcywgb3IgdmFsdWUgYXJlIGxvd2VyIHRoYW4gb3JcclxuICAgICAgICAgICAgICAgIC8vIGVxdWFsIHRvIHplcm9cclxuICAgICAgICAgICAgaWYgKHJhdGUgPD0gMCB8fCBwZXJpb2RzIDw9IDAgfHwgdmFsdWUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBzdGFydCA8IDEsIGVuZCA8IDEsIG9yIHN0YXJ0ID4gZW5kXHJcbiAgICAgICAgICAgIGlmIChzdGFydCA8IDEgfHwgZW5kIDwgMSB8fCBzdGFydCA+IGVuZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiB0eXBlIGlzIG5laXRoZXIgMCBub3IgMVxyXG4gICAgICAgICAgICBpZiAodHlwZSAhPT0gMCAmJiB0eXBlICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBjdW11bGF0aXZlIHByaW5jaXBhbFxyXG4gICAgICAgICAgICB2YXIgcGF5bWVudCA9IGV4cG9ydHMuUE1UKHJhdGUsIHBlcmlvZHMsIHZhbHVlLCAwLCB0eXBlKTtcclxuICAgICAgICAgICAgdmFyIHByaW5jaXBhbCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChzdGFydCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmluY2lwYWwgPSBwYXltZW50ICsgdmFsdWUgKiByYXRlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmluY2lwYWwgPSBwYXltZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3RhcnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByaW5jaXBhbCArPSBwYXltZW50IC0gKGV4cG9ydHMuRlYocmF0ZSwgaSAtIDIsIHBheW1lbnQsIHZhbHVlLCAxKSAtIHBheW1lbnQpICogcmF0ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpbmNpcGFsICs9IHBheW1lbnQgLSBleHBvcnRzLkZWKHJhdGUsIGkgLSAxLCBwYXltZW50LCB2YWx1ZSwgMCkgKiByYXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGN1bXVsYXRpdmUgcHJpbmNpcGFsXHJcbiAgICAgICAgICAgIHJldHVybiBwcmluY2lwYWw7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuREIgPSBmdW5jdGlvbihjb3N0LCBzYWx2YWdlLCBsaWZlLCBwZXJpb2QsIG1vbnRoKSB7XHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgbW9udGhcclxuICAgICAgICAgICAgbW9udGggPSAobW9udGggPT09IHVuZGVmaW5lZCkgPyAxMiA6IG1vbnRoO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGNvc3QgPSB1dGlscy5wYXJzZU51bWJlcihjb3N0KTtcclxuICAgICAgICAgICAgc2FsdmFnZSA9IHV0aWxzLnBhcnNlTnVtYmVyKHNhbHZhZ2UpO1xyXG4gICAgICAgICAgICBsaWZlID0gdXRpbHMucGFyc2VOdW1iZXIobGlmZSk7XHJcbiAgICAgICAgICAgIHBlcmlvZCA9IHV0aWxzLnBhcnNlTnVtYmVyKHBlcmlvZCk7XHJcbiAgICAgICAgICAgIG1vbnRoID0gdXRpbHMucGFyc2VOdW1iZXIobW9udGgpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihjb3N0LCBzYWx2YWdlLCBsaWZlLCBwZXJpb2QsIG1vbnRoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGFueSBvZiB0aGUgcGFyYW1ldGVycyBpcyBuZWdhdGl2ZVxyXG4gICAgICAgICAgICBpZiAoY29zdCA8IDAgfHwgc2FsdmFnZSA8IDAgfHwgbGlmZSA8IDAgfHwgcGVyaW9kIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBtb250aCBpcyBub3QgYW4gaW50ZWdlciBiZXR3ZWVuIDEgYW5kIDEyXHJcbiAgICAgICAgICAgIGlmIChbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMl0uaW5kZXhPZihtb250aCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHBlcmlvZCBpcyBncmVhdGVyIHRoYW4gbGlmZVxyXG4gICAgICAgICAgICBpZiAocGVyaW9kID4gbGlmZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiAwICh6ZXJvKSBpZiBzYWx2YWdlIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBjb3N0XHJcbiAgICAgICAgICAgIGlmIChzYWx2YWdlID49IGNvc3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmF0ZSBpcyByb3VuZGVkIHRvIHRocmVlIGRlY2ltYWxzIHBsYWNlc1xyXG4gICAgICAgICAgICB2YXIgcmF0ZSA9ICgxIC0gTWF0aC5wb3coc2FsdmFnZSAvIGNvc3QsIDEgLyBsaWZlKSkudG9GaXhlZCgzKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDb21wdXRlIGluaXRpYWwgZGVwcmVjaWF0aW9uXHJcbiAgICAgICAgICAgIHZhciBpbml0aWFsID0gY29zdCAqIHJhdGUgKiBtb250aCAvIDEyO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENvbXB1dGUgdG90YWwgZGVwcmVjaWF0aW9uXHJcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IGluaXRpYWw7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gMDtcclxuICAgICAgICAgICAgdmFyIGNlaWxpbmcgPSAocGVyaW9kID09PSBsaWZlKSA/IGxpZmUgLSAxIDogcGVyaW9kO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8PSBjZWlsaW5nOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSAoY29zdCAtIHRvdGFsKSAqIHJhdGU7XHJcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBjdXJyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gRGVwcmVjaWF0aW9uIGZvciB0aGUgZmlyc3QgYW5kIGxhc3QgcGVyaW9kcyBhcmUgc3BlY2lhbCBjYXNlc1xyXG4gICAgICAgICAgICBpZiAocGVyaW9kID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBGaXJzdCBwZXJpb2RcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBlcmlvZCA9PT0gbGlmZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTGFzdCBwZXJpb2RcclxuICAgICAgICAgICAgICAgIHJldHVybiAoY29zdCAtIHRvdGFsKSAqIHJhdGU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkREQiA9IGZ1bmN0aW9uKGNvc3QsIHNhbHZhZ2UsIGxpZmUsIHBlcmlvZCwgZmFjdG9yKSB7XHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgZmFjdG9yXHJcbiAgICAgICAgICAgIGZhY3RvciA9IChmYWN0b3IgPT09IHVuZGVmaW5lZCkgPyAyIDogZmFjdG9yO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGNvc3QgPSB1dGlscy5wYXJzZU51bWJlcihjb3N0KTtcclxuICAgICAgICAgICAgc2FsdmFnZSA9IHV0aWxzLnBhcnNlTnVtYmVyKHNhbHZhZ2UpO1xyXG4gICAgICAgICAgICBsaWZlID0gdXRpbHMucGFyc2VOdW1iZXIobGlmZSk7XHJcbiAgICAgICAgICAgIHBlcmlvZCA9IHV0aWxzLnBhcnNlTnVtYmVyKHBlcmlvZCk7XHJcbiAgICAgICAgICAgIGZhY3RvciA9IHV0aWxzLnBhcnNlTnVtYmVyKGZhY3Rvcik7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKGNvc3QsIHNhbHZhZ2UsIGxpZmUsIHBlcmlvZCwgZmFjdG9yKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGFueSBvZiB0aGUgcGFyYW1ldGVycyBpcyBuZWdhdGl2ZSBvciBpZiBmYWN0b3IgaXNcclxuICAgICAgICAgICAgICAgIC8vIG51bGxcclxuICAgICAgICAgICAgaWYgKGNvc3QgPCAwIHx8IHNhbHZhZ2UgPCAwIHx8IGxpZmUgPCAwIHx8IHBlcmlvZCA8IDAgfHwgZmFjdG9yIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgcGVyaW9kIGlzIGdyZWF0ZXIgdGhhbiBsaWZlXHJcbiAgICAgICAgICAgIGlmIChwZXJpb2QgPiBsaWZlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIDAgKHplcm8pIGlmIHNhbHZhZ2UgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGNvc3RcclxuICAgICAgICAgICAgaWYgKHNhbHZhZ2UgPj0gY29zdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDb21wdXRlIGRlcHJlY2lhdGlvblxyXG4gICAgICAgICAgICB2YXIgdG90YWwgPSAwO1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHBlcmlvZDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gTWF0aC5taW4oKGNvc3QgLSB0b3RhbCkgKiAoZmFjdG9yIC8gbGlmZSksIChjb3N0IC0gc2FsdmFnZSAtIHRvdGFsKSk7XHJcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBjdXJyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGRlcHJlY2lhdGlvblxyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5ESVNDID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuRE9MTEFSREUgPSBmdW5jdGlvbihkb2xsYXIsIGZyYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWRpdHM6IGFsZ29yaXRobSBpbnNwaXJlZCBieSBBcGFjaGUgT3Blbk9mZmljZVxyXG4gICAgXHJcbiAgICAgICAgICAgIGRvbGxhciA9IHV0aWxzLnBhcnNlTnVtYmVyKGRvbGxhcik7XHJcbiAgICAgICAgICAgIGZyYWN0aW9uID0gdXRpbHMucGFyc2VOdW1iZXIoZnJhY3Rpb24pO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihkb2xsYXIsIGZyYWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGZyYWN0aW9uIGlzIG5lZ2F0aXZlXHJcbiAgICAgICAgICAgIGlmIChmcmFjdGlvbiA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZnJhY3Rpb24gaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAgYW5kIGxlc3MgdGhhblxyXG4gICAgICAgICAgICAgICAgLy8gMVxyXG4gICAgICAgICAgICBpZiAoZnJhY3Rpb24gPj0gMCAmJiBmcmFjdGlvbiA8IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5kaXYwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gVHJ1bmNhdGUgZnJhY3Rpb24gaWYgaXQgaXMgbm90IGFuIGludGVnZXJcclxuICAgICAgICAgICAgZnJhY3Rpb24gPSBwYXJzZUludChmcmFjdGlvbiwgMTApO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENvbXB1dGUgaW50ZWdlciBwYXJ0XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwYXJzZUludChkb2xsYXIsIDEwKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBBZGQgZGVjaW1hbCBwYXJ0XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSAoZG9sbGFyICUgMSkgKiBNYXRoLnBvdygxMCwgTWF0aC5jZWlsKE1hdGgubG9nKGZyYWN0aW9uKSAvIE1hdGguTE4xMCkpIC8gZnJhY3Rpb247XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUm91bmQgcmVzdWx0XHJcbiAgICAgICAgICAgIHZhciBwb3dlciA9IE1hdGgucG93KDEwLCBNYXRoLmNlaWwoTWF0aC5sb2coZnJhY3Rpb24pIC8gTWF0aC5MTjIpICsgMSk7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IE1hdGgucm91bmQocmVzdWx0ICogcG93ZXIpIC8gcG93ZXI7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGNvbnZlcnRlZCBkb2xsYXIgcHJpY2VcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5ET0xMQVJGUiA9IGZ1bmN0aW9uKGRvbGxhciwgZnJhY3Rpb24pIHtcclxuICAgICAgICAgICAgLy8gQ3JlZGl0czogYWxnb3JpdGhtIGluc3BpcmVkIGJ5IEFwYWNoZSBPcGVuT2ZmaWNlXHJcbiAgICBcclxuICAgICAgICAgICAgZG9sbGFyID0gdXRpbHMucGFyc2VOdW1iZXIoZG9sbGFyKTtcclxuICAgICAgICAgICAgZnJhY3Rpb24gPSB1dGlscy5wYXJzZU51bWJlcihmcmFjdGlvbik7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKGRvbGxhciwgZnJhY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZnJhY3Rpb24gaXMgbmVnYXRpdmVcclxuICAgICAgICAgICAgaWYgKGZyYWN0aW9uIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBmcmFjdGlvbiBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMCBhbmQgbGVzcyB0aGFuXHJcbiAgICAgICAgICAgICAgICAvLyAxXHJcbiAgICAgICAgICAgIGlmIChmcmFjdGlvbiA+PSAwICYmIGZyYWN0aW9uIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLmRpdjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBUcnVuY2F0ZSBmcmFjdGlvbiBpZiBpdCBpcyBub3QgYW4gaW50ZWdlclxyXG4gICAgICAgICAgICBmcmFjdGlvbiA9IHBhcnNlSW50KGZyYWN0aW9uLCAxMCk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBpbnRlZ2VyIHBhcnRcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlSW50KGRvbGxhciwgMTApO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIEFkZCBkZWNpbWFsIHBhcnRcclxuICAgICAgICAgICAgcmVzdWx0ICs9IChkb2xsYXIgJSAxKSAqIE1hdGgucG93KDEwLCAtTWF0aC5jZWlsKE1hdGgubG9nKGZyYWN0aW9uKSAvIE1hdGguTE4xMCkpICogZnJhY3Rpb247XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGNvbnZlcnRlZCBkb2xsYXIgcHJpY2VcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5EVVJBVElPTiA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkVGRkVDVCA9IGZ1bmN0aW9uKHJhdGUsIHBlcmlvZHMpIHtcclxuICAgICAgICAgICAgcmF0ZSA9IHV0aWxzLnBhcnNlTnVtYmVyKHJhdGUpO1xyXG4gICAgICAgICAgICBwZXJpb2RzID0gdXRpbHMucGFyc2VOdW1iZXIocGVyaW9kcyk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHJhdGUsIHBlcmlvZHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgcmF0ZSA8PTAgb3IgcGVyaW9kcyA8IDFcclxuICAgICAgICAgICAgaWYgKHJhdGUgPD0gMCB8fCBwZXJpb2RzIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFRydW5jYXRlIHBlcmlvZHMgaWYgaXQgaXMgbm90IGFuIGludGVnZXJcclxuICAgICAgICAgICAgcGVyaW9kcyA9IHBhcnNlSW50KHBlcmlvZHMsIDEwKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZWZmZWN0aXZlIGFubnVhbCBpbnRlcmVzdCByYXRlXHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdygxICsgcmF0ZSAvIHBlcmlvZHMsIHBlcmlvZHMpIC0gMTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5GViA9IGZ1bmN0aW9uKHJhdGUsIHBlcmlvZHMsIHBheW1lbnQsIHZhbHVlLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWRpdHM6IGFsZ29yaXRobSBpbnNwaXJlZCBieSBBcGFjaGUgT3Blbk9mZmljZVxyXG4gICAgXHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgfHwgMDtcclxuICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgMDtcclxuICAgIFxyXG4gICAgICAgICAgICByYXRlID0gdXRpbHMucGFyc2VOdW1iZXIocmF0ZSk7XHJcbiAgICAgICAgICAgIHBlcmlvZHMgPSB1dGlscy5wYXJzZU51bWJlcihwZXJpb2RzKTtcclxuICAgICAgICAgICAgcGF5bWVudCA9IHV0aWxzLnBhcnNlTnVtYmVyKHBheW1lbnQpO1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHV0aWxzLnBhcnNlTnVtYmVyKHZhbHVlKTtcclxuICAgICAgICAgICAgdHlwZSA9IHV0aWxzLnBhcnNlTnVtYmVyKHR5cGUpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihyYXRlLCBwZXJpb2RzLCBwYXltZW50LCB2YWx1ZSwgdHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBmdXR1cmUgdmFsdWVcclxuICAgICAgICAgICAgdmFyIHJlc3VsdDtcclxuICAgICAgICAgICAgaWYgKHJhdGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlICsgcGF5bWVudCAqIHBlcmlvZHM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVybSA9IE1hdGgucG93KDEgKyByYXRlLCBwZXJpb2RzKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWUgKiB0ZXJtICsgcGF5bWVudCAqICgxICsgcmF0ZSkgKiAodGVybSAtIDEpIC8gcmF0ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWUgKiB0ZXJtICsgcGF5bWVudCAqICh0ZXJtIC0gMSkgLyByYXRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAtcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkZWU0NIRURVTEUgPSBmdW5jdGlvbihwcmluY2lwYWwsIHNjaGVkdWxlKSB7XHJcbiAgICAgICAgICAgIHByaW5jaXBhbCA9IHV0aWxzLnBhcnNlTnVtYmVyKHByaW5jaXBhbCk7XHJcbiAgICAgICAgICAgIHNjaGVkdWxlID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKHNjaGVkdWxlKSk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHByaW5jaXBhbCwgc2NoZWR1bGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgbiA9IHNjaGVkdWxlLmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIGZ1dHVyZSA9IHByaW5jaXBhbDtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBBcHBseSBhbGwgaW50ZXJlc3RzIGluIHNjaGVkdWxlXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBzY2hlZHVsZWQgaW50ZXJlc3RcclxuICAgICAgICAgICAgICAgIGZ1dHVyZSAqPSAxICsgc2NoZWR1bGVbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZnV0dXJlIHZhbHVlXHJcbiAgICAgICAgICAgIHJldHVybiBmdXR1cmU7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSU5UUkFURSA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklQTVQgPSBmdW5jdGlvbihyYXRlLCBwZXJpb2QsIHBlcmlvZHMsIHByZXNlbnQsIGZ1dHVyZSwgdHlwZSkge1xyXG4gICAgICAgICAgICAvLyBDcmVkaXRzOiBhbGdvcml0aG0gaW5zcGlyZWQgYnkgQXBhY2hlIE9wZW5PZmZpY2VcclxuICAgIFxyXG4gICAgICAgICAgICBmdXR1cmUgPSBmdXR1cmUgfHwgMDtcclxuICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgMDtcclxuICAgIFxyXG4gICAgICAgICAgICByYXRlID0gdXRpbHMucGFyc2VOdW1iZXIocmF0ZSk7XHJcbiAgICAgICAgICAgIHBlcmlvZCA9IHV0aWxzLnBhcnNlTnVtYmVyKHBlcmlvZCk7XHJcbiAgICAgICAgICAgIHBlcmlvZHMgPSB1dGlscy5wYXJzZU51bWJlcihwZXJpb2RzKTtcclxuICAgICAgICAgICAgcHJlc2VudCA9IHV0aWxzLnBhcnNlTnVtYmVyKHByZXNlbnQpO1xyXG4gICAgICAgICAgICBmdXR1cmUgPSB1dGlscy5wYXJzZU51bWJlcihmdXR1cmUpO1xyXG4gICAgICAgICAgICB0eXBlID0gdXRpbHMucGFyc2VOdW1iZXIodHlwZSk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHJhdGUsIHBlcmlvZCwgcGVyaW9kcywgcHJlc2VudCwgZnV0dXJlLCB0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBwYXltZW50XHJcbiAgICAgICAgICAgIHZhciBwYXltZW50ID0gZXhwb3J0cy5QTVQocmF0ZSwgcGVyaW9kcywgcHJlc2VudCwgZnV0dXJlLCB0eXBlKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDb21wdXRlIGludGVyZXN0XHJcbiAgICAgICAgICAgIHZhciBpbnRlcmVzdDtcclxuICAgICAgICAgICAgaWYgKHBlcmlvZCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcmVzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVyZXN0ID0gLXByZXNlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVyZXN0ID0gZXhwb3J0cy5GVihyYXRlLCBwZXJpb2QgLSAyLCBwYXltZW50LCBwcmVzZW50LCAxKSAtIHBheW1lbnQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVyZXN0ID0gZXhwb3J0cy5GVihyYXRlLCBwZXJpb2QgLSAxLCBwYXltZW50LCBwcmVzZW50LCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBpbnRlcmVzdFxyXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJlc3QgKiByYXRlO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklSUiA9IGZ1bmN0aW9uKHZhbHVlcywgZ3Vlc3MpIHtcclxuICAgICAgICAgICAgLy8gQ3JlZGl0czogYWxnb3JpdGhtIGluc3BpcmVkIGJ5IEFwYWNoZSBPcGVuT2ZmaWNlXHJcbiAgICBcclxuICAgICAgICAgICAgZ3Vlc3MgPSBndWVzcyB8fCAwO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhbHVlcyA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbih2YWx1ZXMpKTtcclxuICAgICAgICAgICAgZ3Vlc3MgPSB1dGlscy5wYXJzZU51bWJlcihndWVzcyk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHZhbHVlcywgZ3Vlc3MpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGVzIHRoZSByZXN1bHRpbmcgYW1vdW50XHJcbiAgICAgICAgICAgIHZhciBpcnJSZXN1bHQgPSBmdW5jdGlvbih2YWx1ZXMsIGRhdGVzLCByYXRlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IHJhdGUgKyAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlc1swXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHZhbHVlc1tpXSAvIE1hdGgucG93KHIsIChkYXRlc1tpXSAtIGRhdGVzWzBdKSAvIDM2NSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZXMgdGhlIGZpcnN0IGRlcml2YXRpb25cclxuICAgICAgICAgICAgdmFyIGlyclJlc3VsdERlcml2ID0gZnVuY3Rpb24odmFsdWVzLCBkYXRlcywgcmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSByYXRlICsgMTtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZnJhYyA9IChkYXRlc1tpXSAtIGRhdGVzWzBdKSAvIDM2NTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgLT0gZnJhYyAqIHZhbHVlc1tpXSAvIE1hdGgucG93KHIsIGZyYWMgKyAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBkYXRlcyBhbmQgY2hlY2sgdGhhdCB2YWx1ZXMgY29udGFpbnMgYXQgbGVhc3Qgb25lIHBvc2l0aXZlXHJcbiAgICAgICAgICAgICAgICAvLyB2YWx1ZSBhbmQgb25lIG5lZ2F0aXZlIHZhbHVlXHJcbiAgICAgICAgICAgIHZhciBkYXRlcyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgcG9zaXRpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIG5lZ2F0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlc1tpXSA9IChpID09PSAwKSA/IDAgOiBkYXRlc1tpIC0gMV0gKyAzNjU7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzW2ldID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbaV0gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmVnYXRpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHZhbHVlcyBkb2VzIG5vdCBjb250YWluIGF0IGxlYXN0IG9uZSBwb3NpdGl2ZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgLy8gYW5kIG9uZSBuZWdhdGl2ZSB2YWx1ZVxyXG4gICAgICAgICAgICBpZiAoIXBvc2l0aXZlIHx8ICFuZWdhdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgZ3Vlc3MgYW5kIHJlc3VsdFJhdGVcclxuICAgICAgICAgICAgZ3Vlc3MgPSAoZ3Vlc3MgPT09IHVuZGVmaW5lZCkgPyAwLjEgOiBndWVzcztcclxuICAgICAgICAgICAgdmFyIHJlc3VsdFJhdGUgPSBndWVzcztcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBTZXQgbWF4aW11bSBlcHNpbG9uIGZvciBlbmQgb2YgaXRlcmF0aW9uXHJcbiAgICAgICAgICAgIHZhciBlcHNNYXggPSAxZS0xMDtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJbXBsZW1lbnQgTmV3dG9uJ3MgbWV0aG9kXHJcbiAgICAgICAgICAgIHZhciBuZXdSYXRlLCBlcHNSYXRlLCByZXN1bHRWYWx1ZTtcclxuICAgICAgICAgICAgdmFyIGNvbnRMb29wID0gdHJ1ZTtcclxuICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0VmFsdWUgPSBpcnJSZXN1bHQodmFsdWVzLCBkYXRlcywgcmVzdWx0UmF0ZSk7XHJcbiAgICAgICAgICAgICAgICBuZXdSYXRlID0gcmVzdWx0UmF0ZSAtIHJlc3VsdFZhbHVlIC8gaXJyUmVzdWx0RGVyaXYodmFsdWVzLCBkYXRlcywgcmVzdWx0UmF0ZSk7XHJcbiAgICAgICAgICAgICAgICBlcHNSYXRlID0gTWF0aC5hYnMobmV3UmF0ZSAtIHJlc3VsdFJhdGUpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0UmF0ZSA9IG5ld1JhdGU7XHJcbiAgICAgICAgICAgICAgICBjb250TG9vcCA9IChlcHNSYXRlID4gZXBzTWF4KSAmJiAoTWF0aC5hYnMocmVzdWx0VmFsdWUpID4gZXBzTWF4KTtcclxuICAgICAgICAgICAgfSB3aGlsZSAoY29udExvb3ApO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBpbnRlcm5hbCByYXRlIG9mIHJldHVyblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0UmF0ZTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JU1BNVCA9IGZ1bmN0aW9uKHJhdGUsIHBlcmlvZCwgcGVyaW9kcywgdmFsdWUpIHtcclxuICAgICAgICAgICAgcmF0ZSA9IHV0aWxzLnBhcnNlTnVtYmVyKHJhdGUpO1xyXG4gICAgICAgICAgICBwZXJpb2QgPSB1dGlscy5wYXJzZU51bWJlcihwZXJpb2QpO1xyXG4gICAgICAgICAgICBwZXJpb2RzID0gdXRpbHMucGFyc2VOdW1iZXIocGVyaW9kcyk7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdXRpbHMucGFyc2VOdW1iZXIodmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihyYXRlLCBwZXJpb2QsIHBlcmlvZHMsIHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGludGVyZXN0XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSAqIHJhdGUgKiAocGVyaW9kIC8gcGVyaW9kcyAtIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk1EVVJBVElPTiA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk1JUlIgPSBmdW5jdGlvbih2YWx1ZXMsIGZpbmFuY2VfcmF0ZSwgcmVpbnZlc3RfcmF0ZSkge1xyXG4gICAgICAgICAgICB2YWx1ZXMgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4odmFsdWVzKSk7XHJcbiAgICAgICAgICAgIGZpbmFuY2VfcmF0ZSA9IHV0aWxzLnBhcnNlTnVtYmVyKGZpbmFuY2VfcmF0ZSk7XHJcbiAgICAgICAgICAgIHJlaW52ZXN0X3JhdGUgPSB1dGlscy5wYXJzZU51bWJlcihyZWludmVzdF9yYXRlKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IodmFsdWVzLCBmaW5hbmNlX3JhdGUsIHJlaW52ZXN0X3JhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIG51bWJlciBvZiB2YWx1ZXNcclxuICAgICAgICAgICAgdmFyIG4gPSB2YWx1ZXMubGVuZ3RoO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCBwYXltZW50cyAobmVnYXRpdmUgdmFsdWVzKSBhbmQgaW5jb21lcyAocG9zaXRpdmUgdmFsdWVzKVxyXG4gICAgICAgICAgICB2YXIgcGF5bWVudHMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGluY29tZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbaV0gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudHMucHVzaCh2YWx1ZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmNvbWVzLnB1c2godmFsdWVzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBtb2RpZmllZCBpbnRlcm5hbCByYXRlIG9mIHJldHVyblxyXG4gICAgICAgICAgICB2YXIgbnVtID0gLWV4cG9ydHMuTlBWKHJlaW52ZXN0X3JhdGUsIGluY29tZXMpICogTWF0aC5wb3coMSArIHJlaW52ZXN0X3JhdGUsIG4gLSAxKTtcclxuICAgICAgICAgICAgdmFyIGRlbiA9IGV4cG9ydHMuTlBWKGZpbmFuY2VfcmF0ZSwgcGF5bWVudHMpICogKDEgKyBmaW5hbmNlX3JhdGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5wb3cobnVtIC8gZGVuLCAxIC8gKG4gLSAxKSkgLSAxO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk5PTUlOQUwgPSBmdW5jdGlvbihyYXRlLCBwZXJpb2RzKSB7XHJcbiAgICAgICAgICAgIHJhdGUgPSB1dGlscy5wYXJzZU51bWJlcihyYXRlKTtcclxuICAgICAgICAgICAgcGVyaW9kcyA9IHV0aWxzLnBhcnNlTnVtYmVyKHBlcmlvZHMpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihyYXRlLCBwZXJpb2RzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHJhdGUgPD0wIG9yIHBlcmlvZHMgPCAxXHJcbiAgICAgICAgICAgIGlmIChyYXRlIDw9IDAgfHwgcGVyaW9kcyA8IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBUcnVuY2F0ZSBwZXJpb2RzIGlmIGl0IGlzIG5vdCBhbiBpbnRlZ2VyXHJcbiAgICAgICAgICAgIHBlcmlvZHMgPSBwYXJzZUludChwZXJpb2RzLCAxMCk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIG5vbWluYWwgYW5udWFsIGludGVyZXN0IHJhdGVcclxuICAgICAgICAgICAgcmV0dXJuIChNYXRoLnBvdyhyYXRlICsgMSwgMSAvIHBlcmlvZHMpIC0gMSkgKiBwZXJpb2RzO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk5QRVIgPSBmdW5jdGlvbihyYXRlLCBwYXltZW50LCBwcmVzZW50LCBmdXR1cmUsIHR5cGUpIHtcclxuICAgICAgICAgICAgdHlwZSA9ICh0eXBlID09PSB1bmRlZmluZWQpID8gMCA6IHR5cGU7XHJcbiAgICAgICAgICAgIGZ1dHVyZSA9IChmdXR1cmUgPT09IHVuZGVmaW5lZCkgPyAwIDogZnV0dXJlO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHJhdGUgPSB1dGlscy5wYXJzZU51bWJlcihyYXRlKTtcclxuICAgICAgICAgICAgcGF5bWVudCA9IHV0aWxzLnBhcnNlTnVtYmVyKHBheW1lbnQpO1xyXG4gICAgICAgICAgICBwcmVzZW50ID0gdXRpbHMucGFyc2VOdW1iZXIocHJlc2VudCk7XHJcbiAgICAgICAgICAgIGZ1dHVyZSA9IHV0aWxzLnBhcnNlTnVtYmVyKGZ1dHVyZSk7XHJcbiAgICAgICAgICAgIHR5cGUgPSB1dGlscy5wYXJzZU51bWJlcih0eXBlKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IocmF0ZSwgcGF5bWVudCwgcHJlc2VudCwgZnV0dXJlLCB0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIG51bWJlciBvZiBwZXJpb2RzXHJcbiAgICAgICAgICAgIHZhciBudW0gPSBwYXltZW50ICogKDEgKyByYXRlICogdHlwZSkgLSBmdXR1cmUgKiByYXRlO1xyXG4gICAgICAgICAgICB2YXIgZGVuID0gKHByZXNlbnQgKiByYXRlICsgcGF5bWVudCAqICgxICsgcmF0ZSAqIHR5cGUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubG9nKG51bSAvIGRlbikgLyBNYXRoLmxvZygxICsgcmF0ZSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTlBWID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKGFyZ3VtZW50cykpO1xyXG4gICAgICAgICAgICBpZiAoYXJncyBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJncztcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIExvb2t1cCByYXRlXHJcbiAgICAgICAgICAgIHZhciByYXRlID0gYXJnc1swXTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIG5ldCBwcmVzZW50IHZhbHVlXHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IDA7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gTG9vcCBvbiBhbGwgdmFsdWVzXHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgYXJncy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gYXJnc1tqXSAvIE1hdGgucG93KDEgKyByYXRlLCBqKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBuZXQgcHJlc2VudCB2YWx1ZVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuT0RERlBSSUNFID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuT0RERllJRUxEID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuT0RETFBSSUNFID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuT0RETFlJRUxEID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUERVUkFUSU9OID0gZnVuY3Rpb24ocmF0ZSwgcHJlc2VudCwgZnV0dXJlKSB7XHJcbiAgICAgICAgICAgIHJhdGUgPSB1dGlscy5wYXJzZU51bWJlcihyYXRlKTtcclxuICAgICAgICAgICAgcHJlc2VudCA9IHV0aWxzLnBhcnNlTnVtYmVyKHByZXNlbnQpO1xyXG4gICAgICAgICAgICBmdXR1cmUgPSB1dGlscy5wYXJzZU51bWJlcihmdXR1cmUpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihyYXRlLCBwcmVzZW50LCBmdXR1cmUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgcmF0ZSA8PTBcclxuICAgICAgICAgICAgaWYgKHJhdGUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBudW1iZXIgb2YgcGVyaW9kc1xyXG4gICAgICAgICAgICByZXR1cm4gKE1hdGgubG9nKGZ1dHVyZSkgLSBNYXRoLmxvZyhwcmVzZW50KSkgLyBNYXRoLmxvZygxICsgcmF0ZSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUE1UID0gZnVuY3Rpb24ocmF0ZSwgcGVyaW9kcywgcHJlc2VudCwgZnV0dXJlLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWRpdHM6IGFsZ29yaXRobSBpbnNwaXJlZCBieSBBcGFjaGUgT3Blbk9mZmljZVxyXG4gICAgXHJcbiAgICAgICAgICAgIGZ1dHVyZSA9IGZ1dHVyZSB8fCAwO1xyXG4gICAgICAgICAgICB0eXBlID0gdHlwZSB8fCAwO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHJhdGUgPSB1dGlscy5wYXJzZU51bWJlcihyYXRlKTtcclxuICAgICAgICAgICAgcGVyaW9kcyA9IHV0aWxzLnBhcnNlTnVtYmVyKHBlcmlvZHMpO1xyXG4gICAgICAgICAgICBwcmVzZW50ID0gdXRpbHMucGFyc2VOdW1iZXIocHJlc2VudCk7XHJcbiAgICAgICAgICAgIGZ1dHVyZSA9IHV0aWxzLnBhcnNlTnVtYmVyKGZ1dHVyZSk7XHJcbiAgICAgICAgICAgIHR5cGUgPSB1dGlscy5wYXJzZU51bWJlcih0eXBlKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IocmF0ZSwgcGVyaW9kcywgcHJlc2VudCwgZnV0dXJlLCB0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIHBheW1lbnRcclxuICAgICAgICAgICAgdmFyIHJlc3VsdDtcclxuICAgICAgICAgICAgaWYgKHJhdGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IChwcmVzZW50ICsgZnV0dXJlKSAvIHBlcmlvZHM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVybSA9IE1hdGgucG93KDEgKyByYXRlLCBwZXJpb2RzKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gKGZ1dHVyZSAqIHJhdGUgLyAodGVybSAtIDEpICsgcHJlc2VudCAqIHJhdGUgLyAoMSAtIDEgLyB0ZXJtKSkgLyAoMSArIHJhdGUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmdXR1cmUgKiByYXRlIC8gKHRlcm0gLSAxKSArIHByZXNlbnQgKiByYXRlIC8gKDEgLSAxIC8gdGVybSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIC1yZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUFBNVCA9IGZ1bmN0aW9uKHJhdGUsIHBlcmlvZCwgcGVyaW9kcywgcHJlc2VudCwgZnV0dXJlLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIGZ1dHVyZSA9IGZ1dHVyZSB8fCAwO1xyXG4gICAgICAgICAgICB0eXBlID0gdHlwZSB8fCAwO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHJhdGUgPSB1dGlscy5wYXJzZU51bWJlcihyYXRlKTtcclxuICAgICAgICAgICAgcGVyaW9kcyA9IHV0aWxzLnBhcnNlTnVtYmVyKHBlcmlvZHMpO1xyXG4gICAgICAgICAgICBwcmVzZW50ID0gdXRpbHMucGFyc2VOdW1iZXIocHJlc2VudCk7XHJcbiAgICAgICAgICAgIGZ1dHVyZSA9IHV0aWxzLnBhcnNlTnVtYmVyKGZ1dHVyZSk7XHJcbiAgICAgICAgICAgIHR5cGUgPSB1dGlscy5wYXJzZU51bWJlcih0eXBlKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IocmF0ZSwgcGVyaW9kcywgcHJlc2VudCwgZnV0dXJlLCB0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuUE1UKHJhdGUsIHBlcmlvZHMsIHByZXNlbnQsIGZ1dHVyZSwgdHlwZSkgLSBleHBvcnRzLklQTVQocmF0ZSwgcGVyaW9kLCBwZXJpb2RzLCBwcmVzZW50LCBmdXR1cmUsIHR5cGUpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlBSSUNFID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUFJJQ0VESVNDID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUFJJQ0VNQVQgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5QViA9IGZ1bmN0aW9uKHJhdGUsIHBlcmlvZHMsIHBheW1lbnQsIGZ1dHVyZSwgdHlwZSkge1xyXG4gICAgICAgICAgICBmdXR1cmUgPSBmdXR1cmUgfHwgMDtcclxuICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgMDtcclxuICAgIFxyXG4gICAgICAgICAgICByYXRlID0gdXRpbHMucGFyc2VOdW1iZXIocmF0ZSk7XHJcbiAgICAgICAgICAgIHBlcmlvZHMgPSB1dGlscy5wYXJzZU51bWJlcihwZXJpb2RzKTtcclxuICAgICAgICAgICAgcGF5bWVudCA9IHV0aWxzLnBhcnNlTnVtYmVyKHBheW1lbnQpO1xyXG4gICAgICAgICAgICBmdXR1cmUgPSB1dGlscy5wYXJzZU51bWJlcihmdXR1cmUpO1xyXG4gICAgICAgICAgICB0eXBlID0gdXRpbHMucGFyc2VOdW1iZXIodHlwZSk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHJhdGUsIHBlcmlvZHMsIHBheW1lbnQsIGZ1dHVyZSwgdHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBwcmVzZW50IHZhbHVlXHJcbiAgICAgICAgICAgIGlmIChyYXRlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLXBheW1lbnQgKiBwZXJpb2RzIC0gZnV0dXJlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgoKDEgLSBNYXRoLnBvdygxICsgcmF0ZSwgcGVyaW9kcykpIC8gcmF0ZSkgKiBwYXltZW50ICogKDEgKyByYXRlICogdHlwZSkgLSBmdXR1cmUpIC8gTWF0aC5wb3coMSArIHJhdGUsIHBlcmlvZHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUkFURSA9IGZ1bmN0aW9uKHBlcmlvZHMsIHBheW1lbnQsIHByZXNlbnQsIGZ1dHVyZSwgdHlwZSwgZ3Vlc3MpIHtcclxuICAgICAgICAgICAgLy8gQ3JlZGl0czogcmFidWdlbnRvXHJcbiAgICBcclxuICAgICAgICAgICAgZ3Vlc3MgPSAoZ3Vlc3MgPT09IHVuZGVmaW5lZCkgPyAwLjAxIDogZ3Vlc3M7XHJcbiAgICAgICAgICAgIGZ1dHVyZSA9IChmdXR1cmUgPT09IHVuZGVmaW5lZCkgPyAwIDogZnV0dXJlO1xyXG4gICAgICAgICAgICB0eXBlID0gKHR5cGUgPT09IHVuZGVmaW5lZCkgPyAwIDogdHlwZTtcclxuICAgIFxyXG4gICAgICAgICAgICBwZXJpb2RzID0gdXRpbHMucGFyc2VOdW1iZXIocGVyaW9kcyk7XHJcbiAgICAgICAgICAgIHBheW1lbnQgPSB1dGlscy5wYXJzZU51bWJlcihwYXltZW50KTtcclxuICAgICAgICAgICAgcHJlc2VudCA9IHV0aWxzLnBhcnNlTnVtYmVyKHByZXNlbnQpO1xyXG4gICAgICAgICAgICBmdXR1cmUgPSB1dGlscy5wYXJzZU51bWJlcihmdXR1cmUpO1xyXG4gICAgICAgICAgICB0eXBlID0gdXRpbHMucGFyc2VOdW1iZXIodHlwZSk7XHJcbiAgICAgICAgICAgIGd1ZXNzID0gdXRpbHMucGFyc2VOdW1iZXIoZ3Vlc3MpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihwZXJpb2RzLCBwYXltZW50LCBwcmVzZW50LCBmdXR1cmUsIHR5cGUsIGd1ZXNzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gU2V0IG1heGltdW0gZXBzaWxvbiBmb3IgZW5kIG9mIGl0ZXJhdGlvblxyXG4gICAgICAgICAgICB2YXIgZXBzTWF4ID0gMWUtNjtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBTZXQgbWF4aW11bSBudW1iZXIgb2YgaXRlcmF0aW9uc1xyXG4gICAgICAgICAgICB2YXIgaXRlck1heCA9IDEwMDtcclxuICAgICAgICAgICAgdmFyIGl0ZXIgPSAwO1xyXG4gICAgICAgICAgICB2YXIgY2xvc2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIHJhdGUgPSBndWVzcztcclxuICAgIFxyXG4gICAgICAgICAgICB3aGlsZSAoaXRlciA8IGl0ZXJNYXggJiYgIWNsb3NlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdDEgPSBNYXRoLnBvdyhyYXRlICsgMSwgcGVyaW9kcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdDIgPSBNYXRoLnBvdyhyYXRlICsgMSwgcGVyaW9kcyAtIDEpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB2YXIgZjEgPSBmdXR1cmUgKyB0MSAqIHByZXNlbnQgKyBwYXltZW50ICogKHQxIC0gMSkgKiAocmF0ZSAqIHR5cGUgKyAxKSAvIHJhdGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgZjIgPSBwZXJpb2RzICogdDIgKiBwcmVzZW50IC0gcGF5bWVudCAqICh0MSAtIDEpICoocmF0ZSAqIHR5cGUgKyAxKSAvIE1hdGgucG93KHJhdGUsMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZjMgPSBwZXJpb2RzICogcGF5bWVudCAqIHQyICogKHJhdGUgKiB0eXBlICsgMSkgLyByYXRlICsgcGF5bWVudCAqICh0MSAtIDEpICogdHlwZSAvIHJhdGU7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHZhciBuZXdSYXRlID0gcmF0ZSAtIGYxIC8gKGYyICsgZjMpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobmV3UmF0ZSAtIHJhdGUpIDwgZXBzTWF4KSBjbG9zZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpdGVyKytcclxuICAgICAgICAgICAgICAgIHJhdGUgPSBuZXdSYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKCFjbG9zZSkgcmV0dXJuIE51bWJlci5OYU4gKyByYXRlO1xyXG4gICAgICAgICAgICByZXR1cm4gcmF0ZTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgIGV4cG9ydHMuUkVDRUlWRUQgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5SUkkgPSBmdW5jdGlvbihwZXJpb2RzLCBwcmVzZW50LCBmdXR1cmUpIHtcclxuICAgICAgICAgICAgcGVyaW9kcyA9IHV0aWxzLnBhcnNlTnVtYmVyKHBlcmlvZHMpO1xyXG4gICAgICAgICAgICBwcmVzZW50ID0gdXRpbHMucGFyc2VOdW1iZXIocHJlc2VudCk7XHJcbiAgICAgICAgICAgIGZ1dHVyZSA9IHV0aWxzLnBhcnNlTnVtYmVyKGZ1dHVyZSk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHBlcmlvZHMsIHByZXNlbnQsIGZ1dHVyZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBwZXJpb2RzIG9yIHByZXNlbnQgaXMgZXF1YWwgdG8gMCAoemVybylcclxuICAgICAgICAgICAgaWYgKHBlcmlvZHMgPT09IDAgfHwgcHJlc2VudCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcXVpdmFsZW50IGludGVyZXN0IHJhdGVcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucG93KGZ1dHVyZSAvIHByZXNlbnQsIDEgLyBwZXJpb2RzKSAtIDE7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuU0xOID0gZnVuY3Rpb24oY29zdCwgc2FsdmFnZSwgbGlmZSkge1xyXG4gICAgICAgICAgICBjb3N0ID0gdXRpbHMucGFyc2VOdW1iZXIoY29zdCk7XHJcbiAgICAgICAgICAgIHNhbHZhZ2UgPSB1dGlscy5wYXJzZU51bWJlcihzYWx2YWdlKTtcclxuICAgICAgICAgICAgbGlmZSA9IHV0aWxzLnBhcnNlTnVtYmVyKGxpZmUpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihjb3N0LCBzYWx2YWdlLCBsaWZlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGxpZmUgZXF1YWwgdG8gMCAoemVybylcclxuICAgICAgICAgICAgaWYgKGxpZmUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gc3RyYWlnaHQtbGluZSBkZXByZWNpYXRpb25cclxuICAgICAgICAgICAgcmV0dXJuIChjb3N0IC0gc2FsdmFnZSkgLyBsaWZlO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNZRCA9IGZ1bmN0aW9uKGNvc3QsIHNhbHZhZ2UsIGxpZmUsIHBlcmlvZCkge1xyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgYW55IG9mIHRoZSBwYXJhbWV0ZXJzIGlzIG5vdCBhIG51bWJlclxyXG4gICAgICAgICAgICBjb3N0ID0gdXRpbHMucGFyc2VOdW1iZXIoY29zdCk7XHJcbiAgICAgICAgICAgIHNhbHZhZ2UgPSB1dGlscy5wYXJzZU51bWJlcihzYWx2YWdlKTtcclxuICAgICAgICAgICAgbGlmZSA9IHV0aWxzLnBhcnNlTnVtYmVyKGxpZmUpO1xyXG4gICAgICAgICAgICBwZXJpb2QgPSB1dGlscy5wYXJzZU51bWJlcihwZXJpb2QpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihjb3N0LCBzYWx2YWdlLCBsaWZlLCBwZXJpb2QpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgbGlmZSBlcXVhbCB0byAwICh6ZXJvKVxyXG4gICAgICAgICAgICBpZiAobGlmZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBwZXJpb2QgaXMgbG93ZXIgdGhhbiAxIG9yIGdyZWF0ZXIgdGhhbiBsaWZlXHJcbiAgICAgICAgICAgIGlmIChwZXJpb2QgPCAxIHx8IHBlcmlvZCA+IGxpZmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBUcnVuY2F0ZSBwZXJpb2QgaWYgaXQgaXMgbm90IGFuIGludGVnZXJcclxuICAgICAgICAgICAgcGVyaW9kID0gcGFyc2VJbnQocGVyaW9kLCAxMCk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIHN0cmFpZ2h0LWxpbmUgZGVwcmVjaWF0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiAoKGNvc3QgLSBzYWx2YWdlKSAqIChsaWZlIC0gcGVyaW9kICsgMSkgKiAyKSAvIChsaWZlICogKGxpZmUgKyAxKSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuVEJJTExFUSA9IGZ1bmN0aW9uKHNldHRsZW1lbnQsIG1hdHVyaXR5LCBkaXNjb3VudCkge1xyXG4gICAgICAgICAgICBzZXR0bGVtZW50ID0gdXRpbHMucGFyc2VEYXRlKHNldHRsZW1lbnQpO1xyXG4gICAgICAgICAgICBtYXR1cml0eSA9IHV0aWxzLnBhcnNlRGF0ZShtYXR1cml0eSk7XHJcbiAgICAgICAgICAgIGRpc2NvdW50ID0gdXRpbHMucGFyc2VOdW1iZXIoZGlzY291bnQpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihzZXR0bGVtZW50LCBtYXR1cml0eSwgZGlzY291bnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgZGlzY291bnQgaXMgbG93ZXIgdGhhbiBvciBlcXVhbCB0byB6ZXJvXHJcbiAgICAgICAgICAgIGlmIChkaXNjb3VudCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHNldHRsZW1lbnQgaXMgZ3JlYXRlciB0aGFuIG1hdHVyaXR5XHJcbiAgICAgICAgICAgIGlmIChzZXR0bGVtZW50ID4gbWF0dXJpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgbWF0dXJpdHkgaXMgbW9yZSB0aGFuIG9uZSB5ZWFyIGFmdGVyIHNldHRsZW1lbnRcclxuICAgICAgICAgICAgaWYgKG1hdHVyaXR5IC0gc2V0dGxlbWVudCA+IDM2NSAqIDI0ICogNjAgKiA2MCAqIDEwMDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gYm9uZC1lcXVpdmFsZW50IHlpZWxkXHJcbiAgICAgICAgICAgIHJldHVybiAoMzY1ICogZGlzY291bnQpIC8gKDM2MCAtIGRpc2NvdW50ICogREFZUzM2MChzZXR0bGVtZW50LCBtYXR1cml0eSwgZmFsc2UpKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5UQklMTFBSSUNFID0gZnVuY3Rpb24oc2V0dGxlbWVudCwgbWF0dXJpdHksIGRpc2NvdW50KSB7XHJcbiAgICAgICAgICAgIHNldHRsZW1lbnQgPSB1dGlscy5wYXJzZURhdGUoc2V0dGxlbWVudCk7XHJcbiAgICAgICAgICAgIG1hdHVyaXR5ID0gdXRpbHMucGFyc2VEYXRlKG1hdHVyaXR5KTtcclxuICAgICAgICAgICAgZGlzY291bnQgPSB1dGlscy5wYXJzZU51bWJlcihkaXNjb3VudCk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHNldHRsZW1lbnQsIG1hdHVyaXR5LCBkaXNjb3VudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBkaXNjb3VudCBpcyBsb3dlciB0aGFuIG9yIGVxdWFsIHRvIHplcm9cclxuICAgICAgICAgICAgaWYgKGRpc2NvdW50IDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgaWYgc2V0dGxlbWVudCBpcyBncmVhdGVyIHRoYW4gbWF0dXJpdHlcclxuICAgICAgICAgICAgaWYgKHNldHRsZW1lbnQgPiBtYXR1cml0eSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBtYXR1cml0eSBpcyBtb3JlIHRoYW4gb25lIHllYXIgYWZ0ZXIgc2V0dGxlbWVudFxyXG4gICAgICAgICAgICBpZiAobWF0dXJpdHkgLSBzZXR0bGVtZW50ID4gMzY1ICogMjQgKiA2MCAqIDYwICogMTAwMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBib25kLWVxdWl2YWxlbnQgeWllbGRcclxuICAgICAgICAgICAgcmV0dXJuIDEwMCAqICgxIC0gZGlzY291bnQgKiBEQVlTMzYwKHNldHRsZW1lbnQsIG1hdHVyaXR5LCBmYWxzZSkgLyAzNjApO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlRCSUxMWUlFTEQgPSBmdW5jdGlvbihzZXR0bGVtZW50LCBtYXR1cml0eSwgcHJpY2UpIHtcclxuICAgICAgICAgICAgc2V0dGxlbWVudCA9IHV0aWxzLnBhcnNlRGF0ZShzZXR0bGVtZW50KTtcclxuICAgICAgICAgICAgbWF0dXJpdHkgPSB1dGlscy5wYXJzZURhdGUobWF0dXJpdHkpO1xyXG4gICAgICAgICAgICBwcmljZSA9IHV0aWxzLnBhcnNlTnVtYmVyKHByaWNlKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3Ioc2V0dGxlbWVudCwgbWF0dXJpdHksIHByaWNlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIHByaWNlIGlzIGxvd2VyIHRoYW4gb3IgZXF1YWwgdG8gemVyb1xyXG4gICAgICAgICAgICBpZiAocHJpY2UgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiBzZXR0bGVtZW50IGlzIGdyZWF0ZXIgdGhhbiBtYXR1cml0eVxyXG4gICAgICAgICAgICBpZiAoc2V0dGxlbWVudCA+IG1hdHVyaXR5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIG1hdHVyaXR5IGlzIG1vcmUgdGhhbiBvbmUgeWVhciBhZnRlciBzZXR0bGVtZW50XHJcbiAgICAgICAgICAgIGlmIChtYXR1cml0eSAtIHNldHRsZW1lbnQgPiAzNjUgKiAyNCAqIDYwICogNjAgKiAxMDAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGJvbmQtZXF1aXZhbGVudCB5aWVsZFxyXG4gICAgICAgICAgICByZXR1cm4gKDEwMCAtIHByaWNlKSAqIDM2MCAvIChwcmljZSAqIERBWVMzNjAoc2V0dGxlbWVudCwgbWF0dXJpdHksIGZhbHNlKSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuVkRCID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuWElSUiA9IGZ1bmN0aW9uKHZhbHVlcywgZGF0ZXMsIGd1ZXNzKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWRpdHM6IGFsZ29yaXRobSBpbnNwaXJlZCBieSBBcGFjaGUgT3Blbk9mZmljZVxyXG4gICAgXHJcbiAgICAgICAgICAgIHZhbHVlcyA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbih2YWx1ZXMpKTtcclxuICAgICAgICAgICAgZGF0ZXMgPSB1dGlscy5wYXJzZURhdGVBcnJheSh1dGlscy5mbGF0dGVuKGRhdGVzKSk7XHJcbiAgICAgICAgICAgIGd1ZXNzID0gdXRpbHMucGFyc2VOdW1iZXIoZ3Vlc3MpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcih2YWx1ZXMsIGRhdGVzLCBndWVzcykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZXMgdGhlIHJlc3VsdGluZyBhbW91bnRcclxuICAgICAgICAgICAgdmFyIGlyclJlc3VsdCA9IGZ1bmN0aW9uKHZhbHVlcywgZGF0ZXMsIHJhdGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciByID0gcmF0ZSArIDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWVzWzBdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gdmFsdWVzW2ldIC8gTWF0aC5wb3cociwgREFZUyhkYXRlc1tpXSwgZGF0ZXNbMF0pIC8gMzY1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlcyB0aGUgZmlyc3QgZGVyaXZhdGlvblxyXG4gICAgICAgICAgICB2YXIgaXJyUmVzdWx0RGVyaXYgPSBmdW5jdGlvbih2YWx1ZXMsIGRhdGVzLCByYXRlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IHJhdGUgKyAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmcmFjID0gREFZUyhkYXRlc1tpXSwgZGF0ZXNbMF0pIC8gMzY1O1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCAtPSBmcmFjICogdmFsdWVzW2ldIC8gTWF0aC5wb3cociwgZnJhYyArIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDaGVjayB0aGF0IHZhbHVlcyBjb250YWlucyBhdCBsZWFzdCBvbmUgcG9zaXRpdmUgdmFsdWUgYW5kIG9uZVxyXG4gICAgICAgICAgICAgICAgLy8gbmVnYXRpdmUgdmFsdWVcclxuICAgICAgICAgICAgdmFyIHBvc2l0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBuZWdhdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tpXSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzW2ldIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5lZ2F0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJldHVybiBlcnJvciBpZiB2YWx1ZXMgZG9lcyBub3QgY29udGFpbiBhdCBsZWFzdCBvbmUgcG9zaXRpdmUgdmFsdWVcclxuICAgICAgICAgICAgICAgIC8vIGFuZCBvbmUgbmVnYXRpdmUgdmFsdWVcclxuICAgICAgICAgICAgaWYgKCFwb3NpdGl2ZSB8fCAhbmVnYXRpdmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGd1ZXNzIGFuZCByZXN1bHRSYXRlXHJcbiAgICAgICAgICAgIGd1ZXNzID0gZ3Vlc3MgfHwgMC4xO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0UmF0ZSA9IGd1ZXNzO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFNldCBtYXhpbXVtIGVwc2lsb24gZm9yIGVuZCBvZiBpdGVyYXRpb25cclxuICAgICAgICAgICAgdmFyIGVwc01heCA9IDFlLTEwO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIEltcGxlbWVudCBOZXd0b24ncyBtZXRob2RcclxuICAgICAgICAgICAgdmFyIG5ld1JhdGUsIGVwc1JhdGUsIHJlc3VsdFZhbHVlO1xyXG4gICAgICAgICAgICB2YXIgY29udExvb3AgPSB0cnVlO1xyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRWYWx1ZSA9IGlyclJlc3VsdCh2YWx1ZXMsIGRhdGVzLCByZXN1bHRSYXRlKTtcclxuICAgICAgICAgICAgICAgIG5ld1JhdGUgPSByZXN1bHRSYXRlIC0gcmVzdWx0VmFsdWUgLyBpcnJSZXN1bHREZXJpdih2YWx1ZXMsIGRhdGVzLCByZXN1bHRSYXRlKTtcclxuICAgICAgICAgICAgICAgIGVwc1JhdGUgPSBNYXRoLmFicyhuZXdSYXRlIC0gcmVzdWx0UmF0ZSk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRSYXRlID0gbmV3UmF0ZTtcclxuICAgICAgICAgICAgICAgIGNvbnRMb29wID0gKGVwc1JhdGUgPiBlcHNNYXgpICYmIChNYXRoLmFicyhyZXN1bHRWYWx1ZSkgPiBlcHNNYXgpO1xyXG4gICAgICAgICAgICB9IHdoaWxlIChjb250TG9vcCk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmV0dXJuIGludGVybmFsIHJhdGUgb2YgcmV0dXJuXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRSYXRlO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlhOUFYgPSBmdW5jdGlvbihyYXRlLCB2YWx1ZXMsIGRhdGVzKSB7XHJcbiAgICAgICAgICAgIHJhdGUgPSB1dGlscy5wYXJzZU51bWJlcihyYXRlKTtcclxuICAgICAgICAgICAgdmFsdWVzID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKHZhbHVlcykpO1xyXG4gICAgICAgICAgICBkYXRlcyA9IHV0aWxzLnBhcnNlRGF0ZUFycmF5KHV0aWxzLmZsYXR0ZW4oZGF0ZXMpKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IocmF0ZSwgdmFsdWVzLCBkYXRlcykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHZhbHVlc1tpXSAvIE1hdGgucG93KDEgKyByYXRlLCBEQVlTKGRhdGVzW2ldLCBkYXRlc1swXSkgLyAzNjUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuWUlFTEQgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5ZSUVMRERJU0MgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5ZSUVMRE1BVCA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gZXhwb3J0cztcclxuICAgIH0pKCk7XHJcbiAgICBcclxuICAgIGpleGNlbC5tZXRob2RzLmluZm9ybWF0aW9uID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBleHBvcnRzID0ge307XHJcbiAgICAgICAgZXhwb3J0cy5DRUxMID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuRVJST1IgPSB7fTtcclxuICAgICAgICBleHBvcnRzLkVSUk9SLlRZUEUgPSBmdW5jdGlvbihlcnJvcl92YWwpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChlcnJvcl92YWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IubmlsOiByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IuZGl2MDogcmV0dXJuIDI7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVycm9yLnZhbHVlOiByZXR1cm4gMztcclxuICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IucmVmOiByZXR1cm4gNDtcclxuICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IubmFtZTogcmV0dXJuIDU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVycm9yLm51bTogcmV0dXJuIDY7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVycm9yLm5hOiByZXR1cm4gNztcclxuICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IuZGF0YTogcmV0dXJuIDg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yLm5hO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklORk8gPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JU0JMQU5LID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklTQklOQVJZID0gZnVuY3Rpb24gKG51bWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gKC9eWzAxXXsxLDEwfSQvKS50ZXN0KG51bWJlcik7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSVNFUlIgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFtlcnJvci52YWx1ZSwgZXJyb3IucmVmLCBlcnJvci5kaXYwLCBlcnJvci5udW0sIGVycm9yLm5hbWUsIGVycm9yLm5pbF0pLmluZGV4T2YodmFsdWUpID49IDAgfHxcclxuICAgICAgICAgICAgICAgICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklTRVJST1IgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5JU0VSUih2YWx1ZSkgfHwgdmFsdWUgPT09IGVycm9yLm5hO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklTRVZFTiA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gKE1hdGguZmxvb3IoTWF0aC5hYnMobnVtYmVyKSkgJiAxKSA/IGZhbHNlIDogdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgIGV4cG9ydHMuSVNGT1JNVUxBID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSVNMT0dJQ0FMID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JU05BID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBlcnJvci5uYTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JU05PTlRFWFQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mKHZhbHVlKSAhPT0gJ3N0cmluZyc7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSVNOVU1CRVIgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mKHZhbHVlKSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHZhbHVlKSAmJiBpc0Zpbml0ZSh2YWx1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSVNPREQgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChNYXRoLmZsb29yKE1hdGguYWJzKG51bWJlcikpICYgMSkgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSVNSRUYgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JU1RFWFQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mKHZhbHVlKSA9PT0gJ3N0cmluZyc7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTiA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklTTlVNQkVSKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5JU0VSUk9SKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk5BID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvci5uYTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5TSEVFVCA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNIRUVUUyA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlRZUEUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5JU05VTUJFUih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklTVEVYVCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklTTE9HSUNBTCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiA0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLklTRVJST1IodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNjQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XHJcbiAgICB9KSgpO1xyXG4gICAgXHJcbiAgICBqZXhjZWwubWV0aG9kcy5sb2dpY2FsID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBleHBvcnRzID0ge307XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkFORCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IHV0aWxzLmZsYXR0ZW4oYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhcmdzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DSE9PU0UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubmE7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBhcmd1bWVudHNbMF07XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDEgfHwgaW5kZXggPiAyNTQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgaW5kZXggKyAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzW2luZGV4XTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5GQUxTRSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSUYgPSBmdW5jdGlvbih0ZXN0LCB0aGVuX3ZhbHVlLCBvdGhlcndpc2VfdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRlc3QgPyB0aGVuX3ZhbHVlIDogb3RoZXJ3aXNlX3ZhbHVlO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLklGRVJST1IgPSBmdW5jdGlvbih2YWx1ZSwgdmFsdWVJZkVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmIChJU0VSUk9SKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlSWZFcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuSUZOQSA9IGZ1bmN0aW9uKHZhbHVlLCB2YWx1ZV9pZl9uYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IGVycm9yLm5hID8gdmFsdWVfaWZfbmEgOiB2YWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5OT1QgPSBmdW5jdGlvbihsb2dpY2FsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhbG9naWNhbDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5PUiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IHV0aWxzLmZsYXR0ZW4oYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlRSVUUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuWE9SID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gdXRpbHMuZmxhdHRlbihhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJnc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoTWF0aC5mbG9vcihNYXRoLmFicyhyZXN1bHQpKSAmIDEpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNXSVRDSCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VmFsdWUgPSBhcmd1bWVudHNbMF07XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJnYyA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN3aXRjaENvdW50ID0gTWF0aC5mbG9vcihhcmdjIC8gMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3dpdGNoU2F0aXNmaWVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdENsYXVzZSA9IGFyZ2MgJSAyID09PSAwID8gbnVsbCA6IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChzd2l0Y2hDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBzd2l0Y2hDb3VudDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0VmFsdWUgPT09IGFyZ3VtZW50c1tpbmRleCAqIDIgKyAxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGFyZ3VtZW50c1tpbmRleCAqIDIgKyAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hTYXRpc2ZpZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIXN3aXRjaFNhdGlzZmllZCAmJiBkZWZhdWx0Q2xhdXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVmYXVsdENsYXVzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiBleHBvcnRzO1xyXG4gICAgfSkoKTtcclxuICAgIFxyXG4gICAgamV4Y2VsLm1ldGhvZHMubWF0aCA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZXhwb3J0cyA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5BQlMgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh1dGlscy5wYXJzZU51bWJlcihudW1iZXIpKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5BQ09TID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hY29zKG51bWJlcik7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQUNPU0ggPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyhudW1iZXIgKyBNYXRoLnNxcnQobnVtYmVyICogbnVtYmVyIC0gMSkpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkFDT1QgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmF0YW4oMSAvIG51bWJlcik7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQUNPVEggPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwLjUgKiBNYXRoLmxvZygobnVtYmVyICsgMSkgLyAobnVtYmVyIC0gMSkpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkFHR1JFR0FURSA9IG51bGxcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQVJBQklDID0gZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICAgICAgICAvLyBDcmVkaXRzOiBSYWZhPyBLdWthd3NraVxyXG4gICAgICAgICAgICBpZiAoIS9eTSooPzpEP0N7MCwzfXxDW01EXSkoPzpMP1h7MCwzfXxYW0NMXSkoPzpWP0l7MCwzfXxJW1hWXSkkLy50ZXN0KHRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHIgPSAwO1xyXG4gICAgICAgICAgICB0ZXh0LnJlcGxhY2UoL1tNRExWXXxDW01EXT98WFtDTF0/fElbWFZdPy9nLCBmdW5jdGlvbihpKSB7XHJcbiAgICAgICAgICAgICAgICByICs9IHtcclxuICAgICAgICAgICAgICAgICAgICBNOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIENNOiA5MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgRDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIENEOiA0MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgQzogMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIFhDOiA5MCxcclxuICAgICAgICAgICAgICAgICAgICBMOiA1MCxcclxuICAgICAgICAgICAgICAgICAgICBYTDogNDAsXHJcbiAgICAgICAgICAgICAgICAgICAgWDogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgSVg6IDksXHJcbiAgICAgICAgICAgICAgICAgICAgVjogNSxcclxuICAgICAgICAgICAgICAgICAgICBJVjogNCxcclxuICAgICAgICAgICAgICAgICAgICBJOiAxXHJcbiAgICAgICAgICAgICAgICB9W2ldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQVNJTiA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguYXNpbihudW1iZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkFTSU5IID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyICsgTWF0aC5zcXJ0KG51bWJlciAqIG51bWJlciArIDEpKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5BVEFOID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hdGFuKG51bWJlcik7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQVRBTjIgPSBmdW5jdGlvbihudW1iZXJfeCwgbnVtYmVyX3kpIHtcclxuICAgICAgICAgICAgbnVtYmVyX3ggPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXJfeCk7XHJcbiAgICAgICAgICAgIG51bWJlcl95ID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyX3kpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihudW1iZXJfeCwgbnVtYmVyX3kpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIobnVtYmVyX3gsIG51bWJlcl95KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5BVEFOSCA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubG9nKCgxICsgbnVtYmVyKSAvICgxIC0gbnVtYmVyKSkgLyAyO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkJBU0UgPSBmdW5jdGlvbihudW1iZXIsIHJhZGl4LCBtaW5fbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG1pbl9sZW5ndGggPSBtaW5fbGVuZ3RoIHx8IDA7XHJcbiAgICBcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgcmFkaXggPSB1dGlscy5wYXJzZU51bWJlcihyYWRpeCk7XHJcbiAgICAgICAgICAgIG1pbl9sZW5ndGggPSB1dGlscy5wYXJzZU51bWJlcihtaW5fbGVuZ3RoKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IobnVtYmVyLCByYWRpeCwgbWluX2xlbmd0aCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtaW5fbGVuZ3RoID0gKG1pbl9sZW5ndGggPT09IHVuZGVmaW5lZCkgPyAwIDogbWluX2xlbmd0aDtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bWJlci50b1N0cmluZyhyYWRpeCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXJyYXkoTWF0aC5tYXgobWluX2xlbmd0aCArIDEgLSByZXN1bHQubGVuZ3RoLCAwKSkuam9pbignMCcpICsgcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkNFSUxJTkcgPSBmdW5jdGlvbihudW1iZXIsIHNpZ25pZmljYW5jZSwgbW9kZSkge1xyXG4gICAgICAgICAgICBzaWduaWZpY2FuY2UgPSAoc2lnbmlmaWNhbmNlID09PSB1bmRlZmluZWQpID8gMSA6IHNpZ25pZmljYW5jZTtcclxuICAgICAgICAgICAgbW9kZSA9IChtb2RlID09PSB1bmRlZmluZWQpID8gMCA6IG1vZGU7XHJcbiAgICBcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgc2lnbmlmaWNhbmNlID0gdXRpbHMucGFyc2VOdW1iZXIoc2lnbmlmaWNhbmNlKTtcclxuICAgICAgICAgICAgbW9kZSA9IHV0aWxzLnBhcnNlTnVtYmVyKG1vZGUpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihudW1iZXIsIHNpZ25pZmljYW5jZSwgbW9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2lnbmlmaWNhbmNlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHNpZ25pZmljYW5jZSA9IE1hdGguYWJzKHNpZ25pZmljYW5jZSk7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIgLyBzaWduaWZpY2FuY2UpICogc2lnbmlmaWNhbmNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTEgKiBNYXRoLmZsb29yKE1hdGguYWJzKG51bWJlcikgLyBzaWduaWZpY2FuY2UpICogc2lnbmlmaWNhbmNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTEgKiBNYXRoLmNlaWwoTWF0aC5hYnMobnVtYmVyKSAvIHNpZ25pZmljYW5jZSkgKiBzaWduaWZpY2FuY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DRUlMSU5HLk1BVEggPSBleHBvcnRzLkNFSUxJTkc7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkNFSUxJTkcuUFJFQ0lTRSA9IGV4cG9ydHMuQ0VJTElORztcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQ09NQklOID0gZnVuY3Rpb24obnVtYmVyLCBudW1iZXJfY2hvc2VuKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIG51bWJlcl9jaG9zZW4gPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXJfY2hvc2VuKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IobnVtYmVyLCBudW1iZXJfY2hvc2VuKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkZBQ1QobnVtYmVyKSAvIChleHBvcnRzLkZBQ1QobnVtYmVyX2Nob3NlbikgKiBleHBvcnRzLkZBQ1QobnVtYmVyIC0gbnVtYmVyX2Nob3NlbikpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkNPTUJJTkEgPSBmdW5jdGlvbihudW1iZXIsIG51bWJlcl9jaG9zZW4pIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgbnVtYmVyX2Nob3NlbiA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcl9jaG9zZW4pO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihudW1iZXIsIG51bWJlcl9jaG9zZW4pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChudW1iZXIgPT09IDAgJiYgbnVtYmVyX2Nob3NlbiA9PT0gMCkgPyAxIDogZXhwb3J0cy5DT01CSU4obnVtYmVyICsgbnVtYmVyX2Nob3NlbiAtIDEsIG51bWJlciAtIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkNPUyA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguY29zKG51bWJlcik7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQ09TSCA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChNYXRoLmV4cChudW1iZXIpICsgTWF0aC5leHAoLW51bWJlcikpIC8gMjtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DT1QgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAxIC8gTWF0aC50YW4obnVtYmVyKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DT1RIID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZTIgPSBNYXRoLmV4cCgyICogbnVtYmVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIChlMiArIDEpIC8gKGUyIC0gMSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQ1NDID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMSAvIE1hdGguc2luKG51bWJlcik7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQ1NDSCA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDIgLyAoTWF0aC5leHAobnVtYmVyKSAtIE1hdGguZXhwKC1udW1iZXIpKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5ERUNJTUFMID0gZnVuY3Rpb24obnVtYmVyLCByYWRpeCkge1xyXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG51bWJlciwgcmFkaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkRFR1JFRVMgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIgKiAxODAgLyBNYXRoLlBJO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkVWRU4gPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLkNFSUxJTkcobnVtYmVyLCAtMiwgLTEpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkVYUCA9IE1hdGguZXhwO1xyXG4gICAgXHJcbiAgICAgICAgdmFyIE1FTU9JWkVEX0ZBQ1QgPSBbXTtcclxuICAgICAgICBleHBvcnRzLkZBQ1QgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBuID0gTWF0aC5mbG9vcihudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAobiA9PT0gMCB8fCBuID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChNRU1PSVpFRF9GQUNUW25dID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1FTU9JWkVEX0ZBQ1Rbbl07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBNRU1PSVpFRF9GQUNUW25dID0gZXhwb3J0cy5GQUNUKG4gLSAxKSAqIG47XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTUVNT0laRURfRkFDVFtuXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkZBQ1RET1VCTEUgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBuID0gTWF0aC5mbG9vcihudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAobiA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuICogZXhwb3J0cy5GQUNURE9VQkxFKG4gLSAyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkZMT09SID0gZnVuY3Rpb24obnVtYmVyLCBzaWduaWZpY2FuY2UsIG1vZGUpIHtcclxuICAgICAgICAgICAgc2lnbmlmaWNhbmNlID0gKHNpZ25pZmljYW5jZSA9PT0gdW5kZWZpbmVkKSA/IDEgOiBzaWduaWZpY2FuY2U7XHJcbiAgICAgICAgICAgIG1vZGUgPSAobW9kZSA9PT0gdW5kZWZpbmVkKSA/IDAgOiBtb2RlO1xyXG4gICAgXHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIHNpZ25pZmljYW5jZSA9IHV0aWxzLnBhcnNlTnVtYmVyKHNpZ25pZmljYW5jZSk7XHJcbiAgICAgICAgICAgIG1vZGUgPSB1dGlscy5wYXJzZU51bWJlcihtb2RlKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IobnVtYmVyLCBzaWduaWZpY2FuY2UsIG1vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNpZ25pZmljYW5jZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBzaWduaWZpY2FuY2UgPSBNYXRoLmFicyhzaWduaWZpY2FuY2UpO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyID49IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlciAvIHNpZ25pZmljYW5jZSkgKiBzaWduaWZpY2FuY2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMSAqIE1hdGguY2VpbChNYXRoLmFicyhudW1iZXIpIC8gc2lnbmlmaWNhbmNlKSAqIHNpZ25pZmljYW5jZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xICogTWF0aC5mbG9vcihNYXRoLmFicyhudW1iZXIpIC8gc2lnbmlmaWNhbmNlKSAqIHNpZ25pZmljYW5jZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkZMT09SLk1BVEggPSBleHBvcnRzLkZMT09SO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5HQ0QgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5JTlQgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTENNID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWRpdHM6IEpvbmFzIFJhb25pIFNvYXJlcyBTaWx2YVxyXG4gICAgICAgICAgICB2YXIgbyA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbihhcmd1bWVudHMpKTtcclxuICAgICAgICAgICAgaWYgKG8gaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSwgaiwgbiwgZCwgciA9IDE7XHJcbiAgICAgICAgICAgICAgICAobiA9IG8ucG9wKCkpICE9PSB1bmRlZmluZWQ7KSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobiAlIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMywgaiA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KG4pKTsgaSA8PSBqICYmIG4gJSBpOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvL2VtcHR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZCA9IChpIDw9IGopID8gaSA6IG47XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobiAvPSBkLCByICo9IGQsIGkgPSBvLmxlbmd0aDsgaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKG9bLS1pXSAlIGQpID09PSAwICYmIChvW2ldIC89IGQpID09PSAxICYmIG8uc3BsaWNlKGksIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZW1wdHlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTE4gPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyhudW1iZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkxPRyA9IGZ1bmN0aW9uKG51bWJlciwgYmFzZSkge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBiYXNlID0gKGJhc2UgPT09IHVuZGVmaW5lZCkgPyAxMCA6IHV0aWxzLnBhcnNlTnVtYmVyKGJhc2UpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bWJlciwgYmFzZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyhudW1iZXIpIC8gTWF0aC5sb2coYmFzZSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTE9HMTAgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyhudW1iZXIpIC8gTWF0aC5sb2coMTApO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk1ERVRFUk0gPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5NSU5WRVJTRSA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk1NVUxUID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTU9EID0gZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcclxuICAgICAgICAgICAgZGl2aWRlbmQgPSB1dGlscy5wYXJzZU51bWJlcihkaXZpZGVuZCk7XHJcbiAgICAgICAgICAgIGRpdmlzb3IgPSB1dGlscy5wYXJzZU51bWJlcihkaXZpc29yKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoZGl2aWRlbmQsIGRpdmlzb3IpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpdmlzb3IgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5kaXYwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtb2R1bHVzID0gTWF0aC5hYnMoZGl2aWRlbmQgJSBkaXZpc29yKTtcclxuICAgICAgICAgICAgcmV0dXJuIChkaXZpc29yID4gMCkgPyBtb2R1bHVzIDogLW1vZHVsdXM7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTVJPVU5EID0gZnVuY3Rpb24obnVtYmVyLCBtdWx0aXBsZSkge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBtdWx0aXBsZSA9IHV0aWxzLnBhcnNlTnVtYmVyKG11bHRpcGxlKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IobnVtYmVyLCBtdWx0aXBsZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobnVtYmVyICogbXVsdGlwbGUgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyIC8gbXVsdGlwbGUpICogbXVsdGlwbGU7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTVVMVElOT01JQUwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4oYXJndW1lbnRzKSk7XHJcbiAgICAgICAgICAgIGlmIChhcmdzIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBzdW0gPSAwO1xyXG4gICAgICAgICAgICB2YXIgZGl2aXNvciA9IDE7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc3VtICs9IGFyZ3NbaV07XHJcbiAgICAgICAgICAgICAgICBkaXZpc29yICo9IGV4cG9ydHMuRkFDVChhcmdzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5GQUNUKHN1bSkgLyBkaXZpc29yO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk1VTklUID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuT0REID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdGVtcCA9IE1hdGguY2VpbChNYXRoLmFicyhudW1iZXIpKTtcclxuICAgICAgICAgICAgdGVtcCA9ICh0ZW1wICYgMSkgPyB0ZW1wIDogdGVtcCArIDE7XHJcbiAgICAgICAgICAgIHJldHVybiAobnVtYmVyID4gMCkgPyB0ZW1wIDogLXRlbXA7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUEkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguUEk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUE9XRVIgPSBmdW5jdGlvbihudW1iZXIsIHBvd2VyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIHBvd2VyID0gdXRpbHMucGFyc2VOdW1iZXIocG93ZXIpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihudW1iZXIsIHBvd2VyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBNYXRoLnBvdyhudW1iZXIsIHBvd2VyKTtcclxuICAgICAgICAgICAgaWYgKGlzTmFOKHJlc3VsdCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlBST0RVQ1QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4oYXJndW1lbnRzKSk7XHJcbiAgICAgICAgICAgIGlmIChhcmdzIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAxO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCAqPSBhcmdzW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUVVPVElFTlQgPSBmdW5jdGlvbihudW1lcmF0b3IsIGRlbm9taW5hdG9yKSB7XHJcbiAgICAgICAgICAgIG51bWVyYXRvciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWVyYXRvcik7XHJcbiAgICAgICAgICAgIGRlbm9taW5hdG9yID0gdXRpbHMucGFyc2VOdW1iZXIoZGVub21pbmF0b3IpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihudW1lcmF0b3IsIGRlbm9taW5hdG9yKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChudW1lcmF0b3IgLyBkZW5vbWluYXRvciwgMTApO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlJBRElBTlMgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlJBTkQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUkFOREJFVFdFRU4gPSBmdW5jdGlvbihib3R0b20sIHRvcCkge1xyXG4gICAgICAgICAgICBib3R0b20gPSB1dGlscy5wYXJzZU51bWJlcihib3R0b20pO1xyXG4gICAgICAgICAgICB0b3AgPSB1dGlscy5wYXJzZU51bWJlcih0b3ApO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihib3R0b20sIHRvcCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIDMuMCBMaWNlbnNlXHJcbiAgICAgICAgICAgIC8vIENvcHlyaWdodCAoYykgMjAxMiBlcWNvZGVcclxuICAgICAgICAgICAgcmV0dXJuIGJvdHRvbSArIE1hdGguY2VpbCgodG9wIC0gYm90dG9tICsgMSkgKiBNYXRoLnJhbmRvbSgpKSAtIDE7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUk9NQU4gPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5ST1VORCA9IGZ1bmN0aW9uKG51bWJlciwgZGlnaXRzKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGRpZ2l0cyA9IHV0aWxzLnBhcnNlTnVtYmVyKGRpZ2l0cyk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bWJlciwgZGlnaXRzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlciAqIE1hdGgucG93KDEwLCBkaWdpdHMpKSAvIE1hdGgucG93KDEwLCBkaWdpdHMpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlJPVU5ERE9XTiA9IGZ1bmN0aW9uKG51bWJlciwgZGlnaXRzKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGRpZ2l0cyA9IHV0aWxzLnBhcnNlTnVtYmVyKGRpZ2l0cyk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bWJlciwgZGlnaXRzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBzaWduID0gKG51bWJlciA+IDApID8gMSA6IC0xO1xyXG4gICAgICAgICAgICByZXR1cm4gc2lnbiAqIChNYXRoLmZsb29yKE1hdGguYWJzKG51bWJlcikgKiBNYXRoLnBvdygxMCwgZGlnaXRzKSkpIC8gTWF0aC5wb3coMTAsIGRpZ2l0cyk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUk9VTkRVUCA9IGZ1bmN0aW9uKG51bWJlciwgZGlnaXRzKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGRpZ2l0cyA9IHV0aWxzLnBhcnNlTnVtYmVyKGRpZ2l0cyk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bWJlciwgZGlnaXRzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBzaWduID0gKG51bWJlciA+IDApID8gMSA6IC0xO1xyXG4gICAgICAgICAgICByZXR1cm4gc2lnbiAqIChNYXRoLmNlaWwoTWF0aC5hYnMobnVtYmVyKSAqIE1hdGgucG93KDEwLCBkaWdpdHMpKSkgLyBNYXRoLnBvdygxMCwgZGlnaXRzKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5TRUMgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAxIC8gTWF0aC5jb3MobnVtYmVyKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5TRUNIID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMiAvIChNYXRoLmV4cChudW1iZXIpICsgTWF0aC5leHAoLW51bWJlcikpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNFUklFU1NVTSA9IGZ1bmN0aW9uKHgsIG4sIG0sIGNvZWZmaWNpZW50cykge1xyXG4gICAgICAgICAgICB4ID0gdXRpbHMucGFyc2VOdW1iZXIoeCk7XHJcbiAgICAgICAgICAgIG4gPSB1dGlscy5wYXJzZU51bWJlcihuKTtcclxuICAgICAgICAgICAgbSA9IHV0aWxzLnBhcnNlTnVtYmVyKG0pO1xyXG4gICAgICAgICAgICBjb2VmZmljaWVudHMgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KGNvZWZmaWNpZW50cyk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHgsIG4sIG0sIGNvZWZmaWNpZW50cykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdICogTWF0aC5wb3coeCwgbik7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgY29lZmZpY2llbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gY29lZmZpY2llbnRzW2ldICogTWF0aC5wb3coeCwgbiArIGkgKiBtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNJR04gPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtYmVyID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuU0lOID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5zaW4obnVtYmVyKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5TSU5IID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKE1hdGguZXhwKG51bWJlcikgLSBNYXRoLmV4cCgtbnVtYmVyKSkgLyAyO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNRUlQgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQobnVtYmVyKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5TUVJUUEkgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQobnVtYmVyICogTWF0aC5QSSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuU1VCVE9UQUwgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5BREQgPSBmdW5jdGlvbiAobnVtMSwgbnVtMikge1xyXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm5hO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgbnVtMSA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bTEpO1xyXG4gICAgICAgICAgICBudW0yID0gdXRpbHMucGFyc2VOdW1iZXIobnVtMik7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bTEsIG51bTIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gbnVtMSArIG51bTI7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTUlOVVMgPSBmdW5jdGlvbiAobnVtMSwgbnVtMikge1xyXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm5hO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgbnVtMSA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bTEpO1xyXG4gICAgICAgICAgICBudW0yID0gdXRpbHMucGFyc2VOdW1iZXIobnVtMik7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bTEsIG51bTIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gbnVtMSAtIG51bTI7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuRElWSURFID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7XHJcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubmE7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBkaXZpZGVuZCA9IHV0aWxzLnBhcnNlTnVtYmVyKGRpdmlkZW5kKTtcclxuICAgICAgICAgICAgZGl2aXNvciA9IHV0aWxzLnBhcnNlTnVtYmVyKGRpdmlzb3IpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihkaXZpZGVuZCwgZGl2aXNvcikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChkaXZpc29yID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IuZGl2MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTVVMVElQTFkgPSBmdW5jdGlvbiAoZmFjdG9yMSwgZmFjdG9yMikge1xyXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm5hO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgZmFjdG9yMSA9IHV0aWxzLnBhcnNlTnVtYmVyKGZhY3RvcjEpO1xyXG4gICAgICAgICAgICBmYWN0b3IyID0gdXRpbHMucGFyc2VOdW1iZXIoZmFjdG9yMik7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKGZhY3RvcjEsIGZhY3RvcjIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yMSAqIGZhY3RvcjI7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuR1RFID0gZnVuY3Rpb24gKG51bTEsIG51bTIpIHtcclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5uYTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIG51bTEgPSB1dGlscy5wYXJzZU51bWJlcihudW0xKTtcclxuICAgICAgICAgICAgbnVtMiA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bTIpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihudW0xLCBudW0yKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLmVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIG51bTEgPj0gbnVtMjtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5MVCA9IGZ1bmN0aW9uIChudW0xLCBudW0yKSB7XHJcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubmE7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBudW0xID0gdXRpbHMucGFyc2VOdW1iZXIobnVtMSk7XHJcbiAgICAgICAgICAgIG51bTIgPSB1dGlscy5wYXJzZU51bWJlcihudW0yKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IobnVtMSwgbnVtMikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5lcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiBudW0xIDwgbnVtMjtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5MVEUgPSBmdW5jdGlvbiAobnVtMSwgbnVtMikge1xyXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm5hO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgbnVtMSA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bTEpO1xyXG4gICAgICAgICAgICBudW0yID0gdXRpbHMucGFyc2VOdW1iZXIobnVtMik7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bTEsIG51bTIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IuZXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gbnVtMSA8PSBudW0yO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkVRID0gZnVuY3Rpb24gKHZhbHVlMSwgdmFsdWUyKSB7XHJcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IubmE7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUxID09PSB2YWx1ZTI7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTkUgPSBmdW5jdGlvbiAodmFsdWUxLCB2YWx1ZTIpIHtcclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5uYTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTEgIT09IHZhbHVlMjtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5QT1cgPSBmdW5jdGlvbiAoYmFzZSwgZXhwb25lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5uYTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGJhc2UgPSB1dGlscy5wYXJzZU51bWJlcihiYXNlKTtcclxuICAgICAgICAgICAgZXhwb25lbnQgPSB1dGlscy5wYXJzZU51bWJlcihleHBvbmVudCk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKGJhc2UsIGV4cG9uZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLmVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuUE9XRVIoYmFzZSwgZXhwb25lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNVTSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgICAgICAgICAgdmFyIGFyZ3NLZXlzID0gT2JqZWN0LmtleXMoYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzS2V5cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsdCA9IGFyZ3VtZW50c1thcmdzS2V5c1tpXV07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsdCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZWx0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZWx0ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZUZsb2F0KGVsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgIWlzTmFOKHBhcnNlZCkgJiYgKHJlc3VsdCArPSBwYXJzZWQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVsdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZXhwb3J0cy5TVU0uYXBwbHkobnVsbCwgZWx0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNVTUlGID0gZnVuY3Rpb24ocmFuZ2UsIGNyaXRlcmlhKSB7XHJcbiAgICAgICAgICAgIHJhbmdlID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKHJhbmdlKSk7XHJcbiAgICAgICAgICAgIGlmIChyYW5nZSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAoZXZhbChyYW5nZVtpXSArIGNyaXRlcmlhKSkgPyByYW5nZVtpXSA6IDA7IC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuU1VNSUZTID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gdXRpbHMuYXJnc1RvQXJyYXkoYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKGFyZ3Muc2hpZnQoKSkpO1xyXG4gICAgICAgICAgICBpZiAocmFuZ2UgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjcml0ZXJpYSA9IGFyZ3M7XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIG5fcmFuZ2VfZWxlbWVudHMgPSByYW5nZS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBuX2NyaXRlcmlhcyA9IGNyaXRlcmlhLmxlbmd0aDtcclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuX3JhbmdlX2VsZW1lbnRzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbCA9IHJhbmdlW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbmRpdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBuX2NyaXRlcmlhczsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uICs9IGVsICsgY3JpdGVyaWFbY107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMgIT09IG5fY3JpdGVyaWFzIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb24gKz0gJyYmJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZhbChjb25kaXRpb24pKSB7IC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBlbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNVTVBST0RVQ1QgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5TVU1TUSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgbnVtYmVycyA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbihhcmd1bWVudHMpKTtcclxuICAgICAgICAgICAgaWYgKG51bWJlcnMgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBudW1iZXJzLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IChJU05VTUJFUihudW1iZXJzW2ldKSkgPyBudW1iZXJzW2ldICogbnVtYmVyc1tpXSA6IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5TVU1YMk1ZMiA9IGZ1bmN0aW9uKGFycmF5X3gsIGFycmF5X3kpIHtcclxuICAgICAgICAgICAgYXJyYXlfeCA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbihhcnJheV94KSk7XHJcbiAgICAgICAgICAgIGFycmF5X3kgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4oYXJyYXlfeSkpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihhcnJheV94LCBhcnJheV95KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5X3gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhcnJheV94W2ldICogYXJyYXlfeFtpXSAtIGFycmF5X3lbaV0gKiBhcnJheV95W2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuU1VNWDJQWTIgPSBmdW5jdGlvbihhcnJheV94LCBhcnJheV95KSB7XHJcbiAgICAgICAgICAgIGFycmF5X3ggPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4oYXJyYXlfeCkpO1xyXG4gICAgICAgICAgICBhcnJheV95ID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKGFycmF5X3kpKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoYXJyYXlfeCwgYXJyYXlfeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgICAgICAgICAgYXJyYXlfeCA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbihhcnJheV94KSk7XHJcbiAgICAgICAgICAgIGFycmF5X3kgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4oYXJyYXlfeSkpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5X3gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhcnJheV94W2ldICogYXJyYXlfeFtpXSArIGFycmF5X3lbaV0gKiBhcnJheV95W2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuU1VNWE1ZMiA9IGZ1bmN0aW9uKGFycmF5X3gsIGFycmF5X3kpIHtcclxuICAgICAgICAgICAgYXJyYXlfeCA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbihhcnJheV94KSk7XHJcbiAgICAgICAgICAgIGFycmF5X3kgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4oYXJyYXlfeSkpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihhcnJheV94LCBhcnJheV95KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAwO1xyXG4gICAgICAgICAgICBhcnJheV94ID0gdXRpbHMuZmxhdHRlbihhcnJheV94KTtcclxuICAgICAgICAgICAgYXJyYXlfeSA9IHV0aWxzLmZsYXR0ZW4oYXJyYXlfeSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlfeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IE1hdGgucG93KGFycmF5X3hbaV0gLSBhcnJheV95W2ldLCAyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlRBTiA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgudGFuKG51bWJlcik7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuVEFOSCA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGUyID0gTWF0aC5leHAoMiAqIG51bWJlcik7XHJcbiAgICAgICAgICAgIHJldHVybiAoZTIgLSAxKSAvIChlMiArIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlRSVU5DID0gZnVuY3Rpb24obnVtYmVyLCBkaWdpdHMpIHtcclxuICAgICAgICAgICAgZGlnaXRzID0gKGRpZ2l0cyA9PT0gdW5kZWZpbmVkKSA/IDAgOiBkaWdpdHM7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGRpZ2l0cyA9IHV0aWxzLnBhcnNlTnVtYmVyKGRpZ2l0cyk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKG51bWJlciwgZGlnaXRzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBzaWduID0gKG51bWJlciA+IDApID8gMSA6IC0xO1xyXG4gICAgICAgICAgICByZXR1cm4gc2lnbiAqIChNYXRoLmZsb29yKE1hdGguYWJzKG51bWJlcikgKiBNYXRoLnBvdygxMCwgZGlnaXRzKSkpIC8gTWF0aC5wb3coMTAsIGRpZ2l0cyk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiBleHBvcnRzO1xyXG4gICAgfSkoKTtcclxuICAgIFxyXG4gICAgamV4Y2VsLm1ldGhvZHMubWlzYyA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZXhwb3J0cyA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5VTklRVUUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNFbGVtZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGFyZ3VtZW50c1tpXTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UndmUgYWxyZWFkeSBzZWVuIHRoaXMgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmVzdWx0Lmxlbmd0aDsgKytqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzRWxlbWVudCA9IHJlc3VsdFtqXSA9PT0gZWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzRWxlbWVudCkgeyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkaWQgbm90IGZpbmQgaXQsIGFkZCBpdCB0byB0aGUgcmVzdWx0LlxyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5GTEFUVEVOID0gdXRpbHMuZmxhdHRlbjtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQVJHUzJBUlJBWSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUkVGRVJFTkNFID0gZnVuY3Rpb24gKGNvbnRleHQsIHJlZmVyZW5jZSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSByZWZlcmVuY2Uuc3BsaXQoJy4nKTtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBwYXRoW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGVwW3N0ZXAubGVuZ3RoIC0gMV0gPT09ICddJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3BlbmluZyA9IHN0ZXAuaW5kZXhPZignWycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBzdGVwLnN1YnN0cmluZyhvcGVuaW5nICsgMSwgc3RlcC5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0W3N0ZXAuc3Vic3RyaW5nKDAsIG9wZW5pbmcpXVtpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0W3N0ZXBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkpPSU4gPSBmdW5jdGlvbiAoYXJyYXksIHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXkuam9pbihzZXBhcmF0b3IpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk5VTUJFUlMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwb3NzaWJsZU51bWJlcnMgPSB1dGlscy5mbGF0dGVuKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NzaWJsZU51bWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBlbCA9PT0gJ251bWJlcic7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk5VTUVSQUwgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XHJcbiAgICB9KSgpO1xyXG4gICAgXHJcbiAgICBqZXhjZWwubWV0aG9kcy50ZXh0ID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBleHBvcnRzID0ge307XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkFTQyA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkJBSFRURVhUID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQ0hBUiA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobnVtYmVyKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DTEVBTiA9IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgICAgICAgICAgdGV4dCA9IHRleHQgfHwgJyc7XHJcbiAgICAgICAgICAgIHZhciByZSA9IC9bXFwwLVxceDFGXS9nO1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKHJlLCBcIlwiKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DT0RFID0gZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dCB8fCAnJztcclxuICAgICAgICAgICAgcmV0dXJuIHRleHQuY2hhckNvZGVBdCgwKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DT05DQVRFTkFURSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IHV0aWxzLmZsYXR0ZW4oYXJndW1lbnRzKTtcclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgdHJ1ZUZvdW5kID0gMDtcclxuICAgICAgICAgICAgd2hpbGUgKCh0cnVlRm91bmQgPSBhcmdzLmluZGV4T2YodHJ1ZSkpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbdHJ1ZUZvdW5kXSA9ICdUUlVFJztcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBmYWxzZUZvdW5kID0gMDtcclxuICAgICAgICAgICAgd2hpbGUgKChmYWxzZUZvdW5kID0gYXJncy5pbmRleE9mKGZhbHNlKSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tmYWxzZUZvdW5kXSA9ICdGQUxTRSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gYXJncy5qb2luKCcnKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5EQkNTID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuRE9MTEFSID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuRVhBQ1QgPSBmdW5jdGlvbih0ZXh0MSwgdGV4dDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRleHQxID09PSB0ZXh0MjtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5GSU5EID0gZnVuY3Rpb24oZmluZF90ZXh0LCB3aXRoaW5fdGV4dCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkgPyAwIDogcG9zaXRpb247XHJcbiAgICAgICAgICAgIHJldHVybiB3aXRoaW5fdGV4dCA/IHdpdGhpbl90ZXh0LmluZGV4T2YoZmluZF90ZXh0LCBwb3NpdGlvbiAtIDEpICsgMSA6IG51bGw7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuRklYRUQgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5IVE1MMlRFWFQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXG4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAobGluZS5yZXBsYWNlKC88KD86LnxcXG4pKj8+L2dtLCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZS5yZXBsYWNlKC88KD86LnxcXG4pKj8+L2dtLCAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkxFRlQgPSBmdW5jdGlvbih0ZXh0LCBudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gKG51bWJlciA9PT0gdW5kZWZpbmVkKSA/IDEgOiBudW1iZXI7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvciB8fCB0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGV4dCA/IHRleHQuc3Vic3RyaW5nKDAsIG51bWJlcikgOiBudWxsO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkxFTiA9IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5lcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0ID8gdGV4dC5sZW5ndGggOiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTE9XRVIgPSBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGV4dCA/IHRleHQudG9Mb3dlckNhc2UoKSA6IHRleHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTUlEID0gZnVuY3Rpb24odGV4dCwgc3RhcnQsIG51bWJlcikge1xyXG4gICAgICAgICAgICBzdGFydCA9IHV0aWxzLnBhcnNlTnVtYmVyKHN0YXJ0KTtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3Ioc3RhcnQsIG51bWJlcikgfHwgdHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIGJlZ2luID0gc3RhcnQgLSAxO1xyXG4gICAgICAgICAgICB2YXIgZW5kID0gYmVnaW4gKyBudW1iZXI7XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKGJlZ2luLCBlbmQpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk5VTUJFUlZBTFVFID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUFJPTkVUSUMgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5QUk9QRVIgPSBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICAgICAgICAgIGlmICh0ZXh0ID09PSB1bmRlZmluZWQgfHwgdGV4dC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGV4dCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9ICdUUlVFJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGV4dCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHRleHQgPSAnRkFMU0UnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc05hTih0ZXh0KSAmJiB0eXBlb2YgdGV4dCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRleHQgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gJycgKyB0ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXFx3XFxTKi9nLCBmdW5jdGlvbih0eHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eHQuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlJFR0VYRVhUUkFDVCA9IGZ1bmN0aW9uICh0ZXh0LCByZWd1bGFyX2V4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgdmFyIG1hdGNoID0gdGV4dC5tYXRjaChuZXcgUmVnRXhwKHJlZ3VsYXJfZXhwcmVzc2lvbikpO1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2ggPyAobWF0Y2hbbWF0Y2gubGVuZ3RoID4gMSA/IG1hdGNoLmxlbmd0aCAtIDEgOiAwXSkgOiBudWxsO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlJFR0VYTUFUQ0ggPSBmdW5jdGlvbiAodGV4dCwgcmVndWxhcl9leHByZXNzaW9uLCBmdWxsKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2gobmV3IFJlZ0V4cChyZWd1bGFyX2V4cHJlc3Npb24pKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bGwgPyBtYXRjaCA6ICEhbWF0Y2g7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUkVHRVhSRVBMQUNFID0gZnVuY3Rpb24gKHRleHQsIHJlZ3VsYXJfZXhwcmVzc2lvbiwgcmVwbGFjZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZShuZXcgUmVnRXhwKHJlZ3VsYXJfZXhwcmVzc2lvbiksIHJlcGxhY2VtZW50KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5SRVBMQUNFID0gZnVuY3Rpb24odGV4dCwgcG9zaXRpb24sIGxlbmd0aCwgbmV3X3RleHQpIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSB1dGlscy5wYXJzZU51bWJlcihwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGxlbmd0aCA9IHV0aWxzLnBhcnNlTnVtYmVyKGxlbmd0aCk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHBvc2l0aW9uLCBsZW5ndGgpIHx8XHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycgfHxcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBuZXdfdGV4dCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHIoMCwgcG9zaXRpb24gLSAxKSArIG5ld190ZXh0ICsgdGV4dC5zdWJzdHIocG9zaXRpb24gLSAxICsgbGVuZ3RoKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5SRVBUID0gZnVuY3Rpb24odGV4dCwgbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFycmF5KG51bWJlciArIDEpLmpvaW4odGV4dCk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUklHSFQgPSBmdW5jdGlvbih0ZXh0LCBudW1iZXIpIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gKG51bWJlciA9PT0gdW5kZWZpbmVkKSA/IDEgOiBudW1iZXI7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGV4dCA/IHRleHQuc3Vic3RyaW5nKHRleHQubGVuZ3RoIC0gbnVtYmVyKSA6IG51bGw7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuU0VBUkNIID0gZnVuY3Rpb24oZmluZF90ZXh0LCB3aXRoaW5fdGV4dCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgdmFyIGZvdW5kQXQ7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmluZF90ZXh0ICE9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygd2l0aGluX3RleHQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcG9zaXRpb24gPSAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkgPyAwIDogcG9zaXRpb247XHJcbiAgICAgICAgICAgIGZvdW5kQXQgPSB3aXRoaW5fdGV4dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZmluZF90ZXh0LnRvTG93ZXJDYXNlKCksIHBvc2l0aW9uIC0gMSkrMTtcclxuICAgICAgICAgICAgcmV0dXJuIChmb3VuZEF0ID09PSAwKT9lcnJvci52YWx1ZTpmb3VuZEF0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNQTElUID0gZnVuY3Rpb24gKHRleHQsIHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zcGxpdChzZXBhcmF0b3IpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNVQlNUSVRVVEUgPSBmdW5jdGlvbih0ZXh0LCBvbGRfdGV4dCwgbmV3X3RleHQsIG9jY3VycmVuY2UpIHtcclxuICAgICAgICAgICAgaWYgKCF0ZXh0IHx8ICFvbGRfdGV4dCB8fCAhbmV3X3RleHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9jY3VycmVuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZShuZXcgUmVnRXhwKG9sZF90ZXh0LCAnZycpLCBuZXdfdGV4dCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRleHQuaW5kZXhPZihvbGRfdGV4dCwgaW5kZXgpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdGV4dC5pbmRleE9mKG9sZF90ZXh0LCBpbmRleCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gb2NjdXJyZW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgaW5kZXgpICsgbmV3X3RleHQgKyB0ZXh0LnN1YnN0cmluZyhpbmRleCArIG9sZF90ZXh0Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuVCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSA/IHZhbHVlIDogJyc7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuVEVYVCA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlRSSU0gPSBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC8gKy9nLCAnICcpLnRyaW0oKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5VTklDSEFSID0gZXhwb3J0cy5DSEFSO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5VTklDT0RFID0gZXhwb3J0cy5DT0RFO1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5VUFBFUiA9IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuVkFMVUUgPSBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XHJcbiAgICB9KSgpO1xyXG4gICAgXHJcbiAgICBqZXhjZWwubWV0aG9kcy5zdGF0cyA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZXhwb3J0cyA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgdmFyIFNRUlQyUEkgPSAyLjUwNjYyODI3NDYzMTAwMDI7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkFWRURFViA9IG51bGw7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkFWRVJBR0UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdXRpbHMubnVtYmVycyh1dGlscy5mbGF0dGVuKGFyZ3VtZW50cykpO1xyXG4gICAgICAgICAgICB2YXIgbiA9IHJhbmdlLmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIHN1bSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzdW0gKz0gcmFuZ2VbaV07XHJcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzdW0gLyBjb3VudDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5BVkVSQUdFQSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB1dGlscy5mbGF0dGVuKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIHZhciBuID0gcmFuZ2UubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgc3VtID0gMDtcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbCA9IHJhbmdlW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdW0gKz0gZWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdW0rKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN1bSAvIGNvdW50O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkFWRVJBR0VJRiA9IGZ1bmN0aW9uKHJhbmdlLCBjcml0ZXJpYSwgYXZlcmFnZV9yYW5nZSkge1xyXG4gICAgICAgICAgICBhdmVyYWdlX3JhbmdlID0gYXZlcmFnZV9yYW5nZSB8fCByYW5nZTtcclxuICAgICAgICAgICAgcmFuZ2UgPSB1dGlscy5mbGF0dGVuKHJhbmdlKTtcclxuICAgICAgICAgICAgYXZlcmFnZV9yYW5nZSA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbihhdmVyYWdlX3JhbmdlKSk7XHJcbiAgICAgICAgICAgIGlmIChhdmVyYWdlX3JhbmdlIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhdmVyYWdlX3JhbmdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBhdmVyYWdlX2NvdW50ID0gMDtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmFsKHJhbmdlW2ldICsgY3JpdGVyaWEpKSB7IC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhdmVyYWdlX3JhbmdlW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGF2ZXJhZ2VfY291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0IC8gYXZlcmFnZV9jb3VudDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5BVkVSQUdFSUZTID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQ09VTlQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLm51bWJlcnModXRpbHMuZmxhdHRlbihhcmd1bWVudHMpKS5sZW5ndGg7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQ09VTlRBID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHV0aWxzLmZsYXR0ZW4oYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJhbmdlLmxlbmd0aCAtIGV4cG9ydHMuQ09VTlRCTEFOSyhyYW5nZSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuQ09VTlRJTiA9IGZ1bmN0aW9uIChyYW5nZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChyYW5nZVtpXSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkNPVU5UQkxBTksgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdXRpbHMuZmxhdHRlbihhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB2YXIgYmxhbmtzID0gMDtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSByYW5nZVtpXTtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxhbmtzKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGJsYW5rcztcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DT1VOVElGID0gZnVuY3Rpb24ocmFuZ2UsIGNyaXRlcmlhKSB7XHJcbiAgICAgICAgICAgIHJhbmdlID0gdXRpbHMuZmxhdHRlbihyYW5nZSk7XHJcbiAgICAgICAgICAgIGlmICghL1s8Pj0hXS8udGVzdChjcml0ZXJpYSkpIHtcclxuICAgICAgICAgICAgICAgIGNyaXRlcmlhID0gJz09XCInICsgY3JpdGVyaWEgKyAnXCInO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByYW5nZVtpXSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZhbChyYW5nZVtpXSArIGNyaXRlcmlhKSkgeyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2YWwoJ1wiJyArIHJhbmdlW2ldICsgJ1wiJyArIGNyaXRlcmlhKSkgeyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlcztcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5DT1VOVElGUyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IHV0aWxzLmFyZ3NUb0FycmF5KGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KHV0aWxzLmZsYXR0ZW4oYXJnc1swXSkubGVuZ3RoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzW2ldID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdXRpbHMuZmxhdHRlbihhcmdzW2ldKTtcclxuICAgICAgICAgICAgICAgIHZhciBjcml0ZXJpYSA9IGFyZ3NbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEvWzw+PSFdLy50ZXN0KGNyaXRlcmlhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyaXRlcmlhID0gJz09XCInICsgY3JpdGVyaWEgKyAnXCInO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByYW5nZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmFuZ2Vbal0gIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHNbal0gPSByZXN1bHRzW2pdICYmIGV2YWwocmFuZ2Vbal0gKyBjcml0ZXJpYSk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHNbal0gPSByZXN1bHRzW2pdICYmIGV2YWwoJ1wiJyArIHJhbmdlW2pdICsgJ1wiJyArIGNyaXRlcmlhKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdHNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkNPVU5UVU5JUVVFID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gVU5JUVVFLmFwcGx5KG51bGwsIHV0aWxzLmZsYXR0ZW4oYXJndW1lbnRzKSkubGVuZ3RoO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkZJU0hFUiA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgeCA9IHV0aWxzLnBhcnNlTnVtYmVyKHgpO1xyXG4gICAgICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5sb2coKDEgKyB4KSAvICgxIC0geCkpIC8gMjtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5GSVNIRVJJTlYgPSBmdW5jdGlvbih5KSB7XHJcbiAgICAgICAgICAgIHkgPSB1dGlscy5wYXJzZU51bWJlcih5KTtcclxuICAgICAgICAgICAgaWYgKHkgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGUyeSA9IE1hdGguZXhwKDIgKiB5KTtcclxuICAgICAgICAgICAgcmV0dXJuIChlMnkgLSAxKSAvIChlMnkgKyAxKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5GUkVRVUVOQ1kgPSBmdW5jdGlvbihkYXRhLCBiaW5zKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4oZGF0YSkpO1xyXG4gICAgICAgICAgICBiaW5zID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKGJpbnMpKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoZGF0YSwgYmlucykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbiA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYiA9IGJpbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgciA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBiOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJbaV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtqXSA8PSBiaW5zWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzBdICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2pdID4gYmluc1tpIC0gMV0gJiYgZGF0YVtqXSA8PSBiaW5zW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByW2ldICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IGIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbal0gPiBiaW5zW2IgLSAxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcltiXSArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLkxBUkdFID0gZnVuY3Rpb24ocmFuZ2UsIGspIHtcclxuICAgICAgICAgICAgcmFuZ2UgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4ocmFuZ2UpKTtcclxuICAgICAgICAgICAgayA9IHV0aWxzLnBhcnNlTnVtYmVyKGspO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihyYW5nZSwgaykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc29ydChmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYiAtIGE7XHJcbiAgICAgICAgICAgIH0pW2sgLSAxXTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5NQVggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdXRpbHMubnVtYmVycyh1dGlscy5mbGF0dGVuKGFyZ3VtZW50cykpO1xyXG4gICAgICAgICAgICByZXR1cm4gKHJhbmdlLmxlbmd0aCA9PT0gMCkgPyAwIDogTWF0aC5tYXguYXBwbHkoTWF0aCwgcmFuZ2UpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk1BWEEgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdXRpbHMuYXJyYXlWYWx1ZXNUb051bWJlcnModXRpbHMuZmxhdHRlbihhcmd1bWVudHMpKTtcclxuICAgICAgICAgICAgcmV0dXJuIChyYW5nZS5sZW5ndGggPT09IDApID8gMCA6IE1hdGgubWF4LmFwcGx5KE1hdGgsIHJhbmdlKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5NSU4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdXRpbHMubnVtYmVycyh1dGlscy5mbGF0dGVuKGFyZ3VtZW50cykpO1xyXG4gICAgICAgICAgICByZXR1cm4gKHJhbmdlLmxlbmd0aCA9PT0gMCkgPyAwIDogTWF0aC5taW4uYXBwbHkoTWF0aCwgcmFuZ2UpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk1JTkEgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdXRpbHMuYXJyYXlWYWx1ZXNUb051bWJlcnModXRpbHMuZmxhdHRlbihhcmd1bWVudHMpKTtcclxuICAgICAgICAgICAgcmV0dXJuIChyYW5nZS5sZW5ndGggPT09IDApID8gMCA6IE1hdGgubWluLmFwcGx5KE1hdGgsIHJhbmdlKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5NT0RFID0ge307XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLk1PREUuTVVMVCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvLyBDcmVkaXRzOiBSb8O2bmHDpG5cclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKGFyZ3VtZW50cykpO1xyXG4gICAgICAgICAgICBpZiAocmFuZ2UgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBuID0gcmFuZ2UubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgY291bnQgPSB7fTtcclxuICAgICAgICAgICAgdmFyIG1heEl0ZW1zID0gW107XHJcbiAgICAgICAgICAgIHZhciBtYXggPSAwO1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEl0ZW07XHJcbiAgICBcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVtID0gcmFuZ2VbaV07XHJcbiAgICAgICAgICAgICAgICBjb3VudFtjdXJyZW50SXRlbV0gPSBjb3VudFtjdXJyZW50SXRlbV0gPyBjb3VudFtjdXJyZW50SXRlbV0gKyAxIDogMTtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudFtjdXJyZW50SXRlbV0gPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjb3VudFtjdXJyZW50SXRlbV07XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4SXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb3VudFtjdXJyZW50SXRlbV0gPT09IG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heEl0ZW1zW21heEl0ZW1zLmxlbmd0aF0gPSBjdXJyZW50SXRlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWF4SXRlbXM7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuTU9ERS5TTkdMID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbihhcmd1bWVudHMpKTtcclxuICAgICAgICAgICAgaWYgKHJhbmdlIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5NT0RFLk1VTFQocmFuZ2UpLnNvcnQoZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGEgLSBiO1xyXG4gICAgICAgICAgICB9KVswXTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5QRVJDRU5USUxFID0ge307XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlBFUkNFTlRJTEUuRVhDID0gZnVuY3Rpb24oYXJyYXksIGspIHtcclxuICAgICAgICAgICAgYXJyYXkgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4oYXJyYXkpKTtcclxuICAgICAgICAgICAgayA9IHV0aWxzLnBhcnNlTnVtYmVyKGspO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihhcnJheSwgaykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhcnJheSA9IGFycmF5LnNvcnQoZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBuID0gYXJyYXkubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAoayA8IDEgLyAobiArIDEpIHx8IGsgPiAxIC0gMSAvIChuICsgMSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGwgPSBrICogKG4gKyAxKSAtIDE7XHJcbiAgICAgICAgICAgIHZhciBmbCA9IE1hdGguZmxvb3IobCk7XHJcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5jbGVhbkZsb2F0KChsID09PSBmbCkgPyBhcnJheVtsXSA6IGFycmF5W2ZsXSArIChsIC0gZmwpICogKGFycmF5W2ZsICsgMV0gLSBhcnJheVtmbF0pKTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5QRVJDRU5USUxFLklOQyA9IGZ1bmN0aW9uKGFycmF5LCBrKSB7XHJcbiAgICAgICAgICAgIGFycmF5ID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKGFycmF5KSk7XHJcbiAgICAgICAgICAgIGsgPSB1dGlscy5wYXJzZU51bWJlcihrKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoYXJyYXksIGspKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXJyYXkgPSBhcnJheS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBuID0gYXJyYXkubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgbCA9IGsgKiAobiAtIDEpO1xyXG4gICAgICAgICAgICB2YXIgZmwgPSBNYXRoLmZsb29yKGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuY2xlYW5GbG9hdCgobCA9PT0gZmwpID8gYXJyYXlbbF0gOiBhcnJheVtmbF0gKyAobCAtIGZsKSAqIChhcnJheVtmbCArIDFdIC0gYXJyYXlbZmxdKSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUEVSQ0VOVFJBTksgPSB7fTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUEVSQ0VOVFJBTksuRVhDID0gZnVuY3Rpb24oYXJyYXksIHgsIHNpZ25pZmljYW5jZSkge1xyXG4gICAgICAgICAgICBzaWduaWZpY2FuY2UgPSAoc2lnbmlmaWNhbmNlID09PSB1bmRlZmluZWQpID8gMyA6IHNpZ25pZmljYW5jZTtcclxuICAgICAgICAgICAgYXJyYXkgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4oYXJyYXkpKTtcclxuICAgICAgICAgICAgeCA9IHV0aWxzLnBhcnNlTnVtYmVyKHgpO1xyXG4gICAgICAgICAgICBzaWduaWZpY2FuY2UgPSB1dGlscy5wYXJzZU51bWJlcihzaWduaWZpY2FuY2UpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihhcnJheSwgeCwgc2lnbmlmaWNhbmNlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFycmF5ID0gYXJyYXkuc29ydChmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYSAtIGI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgdW5pcXVlcyA9IFVOSVFVRS5hcHBseShudWxsLCBhcnJheSk7XHJcbiAgICAgICAgICAgIHZhciBuID0gYXJyYXkubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgbSA9IHVuaXF1ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgcG93ZXIgPSBNYXRoLnBvdygxMCwgc2lnbmlmaWNhbmNlKTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIHdoaWxlICghbWF0Y2ggJiYgaSA8IG0pIHtcclxuICAgICAgICAgICAgICAgIGlmICh4ID09PSB1bmlxdWVzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gKGFycmF5LmluZGV4T2YodW5pcXVlc1tpXSkgKyAxKSAvIChuICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh4ID49IHVuaXF1ZXNbaV0gJiYgKHggPCB1bmlxdWVzW2kgKyAxXSB8fCBpID09PSBtIC0gMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAoYXJyYXkuaW5kZXhPZih1bmlxdWVzW2ldKSArIDEgKyAoeCAtIHVuaXF1ZXNbaV0pIC8gKHVuaXF1ZXNbaSArIDFdIC0gdW5pcXVlc1tpXSkpIC8gKG4gKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IocmVzdWx0ICogcG93ZXIpIC8gcG93ZXI7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUEVSQ0VOVFJBTksuSU5DID0gZnVuY3Rpb24oYXJyYXksIHgsIHNpZ25pZmljYW5jZSkge1xyXG4gICAgICAgICAgICBzaWduaWZpY2FuY2UgPSAoc2lnbmlmaWNhbmNlID09PSB1bmRlZmluZWQpID8gMyA6IHNpZ25pZmljYW5jZTtcclxuICAgICAgICAgICAgYXJyYXkgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4oYXJyYXkpKTtcclxuICAgICAgICAgICAgeCA9IHV0aWxzLnBhcnNlTnVtYmVyKHgpO1xyXG4gICAgICAgICAgICBzaWduaWZpY2FuY2UgPSB1dGlscy5wYXJzZU51bWJlcihzaWduaWZpY2FuY2UpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihhcnJheSwgeCwgc2lnbmlmaWNhbmNlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFycmF5ID0gYXJyYXkuc29ydChmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYSAtIGI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgdW5pcXVlcyA9IFVOSVFVRS5hcHBseShudWxsLCBhcnJheSk7XHJcbiAgICAgICAgICAgIHZhciBuID0gYXJyYXkubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgbSA9IHVuaXF1ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgcG93ZXIgPSBNYXRoLnBvdygxMCwgc2lnbmlmaWNhbmNlKTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIHdoaWxlICghbWF0Y2ggJiYgaSA8IG0pIHtcclxuICAgICAgICAgICAgICAgIGlmICh4ID09PSB1bmlxdWVzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gYXJyYXkuaW5kZXhPZih1bmlxdWVzW2ldKSAvIChuIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh4ID49IHVuaXF1ZXNbaV0gJiYgKHggPCB1bmlxdWVzW2kgKyAxXSB8fCBpID09PSBtIC0gMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAoYXJyYXkuaW5kZXhPZih1bmlxdWVzW2ldKSArICh4IC0gdW5pcXVlc1tpXSkgLyAodW5pcXVlc1tpICsgMV0gLSB1bmlxdWVzW2ldKSkgLyAobiAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihyZXN1bHQgKiBwb3dlcikgLyBwb3dlcjtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5QRVJNVVQgPSBmdW5jdGlvbihudW1iZXIsIG51bWJlcl9jaG9zZW4pIHtcclxuICAgICAgICAgICAgbnVtYmVyID0gdXRpbHMucGFyc2VOdW1iZXIobnVtYmVyKTtcclxuICAgICAgICAgICAgbnVtYmVyX2Nob3NlbiA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcl9jaG9zZW4pO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihudW1iZXIsIG51bWJlcl9jaG9zZW4pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIEZBQ1QobnVtYmVyKSAvIEZBQ1QobnVtYmVyIC0gbnVtYmVyX2Nob3Nlbik7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUEVSTVVUQVRJT05BID0gZnVuY3Rpb24obnVtYmVyLCBudW1iZXJfY2hvc2VuKSB7XHJcbiAgICAgICAgICAgIG51bWJlciA9IHV0aWxzLnBhcnNlTnVtYmVyKG51bWJlcik7XHJcbiAgICAgICAgICAgIG51bWJlcl9jaG9zZW4gPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXJfY2hvc2VuKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IobnVtYmVyLCBudW1iZXJfY2hvc2VuKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdyhudW1iZXIsIG51bWJlcl9jaG9zZW4pO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlBISSA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgeCA9IHV0aWxzLnBhcnNlTnVtYmVyKHgpO1xyXG4gICAgICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguZXhwKC0wLjUgKiB4ICogeCkgLyBTUVJUMlBJO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlBST0IgPSBmdW5jdGlvbihyYW5nZSwgcHJvYmFiaWxpdHksIGxvd2VyLCB1cHBlcikge1xyXG4gICAgICAgICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXBwZXIgPSAodXBwZXIgPT09IHVuZGVmaW5lZCkgPyBsb3dlciA6IHVwcGVyO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHJhbmdlID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKHJhbmdlKSk7XHJcbiAgICAgICAgICAgIHByb2JhYmlsaXR5ID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKHByb2JhYmlsaXR5KSk7XHJcbiAgICAgICAgICAgIGxvd2VyID0gdXRpbHMucGFyc2VOdW1iZXIobG93ZXIpO1xyXG4gICAgICAgICAgICB1cHBlciA9IHV0aWxzLnBhcnNlTnVtYmVyKHVwcGVyKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IocmFuZ2UsIHByb2JhYmlsaXR5LCBsb3dlciwgdXBwZXIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAobG93ZXIgPT09IHVwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHJhbmdlLmluZGV4T2YobG93ZXIpID49IDApID8gcHJvYmFiaWxpdHlbcmFuZ2UuaW5kZXhPZihsb3dlcildIDogMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBzb3J0ZWQgPSByYW5nZS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBuID0gc29ydGVkLmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc29ydGVkW2ldID49IGxvd2VyICYmIHNvcnRlZFtpXSA8PSB1cHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBwcm9iYWJpbGl0eVtyYW5nZS5pbmRleE9mKHNvcnRlZFtpXSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUVVBUlRJTEUgPSB7fTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUVVBUlRJTEUuRVhDID0gZnVuY3Rpb24ocmFuZ2UsIHF1YXJ0KSB7XHJcbiAgICAgICAgICAgIHJhbmdlID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKHJhbmdlKSk7XHJcbiAgICAgICAgICAgIHF1YXJ0ID0gdXRpbHMucGFyc2VOdW1iZXIocXVhcnQpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihyYW5nZSwgcXVhcnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3dpdGNoIChxdWFydCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlBFUkNFTlRJTEUuRVhDKHJhbmdlLCAwLjI1KTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5QRVJDRU5USUxFLkVYQyhyYW5nZSwgMC41KTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5QRVJDRU5USUxFLkVYQyhyYW5nZSwgMC43NSk7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5udW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5RVUFSVElMRS5JTkMgPSBmdW5jdGlvbihyYW5nZSwgcXVhcnQpIHtcclxuICAgICAgICAgICAgcmFuZ2UgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4ocmFuZ2UpKTtcclxuICAgICAgICAgICAgcXVhcnQgPSB1dGlscy5wYXJzZU51bWJlcihxdWFydCk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHJhbmdlLCBxdWFydCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzd2l0Y2ggKHF1YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuUEVSQ0VOVElMRS5JTkMocmFuZ2UsIDAuMjUpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlBFUkNFTlRJTEUuSU5DKHJhbmdlLCAwLjUpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlBFUkNFTlRJTEUuSU5DKHJhbmdlLCAwLjc1KTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLm51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlJBTksgPSB7fTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuUkFOSy5BVkcgPSBmdW5jdGlvbihudW1iZXIsIHJhbmdlLCBvcmRlcikge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICByYW5nZSA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbihyYW5nZSkpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihudW1iZXIsIHJhbmdlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJhbmdlID0gdXRpbHMuZmxhdHRlbihyYW5nZSk7XHJcbiAgICAgICAgICAgIG9yZGVyID0gb3JkZXIgfHwgZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBzb3J0ID0gKG9yZGVyKSA/IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcclxuICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiIC0gYTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmFuZ2UgPSByYW5nZS5zb3J0KHNvcnQpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSByYW5nZS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChyYW5nZVtpXSA9PT0gbnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiAoY291bnQgPiAxKSA/ICgyICogcmFuZ2UuaW5kZXhPZihudW1iZXIpICsgY291bnQgKyAxKSAvIDIgOiByYW5nZS5pbmRleE9mKG51bWJlcikgKyAxO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlJBTksuRVEgPSBmdW5jdGlvbihudW1iZXIsIHJhbmdlLCBvcmRlcikge1xyXG4gICAgICAgICAgICBudW1iZXIgPSB1dGlscy5wYXJzZU51bWJlcihudW1iZXIpO1xyXG4gICAgICAgICAgICByYW5nZSA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbihyYW5nZSkpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihudW1iZXIsIHJhbmdlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9yZGVyID0gb3JkZXIgfHwgZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBzb3J0ID0gKG9yZGVyKSA/IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcclxuICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiIC0gYTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmFuZ2UgPSByYW5nZS5zb3J0KHNvcnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2UuaW5kZXhPZihudW1iZXIpICsgMTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5SU1EgPSBmdW5jdGlvbihkYXRhX3gsIGRhdGFfeSkgeyAvLyBubyBuZWVkIHRvIGZsYXR0ZW4gaGVyZSwgUEVBUlNPTiB3aWxsIHRha2UgY2FyZSBvZiB0aGF0XHJcbiAgICAgICAgICAgIGRhdGFfeCA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbihkYXRhX3gpKTtcclxuICAgICAgICAgICAgZGF0YV95ID0gdXRpbHMucGFyc2VOdW1iZXJBcnJheSh1dGlscy5mbGF0dGVuKGRhdGFfeSkpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihkYXRhX3gsIGRhdGFfeSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5wb3coZXhwb3J0cy5QRUFSU09OKGRhdGFfeCwgZGF0YV95KSwgMik7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuU01BTEwgPSBmdW5jdGlvbihyYW5nZSwgaykge1xyXG4gICAgICAgICAgICByYW5nZSA9IHV0aWxzLnBhcnNlTnVtYmVyQXJyYXkodXRpbHMuZmxhdHRlbihyYW5nZSkpO1xyXG4gICAgICAgICAgICBrID0gdXRpbHMucGFyc2VOdW1iZXIoayk7XHJcbiAgICAgICAgICAgIGlmICh1dGlscy5hbnlJc0Vycm9yKHJhbmdlLCBrKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByYW5nZS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcclxuICAgICAgICAgICAgfSlbayAtIDFdO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNUQU5EQVJESVpFID0gZnVuY3Rpb24oeCwgbWVhbiwgc2QpIHtcclxuICAgICAgICAgICAgeCA9IHV0aWxzLnBhcnNlTnVtYmVyKHgpO1xyXG4gICAgICAgICAgICBtZWFuID0gdXRpbHMucGFyc2VOdW1iZXIobWVhbik7XHJcbiAgICAgICAgICAgIHNkID0gdXRpbHMucGFyc2VOdW1iZXIoc2QpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcih4LCBtZWFuLCBzZCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKHggLSBtZWFuKSAvIHNkO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNUREVWID0ge307XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlNUREVWLlAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHYgPSBleHBvcnRzLlZBUi5QLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQodik7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuU1RERVYuUyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdiA9IGV4cG9ydHMuVkFSLlMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCh2KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5TVERFVkEgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHYgPSBleHBvcnRzLlZBUkEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCh2KTtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5TVERFVlBBID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB2ID0gZXhwb3J0cy5WQVJQQS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHYpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlZBUiA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5WQVIuUCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB1dGlscy5udW1iZXJzKHV0aWxzLmZsYXR0ZW4oYXJndW1lbnRzKSk7XHJcbiAgICAgICAgICAgIHZhciBuID0gcmFuZ2UubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgc2lnbWEgPSAwO1xyXG4gICAgICAgICAgICB2YXIgbWVhbiA9IGV4cG9ydHMuQVZFUkFHRShyYW5nZSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzaWdtYSArPSBNYXRoLnBvdyhyYW5nZVtpXSAtIG1lYW4sIDIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaWdtYSAvIG47XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuVkFSLlMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdXRpbHMubnVtYmVycyh1dGlscy5mbGF0dGVuKGFyZ3VtZW50cykpO1xyXG4gICAgICAgICAgICB2YXIgbiA9IHJhbmdlLmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIHNpZ21hID0gMDtcclxuICAgICAgICAgICAgdmFyIG1lYW4gPSBleHBvcnRzLkFWRVJBR0UocmFuZ2UpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc2lnbWEgKz0gTWF0aC5wb3cocmFuZ2VbaV0gLSBtZWFuLCAyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2lnbWEgLyAobiAtIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlZBUkEgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdXRpbHMuZmxhdHRlbihhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB2YXIgbiA9IHJhbmdlLmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIHNpZ21hID0gMDtcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuICAgICAgICAgICAgdmFyIG1lYW4gPSBleHBvcnRzLkFWRVJBR0VBKHJhbmdlKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbCA9IHJhbmdlW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaWdtYSArPSBNYXRoLnBvdyhlbCAtIG1lYW4sIDIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpZ21hICs9IE1hdGgucG93KDEgLSBtZWFuLCAyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2lnbWEgKz0gTWF0aC5wb3coMCAtIG1lYW4sIDIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoZWwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaWdtYSAvIChjb3VudCAtIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLlZBUlBBID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHV0aWxzLmZsYXR0ZW4oYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgdmFyIG4gPSByYW5nZS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBzaWdtYSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBtZWFuID0gZXhwb3J0cy5BVkVSQUdFQShyYW5nZSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSByYW5nZVtpXTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWwgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2lnbWEgKz0gTWF0aC5wb3coZWwgLSBtZWFuLCAyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaWdtYSArPSBNYXRoLnBvdygxIC0gbWVhbiwgMik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpZ21hICs9IE1hdGgucG93KDAgLSBtZWFuLCAyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGVsICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2lnbWEgLyBjb3VudDtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5XRUlCVUxMID0ge307XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLldFSUJVTEwuRElTVCA9IGZ1bmN0aW9uKHgsIGFscGhhLCBiZXRhLCBjdW11bGF0aXZlKSB7XHJcbiAgICAgICAgICAgIHggPSB1dGlscy5wYXJzZU51bWJlcih4KTtcclxuICAgICAgICAgICAgYWxwaGEgPSB1dGlscy5wYXJzZU51bWJlcihhbHBoYSk7XHJcbiAgICAgICAgICAgIGJldGEgPSB1dGlscy5wYXJzZU51bWJlcihiZXRhKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLmFueUlzRXJyb3IoeCwgYWxwaGEsIGJldGEpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChjdW11bGF0aXZlKSA/IDEgLSBNYXRoLmV4cCgtTWF0aC5wb3coeCAvIGJldGEsIGFscGhhKSkgOiBNYXRoLnBvdyh4LCBhbHBoYSAtIDEpICogTWF0aC5leHAoLU1hdGgucG93KHggLyBiZXRhLCBhbHBoYSkpICogYWxwaGEgLyBNYXRoLnBvdyhiZXRhLCBhbHBoYSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuWiA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5aLlRFU1QgPSBmdW5jdGlvbihyYW5nZSwgeCwgc2QpIHtcclxuICAgICAgICAgICAgcmFuZ2UgPSB1dGlscy5wYXJzZU51bWJlckFycmF5KHV0aWxzLmZsYXR0ZW4ocmFuZ2UpKTtcclxuICAgICAgICAgICAgeCA9IHV0aWxzLnBhcnNlTnVtYmVyKHgpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMuYW55SXNFcnJvcihyYW5nZSwgeCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHNkID0gc2QgfHwgZXhwb3J0cy5TVERFVi5TKHJhbmdlKTtcclxuICAgICAgICAgICAgdmFyIG4gPSByYW5nZS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHJldHVybiAxIC0gZXhwb3J0cy5OT1JNLlMuRElTVCgoZXhwb3J0cy5BVkVSQUdFKHJhbmdlKSAtIHgpIC8gKHNkIC8gTWF0aC5zcXJ0KG4pKSwgdHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiBleHBvcnRzO1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICBqZXhjZWwubWV0aG9kcy51dGlscyA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZXhwb3J0cyA9IHt9O1xyXG5cclxuICAgICAgICBleHBvcnRzLlBST0dSRVNTID0gZnVuY3Rpb24ocCwgYykge1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSBjID8gYyA6ICdyZWQnO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBwID8gcCA6ICcwJztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBzdHlsZT1cIndpZHRoOicgKyB2YWx1ZSArICclO2hlaWdodDo0cHg7YmFja2dyb3VuZC1jb2xvcjonICsgY29sb3IgKyAnO21hcmdpbi10b3A6MXB4O1wiPjwvZGl2Pic7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZXhwb3J0cy5SQVRJTkcgPSBmdW5jdGlvbih2KSB7XHJcbiAgICAgICAgICAgIHZhciBodG1sID0gJzxkaXYgY2xhc3M9XCJqcmF0aW5nXCI+JztcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChpIDwgdikge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJqcmF0aW5nLXNlbGVjdGVkXCI+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPGRpdj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XHJcbiAgICAgICAgICAgIHJldHVybiBodG1sO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgT2JqZWN0LmtleXMoamV4Y2VsLm1ldGhvZHMpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG1ldGhvZHMgPSBqZXhjZWwubWV0aG9kc1tPYmplY3Qua2V5cyhqZXhjZWwubWV0aG9kcylbaV1dO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgT2JqZWN0LmtleXMobWV0aG9kcykubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZihtZXRob2RzW09iamVjdC5rZXlzKG1ldGhvZHMpW2pdXSkgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgd2luZG93W09iamVjdC5rZXlzKG1ldGhvZHMpW2pdXSA9IG1ldGhvZHNbT2JqZWN0LmtleXMobWV0aG9kcylbal1dO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2luZG93W09iamVjdC5rZXlzKG1ldGhvZHMpW2pdXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhtZXRob2RzKVtqXSArICdOb3QgaW1wbGVtZW50ZWQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBqZXhjZWw7XHJcbn0pKSk7IiwidmFyIGNzcyA9IFwiLyoqXFxyXFxuICogKGMpIGpTdWl0ZXMgSmF2YXNjcmlwdCBXZWIgQ29tcG9uZW50c1xcclxcbiAqXFxyXFxuICogQXV0aG9yOiBQYXVsIEhvZGVsIDxwYXVsLmhvZGVsQGdtYWlsLmNvbT5cXHJcXG4gKiBXZWJzaXRlOiBodHRwczovL2Jvc3Nhbm92YS51ay9qc3VpdGVzL1xcclxcbiAqIERlc2NyaXB0aW9uOiBDcmVhdGUgYW1hemluZyB3ZWIgYmFzZWQgYXBwbGljYXRpb25zLlxcclxcbiAqXFxyXFxuICogTUlUIExpY2Vuc2VcXHJcXG4gKlxcclxcbiAqL1xcbi8qKiBHZW5lcmFsICoqL1xcbjpyb290IHtcXG4gIC0tYnV0dG9uLWNvbG9yOiAjMjk4QkE4O1xcbiAgLS1hY3RpdmUtY29sb3I6ICMwMDdhZmY7XFxufVxcbi5qZHJhZ2dpbmcge1xcbiAgb3BhY2l0eTogMC4yO1xcbiAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTIwKTtcXG59XFxuLmp1cGxvYWQge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCUUNBWUFBQUNPRWZLdEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUE3ZW1sVVdIUllUVXc2WTI5dExtRmtiMkpsTG5odGNBQUFBQUFBUEQ5NGNHRmphMlYwSUdKbFoybHVQU0x2dTc4aUlHbGtQU0pYTlUwd1RYQkRaV2hwU0hweVpWTjZUbFJqZW10ak9XUWlQejRLUEhnNmVHMXdiV1YwWVNCNGJXeHVjenA0UFNKaFpHOWlaVHB1Y3pwdFpYUmhMeUlnZURwNGJYQjBhejBpUVdSdlltVWdXRTFRSUVOdmNtVWdOUzQyTFdNeE16Z2dOemt1TVRVNU9ESTBMQ0F5TURFMkx6QTVMekUwTFRBeE9qQTVPakF4SUNBZ0lDQWdJQ0FpUGdvZ0lDQThjbVJtT2xKRVJpQjRiV3h1Y3pweVpHWTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1Rrdk1ESXZNakl0Y21SbUxYTjViblJoZUMxdWN5TWlQZ29nSUNBZ0lDQThjbVJtT2tSbGMyTnlhWEIwYVc5dUlISmtaanBoWW05MWREMGlJZ29nSUNBZ0lDQWdJQ0FnSUNCNGJXeHVjenA0YlhBOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOGlDaUFnSUNBZ0lDQWdJQ0FnSUhodGJHNXpPbVJqUFNKb2RIUndPaTh2Y0hWeWJDNXZjbWN2WkdNdlpXeGxiV1Z1ZEhNdk1TNHhMeUlLSUNBZ0lDQWdJQ0FnSUNBZ2VHMXNibk02Y0dodmRHOXphRzl3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzQm9iM1J2YzJodmNDOHhMakF2SWdvZ0lDQWdJQ0FnSUNBZ0lDQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SUtJQ0FnSUNBZ0lDQWdJQ0FnZUcxc2JuTTZjM1JGZG5ROUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXpWSGx3WlM5U1pYTnZkWEpqWlVWMlpXNTBJeUlLSUNBZ0lDQWdJQ0FnSUNBZ2VHMXNibk02ZEdsbVpqMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzkwYVdabUx6RXVNQzhpQ2lBZ0lDQWdJQ0FnSUNBZ0lIaHRiRzV6T21WNGFXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2WlhocFppOHhMakF2SWo0S0lDQWdJQ0FnSUNBZ1BIaHRjRHBEY21WaGRHOXlWRzl2YkQ1QlpHOWlaU0JRYUc5MGIzTm9iM0FnUTBNZ01qQXhOeUFvVjJsdVpHOTNjeWs4TDNodGNEcERjbVZoZEc5eVZHOXZiRDRLSUNBZ0lDQWdJQ0FnUEhodGNEcERjbVZoZEdWRVlYUmxQakl3TVRjdE1USXRNekZVTWpJNk5ETTZNekJhUEM5NGJYQTZRM0psWVhSbFJHRjBaVDRLSUNBZ0lDQWdJQ0FnUEhodGNEcE5iMlJwWm5sRVlYUmxQakl3TVRndE1ERXRNREZVTWpBNk1ETTZNak5hUEM5NGJYQTZUVzlrYVdaNVJHRjBaVDRLSUNBZ0lDQWdJQ0FnUEhodGNEcE5aWFJoWkdGMFlVUmhkR1UrTWpBeE9DMHdNUzB3TVZReU1Eb3dNem95TTFvOEwzaHRjRHBOWlhSaFpHRjBZVVJoZEdVK0NpQWdJQ0FnSUNBZ0lEeGtZenBtYjNKdFlYUSthVzFoWjJVdmNHNW5QQzlrWXpwbWIzSnRZWFErQ2lBZ0lDQWdJQ0FnSUR4d2FHOTBiM05vYjNBNlEyOXNiM0pOYjJSbFBqTThMM0JvYjNSdmMyaHZjRHBEYjJ4dmNrMXZaR1UrQ2lBZ0lDQWdJQ0FnSUR4NGJYQk5UVHBKYm5OMFlXNWpaVWxFUG5odGNDNXBhV1E2WkRFM05HVmtZMlV0Tldaa05DMHdPRFJrTFRrek56QXRaRFJoT0RWbU16ZGtOamRpUEM5NGJYQk5UVHBKYm5OMFlXNWpaVWxFUGdvZ0lDQWdJQ0FnSUNBOGVHMXdUVTA2Ukc5amRXMWxiblJKUkQ1NGJYQXVaR2xrT2pCbVl6Y3haREV5TFRnMU1HVXRZMkUwTlMwNU16RTRMV1JoWWpJNVlXWmhNbVE0TWp3dmVHMXdUVTA2Ukc5amRXMWxiblJKUkQ0S0lDQWdJQ0FnSUNBZ1BIaHRjRTFOT2s5eWFXZHBibUZzUkc5amRXMWxiblJKUkQ1NGJYQXVaR2xrT2pCbVl6Y3haREV5TFRnMU1HVXRZMkUwTlMwNU16RTRMV1JoWWpJNVlXWmhNbVE0TWp3dmVHMXdUVTA2VDNKcFoybHVZV3hFYjJOMWJXVnVkRWxFUGdvZ0lDQWdJQ0FnSUNBOGVHMXdUVTA2U0dsemRHOXllVDRLSUNBZ0lDQWdJQ0FnSUNBZ1BISmtaanBUWlhFK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4eVpHWTZiR2tnY21SbU9uQmhjbk5sVkhsd1pUMGlVbVZ6YjNWeVkyVWlQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4YzNSRmRuUTZZV04wYVc5dVBtTnlaV0YwWldROEwzTjBSWFowT21GamRHbHZiajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhOMFJYWjBPbWx1YzNSaGJtTmxTVVErZUcxd0xtbHBaRG93Wm1NM01XUXhNaTA0TlRCbExXTmhORFV0T1RNeE9DMWtZV0l5T1dGbVlUSmtPREk4TDNOMFJYWjBPbWx1YzNSaGJtTmxTVVErQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHAzYUdWdVBqSXdNVGN0TVRJdE16RlVNakk2TkRNNk16QmFQQzl6ZEVWMmREcDNhR1Z1UGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGMzUkZkblE2YzI5bWRIZGhjbVZCWjJWdWRENUJaRzlpWlNCUWFHOTBiM05vYjNBZ1EwTWdNakF4TnlBb1YybHVaRzkzY3lrOEwzTjBSWFowT25OdlpuUjNZWEpsUVdkbGJuUStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lEd3ZjbVJtT214cFBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGNtUm1PbXhwSUhKa1pqcHdZWEp6WlZSNWNHVTlJbEpsYzI5MWNtTmxJajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhOMFJYWjBPbUZqZEdsdmJqNXpZWFpsWkR3dmMzUkZkblE2WVdOMGFXOXVQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4YzNSRmRuUTZhVzV6ZEdGdVkyVkpSRDU0YlhBdWFXbGtPamsyTVRBNVkyWTBMVEV3TTJJdE5UYzBOeTFoWldFM0xXSTVORE14T1dZME5XRmtaand2YzNSRmRuUTZhVzV6ZEdGdVkyVkpSRDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhOMFJYWjBPbmRvWlc0K01qQXhPQzB3TVMwd01WUXlNRG93TWpveU1GbzhMM04wUlhaME9uZG9aVzQrQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHB6YjJaMGQyRnlaVUZuWlc1MFBrRmtiMkpsSUZCb2IzUnZjMmh2Y0NCRFF5QXlNREUzSUNoWGFXNWtiM2R6S1R3dmMzUkZkblE2YzI5bWRIZGhjbVZCWjJWdWRENEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSE4wUlhaME9tTm9ZVzVuWldRK0x6d3ZjM1JGZG5RNlkyaGhibWRsWkQ0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEM5eVpHWTZiR2srQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh5WkdZNmJHa2djbVJtT25CaGNuTmxWSGx3WlQwaVVtVnpiM1Z5WTJVaVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjM1JGZG5RNllXTjBhVzl1UG5OaGRtVmtQQzl6ZEVWMmREcGhZM1JwYjI0K0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVYyZERwcGJuTjBZVzVqWlVsRVBuaHRjQzVwYVdRNlpERTNOR1ZrWTJVdE5XWmtOQzB3T0RSa0xUa3pOekF0WkRSaE9EVm1NemRrTmpkaVBDOXpkRVYyZERwcGJuTjBZVzVqWlVsRVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjM1JGZG5RNmQyaGxiajR5TURFNExUQXhMVEF4VkRJd09qQXpPakl6V2p3dmMzUkZkblE2ZDJobGJqNEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSE4wUlhaME9uTnZablIzWVhKbFFXZGxiblErUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5ESURJd01UY2dLRmRwYm1SdmQzTXBQQzl6ZEVWMmREcHpiMlowZDJGeVpVRm5aVzUwUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGMzUkZkblE2WTJoaGJtZGxaRDR2UEM5emRFVjJkRHBqYUdGdVoyVmtQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQThMM0prWmpwc2FUNEtJQ0FnSUNBZ0lDQWdJQ0FnUEM5eVpHWTZVMlZ4UGdvZ0lDQWdJQ0FnSUNBOEwzaHRjRTFOT2tocGMzUnZjbmsrQ2lBZ0lDQWdJQ0FnSUR4MGFXWm1Pazl5YVdWdWRHRjBhVzl1UGpFOEwzUnBabVk2VDNKcFpXNTBZWFJwYjI0K0NpQWdJQ0FnSUNBZ0lEeDBhV1ptT2xoU1pYTnZiSFYwYVc5dVBqY3lNREF3TUM4eE1EQXdNRHd2ZEdsbVpqcFlVbVZ6YjJ4MWRHbHZiajRLSUNBZ0lDQWdJQ0FnUEhScFptWTZXVkpsYzI5c2RYUnBiMjQrTnpJd01EQXdMekV3TURBd1BDOTBhV1ptT2xsU1pYTnZiSFYwYVc5dVBnb2dJQ0FnSUNBZ0lDQThkR2xtWmpwU1pYTnZiSFYwYVc5dVZXNXBkRDR5UEM5MGFXWm1PbEpsYzI5c2RYUnBiMjVWYm1sMFBnb2dJQ0FnSUNBZ0lDQThaWGhwWmpwRGIyeHZjbE53WVdObFBqWTFOVE0xUEM5bGVHbG1Pa052Ykc5eVUzQmhZMlUrQ2lBZ0lDQWdJQ0FnSUR4bGVHbG1PbEJwZUdWc1dFUnBiV1Z1YzJsdmJqNDRNRHd2WlhocFpqcFFhWGhsYkZoRWFXMWxibk5wYjI0K0NpQWdJQ0FnSUNBZ0lEeGxlR2xtT2xCcGVHVnNXVVJwYldWdWMybHZiajQ0TUR3dlpYaHBaanBRYVhobGJGbEVhVzFsYm5OcGIyNCtDaUFnSUNBZ0lEd3ZjbVJtT2tSbGMyTnlhWEIwYVc5dVBnb2dJQ0E4TDNKa1pqcFNSRVkrQ2p3dmVEcDRiWEJ0WlhSaFBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvOFAzaHdZV05yWlhRZ1pXNWtQU0ozSWo4K3RjOEFzZ0FBQUNCalNGSk5BQUI2SlFBQWdJTUFBUG4vQUFDQTZRQUFkVEFBQU9wZ0FBQTZtQUFBRjIrU1g4VkdBQUFHalVsRVFWUjQydXljVzJ4VVJSakhmOTFTb0VJQlVRcFlJOFZTVkJERXhuaUxFUk5VSkJwUVZFREZxRTFBRVlrWDBKQ0MwWWpnQmRFWURPSUZlVkVFRlJCaWxLQm9nZytLaVFvVjVRNktobGE4bHJaUkJMbyt6TGRhenM3Wk0yZDN6c0p1NTUvc3kzZG16NTc5N1Z5K3k4d1d4T054bk5KWHpDRndBQjFBQjlBQmRISUFIVUFIMEFGMENxOTI5ZlgxdWZiTUE0SExnU3FnSE9nUGRKSnJmd1BiZ2IzQUp1QkQ0S3NvSDZhZ3JxNHVGNkNWQW5jQzR3VllHUDBBTEFWZUF2YTBOWURGd09QQVJLQnpodmM2QXJ3RzFBQy90b1U1Y0RTd0ZYakFBanlBUW1BQ3NBT296bmVBVHdMTGdkTU0yLzhqTHhOMUF4WUJDL0oxQ0w4RjNCalFaaE93Q3FnRnZnZCtBdUpBVDZBQ09CTVlDVndVY0o5MXNpRGxEY0MzZ1J0U1hGOEl6QWUrTTd4Zk9YQzNUQU9GUG0zV0EwTnpBZURwOG9VR0FTZUtyVUY2MFI2Wm42YW42Q25UZ0kxcGZuWUZNQWNZNDNOOUdURHVlQVI0c1F5bEs4UnZTMGR6Z1ljc1BjOVU0Qm1mYTlYQTR1TUY0R1h5cFVka2VKOFowbk5zNmhiZ2RaOXJQY0s2T0xaWDRYYmlzSDVpQWQ2OENPQUJ2QUhjNjNOdHdiSHNnZjJCOTRCS0MvZmFBRndZOFp5OEVyaFdZeDhFYk00MndBdUFqNEVUQXRwdGxsaDFOOUFpQzB0L1lMQ25YVjl4VDZKVUo2QU9LUEhZWDVISUoyc0FLNEJ2Z1E0KzE3Zko1THhLSWd1ZHpnQkd5U1MvM3NBUHRLV1p3Q3lQclFrNHlkUXh0d0Z3SDlCYlk0L0xJdkJFeUY1UklGOGlHK29DL0s3eEVVZkxFSTk4RVZuc0EyOC9NQ1FrUElEbUxNSURPQ0RPdTFmWFpHTVZyZ0p1MTlnYlpDS3VKVGVrNjJtVjJRRDRYSW9GWlQrNW8xMGEyeWxSQTZ3Q0x0WFlwOHVpa1V2NldlYnIxdW9PZEl3UzRIaU5iUy93Rkxtblp1Q2d4OVkraFZkaEJlQndqVzErQkY5dUZ2QnFGaURHRFczYTBDdXMrZ0FEUExZV1ZCN1BwaWFKbjVZWVpqTWlnbGVzNlcyTnNrSkgwZ04xUloxRUpjeVdKbnZpMGhwVWJTUUs5ZFJ3YURHSXF0SUdlTGJHOW8zbG52ZUNUMlltQ29nVlBxdndkcE9JS0IyQTdUVTJXK1hDaVFFWmtTZ2dUdkd4bDhtME5OYzJ3REtOcmNYQ0Y1bUFTb1VGYVFZdzJ4SzhJdjR2eXZ0cG1zVHhHUUhzTFBQUUxwOWZySStGWWZ0eWlQWTFsaUFlQnM1RFpZTlMvWGdqZ1RYcEFwd3E0R2FqMGs4NkRiSzRZSVNCbU9sd2pyZWF3KzhDenZFREphN2JvakFBVHdVK1F0VVFTZzBXbHI0V0Z3eFQyWjRUYTFHWjlNZDhybGNEWTAwQURwRmZaVmlJRDcvRDhvSnhyQ0FDUENJalE2ZWxxT0s4cnlNOUdQZzY0QU0rQjFZQVcxQkowcjlNL2FhUUMwWVlpQVdXbmUwRlFGZjBkWm5uZ2RzZ09hSGFYVnlTTGo0M1hTWTN6Q1JWTmNsU3o5TnBUZ1FSeXdmQVZScjdXY0RXbUtheERsNFRLdVUrTGtONGt5T0VGMVhFTWs1R21GZjNlT2ZBS2NENW1vWS95cHk0T3NNSGVUakRCU1BNY0Y1bzhYNE5QczcwZUtBb01ZU0xKSUR1b09sNUF3UmlKcm9KV0lJcTFCd004RGNMREZ5UHBvQUVTVEVxTi9tMGFWWWxRRjFSdFJQdmlCMlpXRVFlUkovL0dtMEJIcWh0dGllVHV0SlZna3JHQnUwRmJFYnR2bW9NZ05qTEVyeEVMM3lINUwwMW94SUE3OU84YVRWcWo3RU5tV1NwR3cxRHdoWlVKVEJJZjFpZUdsWm9BRmJHeEczcEVTTElqa29sQnNNWGFWTkM5cVdyblpURlpKaDY5U1YyODN2NW9Ick5sTkE5SnZHZlYwc2NMKzNjbTFRN2lhRlBLTlk2WGltVEQwZkZ3dVdhUnJzY3F5UjExSGdxaDJJa1o1Z1B5N0x0ZExSS05YN2duekhna01kWUdESXgwRlpVcnJIVnhWQkhCTHpEdXAvamxhU3JOYmJkTVdDbjVzSUF4eXNwc3JsWlkxOFRRMy9tWW94amRwUW1rRng4T2dLc2pBSHZhdDR3bEZaWlZ5Y2UxZGlXQTgweDRET2Y3TWE4TEQra2FZaG1HdkxaMG92b2EwTFAwbXBaMXFYWHE0RnpzL2lnaVNSQlk4QnJIM2JxMENhNkhsV3Q4Mm9kNmlUQmZ5bjlMajYrWHgycTJuWXdTejNROUZockUvWlNWWDY2QlBqVTUxcS9STENSNklFSDBLZkNlOHNRTDg1U21OUm8rSW9hM3RnVThHYTJqdFM4UmFVZFBqN2dUdFFScVMveWZMSG9nRXJmKzZYeWtrNTJla09URVNtNjdBYlVydnV5UEFSWEF0eVBTdno2d2R1SzVteXg3cHpJY1B5M040RDZaNHczcGMwTzFJYnliQXdyV3lxU3ViWlVPc1l3NERyVTRSby9iVUVkM200d0Faam9pZThiUHRBUlZOa3ZWd0FXeXB4dTZncXRSVzB1MGk2a3FVNHFEVUVWVWlyYXNBTmRROEJob1ZTYml6YWkvdVJtYmhzRXR4cDFsQ1B3cEpYcFdibUJxRCsrdVRXUFE3eG0xTmFWSmVJb216bXZJUThiZHBPMHpwV296ZWE5QWliZjQxV0hnZDlRaGFKdHFBUGlhNEZmUW52LzdsOThNNVA3OXpZSDBBRjBBQjFBSndmUUFYUUFIVUNuTlBUdkFLZW1pRlU2bmI5NkFBQUFBRWxGVGtTdVFtQ0MpO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtc2l6ZTogMTAwcHg7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIzMCwgMjMwLCAyMzAsIDAuMSk7XFxuICBib3JkZXI6IDFweCBkb3R0ZWQgI2VlZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1pbi1oZWlnaHQ6IDE4MHB4O1xcbn1cXG4uanJlbW92ZSB7XFxuICBvcGFjaXR5OiAwLjI7XFxuICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MjApO1xcbn1cXG4vKiogQW5pbWF0aW9ucyAqKi9cXG4uZmFkZS1pbiB7XFxuICBhbmltYXRpb246IGZhZGUtaW4gMnMgZm9yd2FyZHM7XFxufVxcbi5mYWRlLW91dCB7XFxuICBhbmltYXRpb246IGZhZGUtb3V0IDFzIGZvcndhcmRzO1xcbn1cXG4uc2xpZGUtbGVmdC1pbiB7XFxuICBhbmltYXRpb246IHNsaWRlLWxlZnQtaW4gMC40cyBmb3J3YXJkcztcXG59XFxuLnNsaWRlLWxlZnQtb3V0IHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtbGVmdC1vdXQgMC40cyBmb3J3YXJkcztcXG59XFxuLnNsaWRlLXJpZ2h0LWluIHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtcmlnaHQtaW4gMC40cyBmb3J3YXJkcztcXG59XFxuLnNsaWRlLXJpZ2h0LW91dCB7XFxuICBhbmltYXRpb246IHNsaWRlLXJpZ2h0LW91dCAwLjRzIGZvcndhcmRzO1xcbn1cXG4uc2xpZGUtdG9wLWluIHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtdG9wLWluIDAuNHMgZm9yd2FyZHM7XFxufVxcbi5zbGlkZS10b3Atb3V0IHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtdG9wLW91dCAwLjJzIGZvcndhcmRzO1xcbn1cXG4uc2xpZGUtYm90dG9tLWluIHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtYm90dG9tLWluIDAuNHMgZm9yd2FyZHM7XFxufVxcbi5zbGlkZS1ib3R0b20tb3V0IHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtYm90dG9tLW91dCAwLjFzIGZvcndhcmRzO1xcbn1cXG4vKiogRmFkZWluIGFuZCBGYWRlb3V0ICoqL1xcbkBrZXlmcmFtZXMgZmFkZS1pbiB7XFxuICAwJSB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgb3BhY2l0eTogMTAwO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZS1pbiB7XFxuICAwJSB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgb3BhY2l0eTogMTAwO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIGZhZGUtb3V0IHtcXG4gIDAlIHtcXG4gICAgb3BhY2l0eTogMTAwO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxufVxcbkAtd2Via2l0LWtleWZyYW1lcyBmYWRlLW91dCB7XFxuICAwJSB7XFxuICAgIG9wYWNpdHk6IDEwMDtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbn1cXG4vKiogS2V5ZnJhbWVzIExlZnQgdG8gUmlnaHQgKiovXFxuQGtleWZyYW1lcyBzbGlkZS1sZWZ0LWluIHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtbGVmdC1pbiB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIHNsaWRlLWxlZnQtb3V0IHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtbGVmdC1vdXQge1xcbiAgMCUge1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwJSk7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpO1xcbiAgfVxcbn1cXG4vKiogS2V5ZnJhbWVzIFJpZ2h0IHRvIExlZnQgKiovXFxuQGtleWZyYW1lcyBzbGlkZS1yaWdodC1pbiB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtcmlnaHQtaW4ge1xcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIHNsaWRlLXJpZ2h0LW91dCB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwJSk7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtcmlnaHQtb3V0IHtcXG4gIDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpO1xcbiAgfVxcbn1cXG4vKiogS2V5ZnJhbWVzIFRvcCB0byBCb3R0b20gKiovXFxuQGtleWZyYW1lcyBzbGlkZS10b3AtaW4ge1xcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwJSk7XFxuICB9XFxufVxcbkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZS10b3AtaW4ge1xcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTtcXG4gIH1cXG59XFxuQGtleWZyYW1lcyBzbGlkZS10b3Atb3V0IHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtdG9wLW91dCB7XFxuICAwJSB7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7XFxuICB9XFxufVxcbi8qKiBLZXlmcmFtZXMgQm90dG9tIHRvIFRvcCAqKi9cXG5Aa2V5ZnJhbWVzIHNsaWRlLWJvdHRvbS1pbiB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtYm90dG9tLWluIHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTtcXG4gIH1cXG59XFxuQGtleWZyYW1lcyBzbGlkZS1ib3R0b20tb3V0IHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwJSk7XFxuICB9XFxufVxcbkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZS1ib3R0b20tb3V0IHtcXG4gIDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpO1xcbiAgfVxcbn1cXG5Ac3VwcG9ydHMgKC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaCkge1xcbiAgLmFwcCAub3B0aW9ucyBpbnB1dDpjaGVja2VkOmJlZm9yZSB7XFxuICAgIHRvcDogLTEycHg7XFxuICB9XFxufVxcbkAtd2Via2l0LWtleWZyYW1lcyBzcGluIHtcXG4gIGZyb20ge1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xcbiAgfVxcblxcbiAgdG8ge1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XFxuICB9XFxufVxcbkBrZXlmcmFtZXMgc3BpbiB7XFxuICBmcm9tIHtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICB9XFxuXFxuICB0byB7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XFxuICB9XFxufVxcbi51bnNlbGVjdGFibGUge1xcbiAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuLmpidXR0b24ge1xcbiAgcGFkZGluZzogNHB4O1xcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMjBweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XFxuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGxpbmUtaGVpZ2h0OiAyNHB4O1xcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XFxufVxcbi5qYnV0dG9uLmJsdWUge1xcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYTczZTg7XFxufVxcbi5qYnV0dG9uOjpiZWZvcmUge1xcbiAgY29udGVudDogYXR0cihkYXRhLWljb24pO1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IDI0cHg7XFxuICBmb250LXNpemU6IDI0cHg7XFxuICBsaW5lLWhlaWdodDogMjRweDtcXG4gIGZvbnQtZmFtaWx5OiAnTWF0ZXJpYWwgaWNvbnMnO1xcbiAgY29sb3I6ICM5OTk7XFxuICBtYXJnaW4tcmlnaHQ6IDJweDtcXG59XFxuLmpidXR0b24uYmx1ZTo6YmVmb3JlIHtcXG4gIGNvbG9yOiAjZmZmO1xcbn1cXG4uamJ1dHRvbjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcbn1cXG4uamJ1dHRvbi5ibHVlOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYTczZTg7XFxuICBvcGFjaXR5OiAwLjg7XFxufVxcbi8qKlxcbiAqIERhdGUgJiBEYXRldGltZSBwaWNrZXIgdjEuMC4xXFxuICogQXV0aG9yOiBwYXVsLmhvZGVsQGdtYWlsLmNvbVxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsaG9kZWwvanRvb2xzXFxuICovXFxuLmpjYWxlbmRhciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiA5MDAwO1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsMCwwLDApO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIG1pbi13aWR0aDogMjgwcHg7XFxufVxcbi5qY2FsZW5kYXItZm9jdXMge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qY2FsZW5kYXItYmFja2Ryb3Age1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICB6LWluZGV4OiA5MDAwO1xcbiAgbWluLXdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTtcXG4gIGJvcmRlcjogMHB4O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpjYWxlbmRhci1jb250YWluZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuLmpjYWxlbmRhci1jb250ZW50IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDkwMDE7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDFweCAxcHggNXB4IDBweCByZ2JhKDAsMCwwLDAuMzkpO1xcbiAgLW1vei1ib3gtc2hhZG93OiAxcHggMXB4IDVweCAwcHggcmdiYSgwLDAsMCwwLjM5KTtcXG4gIGJveC1zaGFkb3c6IDFweCAxcHggNXB4IDBweCByZ2JhKDAsMCwwLDAuMzkpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG59XFxuLmpjYWxlbmRhci10YWJsZSA+IHRhYmxlIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG59XFxuLmpjYWxlbmRhci10YWJsZSA+IHRhYmxlID4gdGJvZHkgdGQge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHBhZGRpbmc6IDlweDtcXG4gIGZvbnQtc2l6ZTogMC45ZW07XFxufVxcbi5qY2FsZW5kYXItdGFibGUgPiB0YWJsZSA+IHRoZWFkIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmpjYWxlbmRhci1oZWFkZXIge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4uamNhbGVuZGFyLWhlYWRlciBzcGFuIHtcXG4gIG1hcmdpbi1yaWdodDogNHB4O1xcbiAgZm9udC1zaXplOiAxLjFlbTtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG4uamNhbGVuZGFyLXByZXYge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFJTNDcGF0aCBkPSdNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeicgZmlsbD0nJTIzMDAwJyAvJTNFJTNDcGF0aCBmaWxsPSdub25lJyBkPSdNMCAwaDI0djI0SDBWMHonLyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxufVxcbi5qY2FsZW5kYXItbmV4dCB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGQ9J004LjU5IDE2LjU5TDEzLjE3IDEyIDguNTkgNy40MSAxMCA2bDYgNi02IDYtMS40MS0xLjQxeicgZmlsbD0nJTIzMDAwJyAvJTNFJTNDcGF0aCBmaWxsPSdub25lJyBkPSdNMCAwaDI0djI0SDBWMHonLyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxufVxcbi5qY2FsZW5kYXItd2Vla2RheSB7XFxuICBmb250LXdlaWdodDogNjAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZjZmNmYztcXG4gIHBhZGRpbmc6IDE0cHg7XFxufVxcbi5qY2FsZW5kYXIgdGhlYWQgdGQge1xcbiAgcGFkZGluZzogMTBweDtcXG4gIGhlaWdodDogNDBweDtcXG59XFxuLmpjYWxlbmRhciB0Zm9vdCB0ZCB7XFxuICBwYWRkaW5nOiAxMHB4O1xcbn1cXG4uamNhbGVuZGFyLW1vbnRocyB0ZCxcXG4uamNhbGVuZGFyLXllYXJzIHRkIHtcXG4gIGhlaWdodDogMjRweDtcXG59XFxuLmpjYWxlbmRhci1pbnB1dCB7XFxuICBwYWRkaW5nLXJpZ2h0OiAxOHB4O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzE2JyBoZWlnaHQ9JzE2JyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9J2dyYXknJTNFJTNDcGF0aCBkPSdNMjAgM2gtMVYxaC0ydjJIN1YxSDV2Mkg0Yy0xLjEgMC0yIC45LTIgMnYxNmMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMThINFY4aDE2djEzeicvJTNFJTNDcGF0aCBmaWxsPSdub25lJyBkPSdNMCAwaDI0djI0SDB6Jy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB0b3AgNTAlIHJpZ2h0IDVweDtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG4uamNhbGVuZGFyLWRvbmUge1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAxcHggMXB4IDVweCAwcHggcmdiYSgwLDAsMCwwLjM5KTtcXG4gIC1tb3otYm94LXNoYWRvdzogMXB4IDFweCA1cHggMHB4IHJnYmEoMCwwLDAsMC4zOSk7XFxuICBib3gtc2hhZG93OiAxcHggMXB4IDVweCAwcHggcmdiYSgwLDAsMCwwLjM5KTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxufVxcbi5qY2FsZW5kYXItdXBkYXRlIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgcGFkZGluZzogNXB4O1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi5qY2FsZW5kYXIgc2VsZWN0IHtcXG4gIHdpZHRoOiA1NXB4O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgYm9yZGVyOiAwcHg7XFxuICBwYWRkaW5nOiA0cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXNpemU6IDEuMWVtO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxufVxcbi5qY2FsZW5kYXIgc2VsZWN0OmZpcnN0LWNoaWxkIHtcXG4gIG1hcmdpbi1yaWdodDogMnB4O1xcbn1cXG4uamNhbGVuZGFyLXNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XFxufVxcbi5qY2FsZW5kYXItcmVzZXQsXFxuLmpjYWxlbmRhci1jb25maXJtIHtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG59XFxuLmpjYWxlbmRhci1jb250cm9scyB7XFxuICBwYWRkaW5nOiAxNXB4O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tb3otYm94O1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLXdlYmtpdC1mbGV4LWZsb3c6IHJvdyB3cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xcbn1cXG4uamNhbGVuZGFyLWNvbnRyb2xzIGRpdiB7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuLmpjYWxlbmRhci1mdWxsc2l6ZSB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB3aWR0aDogMTAwJTtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbn1cXG4uamNhbGVuZGFyLWZ1bGxzaXplIC5qY2FsZW5kYXItY29udGVudCB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB3aWR0aDogMTAwJTtcXG4gIGxlZnQ6IDBweDtcXG4gIGJvdHRvbTogMHB4O1xcbn1cXG4uamNhbGVuZGFyLWZvY3VzLmpjYWxlbmRhci1mdWxsc2l6ZSAuamNhbGVuZGFyLWJhY2tkcm9wIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uamNhbGVuZGFyLXN1bmRheSB7XFxuICBjb2xvcjogcmVkO1xcbn1cXG4uamNhbGVuZGFyLWRpc2FibGVkIHtcXG4gIGNvbG9yOiAjY2NjO1xcbn1cXG4uamNvbG9yIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uamNvbG9yLWNvbnRlbnQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMHB4O1xcbiAgei1pbmRleDogOTAwMDtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XFxuICBmb250LXNpemU6IC44NzVyZW07XFxuICBsZXR0ZXItc3BhY2luZzogLjJweDtcXG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDhweCAxMHB4IDFweCByZ2JhKDAsMCwwLDAuMTQpLCAwIDNweCAxNHB4IDJweCByZ2JhKDAsMCwwLDAuMTIpLCAwIDVweCA1cHggLTNweCByZ2JhKDAsMCwwLDAuMik7XFxuICBib3gtc2hhZG93OiAwIDhweCAxMHB4IDFweCByZ2JhKDAsMCwwLDAuMTQpLCAwIDNweCAxNHB4IDJweCByZ2JhKDAsMCwwLDAuMTIpLCAwIDVweCA1cHggLTNweCByZ2JhKDAsMCwwLDAuMik7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuLmpjb2xvci1jb250ZW50IHRhYmxlIHtcXG4gIHBhZGRpbmc6IDdweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qY29sb3ItZm9jdXMge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qY29sb3IgdGFibGUge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbi5qY29sb3IgdGQge1xcbiAgYm9yZGVyOiAycHggc29saWQgI2ZmZjtcXG59XFxuLmpjb2xvci1zZWxlY3RlZCB7XFxuICBib3JkZXI6IDJweCBzb2xpZCAjMDAwICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDAgMDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNOSAxNi4xN0w0LjgzIDEybC0xLjQyIDEuNDFMOSAxOSAyMSA3bC0xLjQxLTEuNDF6JyBmaWxsPSd3aGl0ZScvJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbn1cXG4uamNvbG9yLWZ1bGxzY3JlZW4ge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgYm90dG9tOiAwcHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1heC1oZWlnaHQ6IDI1MHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMHB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuLmpjb2xvci1jbG9zZSB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHBhZGRpbmc6IDE1cHg7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMXB4IDBweCAxcHggMHB4IHJnYmEoMCwwLDAsMC4zOSk7XFxuICAtbW96LWJveC1zaGFkb3c6IDFweCAwcHggMXB4IDBweCByZ2JhKDAsMCwwLDAuMzkpO1xcbiAgYm94LXNoYWRvdzogMXB4IDBweCAxcHggMHB4IHJnYmEoMCwwLDAsMC4zOSk7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qY29sb3ItZnVsbHNjcmVlbiAuamNvbG9yLWNsb3NlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uamNvbG9yLWJhY2tkcm9wIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgbWluLXdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTtcXG4gIGJvcmRlcjogMHB4O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgei1pbmRleDogODAwMDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICAvKiBpT1MgU2FmYXJpICovXFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLyogU2FmYXJpICovXFxuICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAvKiBLb25xdWVyb3IgSFRNTCAqL1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC8qIEZpcmVmb3ggKi9cXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC8qIEludGVybmV0IEV4cGxvcmVyL0VkZ2UgKi9cXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLyogTm9uLXByZWZpeGVkIHZlcnNpb24sIGN1cnJlbnRseVxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ZWQgYnkgQ2hyb21lIGFuZCBPcGVyYSAqL1xcbn1cXG4vKipcXHJcXG4gKiBDb250ZXh0bWVudSB2MS4wLjFcXHJcXG4gKiBBdXRob3I6IHBhdWwuaG9kZWxAZ21haWwuY29tXFxyXFxuICogaHR0cHM6Ly9naXRodWIuY29tL3BhdWxob2RlbC9qc3VpdGVzXFxyXFxuICovXFxuLmpjb250ZXh0bWVudSB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB6LWluZGV4OiAxMDAwMDtcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxuICBjb2xvcjogIzU1NTtcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCByZ2JhKDE0MywgMTQ0LCAxNDUsIDEpO1xcbiAgLW1vei1ib3gtc2hhZG93OiAycHggMnB4IDJweCAwcHggcmdiYSgxNDMsIDE0NCwgMTQ1LCAxKTtcXG4gIGJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCByZ2JhKDE0MywgMTQ0LCAxNDUsIDEpO1xcbiAgYm9yZGVyOiAxcHggc29saWQgI0M2QzZDNjtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIHBhZGRpbmctdG9wOiA0cHg7XFxuICBwYWRkaW5nLWJvdHRvbTogNHB4O1xcbiAgbWFyZ2luOiAwcHg7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpjb250ZXh0bWVudS5qY29udGV4dG1lbnUtZm9jdXMge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG4uamNvbnRleHRtZW51ID4gZGl2IHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHBhZGRpbmc6IDhweCA4cHggOHB4IDI4cHg7XFxuICB3aWR0aDogMjUwcHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICBmb250LXNpemU6IDExcHg7XFxuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcXG59XFxuLmpjb250ZXh0bWVudSA+IGRpdiBhIHtcXG4gIGNvbG9yOiAjNTU1O1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG4uamNvbnRleHRtZW51ID4gZGl2IHNwYW4ge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbn1cXG4uamNvbnRleHRtZW51IC5jb250ZXh0bWVudS1kaXNhYmxlZCB7XFxuICBjb2xvcjogI2ExYTE5MjtcXG59XFxuLmpjb250ZXh0bWVudSA+IGRpdjpub3QoLmNvbnRleHRtZW51LWxpbmUpOmhvdmVyIHtcXG4gIGJhY2tncm91bmQ6ICNlYmViZWI7XFxufVxcbi5qY29udGV4dG1lbnUgPiBkaXYuY29udGV4dG1lbnUtbGluZSB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2U5ZTllOTtcXG4gIG1hcmdpbi10b3A6IDVweDtcXG4gIHBhZGRpbmc6IDJweDtcXG59XFxuLmpjb250ZXh0bWVudSBociB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZTllOWU5O1xcbiAgYm9yZGVyLWJvdHRvbTogMDtcXG4gIG1hcmdpbi10b3A6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDVweDtcXG59XFxuLyoqXFxyXFxuICogRGlhbG9nIHYxLjAuMVxcclxcbiAqIEF1dGhvcjogcGF1bC5ob2RlbEBnbWFpbC5jb21cXHJcXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGF1bGhvZGVsL2p0b29sc1xcclxcbiAqL1xcbi5qZGlhbG9nIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGxlZnQ6IDA7XFxuICB0b3A6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1pbi1oZWlnaHQ6IDEwMCU7XFxuICB6LWluZGV4OiAxMDAwMDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbjogLjFzO1xcbiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogLjFzO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAtd2Via2l0LWFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLmpkaWFsb2cgLmpkaWFsb2ctY29udGFpbmVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWF4LXdpZHRoOiAyODBweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBtYXJnaW46IDAgYXV0bztcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycztcXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogb3BhY2l0eSAuMnM7XFxufVxcbi5qZGlhbG9nIC5qZGlhbG9nLWhlYWRlciB7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4uamRpYWxvZyAuamRpYWxvZy1oZWFkZXIgLmpkaWFsb2ctdGl0bGUge1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIHBhZGRpbmc6IDhweDtcXG59XFxuLmpkaWFsb2cgLmpkaWFsb2ctaGVhZGVyIC5qZGlhbG9nLW1lc3NhZ2Uge1xcbiAgcGFkZGluZzogNHB4O1xcbn1cXG4uamRpYWxvZyAuamRpYWxvZy1mb290ZXIge1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAgYWxpZ24tY29udGVudDogc3RyZXRjaDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi5qZGlhbG9nIC5qZGlhbG9nLWZvb3RlciA+IGRpdiB7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNjY2M7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLmpkaWFsb2cgLmpkaWFsb2ctZm9vdGVyID4gZGl2OmZpcnN0LWNoaWxkIHtcXG4gIGJvcmRlci1sZWZ0OiAwcHg7XFxufVxcbi5qZGlhbG9nIC5qZGlhbG9nLWZvb3RlciBpbnB1dCB7XFxuICBib3JkZXI6IDBweDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLyoqXFxuICogKGMpIDIwMTMgakRyb3Bkb3duXFxuICogaHR0cDovL3d3dy5naXRodWIuY29tL3BhdWxob2RlbC9qZHJvcGRvd25cXG4gKlxcbiAqIEBhdXRob3I6IFBhdWwgSG9kZWwgPHBhdWwuaG9kZWxAZ21haWwuY29tPlxcbiAqIEBkZXNjcmlwdGlvbjogQ3VzdG9tIGRyb3Bkb3duc1xcbiAqL1xcbi5qZHJvcGRvd24ge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLmpkcm9wZG93bi1oZWFkZXI6OnBsYWNlaG9sZGVyIHtcXG4gIGNvbG9yOiAjMDAwO1xcbn1cXG4uamRyb3Bkb3duLWJhY2tkcm9wIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgbWluLXdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTtcXG4gIGJvcmRlcjogMHB4O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgei1pbmRleDogODAwMDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5qZHJvcGRvd24tZm9jdXMge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uamRyb3Bkb3duLWZvY3VzIC5qZHJvcGRvd24tY29udGFpbmVyIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwwLDApO1xcbn1cXG4uamRyb3Bkb3duLWZvY3VzIC5qZHJvcGRvd24taGVhZGVyIHtcXG4gIG91dGxpbmU6IGF1dG8gNXB4IC13ZWJraXQtZm9jdXMtcmluZy1jb2xvcjtcXG59XFxuLmpkcm9wZG93bi1jb250YWluZXItaGVhZGVyIHtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uamRyb3Bkb3duLWhlYWRlciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGFwcGVhcmFuY2U6IG5vbmU7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogdG9wIDUwJSByaWdodCA1cHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlMEElM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGZpbGw9J25vbmUnIGQ9J00wIDBoMjR2MjRIMFYweicvJTNFJTNDcGF0aCBkPSdNNyAxMGw1IDUgNS01SDd6JyBmaWxsPSdncmF5Jy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxuICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xcbn1cXG4uamRyb3Bkb3duLWluc2VydC1idXR0b24ge1xcbiAgZm9udC1zaXplOiAxLjRlbTtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogMzBweDtcXG4gIHRvcDogNHB4O1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpkcm9wZG93bi1jb250YWluZXIge1xcbiAgbWluLXdpZHRoOiBpbmhlcml0O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMTAwMDBweCwwLDApO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogOTAwMTtcXG59XFxuLmpkcm9wZG93bi1jbG9zZSB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHBhZGRpbmc6IDE1cHg7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuLmpkcm9wZG93bi1jb250ZW50IHtcXG4gIG1pbi13aWR0aDogaW5oZXJpdDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuLmpkcm9wZG93bi1pdGVtIHtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBjb2xvcjogIzAwMDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4uamRyb3Bkb3duLWltYWdlIHtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG4gIHdpZHRoOiAzMnB4O1xcbiAgaGVpZ2h0OiAzMnB4O1xcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcXG59XFxuLmpkcm9wZG93bi1pbWFnZS1zbWFsbCB7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG59XFxuLmpkcm9wZG93bi10aXRsZSB7XFxuICBmb250LXNpemU6IDAuN2VtO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLyoqIERlZmF1bHQgdmlzdWFsICoqL1xcbi5qZHJvcGRvd24tZGVmYXVsdCAuamRyb3Bkb3duLWhlYWRlciB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xcbiAgcGFkZGluZzogNXB4O1xcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMTZweDtcXG59XFxuLmpkcm9wZG93bi1kZWZhdWx0IC5qZHJvcGRvd24tY29udGFpbmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxufVxcbi5qZHJvcGRvd24tZGVmYXVsdC5qZHJvcGRvd24tZm9jdXMuamRyb3Bkb3duLWluc2VydCAuamRyb3Bkb3duLWhlYWRlciB7XFxuICBwYWRkaW5nLXJpZ2h0OiA1MHB4O1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQuamRyb3Bkb3duLWZvY3VzLmpkcm9wZG93bi1pbnNlcnQgLmpkcm9wZG93bi1pbnNlcnQtYnV0dG9uIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQgLmpkcm9wZG93bi1jb250ZW50IHtcXG4gIG1pbi13aWR0aDogaW5oZXJpdDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICM4ZmIxZTM7XFxuICBtYXJnaW46IDBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgbWluLWhlaWdodDogMTBweDtcXG4gIG1heC1oZWlnaHQ6IDIxNXB4O1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG59XFxuLmpkcm9wZG93bi1kZWZhdWx0IC5qZHJvcGRvd24taXRlbSB7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBwYWRkaW5nLWxlZnQ6IDhweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDQwcHg7XFxufVxcbi5qZHJvcGRvd24tZGVmYXVsdCAuamRyb3Bkb3duLWl0ZW06aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmOTNmZjtcXG4gIGNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQgLmpkcm9wZG93bi1jdXJzb3Ige1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmOTNmZjtcXG4gIGNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQgLmpkcm9wZG93bi1zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1DQXdhREkwZGpJMFNEQjZJaUJtYVd4c1BTSnViMjVsSWlBdlBqeHdZWFJvSUdROUlrMDVJREUyTGpFM1REUXVPRE1nTVRKc0xURXVORElnTVM0ME1VdzVJREU1SURJeElEZHNMVEV1TkRFdE1TNDBNWG9pSUdacGJHdzlJbmRvYVhSbElpQXZQand2YzNablBnbz0nKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB0b3AgNTAlIHJpZ2h0IDVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjkzZmY7XFxuICBjb2xvcjogI2ZmZjtcXG59XFxuLmpkcm9wZG93bi1kZWZhdWx0IC5qZHJvcGRvd24tZ3JvdXAge1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQgLmpkcm9wZG93bi1ncm91cCAuamRyb3Bkb3duLWl0ZW0ge1xcbiAgcGFkZGluZy1sZWZ0OiAxNnB4O1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQgLmpkcm9wZG93bi1ncm91cC1uYW1lIHtcXG4gIHBhZGRpbmctbGVmdDogOHB4O1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcbi8qKiBEZWZhdWx0IHJlbmRlciBmb3IgbW9iaWxlICoqL1xcbi5qZHJvcGRvd24tcGlja2VyLmpkcm9wZG93bi1mb2N1cyAuamRyb3Bkb3duLWhlYWRlciB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uamRyb3Bkb3duLXBpY2tlci5qZHJvcGRvd24tZm9jdXMgLmpkcm9wZG93bi1iYWNrZHJvcCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmpkcm9wZG93bi1waWNrZXIgLmpkcm9wZG93bi1jb250YWluZXIge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgYm90dG9tOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qZHJvcGRvd24tcGlja2VyIC5qZHJvcGRvd24tY2xvc2Uge1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggLTFweCA1cHggMHB4IHJnYmEoMCwwLDAsMC4zOSk7XFxuICAtbW96LWJveC1zaGFkb3c6IDBweCAtMXB4IDVweCAwcHggcmdiYSgwLDAsMCwwLjM5KTtcXG4gIGJveC1zaGFkb3c6IDBweCAtMXB4IDVweCAwcHggcmdiYSgwLDAsMCwwLjM5KTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmpkcm9wZG93bi1waWNrZXIgLmpkcm9wZG93bi1jb250ZW50IHtcXG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcXG4gIGhlaWdodDogMjgwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNmU2ZTg7XFxufVxcbi5qZHJvcGRvd24tcGlja2VyIC5qZHJvcGRvd24tZ3JvdXAtbmFtZSB7XFxuICBmb250LXNpemU6IDFlbTtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBwYWRkaW5nLXRvcDogMTBweDtcXG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHBhZGRpbmctbGVmdDogMjBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDIwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuLmpkcm9wZG93bi1waWNrZXIgLmpkcm9wZG93bi1pdGVtIHtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHBhZGRpbmctbGVmdDogMjBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDIwcHg7XFxufVxcbi5qZHJvcGRvd24tcGlja2VyIC5qZHJvcGRvd24tc2VsZWN0ZWQge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NQ0F3YURJMGRqSTBTREI2SWlCbWFXeHNQU0p1YjI1bElpQXZQanh3WVhSb0lHUTlJazA1SURFMkxqRTNURFF1T0RNZ01USnNMVEV1TkRJZ01TNDBNVXc1SURFNUlESXhJRGRzTFRFdU5ERXRNUzQwTVhvaUlHWnBiR3c5SW5kb2FYUmxJaUF2UGp3dmMzWm5QZ289Jyk7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogdG9wIDUwJSByaWdodCAxNXB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmOTNmZjtcXG4gIGNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLXBpY2tlciAuamRyb3Bkb3duLWN1cnNvciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWY5M2ZmO1xcbiAgY29sb3I6ICNmZmY7XFxufVxcbi8qKiBEZWZhdWx0IHJlbmRlciBmb3IgbW9iaWxlIHNlYXJjaGJhciAqKi9cXG4uamRyb3Bkb3duLXNlYXJjaGJhci5qZHJvcGRvd24tZm9jdXMge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XFxuICBwYWRkaW5nOiAwcHg7XFxuICB6LWluZGV4OiA5MDAxO1xcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhci5qZHJvcGRvd24tZm9jdXMgLmpkcm9wZG93bi1jb250YWluZXItaGVhZGVyIHtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwwLDAsLjEpO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhci5qZHJvcGRvd24tZm9jdXMgLmpkcm9wZG93bi1oZWFkZXIge1xcbiAgYm9yZGVyOiAwcHg7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbi14OiAwJTtcXG4gIGJhY2tncm91bmQtcG9zaXRpb24teTogNDAlO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1UVXVOU0F4TkdndExqYzViQzB1TWpndExqSTNRekUxTGpReElERXlMalU1SURFMklERXhMakV4SURFMklEa3VOU0F4TmlBMUxqa3hJREV6TGpBNUlETWdPUzQxSUROVE15QTFMamt4SURNZ09TNDFJRFV1T1RFZ01UWWdPUzQxSURFMll6RXVOakVnTUNBekxqQTVMUzQxT1NBMExqSXpMVEV1TlRkc0xqSTNMakk0ZGk0M09XdzFJRFF1T1RsTU1qQXVORGtnTVRsc0xUUXVPVGt0TlhwdExUWWdNRU0zTGpBeElERTBJRFVnTVRFdU9Ua2dOU0E1TGpWVE55NHdNU0ExSURrdU5TQTFJREUwSURjdU1ERWdNVFFnT1M0MUlERXhMams1SURFMElEa3VOU0F4TkhvaUlHWnBiR3c5SWlObE5tVTJaVGdpTHo0OGNHRjBhQ0JrUFNKTk1DQXdhREkwZGpJMFNEQjZJaUJtYVd4c1BTSnViMjVsSWk4K1BDOXpkbWMrKTtcXG4gIHBhZGRpbmctbGVmdDogMzBweCAhaW1wb3J0YW50O1xcbiAgcGFkZGluZy1yaWdodDogNjBweCAhaW1wb3J0YW50O1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLmpkcm9wZG93bi1zZWFyY2hiYXIuamRyb3Bkb3duLWZvY3VzIC5qZHJvcGRvd24tY2xvc2Uge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qZHJvcGRvd24tc2VhcmNoYmFyIC5qZHJvcGRvd24tY29udGFpbmVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhciAuamRyb3Bkb3duLWNsb3NlIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMHB4O1xcbiAgcmlnaHQ6IDBweDtcXG59XFxuLmpkcm9wZG93bi1zZWFyY2hiYXIgLmpkcm9wZG93bi1jb250ZW50IHtcXG4gIG1hcmdpbi10b3A6IDEwcHg7XFxufVxcbi5qZHJvcGRvd24tc2VhcmNoYmFyIC5qZHJvcGRvd24tZ3JvdXAge1xcbiAgbWFyZ2luLXRvcDogMTBweDtcXG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhciAuamRyb3Bkb3duLWdyb3VwLW5hbWUge1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNmU2ZTg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBwYWRkaW5nLWxlZnQ6IDEycHg7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuLmpkcm9wZG93bi1zZWFyY2hiYXIgLmpkcm9wZG93bi1ncm91cC1hcnJvdyB7XFxuICBmbG9hdDogcmlnaHQ7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxufVxcbi5qZHJvcGRvd24tc2VhcmNoYmFyIC5qZHJvcGRvd24tZ3JvdXAtYXJyb3ctZG93biB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTnk0ME1TQTRMalU1VERFeUlERXpMakUzYkRRdU5Ua3ROQzQxT0V3eE9DQXhNR3d0TmlBMkxUWXROaUF4TGpReExURXVOREY2SWk4K1BIQmhkR2dnWm1sc2JEMGlibTl1WlNJZ1pEMGlUVEFnTUdneU5IWXlORWd3VmpCNklpOCtQQzl6ZG1jKyk7XFxufVxcbi5qZHJvcGRvd24tc2VhcmNoYmFyIC5qZHJvcGRvd24tZ3JvdXAtYXJyb3ctdXAge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsQ2p4emRtY2dlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjNhV1IwYUQwaU1qUWlJR2hsYVdkb2REMGlNalFpSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJK1BIQmhkR2dnWkQwaVRUY3VOREVnTVRVdU5ERk1NVElnTVRBdU9ETnNOQzQxT1NBMExqVTRUREU0SURFMGJDMDJMVFl0TmlBMmVpSXZQanh3WVhSb0lHUTlJazB3SURCb01qUjJNalJJTUhvaUlHWnBiR3c5SW01dmJtVWlMejQ4TDNOMlp6ND0pO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhciAuamRyb3Bkb3duLWl0ZW0ge1xcbiAgcGFkZGluZy10b3A6IDEwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTZlNmU4O1xcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xcbiAgcGFkZGluZy1yaWdodDogNDBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBmb250LXNpemU6IDAuOWVtO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhciAuamRyb3Bkb3duLWRlc2NyaXB0aW9uIHtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIG1heC13aWR0aDogY2FsYygxMDAlIC0gMjBweCk7XFxufVxcbi5qZHJvcGRvd24tc2VhcmNoYmFyIC5qZHJvcGRvd24tY29udGVudCA+IC5qZHJvcGRvd24taXRlbTpmaXJzdC1jaGlsZCB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2U2ZTZlODtcXG59XFxuLmpkcm9wZG93bi1zZWFyY2hiYXIgLmpkcm9wZG93bi1zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1DQXdhREkwZGpJMFNEQjZJaUJtYVd4c1BTSnViMjVsSWk4K1BIQmhkR2dnWkQwaVRUa2dNVFl1TVRkTU5DNDRNeUF4TW13dE1TNDBNaUF4TGpReFREa2dNVGtnTWpFZ04yd3RNUzQwTVMweExqUXhlaUlnWm1sc2JEMGlJekF3TjJGbVppSXZQand2YzNablBnPT0nKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB0b3AgNTAlIHJpZ2h0IDE1cHg7XFxufVxcbi8qKiBMaXN0IHJlbmRlciAqKi9cXG5cXG4uamRyb3Bkb3duLWxpc3QgLmpkcm9wZG93bi1jb250YWluZXIge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qZHJvcGRvd24tbGlzdCAuamRyb3Bkb3duLWhlYWRlciB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uamRyb3Bkb3duLWxpc3QgLmpkcm9wZG93bi1ncm91cCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLWxpc3QgLmpkcm9wZG93bi1ncm91cC1uYW1lIHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTZlNmU4O1xcbiAgcGFkZGluZy10b3A6IDEwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG4uamRyb3Bkb3duLWxpc3QgLmpkcm9wZG93bi1pdGVtIHtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHBhZGRpbmctbGVmdDogMTBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDQwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLWxpc3QgLmpkcm9wZG93bi1zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1DQXdhREkwZGpJMFNEQjZJaUJtYVd4c1BTSnViMjVsSWk4K1BIQmhkR2dnWkQwaVRUa2dNVFl1TVRkTU5DNDRNeUF4TW13dE1TNDBNaUF4TGpReFREa2dNVGtnTWpFZ04yd3RNUzQwTVMweExqUXhlaUlnWm1sc2JEMGlJekF3TjJGbVppSXZQand2YzNablBnPT0nKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB0b3AgNTAlIHJpZ2h0IDEwcHg7XFxufVxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC1kZXZpY2Utd2lkdGggOiA4MDBweCkge1xcbiAgLmpkcm9wZG93bi1saXN0IHtcXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcXG4gICAgYm9yZGVyOiAwcHg7XFxuICAgIHBhZGRpbmc6IDBweDtcXG4gIH1cXG5cXG4gIC5qZHJvcGRvd24tbGlzdCAuamRyb3Bkb3duLWNvbnRhaW5lciB7XFxuICAgIG1pbi13aWR0aDogMTAwJTtcXG4gIH1cXG59XFxuLmFwcCAuamRyb3Bkb3duLWl0ZW0ge1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG59XFxuLyoqXFxyXFxuICogKGMpIGpUb29scyBUZXh0IEVkaXRvclxcclxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsaG9kZWwvanRvb2xzXFxyXFxuICpcXHJcXG4gKiBAYXV0aG9yOiBQYXVsIEhvZGVsIDxwYXVsLmhvZGVsQGdtYWlsLmNvbT5cXHJcXG4gKiBAZGVzY3JpcHRpb246IElubGluZSByaWNodGV4dCBlZGl0b3JcXHJcXG4gKi9cXG4uamVkaXRvci1jb250YWluZXIge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcXG59XFxuLmplZGl0b3ItZHJhZ2dpbmcge1xcbiAgYm9yZGVyOiAxcHggZGFzaGVkICMwMDA7XFxufVxcbi5qZWRpdG9yLWNvbnRhaW5lci5qZWRpdG9yLXBhZGRpbmcge1xcbiAgcGFkZGluZzogMTBweDtcXG59XFxuLmplZGl0b3Ige1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XFxufVxcbi5qZWRpdG9yLWNvbnRhaW5lci5qZWRpdG9yLXBhZGRpbmcgLmplZGl0b3Ige1xcbiAgbWluLWhlaWdodDogMTIwcHg7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbiAgcGFkZGluZzogMTBweDtcXG59XFxuLmplZGl0b3ItdG9vbGJhciB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBkaXNwbGF5OiAtd2Via2l0LWlubGluZS1ib3g7XFxuICBkaXNwbGF5OiAtd2Via2l0LWlubGluZS1mbGV4O1xcbiAgZGlzcGxheTogLW1zLWlubGluZS1mbGV4Ym94O1xcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XFxuICAtd2Via2l0LWFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAycHg7XFxuICBib3JkZXItcmFkaXVzOiAycHg7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgNHB4IDVweCAwIHJnYmEoMCwwLDAsMC4xNCksIDAgMXB4IDEwcHggMCByZ2JhKDAsMCwwLDAuMTIpLCAwIDJweCA0cHggLTFweCByZ2JhKDAsMCwwLDAuMik7XFxuICBib3gtc2hhZG93OiAwIDRweCA1cHggMCByZ2JhKDAsMCwwLDAuMTQpLCAwIDFweCAxMHB4IDAgcmdiYSgwLDAsMCwwLjEyKSwgMCAycHggNHB4IC0xcHggcmdiYSgwLDAsMCwwLjIpO1xcbiAgbWFyZ2luOiAwcHg7XFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxuICBwYWRkaW5nOiA1cHg7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbn1cXG4uamVkaXRvci10b29sYmFyIC5qZWRpdG9yLXRvb2xiYXItZ3JvdXAge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMztcXG59XFxuLmplZGl0b3ItdG9vbGJhciBkaXYge1xcbiAgcGFkZGluZzogNHB4O1xcbn1cXG4uamVkaXRvci10b29sYmFyIGRpdi5qZWRpdG9yLXRvb2xiYXItYnV0dG9uIHtcXG4gIHBhZGRpbmctbGVmdDogMjBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDIwcHg7XFxufVxcbi5qZWRpdG9yLXRvb2xiYXIgZGl2IHtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAvKiBDaHJvbWUgYWxsIC8gU2FmYXJpIGFsbCAqL1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC8qIEZpcmVmb3ggYWxsICovXFxuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAvKiBJRSAxMCsgKi9cXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLyogTGlrZWx5IGZ1dHVyZSAqL1xcbn1cXG4uamVkaXRvci10b29sYmFyIGRpdiBpIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgZm9udC1zaXplOiAyMHB4O1xcbiAgd2lkdGg6IDIwcHg7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICBsaW5lLWhlaWdodDogMjBweDtcXG4gIGNvbG9yOiAjNzc3O1xcbn1cXG4uamVkaXRvci10b29sYmFyIHNlbGVjdCB7XFxuICBib3JkZXI6IDBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XFxuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGhlaWdodDogMzJweDtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBtYXJnaW46IDFweDtcXG59XFxuLmplZGl0b3ItdG9vbGJhciAuanRvb2xiYXItZGl2aXNvciB7XFxuICB3aWR0aDogMnB4O1xcbiAgaGVpZ2h0OiAyOHB4O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgbWFyZ2luOiA0cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xcbn1cXG4uamVkaXRvci10b29sYmFyIHNlbGVjdCBvcHRpb24ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIHBhZGRpbmc6IDIwcHg7XFxufVxcbi5qZWRpdG9yLXRvb2xiYXIgZGl2OmhvdmVyLFxcbi50b29sYmFyIHNlbGVjdDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbn1cXG4uamVkaXRvci10b29sYmFyIGRpdjpob3ZlciBpIHtcXG4gIGNvbG9yOiAjMjIyO1xcbn1cXG4uamVkaXRvci10b29sYmFyIGRpdi5zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2VjZWNlO1xcbn1cXG4uamVkaXRvci10aHVtYnMge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XFxufVxcbi5qZWRpdG9yLXRodW1icy1jb250YWluZXIge1xcbiAgbWFyZ2luLXRvcDogMTVweDtcXG59XFxuLmplZGl0b3ItdGh1bWJzIC5jbG9zZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBoZWlnaHQ6IDFweDtcXG59XFxuLmplZGl0b3ItdGh1bWJzIC5jbG9zZSBpIHtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgdGV4dC1zaGFkb3c6IDBweCAwcHggMnB4ICMwMDA7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0b3A6IDVweDtcXG4gIGxlZnQ6IDcycHg7XFxufVxcbi5qZWRpdG9yLXRodW1icyBpbWcge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcXG4gIHdpZHRoOiAxMDBweDtcXG4gIGhlaWdodDogMTAwcHg7XFxufVxcbi5qZWRpdG9yLXVzZXJzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgcGFkZGluZy10b3A6IDVweDtcXG4gIHBhZGRpbmctYm90dG9tOiA1cHg7XFxuICBtYXgtaGVpZ2h0OiAyMjBweDtcXG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcXG59XFxuLmplZGl0b3ItdXNlcnMgPiBkaXYge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBtaW4td2lkdGg6IDIyMHB4O1xcbiAgcGFkZGluZzogMTBweDtcXG4gIHBhZGRpbmctdG9wOiA1cHg7XFxuICBwYWRkaW5nLWJvdHRvbTogNXB4O1xcbn1cXG4uamVkaXRvci11c2VycyA+IGRpdjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZlZmVmO1xcbn1cXG4uamVkaXRvci11c2VycyA+IGRpdiBpbWcge1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IDI0cHg7XFxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XFxufVxcbi8qKiBTbmlwcGV0ICoqL1xcbi5zbmlwcGV0IHtcXG4gIG1hcmdpbi10b3A6IDE1cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZWVlO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uc25pcHBldDpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uc25pcHBldCBpbWcge1xcbiAgd2lkdGg6IDI1JTtcXG4gIG1heC13aWR0aDogMTIwcHg7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcbi5zbmlwcGV0IC5zbmlwcGV0LXRpdGxlIHtcXG4gIG1hcmdpbi10b3A6IDE1cHg7XFxuICBmb250LXNpemU6IDEuNGVtO1xcbn1cXG4uc25pcHBldCAuc25pcHBldC1kZXNjcmlwdGlvbiB7XFxuICBtYXJnaW4tdG9wOiA1cHg7XFxuICBmb250LXNpemU6IDFlbTtcXG59XFxuLnNuaXBwZXQgLnNuaXBwZXQtaG9zdCB7XFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBmb250LXNpemU6IDAuOGVtO1xcbiAgY29sb3I6ICM3Nzc7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG59XFxuLnNuaXBwZXQgLnNuaXBwZXQtdXJsIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5qZWRpdG9yIC5zbmlwcGV0OmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFJTNDcGF0aCBkPSdNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIG1hcmdpbjogMTRweDtcXG4gIGZvbnQtc2l6ZTogMjRweDtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgdGV4dC1zaGFkb3c6IDBweCAwcHggNXB4ICNmZmY7XFxufVxcbi5zbmlwcGV0IGRpdixcXG4uc25pcHBldCBpbWcge1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtby11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC11c2VyLWRyYWc6IG5vbmU7XFxuICAta2h0bWwtdXNlci1kcmFnOiBub25lO1xcbiAgLW1vei11c2VyLWRyYWc6IG5vbmU7XFxuICAtby11c2VyLWRyYWc6IG5vbmU7XFxufVxcbi5qZWRpdG9yIGltZyB7XFxuICBib3JkZXI6IDJweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qZWRpdG9yIGltZzpmb2N1cyB7XFxuICBib3JkZXI6IDJweCBzb2xpZCAjMDA5NkZEO1xcbn1cXG4uamVkaXRvciAucGRmIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB2ZXJzaW9uPScxLjEnIGlkPSdMYXllcl8xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB4PScwcHgnIHk9JzBweCcgdmlld0JveD0nMCAwIDUxMiA1MTInIHN0eWxlPSdlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7JyB4bWw6c3BhY2U9J3ByZXNlcnZlJyUzRSUzQ3BhdGggc3R5bGU9J2ZpbGw6JTIzQzMwQjE1OycgZD0nTTUxMS4zNDQsMjc0LjI2NkM1MTEuNzcsMjY4LjIzMSw1MTIsMjYyLjE0Myw1MTIsMjU2QzUxMiwxMTQuNjE1LDM5Ny4zODUsMCwyNTYsMFMwLDExNC42MTUsMCwyNTYgYzAsMTE3Ljc2OSw3OS41MywyMTYuOTQ5LDE4Ny44MDksMjQ2LjgwMUw1MTEuMzQ0LDI3NC4yNjZ6Jy8lM0UlM0NwYXRoIHN0eWxlPSdmaWxsOiUyMzg1MDgwRTsnIGQ9J001MTEuMzQ0LDI3NC4yNjZMMzE0Ljk5MSw3Ny45MTNMMTE5LjA5Niw0MzQuMDg3bDY4LjcxNCw2OC43MTRDMjA5LjUyMiw1MDguNzg3LDIzMi4zODUsNTEyLDI1Niw1MTIgQzM5MS4yNDMsNTEyLDUwMS45NzYsNDA3LjEyNSw1MTEuMzQ0LDI3NC4yNjZ6Jy8lM0UlM0Nwb2x5Z29uIHN0eWxlPSdmaWxsOiUyM0ZGRkZGRjsnIHBvaW50cz0nMjc4LjMyOCwzMzMuOTEzIDI1NS43MTEsNzcuOTEzIDExOS4wOTYsNzcuOTEzIDExOS4wOTYsMzExLjY1MiAnLyUzRSUzQ3BvbHlnb24gc3R5bGU9J2ZpbGw6JTIzRThFNkU2OycgcG9pbnRzPSczOTIuOTA0LDMxMS42NTIgMzkyLjkwNCwxNTUuODI2IDMzNy4yNTIsMTMzLjU2NSAzMTQuOTkxLDc3LjkxMyAyNTUuNzExLDc3LjkxMyAyNTYuMDY3LDMzMy45MTMgJy8lM0UlM0Nwb2x5Z29uIHN0eWxlPSdmaWxsOiUyM0ZGRkZGRjsnIHBvaW50cz0nMzE0Ljk5MSwxNTUuODI2IDMxNC45OTEsNzcuOTEzIDM5Mi45MDQsMTU1LjgyNiAnLyUzRSUzQ3JlY3QgeD0nMTE5LjA5NicgeT0nMzExLjY1Micgc3R5bGU9J2ZpbGw6JTIzRkMwRjFBOycgd2lkdGg9JzI3My44MDknIGhlaWdodD0nMTIyLjQzNScvJTNFJTNDZyUzRSUzQ3BhdGggc3R5bGU9J2ZpbGw6JTIzRkZGRkZGOycgZD0nTTIwNC44NzEsMzQ2LjM4N2MxMy41NDcsMCwyMS4zNDEsNi42NTksMjEuMzQxLDE4LjQ2NWMwLDEyLjQxMi03Ljc5NSwxOS42MDEtMjEuMzQxLDE5LjYwMWgtOS42MTEgdjE0LjkwOWgtMTMuNDcxdi01Mi45NzVMMjA0Ljg3MSwzNDYuMzg3TDIwNC44NzEsMzQ2LjM4N3ogTTE5NS4yNiwzNzMuODU4aDguOTNjNS45MDQsMCw5LjMwOC0yLjk1Miw5LjMwOC04LjU1MiBjMC01LjUyNS0zLjQwNi04LjMyNC05LjMwOC04LjMyNGgtOC45M1YzNzMuODU4eicvJTNFJTNDcGF0aCBzdHlsZT0nZmlsbDolMjNGRkZGRkY7JyBkPSdNMjU3LjkyOCwzNDYuMzg3YzE2LjY0OSwwLDI4LjE1MiwxMC43NDYsMjguMTUyLDI2LjQ4N2MwLDE1LjY2Ni0xMS42NTUsMjYuNDg4LTI4LjY4MywyNi40ODggaC0yMi4yNXYtNTIuOTc1SDI1Ny45Mjh6IE0yNDguNjE5LDM4OC42MTVoOS42MTFjOC4yNDksMCwxNC4xNTEtNi4zNTcsMTQuMTUxLTE1LjY2NWMwLTkuMzg0LTYuMjA1LTE1LjgxNy0xNC43NTctMTUuODE3aC05LjAwNiBWMzg4LjYxNXonLyUzRSUzQ3BhdGggc3R5bGU9J2ZpbGw6JTIzRkZGRkZGOycgZD0nTTMwOC41NjMsMzU2Ljk4MnYxMi4yNmgyMy43NjN2MTAuNTk2aC0yMy43NjN2MTkuNTI1aC0xMy40NzF2LTUyLjk3NWgzOS4yNzd2MTAuNTk1aC0yNS44MDYgVjM1Ni45ODJ6Jy8lM0UlM0MvZyUzRSUzQy9zdmclM0UlMEFcXFwiKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbiAgd2lkdGg6IDYwcHg7XFxuICBoZWlnaHQ6IDYwcHg7XFxufVxcbi8qKlxcclxcbiAqIChjKSBqTG9hZGluZ1xcclxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsaG9kZWwvanRvb2xzXFxyXFxuICpcXHJcXG4gKiBAYXV0aG9yOiBQYXVsIEhvZGVsIDxwYXVsLmhvZGVsQGdtYWlsLmNvbT5cXHJcXG4gKiBAZGVzY3JpcHRpb246IFBhZ2UgbG9hZGluZyBzcGluXFxyXFxuICovXFxuLmpsb2FkaW5nIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHotaW5kZXg6IDEwMDAxO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICBib3R0b206IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNyk7XFxufVxcbi5qbG9hZGluZzo6YWZ0ZXIge1xcbiAgY29udGVudDogJyc7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgbWFyZ2luLXRvcDogNTB2aDtcXG4gIHdpZHRoOiA0MHB4O1xcbiAgaGVpZ2h0OiA0MHB4O1xcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1jb2xvcjogd2hpdGU7XFxuICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci13aWR0aDogNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgLXdlYmtpdC1hbmltYXRpb246IHNwaW4gLjhzIGxpbmVhciBpbmZpbml0ZTtcXG4gIGFuaW1hdGlvbjogc3BpbiAuOHMgbGluZWFyIGluZmluaXRlO1xcbn1cXG4uamxvYWRpbmcuc3BpbiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuLmpsb2FkaW5nLnNwaW46OmFmdGVyIHtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgbWFyZ2luLXRvcDogODBweDtcXG4gIGJvcmRlci1jb2xvcjogI2FhYTtcXG4gIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG4uamxvZ2luIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XFxuICBmb250LXNpemU6IDFlbTtcXG59XFxuLmpsb2dpbi1mdWxsc2NyZWVuIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgei1pbmRleDogOTAwMDtcXG59XFxuLmpsb2dpbiA+IGZvcm0ge1xcbiAgbWF4LXdpZHRoOiA0ODBweDtcXG4gIHBhZGRpbmc6IDIwcHg7XFxuICBtYXJnaW46IDAgYXV0bztcXG59XFxuLmpsb2dpbiA+IGZvcm0gPiBkaXYge1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuLmpsb2dpbiBsYWJlbCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmpsb2dpbiA+IGZvcm0gPiBkaXYgPiBpbnB1dCB7XFxuICB3aWR0aDogMTAwJTtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBwYWRkaW5nOiAxNXB4O1xcbiAgbWFyZ2luOiAwcHg7XFxufVxcbi5qbG9naW4gaW5wdXRbdHlwZT0nY2hlY2tib3gnXSB7XFxuICBmbG9hdDogbGVmdDtcXG59XFxuLmpsb2dpbiBpbnB1dFt0eXBlPSdidXR0b24nXSB7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnV0dG9uLWNvbG9yKTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJ1dHRvbi1jb2xvcik7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcXG4gIGFwcGVhcmFuY2U6IG5vbmU7XFxufVxcbi5qbG9naW4gc3BhbiB7XFxuICBtYXJnaW46IDAgYXV0bztcXG59XFxuLmpsb2dpbiBpbWcge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgbWF4LXdpZHRoOiAyMjBweDtcXG59XFxuLmpsb2dpbiAuamxvZ2luLWxvZ28ge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgcGFkZGluZzogMjBweDtcXG59XFxuLmpsb2dpbiAuY2FwdGNoYSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbi10b3A6IDRweDtcXG4gIG1hcmdpbi1ib3R0b206IDRweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmpsb2dpbiAuZmFjZWJvb2tCdXR0b24ge1xcbiAgcGFkZGluZzogMTBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJ1dHRvbi1jb2xvcik7XFxuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1idXR0b24tY29sb3IpO1xcbiAgY29sb3I6ICNmZmY7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDI0IDI0JyB3aWR0aD0nMjRweCcgaGVpZ2h0PScyNHB4JyUzRSUzQ3BhdGggZD0nTTE5LDNINUMzLjg5NSwzLDMsMy44OTUsMyw1djE0YzAsMS4xMDUsMC44OTUsMiwyLDJoNy42MjF2LTYuOTYxaC0yLjM0M3YtMi43MjVoMi4zNDNWOS4zMDkgYzAtMi4zMjQsMS40MjEtMy41OTEsMy40OTUtMy41OTFjMC42OTktMC4wMDIsMS4zOTcsMC4wMzQsMi4wOTIsMC4xMDV2Mi40M2gtMS40MjhjLTEuMTMsMC0xLjM1LDAuNTM0LTEuMzUsMS4zMjJ2MS43MzVoMi43IGwtMC4zNTEsMi43MjVoLTIuMzY1VjIxSDE5YzEuMTA1LDAsMi0wLjg5NSwyLTJWNUMyMSwzLjg5NSwyMC4xMDUsMywxOSwzeicgZmlsbD0nd2hpdGUnLyUzRSUzQy9zdmclM0UlMEFcXFwiKTtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDEwcHggNDAlO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4uamxvZ2luIC5yZW1lbWJlckJ1dHRvbiB7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpsb2dpbiAucmVxdWVzdEJ1dHRvbixcXG4uamxvZ2luIC5jYW5jZWxCdXR0b24sXFxuLmpsb2dpbiAubmV3UHJvZmlsZUJ1dHRvbiB7XFxuICBwYWRkaW5nOiAyMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDBweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmpsb2dpbi1jYXB0Y2hhIGltZyB7XFxuICBtaW4td2lkdGg6IDI4MHB4O1xcbn1cXG4uamxvZ2luLWxvYWRpbmc6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB0b3A6IDBweDtcXG4gIGxlZnQ6IDBweDtcXG4gIHdpZHRoOiAyMDBweDtcXG4gIGhlaWdodDogNHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnV0dG9uLWNvbG9yKTtcXG4gIGFuaW1hdGlvbjogbG9hZGluZyAycyBsaW5lYXIgaW5maW5pdGU7XFxufVxcbkBrZXlmcmFtZXMgbG9hZGluZyB7XFxuICBmcm9tIHtcXG4gICAgbGVmdDogLTIwMHB4O1xcbiAgICB3aWR0aDogMzAlO1xcbiAgfVxcblxcbiAgNTAlIHtcXG4gICAgd2lkdGg6IDMwJTtcXG4gIH1cXG5cXG4gIDcwJSB7XFxuICAgIHdpZHRoOiA3MCU7XFxuICB9XFxuXFxuICA4MCUge1xcbiAgICBsZWZ0OiA1MCU7XFxuICB9XFxuXFxuICA5NSUge1xcbiAgICBsZWZ0OiAxMjAlO1xcbiAgfVxcblxcbiAgdG8ge1xcbiAgICBsZWZ0OiAxMDAlO1xcbiAgfVxcbn1cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtZGV2aWNlLXdpZHRoIDogODAwcHgpIHtcXG4gIC5qc3VpdGVzICoge1xcbiAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICB9XFxuXFxuICBodG1sLmpzdWl0ZXMge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICB9XFxuXFxuICAuanN1aXRlcyBib2R5IHtcXG4gICAgbWFyZ2luOiAwcHg7XFxuICAgIHBhZGRpbmc6IDBweDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgbWluLWhlaWdodDogMTAwJTtcXG4gICAgbGluZS1oZWlnaHQ6IDEuNDtcXG4gICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sU0YgVUkgVGV4dCxIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZiAhaW1wb3J0YW50O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgfVxcblxcbiAgLmpzdWl0ZXMgaW5wdXQsXFxuICAuanN1aXRlcyBzZWxlY3QsXFxuICAuanN1aXRlcyB0ZXh0YXJlYSxcXG4gIC5qc3VpdGVzIGRpdiB7XFxuICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLFNGIFVJIFRleHQsSGVsdmV0aWNhIE5ldWUsSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWYgIWltcG9ydGFudDtcXG4gIH1cXG59XFxuLmphcHAge1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIG92ZXJmbG93OiBzY3JvbGw7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbn1cXG4uandhcm5pbmc6OmJlZm9yZSB7XFxuICBjb250ZW50OiAnTm8gaW50ZXJuZXQgY29ubmVjdGlvbic7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XFxuICBjb2xvcjogI2ZmZjtcXG4gIHBhZGRpbmc6IDJweDtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgei1pbmRleDogMjAwMDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIGZvbnQtc2l6ZTogMC41NWVtO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4vKlxcclxcbi5qYXBwIC5hY3RpdmVIaWdoTGlnaHRcXHJcXG57XFxyXFxuICAgIGNvbG9yOnZhcigtLWFjdGl2ZS1jb2xvcik7XFxyXFxufVxcclxcblxcclxcbi5qYXBwIC5hY3RpdmUgYSwgLmphcHAgLmFjdGl2ZSBzcGFuLCAuamFwcCAuYWN0aXZlIGlcXHJcXG57XFxyXFxuICAgIGNvbG9yOnZhcigtLWFjdGl2ZS1jb2xvcik7XFxyXFxufVxcclxcblxcclxcbi5qYXBwIC5uby1wYWRkaW5nXFxyXFxue1xcclxcbiAgICBwYWRkaW5nOjBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmphcHAgLmFjdGlvblxcclxcbntcXHJcXG4gICAgY29sb3I6dmFyKC0tYWN0aXZlLWNvbG9yKTtcXHJcXG4gICAgY3Vyc29yOnBvaW50ZXI7XFxyXFxufVxcclxcblxcclxcblxcclxcbi5qYXBwIGkuYWN0aW9uXFxyXFxue1xcclxcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcXHJcXG4gICAgcmlnaHQ6MHB4O1xcclxcbiAgICBtYXJnaW4tcmlnaHQ6MTVweDtcXHJcXG4gICAgY3Vyc29yOnBvaW50ZXI7XFxyXFxufVxcclxcbiovXFxuLmphcHAgYnV0dG9uIHtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIGNvbG9yOiB2YXIoLS1hY3RpdmUtY29sb3IpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uamFwcCBidXR0b246YWN0aXZlIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XFxuICBjb2xvcjogIzAwMDtcXG59XFxuLmphcHAgLnJlZCB7XFxuICBjb2xvcjogcmVkO1xcbiAgYm9yZGVyLWNvbG9yOiAxcHggc29saWQgcmVkO1xcbn1cXG4uamFwcCAubGluayB7XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmphcHAgLnVwcGVyY2FzZSB7XFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcbn1cXG4vKiogTmF2YmFyICoqL1xcbi5qYXBwIC5uYXZiYXIge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB6LWluZGV4OiA1MDA7XFxuICBtYXJnaW46IDA7XFxuICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLDAsMCk7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLDAsMCk7XFxuICBoZWlnaHQ6IDQ0cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwwLDAsLjEpO1xcbn1cXG4uandhcm5pbmcgLm5hdmJhciB7XFxuICB0b3A6IDE2cHg7XFxufVxcbi5qYXBwIC5uYXZiYXItY29udGFpbmVyIHtcXG4gIHBhZGRpbmc6IDAgOHB4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLXdlYmtpdC1mbGV4LWZsb3c6IHJvdyB3cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLmphcHAgLm5hdmJhci1jb250YWluZXIgZGl2IHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmphcHAgLm5hdmJhci1jb250YWluZXIgZGl2LnRpdGxlIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxufVxcbi5qYXBwIC5uYXZiYXItY29udGFpbmVyIGRpdi50aXRsZSBkaXYge1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxufVxcbi5qYXBwIC5uYXZiYXItY29udGFpbmVyIGRpdi5pY29uIHtcXG4gIHdpZHRoOiAyNHB4O1xcbn1cXG4uamFwcCAubmF2YmFyLWNvbnRhaW5lciBkaXYgaSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmphcHAgLm5hdmJhci1jb250YWluZXIgZGl2IGltZyB7XFxuICBoZWlnaHQ6IDI4cHg7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmphcHAgLm5hdmJhci1jb250YWluZXIgZGl2LnRpdGxlIGRpdiBpbWcge1xcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiA2cHg7XFxufVxcbi5qYXBwIC5uYXZiYXIgLmljb24ge1xcbiAgY29sb3I6IHZhcigtLWFjdGl2ZS1jb2xvcik7XFxufVxcbi5qYXBwIC50aXRsZSB7XFxuICBmb250LXNpemU6IDEuMmVtO1xcbn1cXG4uamFwcCAuYmxvY2sge1xcbiAgcGFkZGluZzogMTVweDtcXG4gIGNvbG9yOiAjNmQ2ZDcyO1xcbiAgZm9udC1zaXplOiAwLjllbTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qYXBwIC5ibG9jay10aXRsZSB7XFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcbiAgY29sb3I6ICM2ZDZkNzI7XFxuICBtYXJnaW46IDI1cHggMTVweCAxMHB4O1xcbiAgbGluZS1oZWlnaHQ6IDE3cHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBmb250LXNpemU6IDAuOWVtO1xcbn1cXG4uamFwcCAuYmxvY2stc3Ryb25nIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBjb2xvcjogIzAwMDtcXG59XFxuLmphcHAgLmJsb2NrLWJvcmRlciB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2RkZDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xcbn1cXG4uamFwcCAuYmxvY2stZm9vdGVyIHtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBwYWRkaW5nOiAxNXB4O1xcbiAgY29sb3I6ICM2ZDZkNzI7XFxuICBmb250LXNpemU6IDAuN2VtO1xcbn1cXG4uamFwcCAuYmxvY2stY29sbGFwc2Uge1xcbiAgbWF4LWhlaWdodDogMTAwcHg7XFxuICBvdmVyZmxvdy15OiBoaWRkZW47XFxufVxcbi5qYXBwIC5ibG9jay1pbnN0cnVjdGlvbiB7XFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcbiAgcGFkZGluZzogMTVweDtcXG4gIGNvbG9yOiAjNmQ2ZDcyO1xcbiAgZm9udC1zaXplOiAwLjdlbTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmphcHAgLnBhZ2VzIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LXdyYXA6IG5vd3JhcDtcXG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4uamFwcCAucGFnZSB7XFxuICBwYWRkaW5nLXRvcDogNDVweDtcXG4gIHBhZGRpbmctYm90dG9tOiA0NXB4O1xcbiAgbWluLWhlaWdodDogMTAwJTtcXG4gIG1pbi13aWR0aDogMTAwJTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgLyp3aWxsLWNoYW5nZTogc2Nyb2xsLXBvc2l0aW9uO1xcclxcbiAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XFxyXFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDBweCk7XFxyXFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLDAsMCk7XFxyXFxuICAgIC13ZWJraXQtcGVyc3BlY3RpdmU6IDEwMDA7Ki9cXG59XFxuLndhcm5pbmcgLnBhZ2Uge1xcbiAgcGFkZGluZy10b3A6IDYwcHg7XFxufVxcbi5qYXBwIC5wcm9ncmVzc2Jhci1jb250YWluZXIge1xcbiAgbWFyZ2luOiAxNXB4O1xcbiAgbWFyZ2luLWxlZnQ6IDBweDtcXG4gIG1hcmdpbi1yaWdodDogMHB4O1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbn1cXG4uamFwcCAucHJvZ3Jlc3NiYXIge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1hY3RpdmUtY29sb3IpO1xcbiAgYm9yZGVyLXJhZGl1czogMXB4O1xcbn1cXG4uamFwcCAucHJvZ3Jlc3NiYXItdGl0bGUge1xcbiAgbWFyZ2luLWJvdHRvbTogMnB4O1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxufVxcbi5qYXBwIC5wcm9ncmVzc2JhciBkaXYge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIGhlaWdodDogNHB4O1xcbiAgd2lkdGg6IDAlO1xcbn1cXG4uamFwcCAucGFuZWwge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIG1hcmdpbjogMDtcXG4gIHdpZHRoOiA2MHZ3O1xcbiAgbWF4LXdpZHRoOiAyMjBweDtcXG4gIGhlaWdodDogMTAwdmg7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgei1pbmRleDogMTAwMztcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2hhZG93OiAwIC0xcHggMnB4IHJnYmEoMCwwLDAsLjEpO1xcbiAgcGFkZGluZzogNHB4O1xcbn1cXG4uamFwcCAucGFuZWwtbGVmdCB7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAycHggMTVweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC43KTtcXG4gIGJveC1zaGFkb3c6IDBweCAycHggMTVweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC43KTtcXG59XFxuLmphcHAgLnBhbmVsIGEge1xcbiAgY29sb3I6IHZhcigtLWFjdGl2ZS1jb2xvcik7XFxufVxcbi8qKiBUb29sYmFyICoqL1xcbi5qYXBwIC5qdG9vbGJhciB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBib3R0b206IDA7XFxuICBtYXJnaW46IDA7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBiYWNrZ3JvdW5kOiAjZjdmN2Y4O1xcbiAgei1pbmRleDogNTAwO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaGFkb3c6IDAgLTFweCAycHggcmdiYSgwLDAsMCwuMSk7XFxuICBwYWRkaW5nOiA0cHg7XFxufVxcbi5qYXBwIC5qdG9vbGJhciA+IGRpdiB7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgZGlzcGxheTogLW1vei1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWZsZXgtZmxvdzogcm93IHdyYXA7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmphcHAgLmp0b29sYmFyID4gZGl2ID4gZGl2IHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZsZXg6IDE7XFxuICBtYXJnaW46IGF1dG87XFxufVxcbi5qYXBwIC5qdG9vbGJhciBhIHtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLmphcHAgLmp0b29sYmFyIGkge1xcbiAgY29sb3I6ICM5MjkyOTI7XFxufVxcbi5qYXBwIC5qdG9vbGJhciBzcGFuIHtcXG4gIGZvbnQtc2l6ZTogMC43ZW07XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGNvbG9yOiAjOTI5MjkyO1xcbn1cXG4uamFwcCAuanRvb2xiYXIgLnNlbGVjdGVkIGEsXFxuLmphcHAgLmp0b29sYmFyIC5zZWxlY3RlZCBpLFxcbi5qYXBwIC5qdG9vbGJhciAuc2VsZWN0ZWQgc3BhbiB7XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG59XFxuLyoqIE9wdGlvbnMgKiovXFxuLmphcHAgLm9wdGlvbnMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTZlNmU4O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU2ZTg7XFxuICBwYWRkaW5nLWxlZnQ6IDE1cHg7XFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcbn1cXG4uamFwcCAub3B0aW9uczplbXB0eSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uIHtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbW96LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtZmxleC1mbG93OiByb3cgbm93cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGZsZXgtd3JhcDogbm93cmFwO1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uOmxhc3QtY2hpbGQge1xcbiAgYm9yZGVyLWJvdHRvbTogMHB4O1xcbn1cXG4uamFwcCAub3B0aW9ucyBsYWJlbCB7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLmphcHAgLm9wdGlvbnMgaW5wdXRbdHlwZT0ndGV4dCddLFxcbi5qYXBwIC5vcHRpb25zIHRleHRhcmVhIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgbWFyZ2luOiAwcHg7XFxuICBwYWRkaW5nOiAwcHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qYXBwIC5vcHRpb25zIHRleHRhcmVhIHtcXG4gIGhlaWdodDogMTAwcHg7XFxufVxcbi5qYXBwIC5vcHRpb25zIGlucHV0W3R5cGU9J2NoZWNrYm94J10sXFxuLmphcHAgLm9wdGlvbnMgaW5wdXRbdHlwZT0ncmFkaW8nXSB7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxufVxcbi5qYXBwIC5vcHRpb25zIGlucHV0W3R5cGU9J2NoZWNrYm94J10gfiBpLFxcbi5qYXBwIC5vcHRpb25zIGlucHV0W3R5cGU9J3JhZGlvJ10gfiBpIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTUNBd2FESTBkakkwU0RCNklpQm1hV3hzUFNKdWIyNWxJaTgrUEhCaGRHZ2daRDBpVFRrZ01UWXVNVGRNTkM0NE15QXhNbXd0TVM0ME1pQXhMalF4VERrZ01Ua2dNakVnTjJ3dE1TNDBNUzB4TGpReGVpSWdabWxzYkQwaUl6QXdOMkZtWmlJdlBqd3ZjM1puUGc9PScpO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG59XFxuLmphcHAgLm9wdGlvbnMgaW5wdXRbdHlwZT0nY2hlY2tib3gnXTpjaGVja2VkIH4gaSxcXG4uamFwcCAub3B0aW9ucyBpbnB1dFt0eXBlPSdyYWRpbyddOmNoZWNrZWQgIH4gaSB7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbn1cXG4uamFwcCAub3B0aW9ucyAuamRyb3Bkb3duIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uamFwcCAub3B0aW9ucyAuamRyb3Bkb3duIC5qZHJvcGRvd24taGVhZGVyIHtcXG4gIGJvcmRlcjogMHB4O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU2ZTg7XFxuICBwYWRkaW5nOiAxNXB4O1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG59XFxuLmphcHAgLm9wdGlvbnMgLmpkcm9wZG93bjpsYXN0LWNoaWxkIC5qZHJvcGRvd24taGVhZGVyIHtcXG4gIGJvcmRlci1ib3R0b206IDBweDtcXG59XFxuLmphcHAgLm9wdGlvbnMgLmpkcm9wZG93bi1zZWFyY2hiYXIuamRyb3Bkb3duLWZvY3VzIC5qZHJvcGRvd24taGVhZGVyIHtcXG4gIGJvcmRlcjogMHB4O1xcbiAgcGFkZGluZzogNXB4O1xcbn1cXG4uamFwcCAub3B0aW9ucyAuaWNvbiB7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG4gIG1heC13aWR0aDogNDBweDtcXG4gIG1heC1oZWlnaHQ6IDQwcHg7XFxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xcbiAgY29sb3I6ICM5MjkyOTI7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1hY3Rpb25zIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7XFxuICB3aWR0aDogMHB4O1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uIC5vcHRpb24tYWN0aW9ucyA+IGRpdiB7XFxuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1hY3Rpb25zID4gZGl2ID4gaSB7XFxuICB3aWR0aDogNDBweDtcXG4gIGhlaWdodDogNDBweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgZm9udC1zaXplOiAyNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDQwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3JkZXItcmFkaXVzOiAzMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uIC5vcHRpb24tYWN0aW9ucy5zbWFsbCA+IGRpdiA+IGkge1xcbiAgY29sb3I6ICMwMDA7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG4gIGZvbnQtc2l6ZTogMjRweDtcXG4gIGxpbmUtaGVpZ2h0OiAyNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMjRweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uLXRpdGxlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgcGFkZGluZy10b3A6IDEwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBmb250LXNpemU6IDFlbTtcXG4gIHZlcnRpY2FsLWFsaWduOiBjZW50ZXI7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24tdGl0bGU6OmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICdcXFxcZTMxMyc7XFxuICBmb250LWZhbWlseTogJ21hdGVyaWFsIGljb25zJztcXG4gIGZvbnQtc2l6ZTogMjRweDtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG4gIGZsb2F0OiByaWdodDtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24tdGl0bGUuc2VsZWN0ZWQ6OmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICdcXFxcZTMxNic7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24tdGl0bGUuc2VsZWN0ZWQgfiBkaXYge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24tZ3JvdXAge1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNmU2ZTg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbi1saW5rOmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICdcXFxcZTMxNSc7XFxuICBmb250LWZhbWlseTogJ21hdGVyaWFsIGljb25zJztcXG4gIGNvbG9yOiB2YXIoLS1hY3RpdmUtY29sb3IpO1xcbiAgZm9udC1zaXplOiAyNHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IDI0cHg7XFxuICBsaW5lLWhlaWdodDogMjRweDtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uLWhlYWRlciB7XFxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XFxuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xcbiAgZmxleC1ncm93OiAxMDtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1uYW1lIHtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICB3aWR0aDogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1zbWFsbCB7XFxuICBmb250LXNpemU6IDAuN2VtO1xcbiAgY29sb3I6ICM2ZDZkNzI7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1pbWFnZSBpbWcge1xcbiAgd2lkdGg6IDQwcHg7XFxuICBoZWlnaHQ6IDQwcHg7XFxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1pbWFnZS1zbWFsbCBpbWcge1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IGF1dG87XFxuICBib3JkZXItcmFkaXVzOiA1MHB4O1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1pbWFnZSAub3B0aW9uLWJhZGdlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgd2lkdGg6IDE2cHg7XFxuICBoZWlnaHQ6IDE2cHg7XFxuICBsaW5lLWhlaWdodDogMTZweDtcXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXNpemU6IDdweDtcXG4gIG1hcmdpbjogMjhweDtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLWltYWdlLXNtYWxsIC5vcHRpb24tYmFkZ2Uge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgY29sb3I6ICNmZmY7XFxuICB3aWR0aDogMTZweDtcXG4gIGhlaWdodDogMTZweDtcXG4gIGxpbmUtaGVpZ2h0OiAxNnB4O1xcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogN3B4O1xcbiAgbWFyZ2luOiAxMnB4O1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uIC5vcHRpb24tYmFkZ2Uuc29saWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgY29sb3I6IHJlZDtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLWJhZGdlLnNvbGlkLWdyZWVuIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xcbiAgY29sb3I6IGdyZWVuO1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uIC5vcHRpb24tYmFkZ2U6ZW1wdHkge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLWRhdGUge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgZm9udC1zaXplOiAwLjZlbTtcXG4gIGNvbG9yOiAjODg4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLXJpZ2h0IHtcXG4gIG1hcmdpbi1yaWdodDogMTVweDtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLWJhZGdldCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XFxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IDI0cHg7XFxuICBsaW5lLWhlaWdodDogMjRweDtcXG4gIGZvbnQtc2l6ZTogMC43ZW07XFxuICBjb2xvcjogI2ZmZjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLWJhZGdldDplbXB0eSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4vKiogQmFkZ2UgKiovXFxuLmphcHAgLmpiYWRnZSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB0b3A6IC0xMnB4O1xcbiAgbGVmdDogLTEycHg7XFxufVxcbi5qYXBwIC5qYmFkZ2UgPiBkaXYge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgY29sb3I6ICNmZmY7XFxuICB3aWR0aDogMTZweDtcXG4gIGhlaWdodDogMTZweDtcXG4gIGxpbmUtaGVpZ2h0OiAxNnB4O1xcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogOHB4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG4uamFwcCAuamJhZGdlID4gZGl2OmVtcHR5IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi8qKiBQaWNrZXIgKiovXFxuLmphcHAgLnBpY2tlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNmU2ZTg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHBhZGRpbmctbGVmdDogMTVweDtcXG4gIG1hcmdpbi10b3A6IDEwcHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDBweDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgei1pbmRleDogNzAwO1xcbn1cXG4uamFwcCAucGlja2VyIC5waWNrZXItb3B0aW9ucyB7XFxuICAtd2Via2l0LW1hc2staW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHJnYmEoMCwwLDAsMSksIHJnYmEoMCwwLDAsLjIpKSwgbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgcmdiYSgwLDAsMCwxKSwgcmdiYSgwLDAsMCwuMikpO1xcbiAgLXdlYmtpdC1tYXNrLXNpemU6IDEwMCUgNTAlO1xcbiAgLXdlYmtpdC1tYXNrLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgLXdlYmtpdC1tYXNrLXBvc2l0aW9uOiBjZW50ZXIgYm90dG9tLCB0b3AgY2VudGVyO1xcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xcbiAgcGFkZGluZy10b3A6IDEwMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDEwMHB4O1xcbn1cXG4uamFwcCAucGlja2VyIGxhYmVsIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgcGFkZGluZy10b3A6IDEwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG59XFxuLmphcHAgLnBpY2tlciAucGlja2VyLXNlbGVjdGVkIHtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTZlNmU4O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU2ZTg7XFxufVxcbi5qYXBwIC5waWNrZXIgaW5wdXQge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLyoqIFRvcHNlYXJjaCAqKi9cXG4uamFwcCAudG9wLXNlYXJjaCB7XFxuICBtYXJnaW46IDBweDtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDtcXG59XFxuLmphcHAgLnRvcC1zZWFyY2ggaW5wdXQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U2ZTZlNjtcXG4gIGJvcmRlcjogMHB4O1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSdncmF5JyUzRSUzQ3BhdGggZD0nTTE1LjUgMTRoLS43OWwtLjI4LS4yN0MxNS40MSAxMi41OSAxNiAxMS4xMSAxNiA5LjUgMTYgNS45MSAxMy4wOSAzIDkuNSAzUzMgNS45MSAzIDkuNSA1LjkxIDE2IDkuNSAxNmMxLjYxIDAgMy4wOS0uNTkgNC4yMy0xLjU3bC4yNy4yOHYuNzlsNSA0Ljk5TDIwLjQ5IDE5bC00Ljk5LTV6bS02IDBDNy4wMSAxNCA1IDExLjk5IDUgOS41UzcuMDEgNSA5LjUgNSAxNCA3LjAxIDE0IDkuNSAxMS45OSAxNCA5LjUgMTR6Jy8lM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1cHggY2VudGVyO1xcbiAgcGFkZGluZy1sZWZ0OiAzMnB4O1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi5qYXBwIC5zZWFyY2hiYXItY29udGFpbmVyIGkge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbiAgbWFyZ2luLWxlZnQ6IDhweDtcXG4gIGNvbG9yOiAjYmJiO1xcbn1cXG4vKiogUmFuZ2UgKiovXFxuLmphcHAgLnJhbmdlIHtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gIG1hcmdpbjogMThweCAwO1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi5qYXBwIC5yYW5nZTpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uamFwcCAucmFuZ2U6Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiA0cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBhbmltYXRpb246IDAuMnM7XFxuICBiYWNrZ3JvdW5kOiAjY2NjO1xcbiAgYm9yZGVyLXJhZGl1czogMS4zcHg7XFxufVxcbi5qYXBwIC5yYW5nZTo6LXdlYmtpdC1zbGlkZXItdGh1bWIge1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgYXBwZWFyYW5jZTogbm9uZTtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJvcmRlci1yYWRpdXM6IDI0cHg7XFxuICBtYXJnaW4tdG9wOiAtMTBweDtcXG4gIGJvcmRlcjogMHB4O1xcbiAgYm94LXNoYWRvdzogMHB4IDFweCAzcHggMXB4ICNiYmI7XFxufVxcbi5qYXBwIC5yYW5nZTo6LW1vei1yYW5nZS10cmFjayB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGFuaW1hdGlvbjogMC4ycztcXG4gIGJhY2tncm91bmQ6ICNjY2M7XFxuICBib3JkZXItcmFkaXVzOiAxLjNweDtcXG59XFxuLmphcHAgLnJhbmdlOjotbW96LXJhbmdlLXRodW1iIHtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJvcmRlci1yYWRpdXM6IDI0cHg7XFxuICBib3JkZXI6IDBweDtcXG4gIGJveC1zaGFkb3c6IDBweCAxcHggM3B4IDFweCAjYmJiO1xcbn1cXG4uamFwcCAucmFuZ2U6Oi1tcy10cmFjayB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGFuaW1hdGlvbjogMC4ycztcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci13aWR0aDogMTZweCAwO1xcbiAgY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJhZGl1czogMS4zcHg7XFxufVxcbi5qYXBwIC5yYW5nZTo6LW1zLWZpbGwtbG93ZXIge1xcbiAgYmFja2dyb3VuZDogI2NjYztcXG4gIGhlaWdodDogNXB4O1xcbn1cXG4uamFwcCAucmFuZ2U6Oi1tcy1maWxsLXVwcGVyIHtcXG4gIGJhY2tncm91bmQ6ICNjY2M7XFxuICBoZWlnaHQ6IDVweDtcXG59XFxuLmphcHAgLnJhbmdlOjotbXMtdGh1bWIge1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IDI0cHg7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYm9yZGVyLXJhZGl1czogMjRweDtcXG4gIGJvcmRlcjogMHB4O1xcbiAgYm94LXNoYWRvdzogMHB4IDFweCAzcHggMXB4ICNiYmI7XFxufVxcbi5qYXBwIC5yYW5nZTpmb2N1czo6LW1zLWZpbGwtbG93ZXIge1xcbiAgYmFja2dyb3VuZDogI2NjYztcXG59XFxuLmphcHAgLnJhbmdlOmZvY3VzOjotbXMtZmlsbC11cHBlciB7XFxuICBiYWNrZ3JvdW5kOiAjY2NjO1xcbn1cXG4vKiogQWN0aW9uc2hlZXQgKiovXFxuLmphY3Rpb25zaGVldCB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBsZWZ0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgei1pbmRleDogMTAwMDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNSk7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcXG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1hbGlnbjogYmFzZWxpbmU7XFxuICAtd2Via2l0LWFsaWduLWl0ZW1zOiBiYXNlbGluZTtcXG4gIC13ZWJraXQtYm94LWFsaWduOiBiYXNlbGluZTtcXG4gIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcXG59XFxuLmphY3Rpb25zaGVldCAuamFjdGlvbnNoZWV0LWNvbnRlbnQge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcXG59XFxuLmphY3Rpb25zaGVldCAuamFjdGlvbnNoZWV0LXRpdGxlIHtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICBwYWRkaW5nOiA4cHg7XFxufVxcbi5qYWN0aW9uc2hlZXQgLmphY3Rpb25zaGVldC1tZXNzYWdlIHtcXG4gIHBhZGRpbmc6IDRweDtcXG59XFxuLmphY3Rpb25zaGVldCAuamFjdGlvbnNoZWV0LWdyb3VwIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBtYXJnaW46IDEwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbn1cXG4uamFjdGlvbnNoZWV0IC5qYWN0aW9uc2hlZXQtZ3JvdXAgPiBkaXYge1xcbiAgZm9udC1zaXplOiAxLjRlbTtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgcGFkZGluZzogNHB4O1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLmphY3Rpb25zaGVldCAuamFjdGlvbnNoZWV0LWdyb3VwID4gZGl2OmZpcnN0LWNoaWxkIHtcXG4gIGJvcmRlci10b3A6IDBweDtcXG59XFxuLmphY3Rpb25zaGVldCAuamFjdGlvbnNoZWV0LWdyb3VwIGlucHV0IHtcXG4gIGJvcmRlcjogMHB4O1xcbiAgbWFyZ2luOiAwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGNvbG9yOiB2YXIoLS1hY3RpdmUtY29sb3IpO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgZm9udC1zaXplOiAxZW07XFxufVxcbi5qYWN0aW9uc2hlZXQgLmphY3Rpb25zaGVldC1ncm91cCBpbnB1dC5qYWN0aW9uc2hlZXQtY2FuY2VsIHtcXG4gIGNvbG9yOiByZWQ7XFxufVxcbi8qKiBUb2dnbGUgKiovXFxuLmp0b2dnbGUge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuLmp0b2dnbGUgaSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW4tcmlnaHQ6IC41cmVtO1xcbiAgYm9yZGVyLXJhZGl1czogMjNweDtcXG4gIHZlcnRpY2FsLWFsaWduOiB0ZXh0LWJvdHRvbTtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGxpbmVhcjtcXG4gIHdpZHRoOiA0NnB4ICFpbXBvcnRhbnQ7XFxuICBoZWlnaHQ6IDI3cHggIWltcG9ydGFudDtcXG4gIGJhY2tncm91bmQ6ICNlNmU2ZTYgIWltcG9ydGFudDtcXG4gIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDtcXG59XFxuLmp0b2dnbGUgaTo6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiA0MnB4O1xcbiAgaGVpZ2h0OiAyMnB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJvcmRlci1yYWRpdXM6IDExcHg7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDJweCwgMnB4LCAwKSBzY2FsZTNkKDEsIDEsIDEpO1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuMjVzIGxpbmVhcjtcXG59XFxuLmp0b2dnbGUgaTo6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDIycHg7XFxuICBoZWlnaHQ6IDIycHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogMTFweDtcXG4gIGJveC1zaGFkb3c6IDAgMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMjQpO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgycHgsIDJweCwgMCk7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcXG59XFxuLmp0b2dnbGU6YWN0aXZlIGk6OmFmdGVyIHtcXG4gIHdpZHRoOiAyOHB4O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgycHgsIDJweCwgMCk7XFxufVxcbi5qdG9nZ2xlOmFjdGl2ZSBpbnB1dDpjaGVja2VkICsgaTo6YWZ0ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxNnB4LCAycHgsIDApO1xcbn1cXG4uanRvZ2dsZSBpbnB1dCB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uanRvZ2dsZSBpbnB1dDpjaGVja2VkICsgaSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNEJENzYzICFpbXBvcnRhbnQ7XFxufVxcbi5qdG9nZ2xlIGlucHV0OmNoZWNrZWQgKyBpOjpiZWZvcmUge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxOHB4LCAycHgsIDApIHNjYWxlM2QoMCwgMCwgMCk7XFxufVxcbi5qdG9nZ2xlIGlucHV0OmNoZWNrZWQgKyBpOjphZnRlciB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIycHgsIDJweCwgMCk7XFxufVxcbi8qKiBQbGFjZWhvbGRlcnMgKiovXFxuLmphcHAgLm9wdGlvbnMgaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG59XFxuLmphcHAgLm9wdGlvbnMgaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIge1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG59XFxuLmphcHAgLm9wdGlvbnMgaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxufVxcbi5qYXBwIC5vcHRpb25zIGlucHV0Oi1tb3otcGxhY2Vob2xkZXIge1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG59XFxuOjpwbGFjZWhvbGRlciB7XFxuICBjb2xvcjogI2NjY2NjYztcXG4gIG9wYWNpdHk6IDE7XFxufVxcbjotbXMtaW5wdXQtcGxhY2Vob2xkZXIge1xcbiAgY29sb3I6ICNjY2NjY2M7XFxufVxcbjo6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHtcXG4gIGNvbG9yOiAjY2NjY2NjO1xcbn1cXG46Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xcbiAgY29sb3I6ICNjY2NjY2M7XFxufVxcbi5qbW9kYWwge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiA1MCU7XFxuICBsZWZ0OiA1MCU7XFxuICB3aWR0aDogNjAlO1xcbiAgaGVpZ2h0OiA2MCU7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLDAsMCwuMik7XFxuICAtbW96LWJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLDAsMCwuMik7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHBhZGRpbmctdG9wOiA1MHB4O1xcbiAgei1pbmRleDogOTAwMjtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG59XFxuLmptb2RhbDpiZWZvcmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgY29udGVudDogYXR0cih0aXRsZSk7XFxuICBwYWRkaW5nOiAxNXB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJhY2tncm91bmQ6ICNlM2UzZTM7XFxuICBmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjZWRlZGVkJywgZW5kQ29sb3JzdHI9JyNlM2UzZTMnKTtcXG4gIGJhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2VkZWRlZCksIHRvKCNlM2UzZTMpKTtcXG4gIGJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgICNlZGVkZWQsICAjZTNlM2UzKTtcXG4gIGZvbnQtc2l6ZTogMS4yZW07XFxufVxcbi5qbW9kYWxfY29udGVudCB7XFxuICBwYWRkaW5nOiAyMHB4O1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxufVxcbi5qbW9kYWwubm8tdGl0bGUge1xcbiAgcGFkZGluZy10b3A6IDBweDtcXG59XFxuLmptb2RhbC5uby10aXRsZTpiZWZvcmUge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmptb2RhbDphZnRlciB7XFxuICBjb250ZW50OiAnJztcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyUzRSUzQ3BhdGggZD0nTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMnonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBtYXJnaW46IDE0cHg7XFxuICBmb250LXNpemU6IDI0cHg7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRleHQtc2hhZG93OiAwcHggMHB4IDVweCAjZmZmO1xcbn1cXG4uam1vZGFsX2Z1bGxzY3JlZW4ge1xcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcXG4gIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICB0cmFuc2Zvcm06IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiAwcHg7XFxufVxcbi5qbW9kYWxfYmFja2Ryb3Age1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICBtaW4td2lkdGg6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpO1xcbiAgYm9yZGVyOiAwcHg7XFxuICBwYWRkaW5nOiAwcHg7XFxuICB6LWluZGV4OiA4MDAwO1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcXG4gIC8qIGlPUyBTYWZhcmkgKi9cXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAvKiBTYWZhcmkgKi9cXG4gIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC8qIEtvbnF1ZXJvciBIVE1MICovXFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLyogRmlyZWZveCAqL1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLyogSW50ZXJuZXQgRXhwbG9yZXIvRWRnZSAqL1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAvKiBOb24tcHJlZml4ZWQgdmVyc2lvbiwgY3VycmVudGx5XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZCBieSBDaHJvbWUgYW5kIE9wZXJhICovXFxufVxcbi5qbm90aWZpY2F0aW9uIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHotaW5kZXg6IDEwMDAwO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHBhZGRpbmc6IDEwcHg7XFxufVxcbi5qbm90aWZpY2F0aW9uLWNvbnRhaW5lciB7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAycHggMTVweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC43KTtcXG4gIGJveC1zaGFkb3c6IDBweCAycHggMTVweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC43KTtcXG4gIHBhZGRpbmc6IDEycHg7XFxuICBib3JkZXItcmFkaXVzOiA4cHg7XFxufVxcbi5qbm90aWZpY2F0aW9uLWNsb3NlIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzIwJyBoZWlnaHQ9JzIwJyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9J2dyYXknJTNFJTNDcGF0aCBkPSdNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBmb250LXNpemU6IDIwcHg7XFxuICB3aWR0aDogMjBweDtcXG4gIGhlaWdodDogMjBweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmpub3RpZmljYXRpb24tdGl0bGUge1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcbi5qbm90aWZpY2F0aW9uLWhlYWRlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgcGFkZGluZy1ib3R0b206IDVweDtcXG59XFxuLmpub3RpZmljYXRpb24taGVhZGVyOmVtcHR5IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5qbm90aWZpY2F0aW9uLWltYWdlIHtcXG4gIG1hcmdpbi1yaWdodDogNXB4O1xcbn1cXG4uam5vdGlmaWNhdGlvbi1pbWFnZTplbXB0eSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uam5vdGlmaWNhdGlvbi1pbWFnZSBpbWcge1xcbiAgd2lkdGg6IDI0cHg7XFxufVxcbi5qbm90aWZpY2F0aW9uLW5hbWUge1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG4gIGZvbnQtc2l6ZTogMC45ZW07XFxuICBmbGV4OiAxO1xcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMWVtO1xcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogMzIwcHgpIGFuZCAobWF4LXdpZHRoOiA4MDBweCkge1xcbiAgLmpub3RpZmljYXRpb24ge1xcbiAgICB0b3A6IDBweDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICB9XFxuXFxuICAuam5vdGlmaWNhdGlvbi1jb250YWluZXIge1xcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOTUpO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlO1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogODAxcHgpIHtcXG4gIC5qbm90aWZpY2F0aW9uIHtcXG4gICAgYm90dG9tOiAwcHg7XFxuICB9XFxuXFxuICAuam5vdGlmaWNhdGlvbi1jb250YWluZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDkyLDkyLDkyLDEpO1xcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMGRlZywgcmdiYSg5Miw5Miw5MiwxKSAwJSwgcmdiYSg3Nyw3Nyw3NywxKSAxMDAlKTtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIHdpZHRoOiAzMjBweDtcXG4gICAgbWFyZ2luOiAzMHB4O1xcbiAgICBwYWRkaW5nOiAyMHB4O1xcbiAgfVxcbn1cXG4uam5vdGlmaWNhdGlvbi1oZWFkZXIge1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1wYWNrOiBzdGFydDtcXG4gIC13ZWJraXQtanVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcbiAgLW1zLWZsZXgtcGFjazogc3RhcnQ7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxuICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgLXdlYmtpdC1hbGlnbi1pdGVtczogY2VudGVyO1xcbiAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5qcmF0aW5nIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxufVxcbi5qcmF0aW5nID4gZGl2IHtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlMEElM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGQ9J00yMiA5LjI0bC03LjE5LS42MkwxMiAyIDkuMTkgOC42MyAyIDkuMjRsNS40NiA0LjczTDUuODIgMjEgMTIgMTcuMjcgMTguMTggMjFsLTEuNjMtNy4wM0wyMiA5LjI0ek0xMiAxNS40bC0zLjc2IDIuMjcgMS00LjI4LTMuMzItMi44OCA0LjM4LS4zOEwxMiA2LjFsMS43MSA0LjA0IDQuMzguMzgtMy4zMiAyLjg4IDEgNC4yOEwxMiAxNS40eicgZmlsbD0nZ3JheScvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxufVxcbi5qcmF0aW5nIC5qcmF0aW5nLW92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTBBJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9J2JsYWNrJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTIgMTcuMjdMMTguMTggMjFsLTEuNjQtNy4wM0wyMiA5LjI0bC03LjE5LS42MUwxMiAyIDkuMTkgOC42MyAyIDkuMjRsNS40NiA0LjczTDUuODIgMjF6Jy8lM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIG9wYWNpdHk6IDAuNztcXG59XFxuLmpyYXRpbmcgLmpyYXRpbmctc2VsZWN0ZWQge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTBBJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9J3JlZCclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTEyIDE3LjI3TDE4LjE4IDIxbC0xLjY0LTcuMDNMMjIgOS4yNGwtNy4xOS0uNjFMMTIgMiA5LjE5IDguNjMgMiA5LjI0bDUuNDYgNC43M0w1LjgyIDIxeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxufVxcbi8qKlxcclxcbiAqIChjKSBJbWFnZSBzbGlkZXJcXHJcXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGF1bGhvZGVsL2p0b29sc1xcclxcbiAqXFxyXFxuICogQGF1dGhvcjogUGF1bCBIb2RlbCA8cGF1bC5ob2RlbEBnbWFpbC5jb20+XFxyXFxuICogQGRlc2NyaXB0aW9uOiBJbWFnZSBTbGlkZXJcXHJcXG4gKi9cXG4uanNsaWRlciB7XFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuLmpzbGlkZXItY29udGFpbmVyIGltZyB7XFxuICB3aWR0aDogNjBweDtcXG4gIG1hcmdpbi1yaWdodDogNXB4O1xcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xcbn1cXG4uanNsaWRlci1hdHRhY2gge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4uanNsaWRlci1sZWZ0OjpiZWZvcmUge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgbGVmdDogMTBweDtcXG4gIGNvbnRlbnQ6ICdhcnJvd19iYWNrX2lvcyc7XFxuICBjb2xvcjogI2ZmZjtcXG4gIHdpZHRoOiAzMHB4O1xcbiAgaGVpZ2h0OiAzMHB4O1xcbiAgZm9udC1mYW1pbHk6ICdNYXRlcmlhbCBJY29ucyc7XFxuICBmb250LXNpemU6IDMwcHg7XFxuICB0ZXh0LXNoYWRvdzogMHB4IDBweCAwcHggIzAwMDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmpzbGlkZXItcmlnaHQ6OmFmdGVyIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHJpZ2h0OiA1cHg7XFxuICBjb250ZW50OiAnYXJyb3dfZm9yd2FyZF9pb3MnO1xcbiAgY29sb3I6ICNmZmY7XFxuICB3aWR0aDogMzBweDtcXG4gIGhlaWdodDogMzBweDtcXG4gIGZvbnQtZmFtaWx5OiAnTWF0ZXJpYWwgSWNvbnMnO1xcbiAgZm9udC1zaXplOiAzMHB4O1xcbiAgdGV4dC1zaGFkb3c6IDBweCAwcHggMHB4ICMwMDA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi5qc2xpZGVyLWNsb3NlIHtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9J3doaXRlJyUzRSUzQ3BhdGggZD0nTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMnonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAxNXB4O1xcbiAgcmlnaHQ6IDE1cHg7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgei1pbmRleDogMzAwMDtcXG59XFxuLmpzbGlkZXItcHJldmlldyB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBsZWZ0OiAwO1xcbiAgdG9wOiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgei1pbmRleDogMjAwMDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC45KTtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbjogLjRzO1xcbiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogLjRzO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAtd2Via2l0LWFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLmpzbGlkZXItcHJldmlldyBpbWcge1xcbiAgbWluLXdpZHRoOiA3MCU7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IGF1dG87XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgbWFyZ2luOiAwIGF1dG87XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmp0YWJzIHtcXG4gIG1heC13aWR0aDogY2FsYygxMDB2dyAtIDI0cHgpO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uanRhYnMgPiAuanRhYnMtaGVhZGVycyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgb3ZlcmZsb3cteDogYXV0bztcXG59XFxuLmp0YWJzID4gLmp0YWJzLWhlYWRlcnMgPiBkaXYge1xcbiAgcGFkZGluZzogNnB4O1xcbiAgcGFkZGluZy1sZWZ0OiAyMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMjBweDtcXG4gIG1hcmdpbi1sZWZ0OiAxcHg7XFxuICBtYXJnaW4tcmlnaHQ6IDFweDtcXG4gIG1hcmdpbi1ib3R0b206IDFweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5qdGFicyA+IC5qdGFicy1oZWFkZXJzID4gZGl2Lmp0YWJzLXNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlOGU4ZTg7XFxuICBjb2xvcjogIzAwMDtcXG59XFxuLmp0YWJzID4gLmp0YWJzLWNvbnRlbnQgPiBkaXYge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmp0YWJzID4gLmp0YWJzLWNvbnRlbnQgPiBkaXYuanRhYnMtc2VsZWN0ZWQge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qdGFicyA+IC5qdGFicy1ib3JkZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgaGVpZ2h0OiAycHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjODg4O1xcbiAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdDtcXG4gIHRyYW5zaXRpb246IGFsbCAuMnMgY3ViaWMtYmV6aWVyKDAuNCwwLDAuMiwxKTtcXG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IGNvbG9yLGxlZnQsdHJhbnNmb3JtO1xcbn1cXG4uanRhYnMgLmp0YWJzLWFkZCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIHdpZHRoPScyNCclM0UlM0NwYXRoIGQ9J00xOSAzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yem0tMiAxMGgtNHY0aC0ydi00SDd2LTJoNFY3aDJ2NGg0djJ6JyBmaWxsPSclMjNiYmJiYmInLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxuICBtYXJnaW46IDNweDtcXG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xcbn1cXG4uanRhZ3Mge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtd3JhcDogd3JhcDtcXG4gIC1tcy1mbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIC1tcy1mbGV4LXBhY2s6IGZsZXgtc3RhcnQ7XFxuICAtd2Via2l0LWp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcXG4gIHBhZGRpbmc6IDJweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxufVxcbi5qdGFncyA+IGRpdiB7XFxuICBwYWRkaW5nOiAzcHg7XFxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XFxuICBwYWRkaW5nLXJpZ2h0OiAyMnB4O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYm9yZGVyLXJhZGl1czogMXB4O1xcbiAgbWFyZ2luOiAycHg7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi5qdGFncyA+IGRpdjo6YWZ0ZXIge1xcbiAgY29udGVudDogJ3gnO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA0cHg7XFxuICByaWdodDogNHB4O1xcbiAgd2lkdGg6IDEycHg7XFxuICBoZWlnaHQ6IDEycHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBmb250LXNpemU6IDExcHg7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uanRhZ3NfbGFiZWwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZSAhaW1wb3J0YW50O1xcbn1cXG4uanRhZ3NfbGFiZWw6OmFmdGVyIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xcbn1cXG4uanRhZ3NfZXJyb3I6OmFmdGVyIHtcXG4gIGNvbG9yOiAjZmZmICAhaW1wb3J0YW50O1xcbn1cXG4uanRhZ3NfZXJyb3Ige1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q5MzAyNSAhaW1wb3J0YW50O1xcbiAgY29sb3I6ICNmZmY7XFxufVxcbi5qdGFnc19zZWFyY2gge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGJveC1zaGFkb3c6IDAgMXB4IDJweCAwIHJnYmEoNjAsNjQsNjcsMC4zMDIpLCAwIDJweCA2cHggMnB4IHJnYmEoNjAsNjQsNjcsMC4xNDkpO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICB3aWR0aDogMjgwcHg7XFxuICBwYWRkaW5nOiA4cHggMDtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4yKTtcXG4gIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMik7XFxuICAtd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgLjIxOHM7XFxuICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4yMThzO1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwwLDAsLjIpO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgbWFyZ2luOiAwO1xcbiAgbWluLXdpZHRoOiAzMDBweDtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICB3aWR0aDogYXV0bztcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG4uanRhZ3Nfc2VhcmNoID4gZGl2IHtcXG4gIGNvbG9yOiAjMzMzO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgcGFkZGluZzogNXB4IDEwcHg7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIC13ZWJraXQtYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5qdGFnc19zZWFyY2ggPiBkaXY6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZWFlZDtcXG59XFxuLmp0YWdzX3NlYXJjaCA+IGRpdiA+IGltZyB7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcXG4gIG1hcmdpbi1yaWdodDogMnB4O1xcbn1cXG4uanRhZ3Nfc2VhcmNoID4gZGl2ID4gZGl2IHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIG1hcmdpbi1sZWZ0OiAycHg7XFxuICBtYXgtd2lkdGg6IDMwMHB4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG4uanRhZ3Nfc2VhcmNoIC5zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlYWVkO1xcbn1cXG5cIjsgKHJlcXVpcmUoXCJicm93c2VyaWZ5LWNzc1wiKS5jcmVhdGVTdHlsZShjc3MsIHsgXCJocmVmXCI6IFwibm9kZV9tb2R1bGVzXFxcXGpzdWl0ZXNcXFxcZGlzdFxcXFxqc3VpdGVzLmNzc1wiIH0sIHsgXCJpbnNlcnRBdFwiOiBcImJvdHRvbVwiIH0pKTsgbW9kdWxlLmV4cG9ydHMgPSBjc3M7IiwiXHJcbi8qKlxyXG4gKiAoYykgalN1aXRlcyBKYXZhc2NyaXB0IFdlYiBDb21wb25lbnRzICh2Mi44KVxyXG4gKlxyXG4gKiBBdXRob3I6IFBhdWwgSG9kZWwgPHBhdWwuaG9kZWxAZ21haWwuY29tPlxyXG4gKiBXZWJzaXRlOiBodHRwczovL2Jvc3Nhbm92YS51ay9qc3VpdGVzL1xyXG4gKiBEZXNjcmlwdGlvbjogQ3JlYXRlIGFtYXppbmcgd2ViIGJhc2VkIGFwcGxpY2F0aW9ucy5cclxuICpcclxuICogTUlUIExpY2Vuc2VcclxuICpcclxuICovXHJcbjsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xyXG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxyXG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcclxuICAgIGdsb2JhbC5qU3VpdGVzID0gZmFjdG9yeSgpO1xyXG59KHRoaXMsIChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGpTdWl0ZXMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9XG5cbiAgICBvYmouaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBGaW5kIHJvb3QgZWxlbWVudFxuICAgICAgICB2YXIgYXBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmphcHAnKTtcblxuICAgICAgICAvLyBSb290IGVsZW1lbnRcbiAgICAgICAgaWYgKGFwcCkge1xuICAgICAgICAgICAgb2JqLmVsID0gYXBwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqLmVsID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvYWRpbmcgbW9kdWxlc1xuICAgICAgICB2YXIgbW9kdWxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWF1dG9sb2FkXScpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBtID0gbW9kdWxlc1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXV0b2xvYWQnKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Yod2luZG93W21dKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgd2luZG93W21dKG1vZHVsZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2JqLmd1aWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGd1aWQgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKSB7XG4gICAgICAgICAgICBndWlkICs9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoweEYpLnRvU3RyaW5nKDB4Rik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGd1aWQ7XG4gICAgfVxuXG4gICAgb2JqLmdldFdpbmRvd1dpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB3ID0gd2luZG93LFxuICAgICAgICBkID0gZG9jdW1lbnQsXG4gICAgICAgIGUgPSBkLmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgZyA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSxcbiAgICAgICAgeCA9IHcuaW5uZXJXaWR0aCB8fCBlLmNsaWVudFdpZHRoIHx8IGcuY2xpZW50V2lkdGg7XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cblxuICAgIG9iai5nZXRXaW5kb3dIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHcgPSB3aW5kb3csXG4gICAgICAgIGQgPSBkb2N1bWVudCxcbiAgICAgICAgZSA9IGQuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgICBnID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLFxuICAgICAgICB5ID0gdy5pbm5lckhlaWdodHx8IGUuY2xpZW50SGVpZ2h0fHwgZy5jbGllbnRIZWlnaHQ7XG4gICAgICAgIHJldHVybiAgeTtcbiAgICB9XG5cbiAgICBvYmouZ2V0UG9zaXRpb24gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmNoYW5nZWRUb3VjaGVzICYmIGUuY2hhbmdlZFRvdWNoZXNbMF0pIHtcbiAgICAgICAgICAgIHZhciB4ID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDtcbiAgICAgICAgICAgIHZhciB5ID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB4ID0gKHdpbmRvdy5FdmVudCkgPyBlLnBhZ2VYIDogZS5jbGllbnRYICsgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgOiBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpO1xuICAgICAgICAgICAgdmFyIHkgPSAod2luZG93LkV2ZW50KSA/IGUucGFnZVkgOiBlLmNsaWVudFkgKyAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWyB4LCB5IF07XG4gICAgfVxuXG4gICAgb2JqLmNsaWNrID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgaWYgKGVsLmNsaWNrKSB7XG4gICAgICAgICAgICBlbC5jbGljaygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGV2dCA9IG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHtcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmlldzogd2luZG93XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9iai5nZXRFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciBmb3VuZEVsZW1lbnQgPSBmYWxzZTtcblxuICAgICAgICBmdW5jdGlvbiBwYXRoIChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIHBhdGgoZWxlbWVudC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHBhdGgoZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kRWxlbWVudDtcbiAgICB9XG5cbiAgICBvYmouZ2V0TGlua0VsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciB0YXJnZXRFbGVtZW50ID0gZmFsc2U7XG5cbiAgICAgICAgZnVuY3Rpb24gcGF0aCAoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKChlbGVtZW50LnRhZ05hbWUgPT0gJ0EnIHx8IGVsZW1lbnQudGFnTmFtZSA9PSAnRElWJykgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaHJlZicpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXRoKGVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwYXRoKGVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybiB0YXJnZXRFbGVtZW50O1xuICAgIH1cblxuICAgIG9iai5nZXRGb3JtRWxlbWVudHMgPSBmdW5jdGlvbihmb3JtT2JqZWN0KSB7XG4gICAgICAgIHZhciByZXQgPSB7fTtcblxuICAgICAgICBpZiAoZm9ybU9iamVjdCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gZm9ybU9iamVjdC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWFcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWFcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBlbGVtZW50Lm5hbWU7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHJldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBvYmouZXhpc3RzID0gZnVuY3Rpb24odXJsLCBfX2NhbGxiYWNrKSB7XG4gICAgICAgIHZhciBodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIGh0dHAub3BlbignSEVBRCcsIHVybCwgZmFsc2UpO1xuICAgICAgICBodHRwLnNlbmQoKTtcbiAgICAgICAgaWYgKGh0dHAuc3RhdHVzKSB7XG4gICAgICAgICAgICBfX2NhbGxiYWNrKGh0dHAuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9iai5nZXRGaWxlcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCEgZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gZWxlbWVudCBkZWZpbmVkIGluIHRoZSBhcmd1bWVudHMgb2YgeW91ciBtZXRob2QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBhdHRhY2htZW50c1xuICAgICAgICB2YXIgZmlsZXMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qZmlsZScpO1xuXG4gICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBmaWxlID0ge307XG5cbiAgICAgICAgICAgICAgICB2YXIgc3JjID0gZmlsZXNbaV0uZ2V0QXR0cmlidXRlKCdzcmMnKTtcblxuICAgICAgICAgICAgICAgIGlmIChmaWxlc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2pyZW1vdmUnKSkge1xuICAgICAgICAgICAgICAgICAgICBmaWxlLnJlbW92ZSA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNyYy5zdWJzdHIoMCw0KSA9PSAnZGF0YScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuY29udGVudCA9IHNyYy5zdWJzdHIoc3JjLmluZGV4T2YoJywnKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5leHRlbnNpb24gPSBmaWxlc1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZXh0ZW5zaW9uJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlLmZpbGUgPSBzcmM7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlLmV4dGVuc2lvbiA9IGZpbGVzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1leHRlbnNpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIGZpbGUuZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5leHRlbnNpb24gPSAgc3JjLnN1YnN0cihzcmMubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpTdWl0ZXMuZmlsZXNbZmlsZS5maWxlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuY29udGVudCA9IGpTdWl0ZXMuZmlsZXNbZmlsZS5maWxlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE9wdGlvbmFsIGZpbGUgaW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUubmFtZSA9IGZpbGVzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZXNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWZpbGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5maWxlID0gZmlsZXNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWZpbGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlc1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2l6ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnNpemUgPSBmaWxlc1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2l6ZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1kYXRlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuZGF0ZSA9IGZpbGVzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1kYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZXNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWNvdmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuY292ZXIgPSBmaWxlc1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY292ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gU01BTEwgdGh1bWJzP1xuXG4gICAgICAgICAgICAgICAgZGF0YVtpXSA9IGZpbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2JqLmFqYXggPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIGlmICghIG9wdGlvbnMuZGF0YSkge1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy50eXBlKSB7XG4gICAgICAgICAgICBvcHRpb25zLm1ldGhvZCA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmRhdGEpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gW107XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMuZGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG9wdGlvbnMuZGF0YVtrZXlzW2ldXSkgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gb3B0aW9ucy5kYXRhW2tleXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihvW2pdKSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goa2V5c1tpXSArICdbJyArIGogKyAnXT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9bal0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IE9iamVjdC5rZXlzKG9bal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gMDsgeiA8IHByb3AubGVuZ3RoOyB6KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChrZXlzW2ldICsgJ1snICsgaiArICddWycgKyBwcm9wW3pdICsgJ109JyArIGVuY29kZVVSSUNvbXBvbmVudChvW2pdW3Byb3Bbel1dKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goa2V5c1tpXSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvcHRpb25zLmRhdGFba2V5c1tpXV0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWV0aG9kID09ICdHRVQnICYmIGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVybC5pbmRleE9mKCc/JykgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMudXJsICs9ICc/JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9ucy51cmwgKz0gZGF0YS5qb2luKCcmJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaHR0cFJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgaHR0cFJlcXVlc3Qub3BlbihvcHRpb25zLm1ldGhvZCwgb3B0aW9ucy51cmwsIHRydWUpO1xuICAgICAgICBodHRwUmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdYLVJlcXVlc3RlZC1XaXRoJywgJ1hNTEh0dHBSZXF1ZXN0Jyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWV0aG9kID09ICdQT1NUJykge1xuICAgICAgICAgICAgaHR0cFJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgICAgIGh0dHBSZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRhdGFUeXBlID09ICdqc29uJykge1xuICAgICAgICAgICAgICAgIGh0dHBSZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L2pzb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vIGNhY2hlXG4gICAgICAgIGlmIChvcHRpb25zLmNhY2hlICE9IHRydWUpIHtcbiAgICAgICAgICAgIGh0dHBSZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3ByYWdtYScsICduby1jYWNoZScpO1xuICAgICAgICAgICAgaHR0cFJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignY2FjaGUtY29udHJvbCcsICduby1jYWNoZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXV0aGVudGljYXRpb25cbiAgICAgICAgaWYgKG9wdGlvbnMud2l0aENyZWRlbnRpYWxzID09IHRydWUpIHtcbiAgICAgICAgICAgIGh0dHBSZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlZm9yZSBzZW5kXG4gICAgICAgIGlmICh0eXBlb2Yob3B0aW9ucy5iZWZvcmVTZW5kKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmJlZm9yZVNlbmQoaHR0cFJlcXVlc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaHR0cFJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaHR0cFJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kYXRhVHlwZSA9PSAnanNvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBKU09OLnBhcnNlKGh0dHBSZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MgJiYgdHlwZW9mKG9wdGlvbnMuc3VjY2VzcykgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc3VjY2VzcyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXJyb3IgJiYgdHlwZW9mKG9wdGlvbnMuZXJyb3IpID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmVycm9yKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaHR0cFJlcXVlc3QucmVzcG9uc2VUZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MgJiYgdHlwZW9mKG9wdGlvbnMuc3VjY2VzcykgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zdWNjZXNzKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmVycm9yICYmIHR5cGVvZihvcHRpb25zLmVycm9yKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IoaHR0cFJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdsb2JhbCBjb21wbGV0ZSBtZXRob2RcbiAgICAgICAgICAgIGlmIChvYmouYWpheC5yZXF1ZXN0cyAmJiBvYmouYWpheC5yZXF1ZXN0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgaW5kZXggb2YgdGhpcyByZXF1ZXN0IGluIHRoZSBjb250YWluZXJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBvYmouYWpheC5yZXF1ZXN0cy5pbmRleE9mKGh0dHBSZXF1ZXN0KVxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIHRoZSBhamF4IHJlcXVlc3RzIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIG9iai5hamF4LnJlcXVlc3RzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgLy8gTGFzdCBvbmU/XG4gICAgICAgICAgICAgICAgaWYgKCEgb2JqLmFqYXgucmVxdWVzdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNvbXBsZXRlICYmIHR5cGVvZihvcHRpb25zLmNvbXBsZXRlKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNvbXBsZXRlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgaHR0cFJlcXVlc3Quc2VuZChkYXRhLmpvaW4oJyYnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodHRwUmVxdWVzdC5zZW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICBvYmouYWpheC5yZXF1ZXN0cy5wdXNoKGh0dHBSZXF1ZXN0KTtcblxuICAgICAgICByZXR1cm4gaHR0cFJlcXVlc3Q7XG4gICAgfVxuXG4gICAgb2JqLmFqYXgucmVxdWVzdHMgPSBbXTtcblxuICAgIG9iai5zbGlkZUxlZnQgPSBmdW5jdGlvbihlbGVtZW50LCBkaXJlY3Rpb24sIGRvbmUpIHtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NsaWRlLWxlZnQtaW4nKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZS1sZWZ0LWluJyk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihkb25lKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA0MDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzbGlkZS1sZWZ0LW91dCcpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlLWxlZnQtb3V0Jyk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihkb25lKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA0MDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2JqLnNsaWRlUmlnaHQgPSBmdW5jdGlvbihlbGVtZW50LCBkaXJlY3Rpb24sIGRvbmUpIHtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NsaWRlLXJpZ2h0LWluJyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGUtcmlnaHQtaW4nKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGRvbmUpID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDQwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NsaWRlLXJpZ2h0LW91dCcpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlLXJpZ2h0LW91dCcpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoZG9uZSkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNDAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9iai5zbGlkZVRvcCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGRpcmVjdGlvbiwgZG9uZSkge1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09IHRydWUpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2xpZGUtdG9wLWluJyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGUtdG9wLWluJyk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihkb25lKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA0MDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzbGlkZS10b3Atb3V0Jyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGUtdG9wLW91dCcpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoZG9uZSkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNDAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9iai5zbGlkZUJvdHRvbSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGRpcmVjdGlvbiwgZG9uZSkge1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09IHRydWUpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2xpZGUtYm90dG9tLWluJyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGUtYm90dG9tLWluJyk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihkb25lKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA0MDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzbGlkZS1ib3R0b20tb3V0Jyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGUtYm90dG9tLW91dCcpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoZG9uZSkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9iai5mYWRlSW4gPSBmdW5jdGlvbihlbGVtZW50LCBkb25lKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmFkZS1pbicpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdmYWRlLWluJyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mKGRvbmUpID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDIwMDApO1xuICAgIH1cblxuICAgIG9iai5mYWRlT3V0ID0gZnVuY3Rpb24oZWxlbWVudCwgZG9uZSkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZhZGUtb3V0Jyk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGUtb3V0Jyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mKGRvbmUpID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMDApO1xuICAgIH1cblxuICAgIG9iai5rZXlEb3duQ29udHJvbHMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLndoaWNoID09IDI3KSB7XG4gICAgICAgICAgICB2YXIgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanNsaWRlcicpO1xuICAgICAgICAgICAgaWYgKG5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzW2ldLnNsaWRlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qZGlhbG9nJykpIHtcbiAgICAgICAgICAgICAgICBqU3VpdGVzLmRpYWxvZy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT0gMTMpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuamRpYWxvZycpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihqU3VpdGVzLmRpYWxvZy5vcHRpb25zLm9uY29uZmlybSkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBqU3VpdGVzLmRpYWxvZy5vcHRpb25zLm9uY29uZmlybSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBqU3VpdGVzLmRpYWxvZy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmVyaWZ5IG1hc2tcbiAgICAgICAgaWYgKGpTdWl0ZXMubWFzaykge1xuICAgICAgICAgICAgalN1aXRlcy5tYXNrLmFwcGx5KGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFjdGlvblVwQ29udHJvbCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBudWxsO1xuICAgICAgICBpZiAoZWxlbWVudCA9IGpTdWl0ZXMuZ2V0TGlua0VsZW1lbnQoZS50YXJnZXQpKSB7XG4gICAgICAgICAgICB2YXIgbGluayA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWhyZWYnKTtcbiAgICAgICAgICAgIGlmIChsaW5rID09ICcjYmFjaycpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmsgPT0gJyNwYW5lbCcpIHtcbiAgICAgICAgICAgICAgICBqU3VpdGVzLnBhbmVsKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGpTdWl0ZXMucGFnZXMobGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY29udHJvbFN3aXBlTGVmdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBqU3VpdGVzLmdldEVsZW1lbnQoZS50YXJnZXQsICdvcHRpb24nKTtcblxuICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcHRpb24tYWN0aW9ucycpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNjcm9sbFRvKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiAxMDAsXG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0galN1aXRlcy5nZXRFbGVtZW50KGUudGFyZ2V0LCAnamNhbGVuZGFyJyk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAmJiBqU3VpdGVzLmNhbGVuZGFyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBqU3VpdGVzLmNhbGVuZGFyLmN1cnJlbnQucHJldigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoalN1aXRlcy5wYW5lbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGpTdWl0ZXMucGFuZWwuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS5kaXNwbGF5ICE9ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpTdWl0ZXMucGFuZWwuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjb250cm9sU3dpcGVSaWdodCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBqU3VpdGVzLmdldEVsZW1lbnQoZS50YXJnZXQsICdvcHRpb24nKTtcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcub3B0aW9uLWFjdGlvbnMnKSkge1xuICAgICAgICAgICAgZWxlbWVudC5zY3JvbGxUbyh7XG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBqU3VpdGVzLmdldEVsZW1lbnQoZS50YXJnZXQsICdqY2FsZW5kYXInKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ICYmIGpTdWl0ZXMuY2FsZW5kYXIuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGpTdWl0ZXMuY2FsZW5kYXIuY3VycmVudC5uZXh0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChqU3VpdGVzLnBhbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0galN1aXRlcy5wYW5lbC5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalN1aXRlcy5wYW5lbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFjdGlvbk92ZXJDb250cm9sID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyBUb29sdGlwXG4gICAgICAgIGlmIChqU3VpdGVzLnRvb2x0aXApIHtcbiAgICAgICAgICAgIGpTdWl0ZXMudG9vbHRpcChlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhY3Rpb25PdXRDb250cm9sID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyBUb29sdGlwXG4gICAgICAgIGlmIChqU3VpdGVzLnRvb2x0aXApIHtcbiAgICAgICAgICAgIGpTdWl0ZXMudG9vbHRpcC5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcGFnZSBjb250YWluZXJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzd2lwZWxlZnQnLCBjb250cm9sU3dpcGVMZWZ0KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzd2lwZXJpZ2h0JywgY29udHJvbFN3aXBlUmlnaHQpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvYmoua2V5RG93bkNvbnRyb2xzKTtcblxuICAgIGlmICgnb250b3VjaGVuZCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID09PSB0cnVlKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgYWN0aW9uVXBDb250cm9sKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgYWN0aW9uVXBDb250cm9sKTtcbiAgICB9XG5cbiAgICAvLyBPbm1vdXNlb3ZlclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGFjdGlvbk92ZXJDb250cm9sKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGFjdGlvbk91dENvbnRyb2wpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgb2JqLmluaXQoKTtcbiAgICB9KTtcblxuICAgIC8vIFBvcCBzdGF0ZSBjb250cm9sXG4gICAgd2luZG93Lm9ucG9wc3RhdGUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLnN0YXRlICYmIGUuc3RhdGUucm91dGUpIHtcbiAgICAgICAgICAgIGlmIChqU3VpdGVzLnBhZ2VzLmdldChlLnN0YXRlLnJvdXRlKSkge1xuICAgICAgICAgICAgICAgIGpTdWl0ZXMucGFnZXMoZS5zdGF0ZS5yb3V0ZSwgeyBpZ25vcmVIaXN0b3J5OnRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufSgpO1xuXG5qU3VpdGVzLmZpbGVzID0gW107XHJcblxyXG5qU3VpdGVzLmNhbGVuZGFyID0gKGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIG9iai5vcHRpb25zID0ge307XG5cbiAgICAvLyBHbG9iYWwgY29udGFpbmVyXG4gICAgaWYgKCEgalN1aXRlcy5jYWxlbmRhci5jdXJyZW50KSB7XG4gICAgICAgIGpTdWl0ZXMuY2FsZW5kYXIuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCBjb25maWd1cmF0aW9uXG4gICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAvLyBEYXRhXG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIC8vIElubGluZSBvciBub3RcbiAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgLy8gUmVzdHJpY3Rpb25zXG4gICAgICAgIHZhbGlkUmFuZ2U6IG51bGwsXG4gICAgICAgIC8vIFN0YXJ0aW5nIHdlZWtkYXkgLSAwIGZvciBzdW5kYXksIDYgZm9yIHNhdHVyZGF5XG4gICAgICAgIHN0YXJ0aW5nRGF5OiBudWxsLCBcbiAgICAgICAgLy8gRGF0ZSBmb3JtYXRcbiAgICAgICAgZm9ybWF0OiAnREQvTU0vWVlZWScsXG4gICAgICAgIC8vIEFsbG93IGtleWJvYXJkIGRhdGUgZW50cnlcbiAgICAgICAgcmVhZG9ubHk6IHRydWUsXG4gICAgICAgIC8vIFRvZGF5IGlzIGRlZmF1bHRcbiAgICAgICAgdG9kYXk6IGZhbHNlLFxuICAgICAgICAvLyBTaG93IHRpbWVwaWNrZXJcbiAgICAgICAgdGltZTogZmFsc2UsXG4gICAgICAgIC8vIFNob3cgdGhlIHJlc2V0IGJ1dHRvblxuICAgICAgICByZXNldEJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgLy8gUGxhY2Vob2xkZXJcbiAgICAgICAgcGxhY2Vob2xkZXI6ICcnLFxuICAgICAgICAvLyBUcmFuc2xhdGlvbnMgY2FuIGJlIGRvbmUgaGVyZVxuICAgICAgICBtb250aHM6IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXSxcbiAgICAgICAgd2Vla2RheXM6IFsnU3VuZGF5JywnTW9uZGF5JywnVHVlc2RheScsJ1dlZG5lc2RheScsJ1RodXJzZGF5JywnRnJpZGF5JywnU2F0dXJkYXknXSxcbiAgICAgICAgd2Vla2RheXNfc2hvcnQ6IFsnUycsICdNJywgJ1QnLCAnVycsICdUJywgJ0YnLCAnUyddLFxuICAgICAgICAvLyBWYWx1ZVxuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgLy8gRXZlbnRzXG4gICAgICAgIG9uY2xvc2U6IG51bGwsXG4gICAgICAgIG9uY2hhbmdlOiBudWxsLFxuICAgICAgICAvLyBGdWxsc2NyZWVuICh0aGlzIGlzIGF1dG9tYXRpYyBzZXQgZm9yIHNjcmVlbnNpemUgPCA4MDApXG4gICAgICAgIGZ1bGxzY3JlZW46IGZhbHNlLFxuICAgICAgICAvLyBJbnRlcm5hbCBtb2RlIGNvbnRyb2xsZXJcbiAgICAgICAgbW9kZTogbnVsbCxcbiAgICAgICAgcG9zaXRpb246IG51bGwsXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgY2FsZW5kYXIgY2xvc2VkIGFzIGRlZmF1bHRcbiAgICAgICAgb3BlbmVkOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIG91ciBvYmplY3RcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkZWZhdWx0cykge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgb2JqLm9wdGlvbnNbcHJvcGVydHldID0gb3B0aW9uc1twcm9wZXJ0eV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmoub3B0aW9uc1twcm9wZXJ0eV0gPSBkZWZhdWx0c1twcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWYWx1ZVxuICAgIGlmICghIG9iai5vcHRpb25zLnZhbHVlKSB7XG4gICAgICAgIGlmIChlbC50YWdOYW1lID09ICdJTlBVVCcgJiYgZWwudmFsdWUpIHtcbiAgICAgICAgICAgIG9iai5vcHRpb25zLnZhbHVlID0gZWwudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNYWtlIHN1cmUgdXNlIHVwcGVyIGNhc2UgaW4gdGhlIGZvcm1hdFxuICAgIG9iai5vcHRpb25zLmZvcm1hdCA9IG9iai5vcHRpb25zLmZvcm1hdC50b1VwcGVyQ2FzZSgpO1xuXG4gICAgaWYgKG9iai5vcHRpb25zLnZhbHVlKSB7XG4gICAgICAgIHZhciBkYXRlID0gb2JqLm9wdGlvbnMudmFsdWUuc3BsaXQoJyAnKTtcbiAgICAgICAgdmFyIHRpbWUgPSBkYXRlWzFdO1xuICAgICAgICB2YXIgZGF0ZSA9IGRhdGVbMF0uc3BsaXQoJy0nKTtcbiAgICAgICAgdmFyIHkgPSBwYXJzZUludChkYXRlWzBdKTtcbiAgICAgICAgdmFyIG0gPSBwYXJzZUludChkYXRlWzFdKTtcbiAgICAgICAgdmFyIGQgPSBwYXJzZUludChkYXRlWzJdKTtcblxuICAgICAgICBpZiAodGltZSkge1xuICAgICAgICAgICAgdmFyIHRpbWUgPSB0aW1lLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICB2YXIgaCA9IHBhcnNlSW50KHRpbWVbMF0pO1xuICAgICAgICAgICAgdmFyIGkgPSBwYXJzZUludCh0aW1lWzFdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBoID0gMDtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIHkgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIHZhciBtID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgdmFyIGQgPSBkYXRlLmdldERhdGUoKTtcbiAgICAgICAgdmFyIGggPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgICAgIHZhciBpID0gZGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgfVxuXG4gICAgLy8gQ3VycmVudCB2YWx1ZVxuICAgIG9iai5kYXRlID0gWyB5LCBtLCBkLCBoLCBpLCAwIF07XG5cbiAgICAvLyBUd28gZGlnaXRzXG4gICAgdmFyIHR3byA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICB2YWx1ZSA9ICcwJyArIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBDYWxlbmRhciBlbGVtZW50c1xuICAgIHZhciBjYWxlbmRhclJlc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FsZW5kYXJSZXNldC5jbGFzc05hbWUgPSAnamNhbGVuZGFyLXJlc2V0JztcbiAgICBjYWxlbmRhclJlc2V0LmlubmVySFRNTCA9ICdSZXNldCc7XG5cbiAgICB2YXIgY2FsZW5kYXJDb25maXJtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FsZW5kYXJDb25maXJtLmNsYXNzTmFtZSA9ICdqY2FsZW5kYXItY29uZmlybSc7XG4gICAgY2FsZW5kYXJDb25maXJtLmlubmVySFRNTCA9ICdEb25lJztcblxuICAgIHZhciBjYWxlbmRhckNvbnRyb2xzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FsZW5kYXJDb250cm9scy5jbGFzc05hbWUgPSAnamNhbGVuZGFyLWNvbnRyb2xzJ1xuICAgIGlmIChvYmoub3B0aW9ucy5yZXNldEJ1dHRvbikge1xuICAgICAgICBjYWxlbmRhckNvbnRyb2xzLmFwcGVuZENoaWxkKGNhbGVuZGFyUmVzZXQpO1xuICAgIH1cbiAgICBjYWxlbmRhckNvbnRyb2xzLmFwcGVuZENoaWxkKGNhbGVuZGFyQ29uZmlybSk7XG5cbiAgICB2YXIgY2FsZW5kYXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYWxlbmRhckNvbnRhaW5lci5jbGFzc05hbWUgPSAnamNhbGVuZGFyLWNvbnRhaW5lcic7XG5cbiAgICB2YXIgY2FsZW5kYXJDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FsZW5kYXJDb250ZW50LmNsYXNzTmFtZSA9ICdqY2FsZW5kYXItY29udGVudCc7XG4gICAgY2FsZW5kYXJDb250ZW50LmFwcGVuZENoaWxkKGNhbGVuZGFyQ29udHJvbHMpO1xuICAgIGNhbGVuZGFyQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhbGVuZGFyQ29udGVudCk7XG5cbiAgICAvLyBUYWJsZSBjb250YWluZXJcbiAgICB2YXIgY2FsZW5kYXJUYWJsZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhbGVuZGFyVGFibGVDb250YWluZXIuY2xhc3NOYW1lID0gJ2pjYWxlbmRhci10YWJsZSc7XG4gICAgY2FsZW5kYXJDb250ZW50LmFwcGVuZENoaWxkKGNhbGVuZGFyVGFibGVDb250YWluZXIpO1xuXG4gICAgLy8gTWFpbiBlbGVtZW50XG4gICAgaWYgKGVsLnRhZ05hbWUgPT0gJ0lOUFVUJykge1xuICAgICAgICB2YXIgY2FsZW5kYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY2FsZW5kYXIgPSBlbDtcbiAgICB9XG4gICAgY2FsZW5kYXIuY2xhc3NOYW1lID0gJ2pjYWxlbmRhcic7XG4gICAgY2FsZW5kYXIuYXBwZW5kQ2hpbGQoY2FsZW5kYXJDb250YWluZXIpO1xuXG4gICAgLy8gUHJldmlvdXMgYnV0dG9uXG4gICAgdmFyIGNhbGVuZGFySGVhZGVyUHJldiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgY2FsZW5kYXJIZWFkZXJQcmV2LnNldEF0dHJpYnV0ZSgnY29sc3BhbicsICcyJyk7XG4gICAgY2FsZW5kYXJIZWFkZXJQcmV2LmNsYXNzTmFtZSA9ICdqY2FsZW5kYXItcHJldic7XG5cbiAgICAvLyBIZWFkZXIgd2l0aCB5ZWFyIGFuZCBtb250aFxuICAgIHZhciBjYWxlbmRhckxhYmVsWWVhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBjYWxlbmRhckxhYmVsWWVhci5jbGFzc05hbWUgPSAnamNhbGVuZGFyLXllYXInO1xuXG4gICAgdmFyIGNhbGVuZGFyTGFiZWxNb250aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBjYWxlbmRhckxhYmVsTW9udGguY2xhc3NOYW1lID0gJ2pjYWxlbmRhci1tb250aCc7XG5cbiAgICB2YXIgY2FsZW5kYXJIZWFkZXJUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgY2FsZW5kYXJIZWFkZXJUaXRsZS5jbGFzc05hbWUgPSAnamNhbGVuZGFyLWhlYWRlcic7XG4gICAgY2FsZW5kYXJIZWFkZXJUaXRsZS5zZXRBdHRyaWJ1dGUoJ2NvbHNwYW4nLCAnMycpO1xuICAgIGNhbGVuZGFySGVhZGVyVGl0bGUuYXBwZW5kQ2hpbGQoY2FsZW5kYXJMYWJlbE1vbnRoKTtcbiAgICBjYWxlbmRhckhlYWRlclRpdGxlLmFwcGVuZENoaWxkKGNhbGVuZGFyTGFiZWxZZWFyKTtcblxuICAgIHZhciBjYWxlbmRhckhlYWRlck5leHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIGNhbGVuZGFySGVhZGVyTmV4dC5zZXRBdHRyaWJ1dGUoJ2NvbHNwYW4nLCAnMicpO1xuICAgIGNhbGVuZGFySGVhZGVyTmV4dC5jbGFzc05hbWUgPSAnamNhbGVuZGFyLW5leHQnO1xuXG4gICAgdmFyIGNhbGVuZGFySGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICBjYWxlbmRhckhlYWRlclJvdy5hcHBlbmRDaGlsZChjYWxlbmRhckhlYWRlclByZXYpO1xuICAgIGNhbGVuZGFySGVhZGVyUm93LmFwcGVuZENoaWxkKGNhbGVuZGFySGVhZGVyVGl0bGUpO1xuICAgIGNhbGVuZGFySGVhZGVyUm93LmFwcGVuZENoaWxkKGNhbGVuZGFySGVhZGVyTmV4dCk7XG5cbiAgICB2YXIgY2FsZW5kYXJIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xuICAgIGNhbGVuZGFySGVhZGVyLmFwcGVuZENoaWxkKGNhbGVuZGFySGVhZGVyUm93KTtcblxuICAgIHZhciBjYWxlbmRhckJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuICAgIHZhciBjYWxlbmRhckZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rmb290Jyk7XG5cbiAgICAvLyBDYWxlbmRhciB0YWJsZVxuICAgIHZhciBjYWxlbmRhclRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgICBjYWxlbmRhclRhYmxlLnNldEF0dHJpYnV0ZSgnY2VsbHBhZGRpbmcnLCAnMCcpO1xuICAgIGNhbGVuZGFyVGFibGUuc2V0QXR0cmlidXRlKCdjZWxsc3BhY2luZycsICcwJyk7XG4gICAgY2FsZW5kYXJUYWJsZS5hcHBlbmRDaGlsZChjYWxlbmRhckhlYWRlcik7XG4gICAgY2FsZW5kYXJUYWJsZS5hcHBlbmRDaGlsZChjYWxlbmRhckJvZHkpO1xuICAgIGNhbGVuZGFyVGFibGUuYXBwZW5kQ2hpbGQoY2FsZW5kYXJGb290ZXIpO1xuICAgIGNhbGVuZGFyVGFibGVDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FsZW5kYXJUYWJsZSk7XG5cbiAgICB2YXIgY2FsZW5kYXJTZWxlY3RIb3VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgY2FsZW5kYXJTZWxlY3RIb3VyLmNsYXNzTmFtZSA9ICdqY2FsZW5kYXItc2VsZWN0JztcbiAgICBjYWxlbmRhclNlbGVjdEhvdXIub25jaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb2JqLmRhdGVbM10gPSB0aGlzLnZhbHVlOyBcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI0OyBpKyspIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgZWxlbWVudC52YWx1ZSA9IGk7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdHdvKGkpO1xuICAgICAgICBjYWxlbmRhclNlbGVjdEhvdXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgdmFyIGNhbGVuZGFyU2VsZWN0TWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgY2FsZW5kYXJTZWxlY3RNaW4uY2xhc3NOYW1lID0gJ2pjYWxlbmRhci1zZWxlY3QnO1xuICAgIGNhbGVuZGFyU2VsZWN0TWluLm9uY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG9iai5kYXRlWzRdID0gdGhpcy52YWx1ZTsgXG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2MDsgaSsrKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIGVsZW1lbnQudmFsdWUgPSBpO1xuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHR3byhpKTtcbiAgICAgICAgY2FsZW5kYXJTZWxlY3RNaW4uYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gRm9vdGVyIGNvbnRyb2xzXG4gICAgdmFyIGNhbGVuZGFyQ29udHJvbHNGb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYWxlbmRhckNvbnRyb2xzRm9vdGVyLmNsYXNzTmFtZSA9ICdqY2FsZW5kYXItY29udHJvbHMnO1xuXG4gICAgdmFyIGNhbGVuZGFyQ29udHJvbHNUaW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FsZW5kYXJDb250cm9sc1RpbWUuY2xhc3NOYW1lID0gJ2pjYWxlbmRhci10aW1lJztcbiAgICBjYWxlbmRhckNvbnRyb2xzVGltZS5zdHlsZS5tYXhXaWR0aCA9ICcxNDBweCc7XG4gICAgY2FsZW5kYXJDb250cm9sc1RpbWUuYXBwZW5kQ2hpbGQoY2FsZW5kYXJTZWxlY3RIb3VyKTtcbiAgICBjYWxlbmRhckNvbnRyb2xzVGltZS5hcHBlbmRDaGlsZChjYWxlbmRhclNlbGVjdE1pbik7XG5cbiAgICB2YXIgY2FsZW5kYXJDb250cm9sc1VwZGF0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgY2FsZW5kYXJDb250cm9sc1VwZGF0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgY2FsZW5kYXJDb250cm9sc1VwZGF0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnamNhbGVuZGFyLXVwZGF0ZSc7XG4gICAgY2FsZW5kYXJDb250cm9sc1VwZGF0ZUJ1dHRvbi52YWx1ZSA9ICdVcGRhdGUnO1xuXG4gICAgdmFyIGNhbGVuZGFyQ29udHJvbHNVcGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYWxlbmRhckNvbnRyb2xzVXBkYXRlLnN0eWxlLmZsZXhHcm93ID0gJzEwJztcbiAgICBjYWxlbmRhckNvbnRyb2xzVXBkYXRlLmFwcGVuZENoaWxkKGNhbGVuZGFyQ29udHJvbHNVcGRhdGVCdXR0b24pO1xuICAgIGNhbGVuZGFyQ29udHJvbHNGb290ZXIuYXBwZW5kQ2hpbGQoY2FsZW5kYXJDb250cm9sc1RpbWUpO1xuICAgIGNhbGVuZGFyQ29udHJvbHNGb290ZXIuYXBwZW5kQ2hpbGQoY2FsZW5kYXJDb250cm9sc1VwZGF0ZSk7XG4gICAgY2FsZW5kYXJDb250ZW50LmFwcGVuZENoaWxkKGNhbGVuZGFyQ29udHJvbHNGb290ZXIpO1xuXG4gICAgdmFyIGNhbGVuZGFyQmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYWxlbmRhckJhY2tkcm9wLmNsYXNzTmFtZSA9ICdqY2FsZW5kYXItYmFja2Ryb3AnO1xuICAgIGNhbGVuZGFyLmFwcGVuZENoaWxkKGNhbGVuZGFyQmFja2Ryb3ApO1xuXG4gICAgLy8gVXBkYXRlIGFjdGlvbnMgYnV0dG9uXG4gICAgdmFyIHVwZGF0ZUFjdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGN1cnJlbnREYXkgPSBjYWxlbmRhci5xdWVyeVNlbGVjdG9yKCcuamNhbGVuZGFyLXNlbGVjdGVkJyk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnREYXkgJiYgY3VycmVudERheS5jbGFzc0xpc3QuY29udGFpbnMoJ2pjYWxlbmRhci1kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICBjYWxlbmRhckNvbnRyb2xzVXBkYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIGNhbGVuZGFyU2VsZWN0SG91ci5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICBjYWxlbmRhclNlbGVjdE1pbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxlbmRhckNvbnRyb2xzVXBkYXRlQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIGNhbGVuZGFyU2VsZWN0SG91ci5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICBjYWxlbmRhclNlbGVjdE1pbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNZXRob2RzXG4gICAgb2JqLm9wZW4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCEgY2FsZW5kYXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdqY2FsZW5kYXItZm9jdXMnKSkge1xuICAgICAgICAgICAgaWYgKGpTdWl0ZXMuY2FsZW5kYXIuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGpTdWl0ZXMuY2FsZW5kYXIuY3VycmVudC5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ3VycmVudFxuICAgICAgICAgICAgalN1aXRlcy5jYWxlbmRhci5jdXJyZW50ID0gb2JqO1xuICAgICAgICAgICAgLy8gU2hvdyBjYWxlbmRhclxuICAgICAgICAgICAgY2FsZW5kYXIuY2xhc3NMaXN0LmFkZCgnamNhbGVuZGFyLWZvY3VzJyk7XG4gICAgICAgICAgICAvLyBHZXQgZGF5c1xuICAgICAgICAgICAgb2JqLmdldERheXMoKTtcbiAgICAgICAgICAgIC8vIEhvdXJcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy50aW1lKSB7XG4gICAgICAgICAgICAgICAgY2FsZW5kYXJTZWxlY3RIb3VyLnZhbHVlID0gb2JqLmRhdGVbM107XG4gICAgICAgICAgICAgICAgY2FsZW5kYXJTZWxlY3RNaW4udmFsdWUgPSBvYmouZGF0ZVs0XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgY29ybmVyIGhlbHBlclxuICAgICAgICAgICAgaWYgKGpTdWl0ZXMuZ2V0V2luZG93V2lkdGgoKSA8IDgwMCB8fCBvYmoub3B0aW9ucy5mdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgLy8gRnVsbFxuICAgICAgICAgICAgICAgIGNhbGVuZGFyLmNsYXNzTGlzdC5hZGQoJ2pjYWxlbmRhci1mdWxsc2l6ZScpO1xuICAgICAgICAgICAgICAgIC8vIEFuaW1hdGlvblxuICAgICAgICAgICAgICAgIGpTdWl0ZXMuc2xpZGVCb3R0b20oY2FsZW5kYXJDb250ZW50LCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3RDb250ZW50ID0gY2FsZW5kYXJDb250ZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGVuZGFyQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCA8IHJlY3QuYm90dG9tICsgcmVjdENvbnRlbnQuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxlbmRhckNvbnRhaW5lci5zdHlsZS50b3AgPSAocmVjdC50b3AgLSAocmVjdENvbnRlbnQuaGVpZ2h0ICsgMikpICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGVuZGFyQ29udGFpbmVyLnN0eWxlLnRvcCA9IChyZWN0LnRvcCArIHJlY3QuaGVpZ2h0ICsgMikgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhbGVuZGFyQ29udGFpbmVyLnN0eWxlLmxlZnQgPSByZWN0LmxlZnQgKyAncHgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgPCByZWN0LmJvdHRvbSArIHJlY3RDb250ZW50LmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsZW5kYXJDb250YWluZXIuc3R5bGUuYm90dG9tID0gKDEgKiByZWN0LmhlaWdodCArIHJlY3RDb250ZW50LmhlaWdodCArIDIpICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGVuZGFyQ29udGFpbmVyLnN0eWxlLnRvcCA9IDIgKyAncHgnOyBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9iai5jbG9zZSA9IGZ1bmN0aW9uIChpZ25vcmVFdmVudHMsIHVwZGF0ZSkge1xuICAgICAgICBpZiAoalN1aXRlcy5jYWxlbmRhci5jdXJyZW50KSB7XG4gICAgICAgICAgICAvLyBDdXJyZW50XG4gICAgICAgICAgICBqU3VpdGVzLmNhbGVuZGFyLmN1cnJlbnQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodXBkYXRlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gY2FsZW5kYXIucXVlcnlTZWxlY3RvcignLmpjYWxlbmRhci1zZWxlY3RlZCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZih1cGRhdGUpID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHVwZGF0ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2pjYWxlbmRhci1kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9iai5vcHRpb25zLnZhbHVlXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gb2JqLmdldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb2JqLnNldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRXZlbnRzXG4gICAgICAgICAgICBpZiAoISBpZ25vcmVFdmVudHMgJiYgdHlwZW9mKG9iai5vcHRpb25zLm9uY2xvc2UpID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5vbmNsb3NlKGVsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGlkZVxuICAgICAgICAgICAgY2FsZW5kYXIuY2xhc3NMaXN0LnJlbW92ZSgnamNhbGVuZGFyLWZvY3VzJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2JqLm9wdGlvbnMudmFsdWU7XG4gICAgfVxuXG4gICAgb2JqLnByZXYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHZpc3VhbGl6YXRpb24gaXMgdGhlIGRheXMgcGlja2VyIG9yIHllYXJzIHBpY2tlclxuICAgICAgICBpZiAob2JqLm9wdGlvbnMubW9kZSA9PSAneWVhcnMnKSB7XG4gICAgICAgICAgICBvYmouZGF0ZVswXSA9IG9iai5kYXRlWzBdIC0gMTI7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwaWNrZXIgdGFibGUgb2YgZGF5c1xuICAgICAgICAgICAgb2JqLmdldFllYXJzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBHbyB0byB0aGUgcHJldmlvdXMgbW9udGhcbiAgICAgICAgICAgIGlmIChvYmouZGF0ZVsxXSA8IDIpIHtcbiAgICAgICAgICAgICAgICBvYmouZGF0ZVswXSA9IG9iai5kYXRlWzBdIC0gMTtcbiAgICAgICAgICAgICAgICBvYmouZGF0ZVsxXSA9IDEyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmouZGF0ZVsxXSA9IG9iai5kYXRlWzFdIC0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIHBpY2tlciB0YWJsZSBvZiBkYXlzXG4gICAgICAgICAgICBvYmouZ2V0RGF5cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2JqLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHZpc3VhbGl6YXRpb24gaXMgdGhlIGRheXMgcGlja2VyIG9yIHllYXJzIHBpY2tlclxuICAgICAgICBpZiAob2JqLm9wdGlvbnMubW9kZSA9PSAneWVhcnMnKSB7XG4gICAgICAgICAgICBvYmouZGF0ZVswXSA9IHBhcnNlSW50KG9iai5kYXRlWzBdKSArIDEyO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgcGlja2VyIHRhYmxlIG9mIGRheXNcbiAgICAgICAgICAgIG9iai5nZXRZZWFycygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gR28gdG8gdGhlIHByZXZpb3VzIG1vbnRoXG4gICAgICAgICAgICBpZiAob2JqLmRhdGVbMV0gPiAxMSkge1xuICAgICAgICAgICAgICAgIG9iai5kYXRlWzBdID0gcGFyc2VJbnQob2JqLmRhdGVbMF0pICsgMTtcbiAgICAgICAgICAgICAgICBvYmouZGF0ZVsxXSA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9iai5kYXRlWzFdID0gcGFyc2VJbnQob2JqLmRhdGVbMV0pICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIHBpY2tlciB0YWJsZSBvZiBkYXlzXG4gICAgICAgICAgICBvYmouZ2V0RGF5cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2JqLnNldFZhbHVlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGlmICghIHZhbCkge1xuICAgICAgICAgICAgdmFsID0gJycgKyB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmFsdWVzXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IHZhbDtcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gb2JqLm9wdGlvbnMudmFsdWU7XG4gICAgICAgIC8vIFNldCBsYWJlbFxuICAgICAgICB2YXIgdmFsdWUgPSBvYmouc2V0TGFiZWwobmV3VmFsdWUsIG9iai5vcHRpb25zLmZvcm1hdCk7XG4gICAgICAgIHZhciBkYXRlID0gbmV3VmFsdWUuc3BsaXQoJyAnKTtcbiAgICAgICAgaWYgKCEgZGF0ZVsxXSkge1xuICAgICAgICAgICAgZGF0ZVsxXSA9ICcwMDowMDowMCc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpbWUgPSBkYXRlWzFdLnNwbGl0KCc6JylcbiAgICAgICAgdmFyIGRhdGUgPSBkYXRlWzBdLnNwbGl0KCctJyk7XG4gICAgICAgIHZhciB5ID0gcGFyc2VJbnQoZGF0ZVswXSk7XG4gICAgICAgIHZhciBtID0gcGFyc2VJbnQoZGF0ZVsxXSk7XG4gICAgICAgIHZhciBkID0gcGFyc2VJbnQoZGF0ZVsyXSk7XG4gICAgICAgIHZhciBoID0gcGFyc2VJbnQodGltZVswXSk7XG4gICAgICAgIHZhciBpID0gcGFyc2VJbnQodGltZVsxXSk7XG4gICAgICAgIG9iai5kYXRlID0gWyB5LCBtLCBkLCBoLCBpLCAwIF07XG4gICAgICAgIHZhciB2YWwgPSBvYmouc2V0TGFiZWwobmV3VmFsdWUsIG9iai5vcHRpb25zLmZvcm1hdCk7XG5cbiAgICAgICAgaWYgKG9sZFZhbHVlICE9IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAvLyBJbnB1dCB2YWx1ZVxuICAgICAgICAgICAgaWYgKGVsLnRhZ05hbWUgPT0gJ0lOUFVUJykge1xuICAgICAgICAgICAgICAgIGVsLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTmV3IHZhbHVlXG4gICAgICAgICAgICBvYmoub3B0aW9ucy52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgLy8gT24gY2hhbmdlXG4gICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9uY2hhbmdlKSA9PSAgJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm9uY2hhbmdlKGVsLCBuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JqLmdldERheXMoKTtcbiAgICB9XG5cbiAgICBvYmouZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKG9iai5kYXRlKSB7XG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMudGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0d28ob2JqLmRhdGVbMF0pICsgJy0nICsgdHdvKG9iai5kYXRlWzFdKSArICctJyArIHR3byhvYmouZGF0ZVsyXSkgKyAnICcgKyB0d28ob2JqLmRhdGVbM10pICsgJzonICsgdHdvKG9iai5kYXRlWzRdKSArICc6JyArIHR3bygwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR3byhvYmouZGF0ZVswXSkgKyAnLScgKyB0d28ob2JqLmRhdGVbMV0pICsgJy0nICsgdHdvKG9iai5kYXRlWzJdKSArICcgJyArIHR3bygwKSArICc6JyArIHR3bygwKSArICc6JyArIHR3bygwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIENhbGVuZGFyXG4gICAgICovXG4gICAgb2JqLnVwZGF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqY2FsZW5kYXItZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqLmRhdGVbMl0gPSBlbGVtZW50LmlubmVyVGV4dDtcblxuICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMudGltZSkge1xuICAgICAgICAgICAgICAgIG9iai5jbG9zZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmouZGF0ZVszXSA9IGNhbGVuZGFyU2VsZWN0SG91ci52YWx1ZTtcbiAgICAgICAgICAgICAgICBvYmouZGF0ZVs0XSA9IGNhbGVuZGFyU2VsZWN0TWluLnZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBjYWxlbmRhci5xdWVyeVNlbGVjdG9yKCcuamNhbGVuZGFyLXNlbGVjdGVkJyk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5jbGFzc0xpc3QucmVtb3ZlKCdqY2FsZW5kYXItc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnamNhbGVuZGFyLXNlbGVjdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGVcbiAgICAgICAgdXBkYXRlQWN0aW9ucygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0byBibGFua1xuICAgICAqL1xuICAgIG9iai5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBDbG9zZSBjYWxlbmRhclxuICAgICAgICBvYmouY2xvc2UoZmFsc2UsICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY2FsZW5kYXIgZGF5c1xuICAgICAqL1xuICAgIG9iai5nZXREYXlzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE1vZGVcbiAgICAgICAgb2JqLm9wdGlvbnMubW9kZSA9ICdkYXlzJztcblxuICAgICAgICAvLyBTZXR0aW5nIGN1cnJlbnQgdmFsdWVzIGluIGNhc2Ugb2YgTlVMTHNcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIC8vIEN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICAgIHZhciB5ZWFyID0gb2JqLmRhdGUgJiYgb2JqLmRhdGVbMF0gPyBvYmouZGF0ZVswXSA6IHBhcnNlSW50KGRhdGUuZ2V0RnVsbFllYXIoKSk7XG4gICAgICAgIHZhciBtb250aCA9IG9iai5kYXRlICYmIG9iai5kYXRlWzFdID8gb2JqLmRhdGVbMV0gOiBwYXJzZUludChkYXRlLmdldE1vbnRoKCkpICsgMTtcbiAgICAgICAgdmFyIGRheSA9IG9iai5kYXRlICYmIG9iai5kYXRlWzJdID8gb2JqLmRhdGVbMl0gOiBwYXJzZUludChkYXRlLmdldERheSgpKTtcbiAgICAgICAgdmFyIGhvdXIgPSBvYmouZGF0ZSAmJiBvYmouZGF0ZVszXSA/IG9iai5kYXRlWzNdIDogcGFyc2VJbnQoZGF0ZS5nZXRIb3VycygpKTtcbiAgICAgICAgdmFyIG1pbiA9IG9iai5kYXRlICYmIG9iai5kYXRlWzRdID8gb2JqLmRhdGVbNF0gOiBwYXJzZUludChkYXRlLmdldE1pbnV0ZXMoKSk7XG5cbiAgICAgICAgLy8gU2VsZWN0aW9uIGNvbnRhaW5lclxuICAgICAgICBvYmouZGF0ZSA9IFt5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW4sIDAgXTtcblxuICAgICAgICAvLyBVcGRhdGUgdGl0bGVcbiAgICAgICAgY2FsZW5kYXJMYWJlbFllYXIuaW5uZXJIVE1MID0geWVhcjtcbiAgICAgICAgY2FsZW5kYXJMYWJlbE1vbnRoLmlubmVySFRNTCA9IG9iai5vcHRpb25zLm1vbnRoc1ttb250aCAtIDFdO1xuXG4gICAgICAgIC8vIEN1cnJlbnQgbW9udGggYW5kIFllYXJcbiAgICAgICAgdmFyIGlzQ3VycmVudE1vbnRoQW5kWWVhciA9IChkYXRlLmdldE1vbnRoKCkgPT0gbW9udGggLSAxKSAmJiAoZGF0ZS5nZXRGdWxsWWVhcigpID09IHllYXIpID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB2YXIgY3VycmVudERheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuXG4gICAgICAgIC8vIE51bWJlciBvZiBkYXlzIGluIHRoZSBtb250aFxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAwLCAwLCAwKTtcbiAgICAgICAgdmFyIG51bWJlck9mRGF5cyA9IGRhdGUuZ2V0RGF0ZSgpO1xuXG4gICAgICAgIC8vIEZpcnN0IGRheVxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLTEsIDAsIDAsIDApO1xuICAgICAgICB2YXIgZmlyc3REYXkgPSBkYXRlLmdldERheSgpICsgMTtcblxuICAgICAgICAvLyBJbmRleCB2YWx1ZVxuICAgICAgICB2YXIgaW5kZXggPSBvYmoub3B0aW9ucy5zdGFydGluZ0RheSB8fCAwO1xuXG4gICAgICAgIC8vIEZpcnN0IG9mIGRheSByZWxhdGl2ZSB0byB0aGUgc3RhcnRpbmcgY2FsZW5kYXIgd2Vla2RheVxuICAgICAgICBmaXJzdERheSA9IGZpcnN0RGF5IC0gaW5kZXg7XG5cbiAgICAgICAgLy8gUmVzZXQgdGFibGVcbiAgICAgICAgY2FsZW5kYXJCb2R5LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgIC8vIFdlZWtkYXlzIFJvd1xuICAgICAgICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgnYWxpZ24nLCAnY2VudGVyJyk7XG4gICAgICAgIGNhbGVuZGFyQm9keS5hcHBlbmRDaGlsZChyb3cpO1xuXG4gICAgICAgIC8vIENyZWF0ZSB3ZWVrZGF5cyByb3dcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnamNhbGVuZGFyLXdlZWtkYXknKVxuICAgICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBvYmoub3B0aW9ucy53ZWVrZGF5c19zaG9ydFtpbmRleF07XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICAgICAgICAvLyBOZXh0IHdlZWsgZGF5XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgLy8gUmVzdGFydCBpbmRleFxuICAgICAgICAgICAgaWYgKGluZGV4ID4gNikge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluZGV4IG9mIGRheXNcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGQgPSAwO1xuIFxuICAgICAgICAvLyBDYWxlbmRhciB0YWJsZVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDU7IGorKykge1xuICAgICAgICAgICAgLy8gUmVzZXQgY2VsbHMgY29udGFpbmVyXG4gICAgICAgICAgICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ2FsaWduJywgJ2NlbnRlcicpO1xuICAgICAgICAgICAgLy8gRGF0YSBjb250cm9sXG4gICAgICAgICAgICB2YXIgZW1wdHlSb3cgPSB0cnVlO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGNlbGxzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBjZWxsXG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnamNhbGVuZGFyLXNldC1kYXknKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSBmaXJzdERheSAmJiBpbmRleCA8IChmaXJzdERheSArIG51bWJlck9mRGF5cykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGF5IGNlbGxcbiAgICAgICAgICAgICAgICAgICAgZCsrO1xuICAgICAgICAgICAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IGQ7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgPT0gZGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2pjYWxlbmRhci1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ3VycmVudCBzZWxlY3Rpb24gZGF5IGlzIHRvZGF5XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0N1cnJlbnRNb250aEFuZFllYXIgJiYgY3VycmVudERheSA9PSBkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDdXJyZW50IHNlbGVjdGlvbiBkYXlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBqU3VpdGVzLmNhbGVuZGFyLm5vdyhuZXcgRGF0ZSh5ZWFyLCBtb250aC0xLCBkKSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQXZhaWxhYmxlIHJhbmdlc1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMudmFsaWRSYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMudmFsaWRSYW5nZVswXSB8fCBjdXJyZW50ID49IG9iai5vcHRpb25zLnZhbGlkUmFuZ2VbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdDEgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdDEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMudmFsaWRSYW5nZVsxXSB8fCBjdXJyZW50IDw9IG9iai5vcHRpb25zLnZhbGlkUmFuZ2VbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdDIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdDIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgKHRlc3QxICYmIHRlc3QyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnamNhbGVuZGFyLWRpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDb250cm9sXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5Um93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERheSBjZWxsXG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgICAgICAgICAgIC8vIEluZGV4XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIGNlbGwgdG8gdGhlIGNhbGVuZGFyIGJvZHlcbiAgICAgICAgICAgIGlmIChlbXB0eVJvdyA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNhbGVuZGFyQm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvdyB0aW1lIGNvbnRyb2xzXG4gICAgICAgIGlmIChvYmoub3B0aW9ucy50aW1lKSB7XG4gICAgICAgICAgICBjYWxlbmRhckNvbnRyb2xzVGltZS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxlbmRhckNvbnRyb2xzVGltZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlXG4gICAgICAgIHVwZGF0ZUFjdGlvbnMoKTtcbiAgICB9XG5cbiAgICBvYmouZ2V0TW9udGhzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE1vZGVcbiAgICAgICAgb2JqLm9wdGlvbnMubW9kZSA9ICdtb250aHMnO1xuXG4gICAgICAgIC8vIExvYWRpbmcgbW9udGggbGFiZWxzXG4gICAgICAgIHZhciBtb250aHMgPSBvYmoub3B0aW9ucy5tb250aHM7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRpdGxlXG4gICAgICAgIGNhbGVuZGFyTGFiZWxZZWFyLmlubmVySFRNTCA9IG9iai5kYXRlWzBdO1xuICAgICAgICBjYWxlbmRhckxhYmVsTW9udGguaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgLy8gQ3JlYXRlIG1vbnRocyB0YWJsZVxuICAgICAgICB2YXIgaHRtbCA9ICc8dGQgY29sc3Bhbj1cIjdcIj48dGFibGUgd2lkdGg9XCIxMDAlXCI+PHRyIGFsaWduPVwiY2VudGVyXCI+JztcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgaWYgKChpID4gMCkgJiYgKCEoaSAlIDQpKSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzwvdHI+PHRyIGFsaWduPVwiY2VudGVyXCI+JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1vbnRoID0gcGFyc2VJbnQoaSkgKyAxO1xuICAgICAgICAgICAgaHRtbCArPSAnPHRkIGNsYXNzPVwiamNhbGVuZGFyLXNldC1tb250aFwiIGRhdGEtdmFsdWU9XCInICsgbW9udGggKyAnXCI+JyArIG1vbnRoc1tpXSArJzwvdGQ+JztcbiAgICAgICAgfVxuXG4gICAgICAgIGh0bWwgKz0gJzwvdHI+PC90YWJsZT48L3RkPic7XG5cbiAgICAgICAgY2FsZW5kYXJCb2R5LmlubmVySFRNTCA9IGh0bWw7XG4gICAgfVxuXG4gICAgb2JqLmdldFllYXJzID0gZnVuY3Rpb24oKSB7IFxuICAgICAgICAvLyBNb2RlXG4gICAgICAgIG9iai5vcHRpb25zLm1vZGUgPSAneWVhcnMnO1xuXG4gICAgICAgIC8vIEFycmF5IG9mIHllYXJzXG4gICAgICAgIHZhciB5ID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNTsgaSsrKSB7XG4gICAgICAgICAgICB5W2ldID0gcGFyc2VJbnQob2JqLmRhdGVbMF0pICsgKGkgLSAxMik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBc3NlbWJsaW5nIHRoZSB5ZWFyIHRhYmxlc1xuICAgICAgICB2YXIgaHRtbCA9ICc8dGQgY29sc3Bhbj1cIjdcIj48dGFibGUgd2lkdGg9XCIxMDAlXCI+PHRyIGFsaWduPVwiY2VudGVyXCI+JztcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjU7IGkrKykge1xuICAgICAgICAgICAgaWYgKChpID4gMCkgJiYgKCEoaSAlIDUpKSkge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzwvdHI+PHRyIGFsaWduPVwiY2VudGVyXCI+JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWwgKz0gJzx0ZCBjbGFzcz1cImpjYWxlbmRhci1zZXQteWVhclwiPicrIHlbaV0gKyc8L3RkPic7XG4gICAgICAgIH1cblxuICAgICAgICBodG1sICs9ICc8L3RyPjwvdGFibGU+PC90ZD4nO1xuXG4gICAgICAgIGNhbGVuZGFyQm9keS5pbm5lckhUTUwgPSBodG1sO1xuICAgIH1cblxuICAgIG9iai5zZXRMYWJlbCA9IGZ1bmN0aW9uKHZhbHVlLCBmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIGpTdWl0ZXMuY2FsZW5kYXIuZ2V0RGF0ZVN0cmluZyh2YWx1ZSwgZm9ybWF0KTtcbiAgICB9XG5cbiAgICBvYmouZnJvbUZvcm1hdHRlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBqU3VpdGVzLmNhbGVuZGFyLmV4dHJhY3REYXRlRnJvbVN0cmluZyh2YWx1ZSwgZm9ybWF0KTtcbiAgICB9XG5cbiAgICB2YXIgbW91c2VVcENvbnRyb2xzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgYWN0aW9uID0gZS50YXJnZXQuY2xhc3NOYW1lO1xuXG4gICAgICAgIC8vIE9iamVjdCBpZFxuICAgICAgICBpZiAoYWN0aW9uID09ICdqY2FsZW5kYXItcHJldicpIHtcbiAgICAgICAgICAgIG9iai5wcmV2KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PSAnamNhbGVuZGFyLW5leHQnKSB7XG4gICAgICAgICAgICBvYmoubmV4dCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT0gJ2pjYWxlbmRhci1tb250aCcpIHtcbiAgICAgICAgICAgIG9iai5nZXRNb250aHMoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09ICdqY2FsZW5kYXIteWVhcicpIHtcbiAgICAgICAgICAgIG9iai5nZXRZZWFycygpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT0gJ2pjYWxlbmRhci1zZXQteWVhcicpIHtcbiAgICAgICAgICAgIG9iai5kYXRlWzBdID0gZS50YXJnZXQuaW5uZXJUZXh0O1xuICAgICAgICAgICAgb2JqLmdldERheXMoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09ICdqY2FsZW5kYXItc2V0LW1vbnRoJykge1xuICAgICAgICAgICAgb2JqLmRhdGVbMV0gPSBwYXJzZUludChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKSk7XG4gICAgICAgICAgICBvYmouZ2V0RGF5cygpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT0gJ2pjYWxlbmRhci1jb25maXJtJyB8fCBhY3Rpb24gPT0gJ2pjYWxlbmRhci11cGRhdGUnKSB7XG4gICAgICAgICAgICBvYmouY2xvc2UoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09ICdqY2FsZW5kYXItY2xvc2UnKSB7XG4gICAgICAgICAgICBvYmouY2xvc2UoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09ICdqY2FsZW5kYXItYmFja2Ryb3AnKSB7XG4gICAgICAgICAgICBvYmouY2xvc2UoZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09ICdqY2FsZW5kYXItcmVzZXQnKSB7XG4gICAgICAgICAgICBvYmoucmVzZXQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqY2FsZW5kYXItc2V0LWRheScpKSB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuaW5uZXJUZXh0KSB7XG4gICAgICAgICAgICAgICAgb2JqLnVwZGF0ZShlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIga2V5VXBDb250cm9scyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlICYmIGUudGFyZ2V0LnZhbHVlLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgICAgIHZhciB0ZXN0ID0galN1aXRlcy5jYWxlbmRhci5leHRyYWN0RGF0ZUZyb21TdHJpbmcoZS50YXJnZXQudmFsdWUsIG9iai5vcHRpb25zLmZvcm1hdCk7XG4gICAgICAgICAgICBpZiAodGVzdCkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tcGxldGVkJykgPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5zZXRWYWx1ZSh0ZXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgZXZlbnRzXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGtleVVwQ29udHJvbHMpO1xuXG4gICAgLy8gQWRkIGdsb2JhbCBldmVudHNcbiAgICBjYWxlbmRhci5hZGRFdmVudExpc3RlbmVyKFwic3dpcGVsZWZ0XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgalN1aXRlcy5zbGlkZUxlZnQoY2FsZW5kYXJUYWJsZSwgMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBvYmoubmV4dCgpO1xuICAgICAgICAgICAgalN1aXRlcy5zbGlkZVJpZ2h0KGNhbGVuZGFyVGFibGUsIDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgY2FsZW5kYXIuYWRkRXZlbnRMaXN0ZW5lcihcInN3aXBlcmlnaHRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBqU3VpdGVzLnNsaWRlUmlnaHQoY2FsZW5kYXJUYWJsZSwgMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBvYmoucHJldigpO1xuICAgICAgICAgICAgalN1aXRlcy5zbGlkZUxlZnQoY2FsZW5kYXJUYWJsZSwgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICBpZiAoJ29udG91Y2hlbmQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA9PT0gdHJ1ZSkge1xuICAgICAgICBjYWxlbmRhci5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgbW91c2VVcENvbnRyb2xzKTtcblxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgb2JqLm9wZW4oKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2FsZW5kYXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgbW91c2VVcENvbnRyb2xzKTtcblxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBvYmoub3BlbigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBcHBlbmQgZWxlbWVudCB0byB0aGUgRE9NXG4gICAgaWYgKGVsLnRhZ05hbWUgPT0gJ0lOUFVUJykge1xuICAgICAgICBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjYWxlbmRhciwgZWwubmV4dFNpYmxpbmcpO1xuICAgICAgICAvLyBBZGQgcHJvcGVydGllc1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLW1hc2snLCBvYmoub3B0aW9ucy5mb3JtYXQudG9Mb3dlckNhc2UoKSk7XG5cbiAgICAgICAgaWYgKG9iai5vcHRpb25zLnJlYWRvbmx5KSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJ3JlYWRvbmx5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iai5vcHRpb25zLnBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgb2JqLm9wdGlvbnMucGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVsZW1lbnRcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnamNhbGVuZGFyLWlucHV0Jyk7XG4gICAgICAgIC8vIFZhbHVlXG4gICAgICAgIGVsLnZhbHVlID0gb2JqLnNldExhYmVsKG9iai5nZXRWYWx1ZSgpLCBvYmoub3B0aW9ucy5mb3JtYXQpO1xuICAgIH1cblxuICAgIC8vIEtlZXAgb2JqZWN0IGF2YWlsYWJsZSBmcm9tIHRoZSBub2RlXG4gICAgZWwuY2FsZW5kYXIgPSBvYmo7XG5cbiAgICBpZiAob2JqLm9wdGlvbnMub3BlbmVkID09IHRydWUpIHtcbiAgICAgICAgb2JqLm9wZW4oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufSk7XG5cbmpTdWl0ZXMuY2FsZW5kYXIucHJldHRpZnkgPSBmdW5jdGlvbihkLCB0ZXh0cykge1xuICAgIGlmICghIHRleHRzKSB7XG4gICAgICAgIHZhciB0ZXh0cyA9IHtcbiAgICAgICAgICAgIGp1c3ROb3c6ICdKdXN0IG5vdycsXG4gICAgICAgICAgICB4TWludXRlc0FnbzogJ3swfW0gYWdvJyxcbiAgICAgICAgICAgIHhIb3Vyc0FnbzogJ3swfWggYWdvJyxcbiAgICAgICAgICAgIHhEYXlzQWdvOiAnezB9ZCBhZ28nLFxuICAgICAgICAgICAgeFdlZWtzQWdvOiAnezB9dyBhZ28nLFxuICAgICAgICAgICAgeE1vbnRoc0FnbzogJ3swfSBtb24gYWdvJyxcbiAgICAgICAgICAgIHhZZWFyc0FnbzogJ3swfXkgYWdvJyxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkMSA9IG5ldyBEYXRlKCk7XG4gICAgdmFyIGQyID0gbmV3IERhdGUoZCk7XG4gICAgdmFyIHRvdGFsID0gcGFyc2VJbnQoKGQxIC0gZDIpIC8gMTAwMCAvIDYwKTtcblxuICAgIFN0cmluZy5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24obykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKCd7MH0nLCBvKTtcbiAgICB9XG5cbiAgICBpZiAodG90YWwgPT0gMCkge1xuICAgICAgICB2YXIgdGV4dCA9IHRleHRzLmp1c3ROb3c7XG4gICAgfSBlbHNlIGlmICh0b3RhbCA8IDkwKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gdGV4dHMueE1pbnV0ZXNBZ28uZm9ybWF0KHRvdGFsKTtcbiAgICB9IGVsc2UgaWYgKHRvdGFsIDwgMTQ0MCkgeyAvLyBPbmUgZGF5XG4gICAgICAgIHZhciB0ZXh0ID0gdGV4dHMueEhvdXJzQWdvLmZvcm1hdChNYXRoLnJvdW5kKHRvdGFsLzYwKSk7XG4gICAgfSBlbHNlIGlmICh0b3RhbCA8IDIwMTYwKSB7IC8vIDE0IGRheXNcbiAgICAgICAgdmFyIHRleHQgPSB0ZXh0cy54RGF5c0Fnby5mb3JtYXQoTWF0aC5yb3VuZCh0b3RhbCAvIDE0NDApKTtcbiAgICB9IGVsc2UgaWYgKHRvdGFsIDwgNDMyMDApIHsgLy8gMzAgZGF5c1xuICAgICAgICB2YXIgdGV4dCA9IHRleHRzLnhXZWVrc0Fnby5mb3JtYXQoTWF0aC5yb3VuZCh0b3RhbCAvIDEwMDgwKSk7XG4gICAgfSBlbHNlIGlmICh0b3RhbCA8IDEwMzY4MDApIHsgLy8gMjQgbW9udGhzXG4gICAgICAgIHZhciB0ZXh0ID0gdGV4dHMueE1vbnRoc0Fnby5mb3JtYXQoTWF0aC5yb3VuZCh0b3RhbCAvIDQzMjAwKSk7XG4gICAgfSBlbHNlIHsgLy8gMjQgbW9udGhzK1xuICAgICAgICB2YXIgdGV4dCA9IHRleHRzLnhZZWFyc0Fnby5mb3JtYXQoTWF0aC5yb3VuZCh0b3RhbCAvIDUyNTYwMCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0ZXh0O1xufVxuXG5qU3VpdGVzLmNhbGVuZGFyLnByZXR0aWZ5QWxsID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByZXR0eWRhdGUnKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlbGVtZW50c1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF0ZScpKSB7XG4gICAgICAgICAgICBlbGVtZW50c1tpXS5pbm5lckhUTUwgPSBqU3VpdGVzLmNhbGVuZGFyLnByZXR0aWZ5KGVsZW1lbnRzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1kYXRlJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudHNbaV0uc2V0QXR0cmlidXRlKCdkYXRhLWRhdGUnLCBlbGVtZW50c1tpXS5pbm5lckhUTUwpO1xuICAgICAgICAgICAgZWxlbWVudHNbaV0uaW5uZXJIVE1MID0galN1aXRlcy5jYWxlbmRhci5wcmV0dGlmeShlbGVtZW50c1tpXS5pbm5lckhUTUwpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5qU3VpdGVzLmNhbGVuZGFyLm5vdyA9IGZ1bmN0aW9uKGRhdGUsIGRhdGVPbmx5KSB7XG4gICAgaWYgKCEgZGF0ZSkge1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgfVxuICAgIHZhciB5ID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIHZhciBtID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICB2YXIgZCA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIHZhciBoID0gZGF0ZS5nZXRIb3VycygpO1xuICAgIHZhciBpID0gZGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgdmFyIHMgPSBkYXRlLmdldFNlY29uZHMoKTtcblxuICAgIC8vIFR3byBkaWdpdHNcbiAgICB2YXIgdHdvID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSAnJyArIHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIHZhbHVlID0gJzAnICsgdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGlmIChkYXRlT25seSA9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB0d28oeSkgKyAnLScgKyB0d28obSkgKyAnLScgKyB0d28oZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHR3byh5KSArICctJyArIHR3byhtKSArICctJyArIHR3byhkKSArICcgJyArIHR3byhoKSArICc6JyArIHR3byhpKSArICc6JyArIHR3byhzKTtcbiAgICB9XG59XG5cbi8vIEhlbHBlciB0byBleHRyYWN0IGRhdGUgZnJvbSBhIHN0cmluZ1xualN1aXRlcy5jYWxlbmRhci5leHRyYWN0RGF0ZUZyb21TdHJpbmcgPSBmdW5jdGlvbihkYXRlLCBmb3JtYXQpIHtcbiAgICB2YXIgdjEgPSAnJyArIGRhdGU7XG4gICAgdmFyIHYyID0gZm9ybWF0LnJlcGxhY2UoL1swLTldL2csJycpO1xuXG4gICAgdmFyIHRlc3QgPSAxO1xuXG4gICAgLy8gR2V0IHllYXJcbiAgICB2YXIgeSA9IHYyLnNlYXJjaChcIllZWVlcIik7XG4gICAgeSA9IHYxLnN1YnN0cih5LDQpO1xuICAgIGlmIChwYXJzZUludCh5KSAhPSB5KSB7XG4gICAgICAgIHRlc3QgPSAwO1xuICAgIH1cblxuICAgIC8vIEdldCBtb250aFxuICAgIHZhciBtID0gdjIuc2VhcmNoKFwiTU1cIik7XG4gICAgbSA9IHYxLnN1YnN0cihtLDIpO1xuICAgIGlmIChwYXJzZUludChtKSAhPSBtIHx8IGQgPiAxMikge1xuICAgICAgICB0ZXN0ID0gMDtcbiAgICB9XG5cbiAgICAvLyBHZXQgZGF5XG4gICAgdmFyIGQgPSB2Mi5zZWFyY2goXCJERFwiKTtcbiAgICBkID0gdjEuc3Vic3RyKGQsMik7XG4gICAgaWYgKHBhcnNlSW50KGQpICE9IGQgIHx8IGQgPiAzMSkge1xuICAgICAgICB0ZXN0ID0gMDtcbiAgICB9XG5cbiAgICAvLyBHZXQgaG91clxuICAgIHZhciBoID0gdjIuc2VhcmNoKFwiSEhcIik7XG4gICAgaWYgKGggPj0gMCkge1xuICAgICAgICBoID0gdjEuc3Vic3RyKGgsMik7XG4gICAgICAgIGlmICghIHBhcnNlSW50KGgpIHx8IGggPiAyMykge1xuICAgICAgICAgICAgaCA9ICcwMCc7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBoID0gJzAwJztcbiAgICB9XG4gICAgXG4gICAgLy8gR2V0IG1pbnV0ZXNcbiAgICB2YXIgaSA9IHYyLnNlYXJjaChcIk1JXCIpO1xuICAgIGlmIChpID49IDApIHtcbiAgICAgICAgaSA9IHYxLnN1YnN0cihpLDIpO1xuICAgICAgICBpZiAoISBwYXJzZUludChpKSB8fCBpID4gNTkpIHtcbiAgICAgICAgICAgIGkgPSAnMDAnO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaSA9ICcwMCc7XG4gICAgfVxuXG4gICAgLy8gR2V0IHNlY29uZHNcbiAgICB2YXIgcyA9IHYyLnNlYXJjaChcIlNTXCIpO1xuICAgIGlmIChzID49IDApIHtcbiAgICAgICAgcyA9IHYxLnN1YnN0cihzLDIpO1xuICAgICAgICBpZiAoISBwYXJzZUludChzKSB8fCBzID4gNTkpIHtcbiAgICAgICAgICAgIHMgPSAnMDAnO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcyA9ICcwMCc7XG4gICAgfVxuXG4gICAgaWYgKHRlc3QgPT0gMSAmJiBkYXRlLmxlbmd0aCA9PSB2Mi5sZW5ndGgpIHtcbiAgICAgICAgLy8gVXBkYXRlIHNvdXJjZVxuICAgICAgICB2YXIgZGF0YSA9IHkgKyAnLScgKyBtICsgJy0nICsgZCArICcgJyArIGggKyAnOicgKyAgaSArICc6JyArIHM7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufVxuXG4vLyBIZWxwZXIgdG8gY29udmVydCBkYXRlIGludG8gc3RyaW5nXG5qU3VpdGVzLmNhbGVuZGFyLmdldERhdGVTdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSwgZm9ybWF0KSB7XG4gICAgLy8gRGVmYXVsdCBjYWxlbmRhclxuICAgIGlmICghIGZvcm1hdCkge1xuICAgICAgICB2YXIgZm9ybWF0ID0gJ0REL01NL1lZWVknO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YXIgZCA9ICcnK3ZhbHVlO1xuICAgICAgICBkID0gZC5zcGxpdCgnICcpO1xuXG4gICAgICAgIHZhciBoID0gJyc7XG4gICAgICAgIHZhciBtID0gJyc7XG4gICAgICAgIHZhciBzID0gJyc7XG5cbiAgICAgICAgaWYgKGRbMV0pIHtcbiAgICAgICAgICAgIGggPSBkWzFdLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICBtID0gaFsxXSA/IGhbMV0gOiAnMDAnO1xuICAgICAgICAgICAgcyA9IGhbMl0gPyBoWzJdIDogJzAwJztcbiAgICAgICAgICAgIGggPSBoWzBdID8gaFswXSA6ICcwMCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoID0gJzAwJztcbiAgICAgICAgICAgIG0gPSAnMDAnO1xuICAgICAgICAgICAgcyA9ICcwMCc7XG4gICAgICAgIH1cblxuICAgICAgICBkID0gZFswXS5zcGxpdCgnLScpO1xuXG4gICAgICAgIGlmIChkWzBdICYmIGRbMV0gJiYgZFsyXSAmJiBkWzBdID4gMCAmJiBkWzFdID4gMCAmJiBkWzFdIDwgMTMgJiYgZFsyXSA+IDAgJiYgZFsyXSA8IDMyKSB7XG4gICAgICAgICAgICB2YXIgY2FsZW5kYXIgPSBuZXcgRGF0ZShkWzBdLCBkWzFdLTEsIGRbMl0pO1xuICAgICAgICAgICAgdmFyIHdlZWtkYXkgPSBuZXcgQXJyYXkoJ1N1bmRheScsJ01vbmRheScsJ1R1ZXNkYXknLCdXZWRuZXNkYXknLCdUaHVyc2RheScsJ0ZyaWRheScsJ1NhdHVyZGF5Jyk7XG4gICAgICAgICAgICB2YXIgbW9udGhzID0gbmV3IEFycmF5KCdKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYycpO1xuXG4gICAgICAgICAgICBkWzFdID0gKGRbMV0ubGVuZ3RoIDwgMiA/ICcwJyA6ICcnKSArIGRbMV07XG4gICAgICAgICAgICBkWzJdID0gKGRbMl0ubGVuZ3RoIDwgMiA/ICcwJyA6ICcnKSArIGRbMl07XG4gICAgICAgICAgICBoID0gKGgubGVuZ3RoIDwgMiA/ICcwJyA6ICcnKSArIGg7XG4gICAgICAgICAgICBtID0gKG0ubGVuZ3RoIDwgMiA/ICcwJyA6ICcnKSArIG07XG4gICAgICAgICAgICBzID0gKHMubGVuZ3RoIDwgMiA/ICcwJyA6ICcnKSArIHM7XG5cbiAgICAgICAgICAgIHZhbHVlID0gZm9ybWF0O1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCdXRCcsIHdlZWtkYXlbY2FsZW5kYXIuZ2V0RGF5KCldKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgnREQnLCBkWzJdKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgnTU0nLCBkWzFdKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgnWVlZWScsIGRbMF0pO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCdZWScsIGRbMF0uc3Vic3RyaW5nKDIsNCkpO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCdNT04nLCBtb250aHNbcGFyc2VJbnQoZFsxXSktMV0udG9VcHBlckNhc2UoKSk7XG5cbiAgICAgICAgICAgIGlmIChoKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCdISDI0JywgaCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoID4gMTIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoJ0hIMTInLCBoIC0gMTIpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgnSEgnLCBoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCdISDEyJywgaCk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCdISCcsIGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoJ01JJywgbSk7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoJ01NJywgbSk7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoJ1NTJywgcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5qU3VpdGVzLmNhbGVuZGFyLmlzT3BlbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoalN1aXRlcy5jYWxlbmRhci5jdXJyZW50KSB7XG4gICAgICAgIGlmICghIGUudGFyZ2V0LmNsYXNzTmFtZSB8fCBlLnRhcmdldC5jbGFzc05hbWUuaW5kZXhPZignamNhbGVuZGFyJykgPT0gLTEpIHtcbiAgICAgICAgICAgIGpTdWl0ZXMuY2FsZW5kYXIuY3VycmVudC5jbG9zZShmYWxzZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5pZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID09PSB0cnVlKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgalN1aXRlcy5jYWxlbmRhci5pc09wZW4pO1xufSBlbHNlIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGpTdWl0ZXMuY2FsZW5kYXIuaXNPcGVuKTtcbn1cclxuXHJcbmpTdWl0ZXMuY29sb3IgPSAoZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgb2JqLm9wdGlvbnMgPSB7fTtcbiAgICBvYmoudmFsdWVzID0gW107XG5cbiAgICAvLyBHbG9iYWwgY29udGFpbmVyXG4gICAgaWYgKCEgalN1aXRlcy5jb2xvci5jdXJyZW50KSB7XG4gICAgICAgIGpTdWl0ZXMuY29sb3IuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gZGVmYXVsdHNcbiAgICAgKiBAcHJvcGVydHkgeyhzdHJpbmd8QXJyYXkpfSB2YWx1ZSAtIEluaXRpYWwgdmFsdWUgb2YgdGhlIGNvbXBvbnRlbnRcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gcGxhY2Vob2xkZXIgLSBUaGUgZGVmYXVsdCBpbnN0cnVjdGlvbiB0ZXh0IG9uIHRoZSBlbGVtZW50XG4gICAgICogQHByb3BlcnR5IHtyZXF1ZXN0Q2FsbGJhY2t9IG9uY2hhbmdlIC0gTWV0aG9kIHRvIGJlIGV4ZWN1dGUgYWZ0ZXIgYW55IGNoYW5nZXMgb24gdGhlIGVsZW1lbnRcbiAgICAgKiBAcHJvcGVydHkge3JlcXVlc3RDYWxsYmFja30gb25jbG9zZSAtIE1ldGhvZCB0byBiZSBleGVjdXRlIHdoZW4gdGhlIGVsZW1lbnQgaXMgY2xvc2VkXG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICBwbGFjZWhvbGRlcjogJycsXG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICBvbmNsb3NlOiBudWxsLFxuICAgICAgICBvbmNoYW5nZTogbnVsbCxcbiAgICAgICAgY2xvc2VPbkNoYW5nZTogdHJ1ZSxcbiAgICB9O1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIG91ciBvYmplY3RcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkZWZhdWx0cykge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgb2JqLm9wdGlvbnNbcHJvcGVydHldID0gb3B0aW9uc1twcm9wZXJ0eV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmoub3B0aW9uc1twcm9wZXJ0eV0gPSBkZWZhdWx0c1twcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcGFsZXR0ZSA9IHtcbiAgICAgICAgICBcInJlZFwiOiB7XG4gICAgICAgICAgICBcIjUwXCI6IFwiI2ZmZWJlZVwiLFxuICAgICAgICAgICAgXCIxMDBcIjogXCIjZmZjZGQyXCIsXG4gICAgICAgICAgICBcIjIwMFwiOiBcIiNlZjlhOWFcIixcbiAgICAgICAgICAgIFwiMzAwXCI6IFwiI2U1NzM3M1wiLFxuICAgICAgICAgICAgXCI0MDBcIjogXCIjZWY1MzUwXCIsXG4gICAgICAgICAgICBcIjUwMFwiOiBcIiNmNDQzMzZcIixcbiAgICAgICAgICAgIFwiNjAwXCI6IFwiI2U1MzkzNVwiLFxuICAgICAgICAgICAgXCI3MDBcIjogXCIjZDMyZjJmXCIsXG4gICAgICAgICAgICBcIjgwMFwiOiBcIiNjNjI4MjhcIixcbiAgICAgICAgICAgIFwiOTAwXCI6IFwiI2I3MWMxY1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJwaW5rXCI6IHtcbiAgICAgICAgICAgIFwiNTBcIjogXCIjZmNlNGVjXCIsXG4gICAgICAgICAgICBcIjEwMFwiOiBcIiNmOGJiZDBcIixcbiAgICAgICAgICAgIFwiMjAwXCI6IFwiI2Y0OGZiMVwiLFxuICAgICAgICAgICAgXCIzMDBcIjogXCIjZjA2MjkyXCIsXG4gICAgICAgICAgICBcIjQwMFwiOiBcIiNlYzQwN2FcIixcbiAgICAgICAgICAgIFwiNTAwXCI6IFwiI2U5MWU2M1wiLFxuICAgICAgICAgICAgXCI2MDBcIjogXCIjZDgxYjYwXCIsXG4gICAgICAgICAgICBcIjcwMFwiOiBcIiNjMjE4NWJcIixcbiAgICAgICAgICAgIFwiODAwXCI6IFwiI2FkMTQ1N1wiLFxuICAgICAgICAgICAgXCI5MDBcIjogXCIjODgwZTRmXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInB1cnBsZVwiOiB7XG4gICAgICAgICAgICBcIjUwXCI6IFwiI2YzZTVmNVwiLFxuICAgICAgICAgICAgXCIxMDBcIjogXCIjZTFiZWU3XCIsXG4gICAgICAgICAgICBcIjIwMFwiOiBcIiNjZTkzZDhcIixcbiAgICAgICAgICAgIFwiMzAwXCI6IFwiI2JhNjhjOFwiLFxuICAgICAgICAgICAgXCI0MDBcIjogXCIjYWI0N2JjXCIsXG4gICAgICAgICAgICBcIjUwMFwiOiBcIiM5YzI3YjBcIixcbiAgICAgICAgICAgIFwiNjAwXCI6IFwiIzhlMjRhYVwiLFxuICAgICAgICAgICAgXCI3MDBcIjogXCIjN2IxZmEyXCIsXG4gICAgICAgICAgICBcIjgwMFwiOiBcIiM2YTFiOWFcIixcbiAgICAgICAgICAgIFwiOTAwXCI6IFwiIzRhMTQ4Y1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJpbmRpZ29cIjoge1xuICAgICAgICAgICAgXCI1MFwiOiBcIiNlOGVhZjZcIixcbiAgICAgICAgICAgIFwiMTAwXCI6IFwiI2M1Y2FlOVwiLFxuICAgICAgICAgICAgXCIyMDBcIjogXCIjOWZhOGRhXCIsXG4gICAgICAgICAgICBcIjMwMFwiOiBcIiM3OTg2Y2JcIixcbiAgICAgICAgICAgIFwiNDAwXCI6IFwiIzVjNmJjMFwiLFxuICAgICAgICAgICAgXCI1MDBcIjogXCIjM2Y1MWI1XCIsXG4gICAgICAgICAgICBcIjYwMFwiOiBcIiMzOTQ5YWJcIixcbiAgICAgICAgICAgIFwiNzAwXCI6IFwiIzMwM2Y5ZlwiLFxuICAgICAgICAgICAgXCI4MDBcIjogXCIjMjgzNTkzXCIsXG4gICAgICAgICAgICBcIjkwMFwiOiBcIiMxYTIzN2VcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiYmx1ZVwiOiB7XG4gICAgICAgICAgICBcIjUwXCI6IFwiI2UzZjJmZFwiLFxuICAgICAgICAgICAgXCIxMDBcIjogXCIjYmJkZWZiXCIsXG4gICAgICAgICAgICBcIjIwMFwiOiBcIiM5MGNhZjlcIixcbiAgICAgICAgICAgIFwiMzAwXCI6IFwiIzY0YjVmNlwiLFxuICAgICAgICAgICAgXCI0MDBcIjogXCIjNDJhNWY1XCIsXG4gICAgICAgICAgICBcIjUwMFwiOiBcIiMyMTk2ZjNcIixcbiAgICAgICAgICAgIFwiNjAwXCI6IFwiIzFlODhlNVwiLFxuICAgICAgICAgICAgXCI3MDBcIjogXCIjMTk3NmQyXCIsXG4gICAgICAgICAgICBcIjgwMFwiOiBcIiMxNTY1YzBcIixcbiAgICAgICAgICAgIFwiOTAwXCI6IFwiIzBkNDdhMVwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjeWFuXCI6IHtcbiAgICAgICAgICAgIFwiNTBcIjogXCIjZTBmN2ZhXCIsXG4gICAgICAgICAgICBcIjEwMFwiOiBcIiNiMmViZjJcIixcbiAgICAgICAgICAgIFwiMjAwXCI6IFwiIzgwZGVlYVwiLFxuICAgICAgICAgICAgXCIzMDBcIjogXCIjNGRkMGUxXCIsXG4gICAgICAgICAgICBcIjQwMFwiOiBcIiMyNmM2ZGFcIixcbiAgICAgICAgICAgIFwiNTAwXCI6IFwiIzAwYmNkNFwiLFxuICAgICAgICAgICAgXCI2MDBcIjogXCIjMDBhY2MxXCIsXG4gICAgICAgICAgICBcIjcwMFwiOiBcIiMwMDk3YTdcIixcbiAgICAgICAgICAgIFwiODAwXCI6IFwiIzAwODM4ZlwiLFxuICAgICAgICAgICAgXCI5MDBcIjogXCIjMDA2MDY0XCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInRlYWxcIjoge1xuICAgICAgICAgICAgXCI1MFwiOiBcIiNlMGYyZjFcIixcbiAgICAgICAgICAgIFwiMTAwXCI6IFwiI2IyZGZkYlwiLFxuICAgICAgICAgICAgXCIyMDBcIjogXCIjODBjYmM0XCIsXG4gICAgICAgICAgICBcIjMwMFwiOiBcIiM0ZGI2YWNcIixcbiAgICAgICAgICAgIFwiNDAwXCI6IFwiIzI2YTY5YVwiLFxuICAgICAgICAgICAgXCI1MDBcIjogXCIjMDA5Njg4XCIsXG4gICAgICAgICAgICBcIjYwMFwiOiBcIiMwMDg5N2JcIixcbiAgICAgICAgICAgIFwiNzAwXCI6IFwiIzAwNzk2YlwiLFxuICAgICAgICAgICAgXCI4MDBcIjogXCIjMDA2OTVjXCIsXG4gICAgICAgICAgICBcIjkwMFwiOiBcIiMwMDRkNDBcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ3JlZW5cIjoge1xuICAgICAgICAgICAgXCI1MFwiOiBcIiNlOGY1ZTlcIixcbiAgICAgICAgICAgIFwiMTAwXCI6IFwiI2M4ZTZjOVwiLFxuICAgICAgICAgICAgXCIyMDBcIjogXCIjYTVkNmE3XCIsXG4gICAgICAgICAgICBcIjMwMFwiOiBcIiM4MWM3ODRcIixcbiAgICAgICAgICAgIFwiNDAwXCI6IFwiIzY2YmI2YVwiLFxuICAgICAgICAgICAgXCI1MDBcIjogXCIjNGNhZjUwXCIsXG4gICAgICAgICAgICBcIjYwMFwiOiBcIiM0M2EwNDdcIixcbiAgICAgICAgICAgIFwiNzAwXCI6IFwiIzM4OGUzY1wiLFxuICAgICAgICAgICAgXCI4MDBcIjogXCIjMmU3ZDMyXCIsXG4gICAgICAgICAgICBcIjkwMFwiOiBcIiMxYjVlMjBcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwibGlnaHRncmVlblwiOiB7XG4gICAgICAgICAgICBcIjUwXCI6IFwiI2YxZjhlOVwiLFxuICAgICAgICAgICAgXCIxMDBcIjogXCIjZGNlZGM4XCIsXG4gICAgICAgICAgICBcIjIwMFwiOiBcIiNjNWUxYTVcIixcbiAgICAgICAgICAgIFwiMzAwXCI6IFwiI2FlZDU4MVwiLFxuICAgICAgICAgICAgXCI0MDBcIjogXCIjOWNjYzY1XCIsXG4gICAgICAgICAgICBcIjUwMFwiOiBcIiM4YmMzNGFcIixcbiAgICAgICAgICAgIFwiNjAwXCI6IFwiIzdjYjM0MlwiLFxuICAgICAgICAgICAgXCI3MDBcIjogXCIjNjg5ZjM4XCIsXG4gICAgICAgICAgICBcIjgwMFwiOiBcIiM1NThiMmZcIixcbiAgICAgICAgICAgIFwiOTAwXCI6IFwiIzMzNjkxZVwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJsaW1lXCI6IHtcbiAgICAgICAgICAgIFwiNTBcIjogXCIjZjlmYmU3XCIsXG4gICAgICAgICAgICBcIjEwMFwiOiBcIiNmMGY0YzNcIixcbiAgICAgICAgICAgIFwiMjAwXCI6IFwiI2U2ZWU5Y1wiLFxuICAgICAgICAgICAgXCIzMDBcIjogXCIjZGNlNzc1XCIsXG4gICAgICAgICAgICBcIjQwMFwiOiBcIiNkNGUxNTdcIixcbiAgICAgICAgICAgIFwiNTAwXCI6IFwiI2NkZGMzOVwiLFxuICAgICAgICAgICAgXCI2MDBcIjogXCIjYzBjYTMzXCIsXG4gICAgICAgICAgICBcIjcwMFwiOiBcIiNhZmI0MmJcIixcbiAgICAgICAgICAgIFwiODAwXCI6IFwiIzllOWQyNFwiLFxuICAgICAgICAgICAgXCI5MDBcIjogXCIjODI3NzE3XCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInllbGxvd1wiOiB7XG4gICAgICAgICAgICBcIjUwXCI6IFwiI2ZmZmRlN1wiLFxuICAgICAgICAgICAgXCIxMDBcIjogXCIjZmZmOWM0XCIsXG4gICAgICAgICAgICBcIjIwMFwiOiBcIiNmZmY1OWRcIixcbiAgICAgICAgICAgIFwiMzAwXCI6IFwiI2ZmZjE3NlwiLFxuICAgICAgICAgICAgXCI0MDBcIjogXCIjZmZlZTU4XCIsXG4gICAgICAgICAgICBcIjUwMFwiOiBcIiNmZmViM2JcIixcbiAgICAgICAgICAgIFwiNjAwXCI6IFwiI2ZkZDgzNVwiLFxuICAgICAgICAgICAgXCI3MDBcIjogXCIjZmJjMDJkXCIsXG4gICAgICAgICAgICBcIjgwMFwiOiBcIiNmOWE4MjVcIixcbiAgICAgICAgICAgIFwiOTAwXCI6IFwiI2Y1N2YxN1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJhbWJlclwiOiB7XG4gICAgICAgICAgICBcIjUwXCI6IFwiI2ZmZjhlMVwiLFxuICAgICAgICAgICAgXCIxMDBcIjogXCIjZmZlY2IzXCIsXG4gICAgICAgICAgICBcIjIwMFwiOiBcIiNmZmUwODJcIixcbiAgICAgICAgICAgIFwiMzAwXCI6IFwiI2ZmZDU0ZlwiLFxuICAgICAgICAgICAgXCI0MDBcIjogXCIjZmZjYTI4XCIsXG4gICAgICAgICAgICBcIjUwMFwiOiBcIiNmZmMxMDdcIixcbiAgICAgICAgICAgIFwiNjAwXCI6IFwiI2ZmYjMwMFwiLFxuICAgICAgICAgICAgXCI3MDBcIjogXCIjZmZhMDAwXCIsXG4gICAgICAgICAgICBcIjgwMFwiOiBcIiNmZjhmMDBcIixcbiAgICAgICAgICAgIFwiOTAwXCI6IFwiI2ZmNmYwMFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJvcmFuZ2VcIjoge1xuICAgICAgICAgICAgXCI1MFwiOiBcIiNmZmYzZTBcIixcbiAgICAgICAgICAgIFwiMTAwXCI6IFwiI2ZmZTBiMlwiLFxuICAgICAgICAgICAgXCIyMDBcIjogXCIjZmZjYzgwXCIsXG4gICAgICAgICAgICBcIjMwMFwiOiBcIiNmZmI3NGRcIixcbiAgICAgICAgICAgIFwiNDAwXCI6IFwiI2ZmYTcyNlwiLFxuICAgICAgICAgICAgXCI1MDBcIjogXCIjZmY5ODAwXCIsXG4gICAgICAgICAgICBcIjYwMFwiOiBcIiNmYjhjMDBcIixcbiAgICAgICAgICAgIFwiNzAwXCI6IFwiI2Y1N2MwMFwiLFxuICAgICAgICAgICAgXCI4MDBcIjogXCIjZWY2YzAwXCIsXG4gICAgICAgICAgICBcIjkwMFwiOiBcIiNlNjUxMDBcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVlcG9yYW5nZVwiOiB7XG4gICAgICAgICAgICBcIjUwXCI6IFwiI2ZiZTllN1wiLFxuICAgICAgICAgICAgXCIxMDBcIjogXCIjZmZjY2JjXCIsXG4gICAgICAgICAgICBcIjIwMFwiOiBcIiNmZmFiOTFcIixcbiAgICAgICAgICAgIFwiMzAwXCI6IFwiI2ZmOGE2NVwiLFxuICAgICAgICAgICAgXCI0MDBcIjogXCIjZmY3MDQzXCIsXG4gICAgICAgICAgICBcIjUwMFwiOiBcIiNmZjU3MjJcIixcbiAgICAgICAgICAgIFwiNjAwXCI6IFwiI2Y0NTExZVwiLFxuICAgICAgICAgICAgXCI3MDBcIjogXCIjZTY0YTE5XCIsXG4gICAgICAgICAgICBcIjgwMFwiOiBcIiNkODQzMTVcIixcbiAgICAgICAgICAgIFwiOTAwXCI6IFwiI2JmMzYwY1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJicm93blwiOiB7XG4gICAgICAgICAgICBcIjUwXCI6IFwiI2VmZWJlOVwiLFxuICAgICAgICAgICAgXCIxMDBcIjogXCIjZDdjY2M4XCIsXG4gICAgICAgICAgICBcIjIwMFwiOiBcIiNiY2FhYTRcIixcbiAgICAgICAgICAgIFwiMzAwXCI6IFwiI2ExODg3ZlwiLFxuICAgICAgICAgICAgXCI0MDBcIjogXCIjOGQ2ZTYzXCIsXG4gICAgICAgICAgICBcIjUwMFwiOiBcIiM3OTU1NDhcIixcbiAgICAgICAgICAgIFwiNjAwXCI6IFwiIzZkNGM0MVwiLFxuICAgICAgICAgICAgXCI3MDBcIjogXCIjNWQ0MDM3XCIsXG4gICAgICAgICAgICBcIjgwMFwiOiBcIiM0ZTM0MmVcIixcbiAgICAgICAgICAgIFwiOTAwXCI6IFwiIzNlMjcyM1wiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdyZXlcIjoge1xuICAgICAgICAgICAgXCI1MFwiOiBcIiNmYWZhZmFcIixcbiAgICAgICAgICAgIFwiMTAwXCI6IFwiI2Y1ZjVmNVwiLFxuICAgICAgICAgICAgXCIyMDBcIjogXCIjZWVlZWVlXCIsXG4gICAgICAgICAgICBcIjMwMFwiOiBcIiNlMGUwZTBcIixcbiAgICAgICAgICAgIFwiNDAwXCI6IFwiI2JkYmRiZFwiLFxuICAgICAgICAgICAgXCI1MDBcIjogXCIjOWU5ZTllXCIsXG4gICAgICAgICAgICBcIjYwMFwiOiBcIiM3NTc1NzVcIixcbiAgICAgICAgICAgIFwiNzAwXCI6IFwiIzYxNjE2MVwiLFxuICAgICAgICAgICAgXCI4MDBcIjogXCIjNDI0MjQyXCIsXG4gICAgICAgICAgICBcIjkwMFwiOiBcIiMyMTIxMjFcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJibHVlZ3JleVwiOiB7XG4gICAgICAgICAgICBcIjUwXCI6IFwiI2VjZWZmMVwiLFxuICAgICAgICAgICAgXCIxMDBcIjogXCIjY2ZkOGRjXCIsXG4gICAgICAgICAgICBcIjIwMFwiOiBcIiNiMGJlYzVcIixcbiAgICAgICAgICAgIFwiMzAwXCI6IFwiIzkwYTRhZVwiLFxuICAgICAgICAgICAgXCI0MDBcIjogXCIjNzg5MDljXCIsXG4gICAgICAgICAgICBcIjUwMFwiOiBcIiM2MDdkOGJcIixcbiAgICAgICAgICAgIFwiNjAwXCI6IFwiIzU0NmU3YVwiLFxuICAgICAgICAgICAgXCI3MDBcIjogXCIjNDU1YTY0XCIsXG4gICAgICAgICAgICBcIjgwMFwiOiBcIiMzNzQ3NGZcIixcbiAgICAgICAgICAgIFwiOTAwXCI6IFwiIzI2MzIzOFwiXG4gICAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgeCA9IDA7XG4gICAgdmFyIHkgPSAwO1xuICAgIHZhciBjb2xvcnMgPSBbXTtcblxuICAgIHZhciBjb2wgPSBPYmplY3Qua2V5cyhwYWxldHRlKTtcbiAgICB2YXIgc2hhZGUgPSBPYmplY3Qua2V5cyhwYWxldHRlW2NvbFswXV0pO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2wubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzaGFkZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKCEgY29sb3JzW2pdKSB7XG4gICAgICAgICAgICAgICAgY29sb3JzW2pdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2xvcnNbal1baV0gPSBwYWxldHRlW2NvbFtpXV1bc2hhZGVbal1dO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFZhbHVlXG4gICAgaWYgKG9iai5vcHRpb25zLnZhbHVlKSB7XG4gICAgICAgIGVsLnZhbHVlID0gb2JqLm9wdGlvbnMudmFsdWU7XG4gICAgfVxuXG4gICAgLy8gVGFibGUgY29udGFpbmVyXG4gICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnamNvbG9yJztcblxuICAgIC8vIFRhYmxlIGNvbnRhaW5lclxuICAgIHZhciBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJhY2tkcm9wLmNsYXNzTmFtZSA9ICdqY29sb3ItYmFja2Ryb3AnO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChiYWNrZHJvcCk7XG5cbiAgICAvLyBDb250ZW50XG4gICAgdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250ZW50LmNsYXNzTmFtZSA9ICdqY29sb3ItY29udGVudCc7XG5cbiAgICAvLyBDbG9zZSBidXR0b25cbiAgICB2YXIgY2xvc2VCdXR0b24gID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2xvc2VCdXR0b24uY2xhc3NOYW1lID0gJ2pjb2xvci1jbG9zZSc7XG4gICAgY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gJ0RvbmUnO1xuICAgIGNsb3NlQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb2JqLmNsb3NlKCk7XG4gICAgfVxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24pO1xuXG4gICAgLy8gVGFibGUgcGFsbGV0ZVxuICAgIHZhciB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gICAgdGFibGUuc2V0QXR0cmlidXRlKCdjZWxscGFkZGluZycsICc3Jyk7XG4gICAgdGFibGUuc2V0QXR0cmlidXRlKCdjZWxsc3BhY2luZycsICcwJyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbG9yc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yc1tpXVtqXTtcbiAgICAgICAgICAgIHRkLnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsIGNvbG9yc1tpXVtqXSk7XG4gICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcblxuICAgICAgICAgICAgLy8gU2VsZWN0ZWQgY29sb3JcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy52YWx1ZSA9PSBjb2xvcnNbaV1bal0pIHtcbiAgICAgICAgICAgICAgICB0ZC5jbGFzc0xpc3QuYWRkKCdqY29sb3Itc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUG9zc2libGUgdmFsdWVzXG4gICAgICAgICAgICBvYmoudmFsdWVzW2NvbG9yc1tpXVtqXV0gPSB0ZDtcbiAgICAgICAgfVxuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbiBjb2xvciBwYWxsZXRlXG4gICAgICovXG4gICAgb2JqLm9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGpTdWl0ZXMuY29sb3IuY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKGpTdWl0ZXMuY29sb3IuY3VycmVudCAhPSBvYmopIHtcbiAgICAgICAgICAgICAgICBqU3VpdGVzLmNvbG9yLmN1cnJlbnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghIGpTdWl0ZXMuY29sb3IuY3VycmVudCkge1xuICAgICAgICAgICAgLy8gUGVyc2lzdCBlbGVtZW50XG4gICAgICAgICAgICBqU3VpdGVzLmNvbG9yLmN1cnJlbnQgPSBvYmo7XG4gICAgICAgICAgICAvLyBTaG93IGNvbG9ycGlja2VyXG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnamNvbG9yLWZvY3VzJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlY3RDb250ZW50ID0gY29udGVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgaWYgKGpTdWl0ZXMuZ2V0V2luZG93V2lkdGgoKSA8IDgwMCkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuc3R5bGUudG9wID0gJyc7XG4gICAgICAgICAgICAgICAgY29udGVudC5jbGFzc0xpc3QuYWRkKCdqY29sb3ItZnVsbHNjcmVlbicpO1xuICAgICAgICAgICAgICAgIGpTdWl0ZXMuc2xpZGVCb3R0b20oY29udGVudCwgMSk7XG4gICAgICAgICAgICAgICAgYmFja2Ryb3Auc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50LmNsYXNzTGlzdC5jb250YWlucygnamNvbG9yLWZ1bGxzY3JlZW4nKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2pjb2xvci1mdWxsc2NyZWVuJyk7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmlubmVySGVpZ2h0IDwgcmVjdC5ib3R0b20gKyByZWN0Q29udGVudC5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5zdHlsZS50b3AgPSAtMSAqIChyZWN0Q29udGVudC5oZWlnaHQgKyByZWN0LmhlaWdodCArIDIpICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50LnN0eWxlLnRvcCA9ICcycHgnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGFpbmVyLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZSBjb2xvciBwYWxsZXRlXG4gICAgICovXG4gICAgb2JqLmNsb3NlID0gZnVuY3Rpb24oaWdub3JlRXZlbnRzKSB7XG4gICAgICAgIGlmIChqU3VpdGVzLmNvbG9yLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGpTdWl0ZXMuY29sb3IuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoISBpZ25vcmVFdmVudHMgJiYgdHlwZW9mKG9iai5vcHRpb25zLm9uY2xvc2UpID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5vbmNsb3NlKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdqY29sb3ItZm9jdXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBiYWNrZHJvcCBpcyBoaWRkZW5cbiAgICAgICAgYmFja2Ryb3Auc3R5bGUuZGlzcGxheSA9ICcnO1xuXG4gICAgICAgIHJldHVybiBvYmoub3B0aW9ucy52YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdmFsdWVcbiAgICAgKi9cbiAgICBvYmouc2V0VmFsdWUgPSBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICAgIGVsLnZhbHVlID0gY29sb3I7XG4gICAgICAgICAgICBvYmoub3B0aW9ucy52YWx1ZSA9IGNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlIGN1cnJlbnQgc2VsZWNkZWQgbWFya1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmpjb2xvci1zZWxlY3RlZCcpO1xuICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ2pjb2xvci1zZWxlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFyayBjZWxsIGFzIHNlbGVjdGVkXG4gICAgICAgIG9iai52YWx1ZXNbY29sb3JdLmNsYXNzTGlzdC5hZGQoJ2pjb2xvci1zZWxlY3RlZCcpO1xuXG4gICAgICAgIC8vIE9uY2hhbmdlXG4gICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25jaGFuZ2UpID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG9iai5vcHRpb25zLm9uY2hhbmdlKGVsLCBjb2xvcik7XG4gICAgICAgIH1cblxyXG4gICAgICAgIGlmIChvYmoub3B0aW9ucy5jbG9zZU9uQ2hhbmdlID09IHRydWUpIHtcclxuICAgICAgICAgICAgb2JqLmNsb3NlKCk7XHJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB2YWx1ZVxuICAgICAqL1xuICAgIG9iai5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gb2JqLm9wdGlvbnMudmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgZWxlbWVudCBpcyBmb2N1cyBvcGVuIHRoZSBwaWNrZXJcbiAgICAgKi9cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBvYmoub3BlbigpO1xuICAgIH0pO1xuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghIGpTdWl0ZXMuY29sb3IuY3VycmVudCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG9iai5vcGVuKCk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNlbGVjdCBjb2xvclxuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09ICdURCcpIHtcbiAgICAgICAgICAgIGpTdWl0ZXMuY29sb3IuY3VycmVudC5zZXRWYWx1ZShlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKSk7XG5cclxuICAgICAgICAgICAgaWYgKGpTdWl0ZXMuY29sb3IuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGpTdWl0ZXMuY29sb3IuY3VycmVudC5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDbG9zZSBjb250cm9sbGVyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChqU3VpdGVzLmNvbG9yLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0galN1aXRlcy5nZXRFbGVtZW50KGUudGFyZ2V0LCAnamNvbG9yJyk7XG4gICAgICAgICAgICBpZiAoISBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgalN1aXRlcy5jb2xvci5jdXJyZW50LmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFBvc3NpYmxlIHRvIGZvY3VzIHRoZSBjb250YWluZXJcbiAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICc5MDAnKTtcblxuICAgIC8vIFBsYWNlaG9sZGVyXG4gICAgaWYgKG9iai5vcHRpb25zLnBsYWNlaG9sZGVyKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBvYmoub3B0aW9ucy5wbGFjZWhvbGRlcik7XG4gICAgfVxuXG4gICAgLy8gQXBwZW5kIHRvIHRoZSB0YWJsZVxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGFibGUpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICAgIC8vIEluc2VydCBwaWNrZXIgYWZ0ZXIgdGhlIGVsZW1lbnRcbiAgICBpZiAoZWwudGFnTmFtZSA9PSAnSU5QVVQnKSB7XG4gICAgICAgIGVsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgZWwubmV4dFNpYmxpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgLy8gS2VlcCBvYmplY3QgYXZhaWxhYmxlIGZyb20gdGhlIG5vZGVcbiAgICBlbC5jb2xvciA9IG9iajtcblxuICAgIHJldHVybiBvYmo7XG59KTtcblxyXG5cclxualN1aXRlcy5jb250ZXh0bWVudSA9IChmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSB7fTtcbiAgICBvYmoub3B0aW9ucyA9IHt9O1xuXG4gICAgLy8gRGVmYXVsdCBjb25maWd1cmF0aW9uXG4gICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICBpdGVtczogbnVsbCxcbiAgICAgICAgb25jbGljazogbnVsbCxcbiAgICB9O1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIG91ciBvYmplY3RcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkZWZhdWx0cykge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgb2JqLm9wdGlvbnNbcHJvcGVydHldID0gb3B0aW9uc1twcm9wZXJ0eV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmoub3B0aW9uc1twcm9wZXJ0eV0gPSBkZWZhdWx0c1twcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDbGFzcyBkZWZpbml0aW9uXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnamNvbnRleHRtZW51Jyk7XG4gICAgLy8gRm9jdXNhYmxlXG4gICAgZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICc5MDAnKTtcblxuICAgIC8qKlxuICAgICAqIE9wZW4gY29udGV4dG1lbnVcbiAgICAgKi9cbiAgICBvYmoub3BlbiA9IGZ1bmN0aW9uKGUsIGl0ZW1zKSB7XG4gICAgICAgIGlmIChpdGVtcykge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGNvbnRlbnRcbiAgICAgICAgICAgIG9iai5vcHRpb25zLml0ZW1zID0gaXRlbXM7XG4gICAgICAgICAgICAvLyBDcmVhdGUgaXRlbXNcbiAgICAgICAgICAgIG9iai5jcmVhdGUoaXRlbXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvb3JkaW5hdGVzXG4gICAgICAgIGlmIChlLnRhcmdldCkge1xuICAgICAgICAgICAgdmFyIHggPSBlLmNsaWVudFg7XG4gICAgICAgICAgICB2YXIgeSA9IGUuY2xpZW50WTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB4ID0gZS54O1xuICAgICAgICAgICAgdmFyIHkgPSBlLnk7XG4gICAgICAgIH1cblxuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdqY29udGV4dG1lbnUtZm9jdXMnKTtcbiAgICAgICAgZWwuZm9jdXMoKTtcblxuICAgICAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCA8IHkgKyByZWN0LmhlaWdodCkge1xuICAgICAgICAgICAgZWwuc3R5bGUudG9wID0gKHkgLSByZWN0LmhlaWdodCkgKyAncHgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwuc3R5bGUudG9wID0geSArICdweCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCB4ICsgcmVjdC53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHggLSByZWN0LndpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgIGVsLnN0eWxlLmxlZnQgPSAoeCAtIHJlY3Qud2lkdGgpICsgJ3B4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWwuc3R5bGUubGVmdCA9ICcxMHB4JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLnN0eWxlLmxlZnQgPSB4ICsgJ3B4JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlIG1lbnVcbiAgICAgKi9cbiAgICBvYmouY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnamNvbnRleHRtZW51LWZvY3VzJykpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2pjb250ZXh0bWVudS1mb2N1cycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGl0ZW1zIGJhc2VkIG9uIHRoZSBkZWNsYXJlZCBvYmplY3RkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGl0ZW1zIC0gTGlzdCBvZiBvYmplY3RcbiAgICAgKi9cbiAgICBvYmouY3JlYXRlID0gZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgLy8gVXBkYXRlIGNvbnRlbnRcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgLy8gQXBwZW5kIGl0ZW1zXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpdGVtc1tpXS50eXBlICYmIGl0ZW1zW2ldLnR5cGUgPT0gJ2xpbmUnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdocicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIHZhciBpdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICBpdGVtVGV4dC5pbm5lckhUTUwgPSBpdGVtc1tpXS50aXRsZTtcblxuICAgICAgICAgICAgICAgIGlmIChpdGVtc1tpXS5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdqY29udGV4dG1lbnUtZGlzYWJsZWQnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbXNbaV0ub25jbGljaykge1xuICAgICAgICAgICAgICAgICAgICBpdGVtQ29udGFpbmVyLm1ldGhvZCA9IGl0ZW1zW2ldLm9uY2xpY2s7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRob2QodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpdGVtQ29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW1UZXh0KTtcblxuICAgICAgICAgICAgICAgIGlmIChpdGVtc1tpXS5zaG9ydGN1dCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbVNob3J0Q3V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgICAgICBpdGVtU2hvcnRDdXQuaW5uZXJIVE1MID0gaXRlbXNbaV0uc2hvcnRjdXQ7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Db250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbVNob3J0Q3V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGl0ZW1Db250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy5vbmNsaWNrKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgb2JqLm9wdGlvbnMub25jbGljayhvYmopO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgb2JqLmNsb3NlKCk7XG4gICAgICAgIH0sIDEyMCk7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIG9iai5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXRlIGl0ZW1zXG4gICAgaWYgKG9iai5vcHRpb25zLml0ZW1zKSB7XG4gICAgICAgIG9iai5jcmVhdGUob2JqLm9wdGlvbnMuaXRlbXMpO1xuICAgIH1cblxuICAgIGVsLmNvbnRleHRtZW51ID0gb2JqO1xuXG4gICAgcmV0dXJuIG9iajtcbn0pO1xuXG5qU3VpdGVzLmNvbnRleHRtZW51LmdldEVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGZvdW5kSWQgPSAwO1xuXG4gICAgZnVuY3Rpb24gcGF0aCAoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRleHRtZW51LWlkJykpIHtcbiAgICAgICAgICAgIGZvdW5kSWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1jb250ZXh0bWVudS1pZCcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcGF0aChlbGVtZW50LnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGF0aChlbGVtZW50KTtcblxuICAgIHJldHVybiBmb3VuZElkO1xufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgZnVuY3Rpb24oZSkge1xuICAgIHZhciBpZCA9IGpTdWl0ZXMuY29udGV4dG1lbnUuZ2V0RWxlbWVudChlLnRhcmdldCk7XG4gICAgaWYgKGlkKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBpZCk7XG4gICAgICAgIGlmICghIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0pTVUlURVM6IENvbnRleHRtZW51IGlkIG5vdCBmb3VuZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5jb250ZXh0bWVudS5vcGVuKGUpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxufSk7XHJcblxyXG4vKipcbiAqIERpYWxvZyB2MS4wLjFcbiAqIEF1dGhvcjogcGF1bC5ob2RlbEBnbWFpbC5jb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsaG9kZWwvanRvb2xzXG4gKi9cbiBcbmpTdWl0ZXMuZGlhbG9nID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciBvYmogPSB7fTtcbiAgICBvYmoub3B0aW9ucyA9IHt9O1xuXG4gICAgdmFyIGRpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpYWxvZy5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzkwMScpO1xuICAgIGRpYWxvZy5jbGFzc05hbWUgPSAnamRpYWxvZyc7XG4gICAgZGlhbG9nLmlkID0gJ2RpYWxvZyc7XG5cbiAgICB2YXIgZGlhbG9nSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGlhbG9nSGVhZGVyLmNsYXNzTmFtZSA9ICdqZGlhbG9nLWhlYWRlcic7XG5cbiAgICB2YXIgZGlhbG9nVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaWFsb2dUaXRsZS5jbGFzc05hbWUgPSAnamRpYWxvZy10aXRsZSc7XG4gICAgZGlhbG9nSGVhZGVyLmFwcGVuZENoaWxkKGRpYWxvZ1RpdGxlKTtcblxuICAgIHZhciBkaWFsb2dNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGlhbG9nTWVzc2FnZS5jbGFzc05hbWUgPSAnamRpYWxvZy1tZXNzYWdlJztcbiAgICBkaWFsb2dIZWFkZXIuYXBwZW5kQ2hpbGQoZGlhbG9nTWVzc2FnZSk7XG5cbiAgICB2YXIgZGlhbG9nRm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGlhbG9nRm9vdGVyLmNsYXNzTmFtZSA9ICdqZGlhbG9nLWZvb3Rlcic7XG5cbiAgICB2YXIgZGlhbG9nQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGlhbG9nQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdqZGlhbG9nLWNvbnRhaW5lcic7XG4gICAgZGlhbG9nQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpYWxvZ0hlYWRlcik7XG4gICAgZGlhbG9nQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpYWxvZ0Zvb3Rlcik7XG5cbiAgICAvLyBDb25maXJtXG4gICAgdmFyIGRpYWxvZ0NvbmZpcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgZGlhbG9nQ29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgZGlhbG9nQ29uZmlybUJ1dHRvbi52YWx1ZSA9IG9iai5vcHRpb25zLmNvbmZpcm1MYWJlbDtcbiAgICBkaWFsb2dDb25maXJtQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICBkaWFsb2dDb25maXJtQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy5vbmNvbmZpcm0pID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG9iai5vcHRpb25zLm9uY29uZmlybSgpO1xuICAgICAgICB9XG4gICAgICAgIG9iai5jbG9zZSgpO1xuICAgIH07XG4gICAgZGlhbG9nQ29uZmlybS5hcHBlbmRDaGlsZChkaWFsb2dDb25maXJtQnV0dG9uKTtcbiAgICBkaWFsb2dGb290ZXIuYXBwZW5kQ2hpbGQoZGlhbG9nQ29uZmlybSk7XG5cbiAgICAvLyBDYW5jZWxcbiAgICB2YXIgZGlhbG9nQ2FuY2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRpYWxvZ0NhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgZGlhbG9nQ2FuY2VsQnV0dG9uLnZhbHVlID0gb2JqLm9wdGlvbnMuY2FuY2VsTGFiZWw7XG4gICAgZGlhbG9nQ2FuY2VsQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICBkaWFsb2dDYW5jZWxCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9uY2FuY2VsKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvYmoub3B0aW9ucy5vbmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIG9iai5jbG9zZSgpO1xuICAgIH1cbiAgICBkaWFsb2dDYW5jZWwuYXBwZW5kQ2hpbGQoZGlhbG9nQ2FuY2VsQnV0dG9uKTtcbiAgICBkaWFsb2dGb290ZXIuYXBwZW5kQ2hpbGQoZGlhbG9nQ2FuY2VsKTtcblxuICAgIC8vIERpYWxvZ1xuICAgIGRpYWxvZy5hcHBlbmRDaGlsZChkaWFsb2dDb250YWluZXIpO1xuXG4gICAgb2JqLm9wZW4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIG9iai5vcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICBpZiAob2JqLm9wdGlvbnMudGl0bGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ1RpdGxlLmlubmVySFRNTCA9IG9iai5vcHRpb25zLnRpdGxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9iai5vcHRpb25zLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGRpYWxvZ01lc3NhZ2UuaW5uZXJIVE1MID0gb2JqLm9wdGlvbnMubWVzc2FnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghIG9iai5vcHRpb25zLmNvbmZpcm1MYWJlbCkge1xuICAgICAgICAgICAgb2JqLm9wdGlvbnMuY29uZmlybUxhYmVsID0gJ09LJztcbiAgICAgICAgfVxuICAgICAgICBkaWFsb2dDb25maXJtQnV0dG9uLnZhbHVlID0gb2JqLm9wdGlvbnMuY29uZmlybUxhYmVsO1xuXG4gICAgICAgIGlmICghIG9iai5vcHRpb25zLmNhbmNlbExhYmVsKSB7XG4gICAgICAgICAgICBvYmoub3B0aW9ucy5jYW5jZWxMYWJlbCA9ICdDYW5jZWwnO1xuICAgICAgICB9XG4gICAgICAgIGRpYWxvZ0NhbmNlbEJ1dHRvbi52YWx1ZSA9IG9iai5vcHRpb25zLmNhbmNlbExhYmVsO1xuXG4gICAgICAgIGlmIChvYmoub3B0aW9ucy50eXBlID09ICdjb25maXJtJykge1xuICAgICAgICAgICAgZGlhbG9nQ2FuY2VsQnV0dG9uLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlhbG9nQ2FuY2VsQnV0dG9uLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGVuZCBlbGVtZW50IHRvIHRoZSBhcHBcbiAgICAgICAgZGlhbG9nLnN0eWxlLm9wYWNpdHkgPSAxMDA7XG5cbiAgICAgICAgLy8gQXBwZW5kIHRvIHRoZSBwYWdlXG4gICAgICAgIGlmIChqU3VpdGVzLmVsKSB7XG4gICAgICAgICAgICBqU3VpdGVzLmVsLmFwcGVuZENoaWxkKGRpYWxvZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpYWxvZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb2N1c1xuICAgICAgICBkaWFsb2cuZm9jdXMoKTtcblxuICAgICAgICAvLyBTaG93XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkaWFsb2dDb250YWluZXIuc3R5bGUub3BhY2l0eSA9IDEwMDtcbiAgICAgICAgfSwgMCk7XG4gICAgfTtcblxuICAgIG9iai5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkaWFsb2cuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIGRpYWxvZ0NvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRpYWxvZy5yZW1vdmUoKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIG9iajtcbn0pKCk7XG5cbmpTdWl0ZXMuY29uZmlybSA9IChmdW5jdGlvbihtZXNzYWdlLCBvbmNvbmZpcm0pIHtcbiAgICBpZiAoalN1aXRlcy5nZXRXaW5kb3dXaWR0aCgpIDwgODAwKSB7XG4gICAgICAgIGpTdWl0ZXMuZGlhbG9nLm9wZW4oe1xuICAgICAgICAgICAgdHlwZTogJ2NvbmZpcm0nLFxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgIHRpdGxlOiAnQ29uZmlybWF0aW9uJyxcbiAgICAgICAgICAgIG9uY29uZmlybTogb25jb25maXJtLFxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY29uZmlybShtZXNzYWdlKSkge1xuICAgICAgICAgICAgb25jb25maXJtKCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxualN1aXRlcy5hbGVydCA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICBpZiAoalN1aXRlcy5nZXRXaW5kb3dXaWR0aCgpIDwgODAwKSB7XG4gICAgICAgIGpTdWl0ZXMuZGlhbG9nLm9wZW4oe1xuICAgICAgICAgICAgdGl0bGU6J0FsZXJ0JyxcbiAgICAgICAgICAgIG1lc3NhZ2U6bWVzc2FnZSxcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQobWVzc2FnZSk7XG4gICAgfVxufVxuXHJcblxyXG5qU3VpdGVzLmRyb3Bkb3duID0gKGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIG9iai5vcHRpb25zID0ge307XG5cbiAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhIFNFTEVDVCB0YWcsIGNyZWF0ZSBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgaWYgKGVsLnRhZ05hbWUgPT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgdmFyIHJldCA9IGpTdWl0ZXMuZHJvcGRvd24uZXh0cmFjdEZyb21Eb20oZWwsIG9wdGlvbnMpO1xuICAgICAgICBlbCA9IHJldC5lbDtcbiAgICAgICAgb3B0aW9ucyA9IHJldC5vcHRpb25zO1xuICAgIH1cblxuICAgIC8vIERlZmF1bHQgY29uZmlndXJhdGlvblxuICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgdXJsOiBudWxsLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgbXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICBhdXRvY29tcGxldGU6IGZhbHNlLFxuICAgICAgICB0eXBlOiBudWxsLFxuICAgICAgICB3aWR0aDogbnVsbCxcbiAgICAgICAgb3BlbmVkOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHBsYWNlaG9sZGVyOiAnJyxcbiAgICAgICAgcG9zaXRpb246IGZhbHNlLFxuICAgICAgICBvbmNoYW5nZTogbnVsbCxcbiAgICAgICAgb25sb2FkOiBudWxsLFxuICAgICAgICBvbm9wZW46IG51bGwsXG4gICAgICAgIG9uY2xvc2U6IG51bGwsXG4gICAgICAgIG9uYmx1cjogbnVsbCxcbiAgICB9O1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIG91ciBvYmplY3RcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkZWZhdWx0cykge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgb2JqLm9wdGlvbnNbcHJvcGVydHldID0gb3B0aW9uc1twcm9wZXJ0eV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmoub3B0aW9uc1twcm9wZXJ0eV0gPSBkZWZhdWx0c1twcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHbG9iYWwgY29udGFpbmVyXG4gICAgaWYgKCEgalN1aXRlcy5kcm9wZG93bi5jdXJyZW50KSB7XG4gICAgICAgIGpTdWl0ZXMuZHJvcGRvd24uY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQ29udGFpbmVyc1xuICAgIG9iai5pdGVtcyA9IFtdO1xuICAgIG9iai5ncm91cHMgPSBbXTtcbiAgICBvYmouc2VsZWN0ZWQgPSBbXTtcblxuICAgIC8vIENyZWF0ZSBkcm9wZG93blxuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2pkcm9wZG93bicpO1xuIFxuICAgIGlmIChvYmoub3B0aW9ucy50eXBlID09ICdzZWFyY2hiYXInKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2pkcm9wZG93bi1zZWFyY2hiYXInKTtcbiAgICB9IGVsc2UgaWYgKG9iai5vcHRpb25zLnR5cGUgPT0gJ2xpc3QnKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2pkcm9wZG93bi1saXN0Jyk7XG4gICAgfSBlbHNlIGlmIChvYmoub3B0aW9ucy50eXBlID09ICdwaWNrZXInKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2pkcm9wZG93bi1waWNrZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoalN1aXRlcy5nZXRXaW5kb3dXaWR0aCgpIDwgODAwKSB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdqZHJvcGRvd24tcGlja2VyJyk7XG4gICAgICAgICAgICBvYmoub3B0aW9ucy50eXBlID0gJ3BpY2tlcic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS53aWR0aCA9IG9iai5vcHRpb25zLndpZHRoO1xuICAgICAgICAgICAgICAgIGVsLnN0eWxlLm1pbldpZHRoID0gb2JqLm9wdGlvbnMud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdqZHJvcGRvd24tZGVmYXVsdCcpO1xuICAgICAgICAgICAgb2JqLm9wdGlvbnMudHlwZSA9ICdkZWZhdWx0JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhlYWRlciBjb250YWluZXJcbiAgICB2YXIgY29udGFpbmVySGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVySGVhZGVyLmNsYXNzTmFtZSA9ICdqZHJvcGRvd24tY29udGFpbmVyLWhlYWRlcic7XG5cbiAgICAvLyBIZWFkZXJcbiAgICB2YXIgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBoZWFkZXIuY2xhc3NOYW1lID0gJ2pkcm9wZG93bi1oZWFkZXInO1xuICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25ibHVyKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGhlYWRlci5vbmJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG9iai5vcHRpb25zLm9uYmx1cihlbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb250YWluZXJcbiAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdqZHJvcGRvd24tY29udGFpbmVyJztcblxuICAgIC8vIERyb3Bkb3duIGNvbnRlbnRcbiAgICB2YXIgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2pkcm9wZG93bi1jb250ZW50JztcblxuICAgIC8vIENsb3NlIGJ1dHRvblxuICAgIHZhciBjbG9zZUJ1dHRvbiAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjbG9zZUJ1dHRvbi5jbGFzc05hbWUgPSAnamRyb3Bkb3duLWNsb3NlJztcbiAgICBjbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSAnRG9uZSc7XG5cbiAgICAvLyBDcmVhdGUgYmFja2Ryb3BcbiAgICB2YXIgYmFja2Ryb3AgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYmFja2Ryb3AuY2xhc3NOYW1lID0gJ2pkcm9wZG93bi1iYWNrZHJvcCc7XG5cbiAgICAvLyBBdXRvY29tcGxldGVcbiAgICBpZiAob2JqLm9wdGlvbnMuYXV0b2NvbXBsZXRlID09IHRydWUpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLWF1dG9jb21wbGV0ZScsIHRydWUpO1xuXG4gICAgICAgIC8vIEhhbmRsZXJcbiAgICAgICAgdmFyIGtleVRpbWVyID0gbnVsbDtcbiAgICAgICAgaGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGtleVRpbWVyKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGtleVRpbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGtleVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvYmouZmluZChoZWFkZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIGtleVRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIH0sIDUwMCk7XG5cbiAgICAgICAgICAgIGlmICghIGVsLmNsYXNzTGlzdC5jb250YWlucygnamRyb3Bkb3duLWZvY3VzJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS53aGljaCA+IDY1KSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5vcGVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkZXIuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICdyZWFkb25seScpO1xuICAgIH1cblxuICAgIC8vIFBsYWNlIGhvbGRlclxuICAgIGlmICghIG9iai5vcHRpb25zLnBsYWNlaG9sZGVyICYmIGVsLmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKSkge1xuICAgICAgICBvYmoub3B0aW9ucy5wbGFjZWhvbGRlciA9IGVsLmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKTtcbiAgICB9XG5cbiAgICBpZiAob2JqLm9wdGlvbnMucGxhY2Vob2xkZXIpIHtcbiAgICAgICAgaGVhZGVyLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBvYmoub3B0aW9ucy5wbGFjZWhvbGRlcik7XG4gICAgfVxuXG4gICAgLy8gQXBwZW5kIGVsZW1lbnRzXG4gICAgY29udGFpbmVySGVhZGVyLmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgaWYgKG9iai5vcHRpb25zLnR5cGUgPT0gJ3NlYXJjaGJhcicpIHtcbiAgICAgICAgY29udGFpbmVySGVhZGVyLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24pO1xuICAgIH1cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgZWwuYXBwZW5kQ2hpbGQoY29udGFpbmVySGVhZGVyKTtcbiAgICBlbC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIGVsLmFwcGVuZENoaWxkKGJhY2tkcm9wKTtcblxuICAgIC8qKlxuICAgICAqIEluaXQgZHJvcGRvd25cbiAgICAgKi9cbiAgICBvYmouaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAob2JqLm9wdGlvbnMudXJsKSB7XG4gICAgICAgICAgICBqU3VpdGVzLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogb2JqLm9wdGlvbnMudXJsLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNldERhdGEoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy52YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNldFZhbHVlKG9iai5vcHRpb25zLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubG9hZCBtZXRob2RcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25sb2FkKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMub25sb2FkKGVsLCBvYmosIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXQgZGF0YVxuICAgICAgICAgICAgb2JqLnNldERhdGEoKTtcbiAgICAgICAgICAgIC8vIFNldCB2YWx1ZVxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvYmouc2V0VmFsdWUob2JqLm9wdGlvbnMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT25sb2FkXG4gICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9ubG9hZCkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm9ubG9hZChlbCwgb2JqLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9wZW4gZHJvcGRvd25cbiAgICAgICAgaWYgKG9iai5vcHRpb25zLm9wZW5lZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICBvYmoub3BlbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2JqLmdldFVybCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gb2JqLm9wdGlvbnMudXJsO1xuICAgIH1cblxuICAgIG9iai5zZXRVcmwgPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgb2JqLm9wdGlvbnMudXJsID0gdXJsO1xuXG4gICAgICAgIGpTdWl0ZXMuYWpheCh7XG4gICAgICAgICAgICB1cmw6IG9iai5vcHRpb25zLnVybCxcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIG9iai5zZXREYXRhKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgaXRlbVxuICAgICAqL1xuICAgIG9iai5jcmVhdGVJdGVtID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAvLyBDcmVhdGUgaXRlbVxuICAgICAgICB2YXIgaXRlbSA9IHt9O1xuICAgICAgICBpdGVtLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgaXRlbS5lbGVtZW50LmNsYXNzTmFtZSA9ICdqZHJvcGRvd24taXRlbSc7XG4gICAgICAgIGl0ZW0udmFsdWUgPSBkYXRhLmlkO1xuICAgICAgICBpdGVtLnRleHQgPSBkYXRhLm5hbWU7XG4gICAgICAgIGl0ZW0udGV4dExvd2VyQ2FzZSA9ICcnICsgZGF0YS5uYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgLy8gSW1hZ2VcbiAgICAgICAgaWYgKGRhdGEuaW1hZ2UpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgaW1hZ2UuY2xhc3NOYW1lID0gJ2pkcm9wZG93bi1pbWFnZSc7XG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBkYXRhLmltYWdlO1xuICAgICAgICAgICAgaWYgKCEgZGF0YS50aXRsZSkge1xuICAgICAgICAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZCgnamRyb3Bkb3duLWltYWdlLXNtYWxsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtLmVsZW1lbnQuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IGNvbnRlbnRcbiAgICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbm9kZS5jbGFzc05hbWUgPSAnamRyb3Bkb3duLWRlc2NyaXB0aW9uJztcbiAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBkYXRhLm5hbWU7XG5cbiAgICAgICAgLy8gVGl0bGVcbiAgICAgICAgaWYgKGRhdGEudGl0bGUpIHtcbiAgICAgICAgICAgIHZhciB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGl0bGUuY2xhc3NOYW1lID0gJ2pkcm9wZG93bi10aXRsZSc7XG4gICAgICAgICAgICB0aXRsZS5pbm5lckhUTUwgPSBkYXRhLnRpdGxlO1xuICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgbm9kZSB0byBpdGVtXG4gICAgICAgIGl0ZW0uZWxlbWVudC5hcHBlbmRDaGlsZChub2RlKTtcblxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG5cbiAgICBvYmouc2V0RGF0YSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgLy8gVXBkYXRlIGRhdGFcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIG9iai5vcHRpb25zLmRhdGEgPSBkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGF0YVxuICAgICAgICB2YXIgZGF0YSA9IG9iai5vcHRpb25zLmRhdGE7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGNvbnRlbnQgZnJvbSB0aGUgRE9NXG4gICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjb250ZW50KTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGNvbnRlbnQgY29udGFpbmVyIGlzIGJsYW5rXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgLy8gUmVzZXRcbiAgICAgICAgb2JqLnJlc2V0KCk7XG5cbiAgICAgICAgLy8gUmVzZXQgaXRlbXNcbiAgICAgICAgb2JqLml0ZW1zID0gW107XG5cbiAgICAgICAgLy8gSGVscGVyc1xuICAgICAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICAgICAgdmFyIGdyb3VwcyA9IFtdO1xuXG4gICAgICAgIC8vIENyZWF0ZSBlbGVtZW50c1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIFByZXBhcmUgZGF0YVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gQ29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoZGF0YVtpXSkgIT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuZGF0YVtpXSA9IGRhdGFbaV0gPSB7IGlkOiBkYXRhW2ldLCBuYW1lOiBkYXRhW2ldIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBncm91cHNcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXS5ncm91cCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoISBncm91cHNbZGF0YVtpXS5ncm91cF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwc1tkYXRhW2ldLmdyb3VwXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdyb3Vwc1tkYXRhW2ldLmdyb3VwXS5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHcm91cHNcbiAgICAgICAgICAgIHZhciBncm91cE5hbWVzID0gT2JqZWN0LmtleXMoZ3JvdXBzKTtcblxuICAgICAgICAgICAgLy8gQXBwZW5kIGdyb3VwcyBpbiBjYXNlIGV4aXN0c1xuICAgICAgICAgICAgaWYgKGdyb3VwTmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAvLyBHcm91cCBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLmNsYXNzTmFtZSA9ICdqZHJvcGRvd24tZ3JvdXAnO1xuICAgICAgICAgICAgICAgICAgICAvLyBHcm91cCBuYW1lXG4gICAgICAgICAgICAgICAgICAgIHZhciBncm91cE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBOYW1lLmNsYXNzTmFtZSA9ICdqZHJvcGRvd24tZ3JvdXAtbmFtZSc7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwTmFtZS5pbm5lckhUTUwgPSBncm91cE5hbWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBHcm91cCBhcnJvd1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXBBcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBBcnJvdy5jbGFzc05hbWUgPSAnamRyb3Bkb3duLWdyb3VwLWFycm93IGpkcm9wZG93bi1ncm91cC1hcnJvdy1kb3duJztcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBOYW1lLmFwcGVuZENoaWxkKGdyb3VwQXJyb3cpO1xuICAgICAgICAgICAgICAgICAgICAvLyBHcm91cCBpdGVtc1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXBDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwQ29udGVudC5jbGFzc05hbWUgPSAnamRyb3Bkb3duLWdyb3VwLWl0ZW1zJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBncm91cHNbZ3JvdXBOYW1lc1tpXV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gb2JqLmNyZWF0ZUl0ZW0oZGF0YVtncm91cHNbZ3JvdXBOYW1lc1tpXV1bal1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwQ29udGVudC5hcHBlbmRDaGlsZChpdGVtLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEdyb3VwIGl0ZW5zXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKGdyb3VwTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKGdyb3VwQXJyb3cpO1xuICAgICAgICAgICAgICAgICAgICBncm91cC5hcHBlbmRDaGlsZChncm91cENvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGdyb3VwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gb2JqLmNyZWF0ZUl0ZW0oZGF0YVtpdGVtc1tpXV0pO1xuICAgICAgICAgICAgICAgICAgICBvYmouaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChpdGVtLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBJbmRleGVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG9iai5pdGVtc1tpXS5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmUtaW5zZXJ0IHRoZSBjb250ZW50IHRvIHRoZSBjb250YWluZXJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgIH1cblxuICAgIG9iai5nZXRUZXh0ID0gZnVuY3Rpb24oYXNBcnJheSkge1xuICAgICAgICAvLyBSZXN1bHRcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICAvLyBBcHBlbmQgb3B0aW9uc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5zZWxlY3RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG9iai5pdGVtc1tvYmouc2VsZWN0ZWRbaV1dKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2JqLml0ZW1zW29iai5zZWxlY3RlZFtpXV0udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXNBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuam9pbignOyAnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9iai5nZXRWYWx1ZSA9IGZ1bmN0aW9uKGFzQXJyYXkpIHtcbiAgICAgICAgLy8gUmVzdWx0XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgLy8gQXBwZW5kIG9wdGlvbnNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChvYmouaXRlbXNbb2JqLnNlbGVjdGVkW2ldXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9iai5pdGVtc1tvYmouc2VsZWN0ZWRbaV1dLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhc0FycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCc7Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvYmouc2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBSZW1vdmUgdmFsdWVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLnNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvYmouaXRlbXNbb2JqLnNlbGVjdGVkW2ldXS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2pkcm9wZG93bi1zZWxlY3RlZCcpXG4gICAgICAgIH0gXG5cbiAgICAgICAgLy8gUmVzZXQgc2VsZWN0ZWRcbiAgICAgICAgb2JqLnNlbGVjdGVkID0gW107XG5cbiAgICAgICAgLy8gU2V0IHZhbHVlc1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5pdGVtc1tpXS52YWx1ZSA9PSB2YWx1ZVtqXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgaW5kZXggb2YgdGhlIHNlbGVjdGVkIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouc2VsZWN0ZWQucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWaXN1YWwgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLml0ZW1zW2ldLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnamRyb3Bkb3duLXNlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmouaXRlbXNbaV0udmFsdWUgPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgaW5kZXggb2YgdGhlIHNlbGVjdGVkIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZC5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmlzdWFsIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLml0ZW1zW2ldLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnamRyb3Bkb3duLXNlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgbGFiZWxzXG4gICAgICAgIG9iai51cGRhdGVMYWJlbCgpO1xuICAgIH1cblxuICAgIG9iai5zZWxlY3RJbmRleCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIC8vIE9ubHkgc2VsZWN0IHRob3NlIGV4aXN0aW5nIGVsZW1lbnRzXG4gICAgICAgIGlmIChvYmouaXRlbXMgJiYgb2JqLml0ZW1zW2luZGV4XSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5kZXggPSBwYXJzZUludChpbmRleCk7XG4gICAgICAgICAgICAvLyBDdXJyZW50IHNlbGVjdGlvblxuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gb2JqLmdldFZhbHVlKCk7XG4gICAgICAgICAgICB2YXIgb2xkTGFiZWwgPSBvYmouZ2V0VGV4dCgpO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgY3Vyc29yIHN0eWxlXG4gICAgICAgICAgICBpZiAob2JqLmN1cnJlbnRJbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgb2JqLml0ZW1zW29iai5jdXJyZW50SW5kZXhdLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnamRyb3Bkb3duLWN1cnNvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IGN1cnNvciBzdHlsZVxuICAgICAgICAgICAgb2JqLml0ZW1zW2luZGV4XS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2pkcm9wZG93bi1jdXJzb3InKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIGN1cnNvciBwb3NpdGlvblxuICAgICAgICAgICAgb2JqLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuXG4gICAgICAgICAgICAvLyBGb2N1cyBiZWhhdmlvdXJcbiAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICAgICAgICAgICAgLy8gVW5zZWxlY3Qgb3B0aW9uXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pdGVtc1tpbmRleF0uZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2pkcm9wZG93bi1zZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIG9iai5yZXNldFNlbGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgb2JqLnJlc2V0U2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHNlbGVjdGVkIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgb2JqLml0ZW1zW2luZGV4XS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2pkcm9wZG93bi1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdG8gdGhlIHNlbGVjdGVkIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBDbG9zZVxuICAgICAgICAgICAgICAgICAgICBvYmouY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRvZ2dsZSBvcHRpb25cbiAgICAgICAgICAgICAgICBpZiAob2JqLml0ZW1zW2luZGV4XS5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnamRyb3Bkb3duLXNlbGVjdGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLml0ZW1zW2luZGV4XS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2pkcm9wZG93bi1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBzZWxlY3RlZCBsaXN0XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleFRvUmVtb3ZlID0gb2JqLnNlbGVjdGVkLmluZGV4T2YoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgc2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIG9iai5zZWxlY3RlZC5zcGxpY2UoaW5kZXhUb1JlbW92ZSwgMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VsZWN0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgb2JqLml0ZW1zW2luZGV4XS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2pkcm9wZG93bi1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdG8gdGhlIHNlbGVjdGVkIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgb2JqLnNlbGVjdGVkLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBsYWJlbHMgZm9yIG11bHRpcGxlIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMuYXV0b2NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai51cGRhdGVMYWJlbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IG9iai5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgdmFyIG5ld0xhYmVsID0gb2JqLmdldFRleHQoKTtcblxuICAgICAgICAgICAgLy8gRXZlbnRzXG4gICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9uY2hhbmdlKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMub25jaGFuZ2UoZWwsIGluZGV4LCBvbGRWYWx1ZSwgbmV3VmFsdWUsIG9sZExhYmVsLCBuZXdMYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvYmouc2VsZWN0SXRlbSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYgKGpTdWl0ZXMuZHJvcGRvd24uY3VycmVudCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgb2JqLnNlbGVjdEluZGV4KGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9iai5maW5kID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIC8vIEZvcmNlIGxvd2VyY2FzZVxuICAgICAgICB2YXIgc3RyID0gc3RyID8gc3RyLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xuXG4gICAgICAgIC8vIEFwcGVuZCBvcHRpb25zXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc3RyID09IG51bGwgfHwgb2JqLml0ZW1zW2ldLnRleHRMb3dlckNhc2UuaW5kZXhPZihzdHIpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgb2JqLml0ZW1zW2ldLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLnNlbGVjdGVkLmluZGV4T2YoaSkgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLml0ZW1zW2ldLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmouaXRlbXNbaV0uZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG51bVZpc2libGVJdGVtcyA9IGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgICAgICB2YXIgdmlzaWJsZSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGl0ZW1zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zW2pdLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGUrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmlzaWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhpZGUgZ3JvdXBzXG4gICAgICAgIC8qZm9yICh2YXIgaSA9IDA7IGkgPCBvYmouZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobnVtVmlzaWJsZUl0ZW1zKG9iai5ncm91cHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnLmpkcm9wZG93bi1pdGVtJykpKSB7XG4gICAgICAgICAgICAgICAgb2JqLmdyb3Vwc1tpXS5jaGlsZHJlblswXS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9iai5ncm91cHNbaV0uY2hpbGRyZW5bMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSovXG4gICAgfVxuXG4gICAgb2JqLnVwZGF0ZUxhYmVsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBsYWJlbFxuICAgICAgICBoZWFkZXIudmFsdWUgPSBvYmouZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIG9iai5vcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChqU3VpdGVzLmRyb3Bkb3duLmN1cnJlbnQgIT0gZWwpIHtcbiAgICAgICAgICAgIGlmIChqU3VpdGVzLmRyb3Bkb3duLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBqU3VpdGVzLmRyb3Bkb3duLmN1cnJlbnQuZHJvcGRvd24uY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGpTdWl0ZXMuZHJvcGRvd24uY3VycmVudCA9IGVsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9jdXNcbiAgICAgICAgaWYgKCEgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdqZHJvcGRvd24tZm9jdXMnKSkge1xuICAgICAgICAgICAgLy8gQWRkIGZvY3VzXG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdqZHJvcGRvd24tZm9jdXMnKTtcblxuICAgICAgICAgICAgLy8gQW5pbWF0aW9uXG4gICAgICAgICAgICBpZiAoalN1aXRlcy5nZXRXaW5kb3dXaWR0aCgpIDwgODAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnR5cGUgPT0gbnVsbCB8fCBvYmoub3B0aW9ucy50eXBlID09ICdwaWNrZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGpTdWl0ZXMuc2xpZGVCb3R0b20oY29udGFpbmVyLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZpbHRlclxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmF1dG9jb21wbGV0ZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVkbyBzZWFyY2hcbiAgICAgICAgICAgICAgICBvYmouZmluZCgpO1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIHNlYXJjaCBmaWVsZFxuICAgICAgICAgICAgICAgIGhlYWRlci52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgIGhlYWRlci5mb2N1cygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZXQgY3Vyc29yIGZvciB0aGUgZmlyc3Qgb3IgZmlyc3Qgc2VsZWN0ZWQgZWxlbWVudFxuICAgICAgICAgICAgdmFyIGN1cnNvciA9IChvYmouc2VsZWN0ZWQgJiYgb2JqLnNlbGVjdGVkWzBdKSA/IG9iai5zZWxlY3RlZFswXSA6IDA7XG4gICAgICAgICAgICBvYmoudXBkYXRlQ3Vyc29yKGN1cnNvcik7XG5cbiAgICAgICAgICAgIC8vIENvbnRhaW5lciBTaXplXG4gICAgICAgICAgICBpZiAoISBvYmoub3B0aW9ucy50eXBlIHx8IG9iai5vcHRpb25zLnR5cGUgPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3RDb250YWluZXIgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCA8IHJlY3QuYm90dG9tICsgcmVjdENvbnRhaW5lci5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAod2luZG93LmlubmVySGVpZ2h0IC0gcmVjdC50b3AgKSArIDEgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnRvcCA9IHJlY3QuYm90dG9tICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IHJlY3QubGVmdCArICdweCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCA8IHJlY3QuYm90dG9tICsgcmVjdENvbnRhaW5lci5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSByZWN0LmhlaWdodCArIDEgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnRvcCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLm1pbldpZHRoID0gcmVjdC53aWR0aCArICdweCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFdmVudHNcbiAgICAgICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy5vbm9wZW4pID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG9iai5vcHRpb25zLm9ub3BlbihlbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvYmouY2xvc2UgPSBmdW5jdGlvbihpZ25vcmVFdmVudHMpIHtcbiAgICAgICAgaWYgKGpTdWl0ZXMuZHJvcGRvd24uY3VycmVudCkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGNvbnRyb2xsZXJcbiAgICAgICAgICAgIGpTdWl0ZXMuZHJvcGRvd24uY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgIC8vIFJlbW92ZSBjdXJzb3JcbiAgICAgICAgICAgIG9iai5yZXNldEN1cnNvcigpO1xuICAgICAgICAgICAgLy8gVXBkYXRlIGxhYmVsc1xuICAgICAgICAgICAgb2JqLnVwZGF0ZUxhYmVsKCk7XG4gICAgICAgICAgICAvLyBFdmVudHNcbiAgICAgICAgICAgIGlmICghIGlnbm9yZUV2ZW50cyAmJiB0eXBlb2Yob2JqLm9wdGlvbnMub25jbG9zZSkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm9uY2xvc2UoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQmx1clxuICAgICAgICAgICAgaWYgKGhlYWRlci5ibHVyKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyLmJsdXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92ZSBmb2N1c1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnamRyb3Bkb3duLWZvY3VzJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2JqLmdldFZhbHVlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHBvc2l0aW9uIGN1cnNvclxuICAgICAqL1xuICAgIG9iai51cGRhdGVDdXJzb3IgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAvLyBTZXQgbmV3IGN1cnNvclxuICAgICAgICBpZiAob2JqLml0ZW1zICYmIG9iai5pdGVtc1tpbmRleF0gJiYgb2JqLml0ZW1zW2luZGV4XS5lbGVtZW50KSB7XG4gICAgICAgICAgICAvLyBSZXNldCBjdXJzb3JcbiAgICAgICAgICAgIG9iai5yZXNldEN1cnNvcigpO1xuXG4gICAgICAgICAgICAvLyBTZXQgbmV3IGN1cnNvclxuICAgICAgICAgICAgb2JqLml0ZW1zW2luZGV4XS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2pkcm9wZG93bi1jdXJzb3InKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXG4gICAgICAgICAgICBvYmouY3VycmVudEluZGV4ID0gcGFyc2VJbnQoaW5kZXgpO1xuICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHNjcm9sbCB0byB0aGUgY3Vyc29yIGVsZW1lbnRcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBjb250ZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gb2JqLml0ZW1zW29iai5jdXJyZW50SW5kZXhdLmVsZW1lbnQ7XG4gICAgICAgICAgICBjb250ZW50LnNjcm9sbFRvcCA9IGVsZW1lbnQub2Zmc2V0VG9wIC0gZWxlbWVudC5zY3JvbGxUb3AgKyBlbGVtZW50LmNsaWVudFRvcCAtIDk1O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgY3Vyc29yXG4gICAgICovXG4gICAgb2JqLnJlc2V0Q3Vyc29yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFJlbW92ZSBjdXJyZW50IGN1cnNvclxuICAgICAgICBpZiAob2JqLmN1cnJlbnRJbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdmlzdWFsIGN1cnNvclxuICAgICAgICAgICAgaWYgKG9iai5pdGVtcyAmJiBvYmouaXRlbXNbb2JqLmN1cnJlbnRJbmRleF0pIHtcbiAgICAgICAgICAgICAgICBvYmouaXRlbXNbb2JqLmN1cnJlbnRJbmRleF0uZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdqZHJvcGRvd24tY3Vyc29yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXNldCBjdXJzb3JcbiAgICAgICAgICAgIG9iai5jdXJyZW50SW5kZXggPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgY3Vyc29yXG4gICAgICovXG4gICAgb2JqLnJlc2V0U2VsZWN0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVW5zZWxlY3RlZCBhbGxcbiAgICAgICAgaWYgKG9iai5zZWxlY3RlZCkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHZpc3VhbCBzZWxlY3Rpb25cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLnNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5pdGVtc1tvYmouc2VsZWN0ZWRbaV1dKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5pdGVtc1tvYmouc2VsZWN0ZWRbaV1dLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnamRyb3Bkb3duLXNlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVzZXQgY3VycmVudCBzZWxlY3RlZCBpdGVtc1xuICAgICAgICAgICAgb2JqLnNlbGVjdGVkID0gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBjdXJzb3IgYW5kIHNlbGVjdGVkIGl0ZW1zXG4gICAgICovXG4gICAgb2JqLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFJlc2V0IGN1cnNvclxuICAgICAgICBvYmoucmVzZXRDdXJzb3IoKTtcblxuICAgICAgICAvLyBSZXNldCBzZWxlY3RlZFxuICAgICAgICBvYmoucmVzZXRTZWxlY3RlZCgpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBsYWJlbHNcbiAgICAgICAgb2JqLnVwZGF0ZUxhYmVsKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyc3QgdmlzaWJsZSBpdGVtXG4gICAgICovXG4gICAgb2JqLmZpcnN0VmlzaWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbmV3SW5kZXggPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG9iai5pdGVtc1tpXS5lbGVtZW50LnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgbmV3SW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0luZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iai51cGRhdGVDdXJzb3IobmV3SW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5hdmlnYXRpb25cbiAgICAgKi9cbiAgICBvYmouZmlyc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG5ld0luZGV4ID0gbnVsbDtcbiAgICAgICAgZm9yICh2YXIgaSA9IG9iai5jdXJyZW50SW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKG9iai5pdGVtc1tpXS5lbGVtZW50LnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgbmV3SW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0luZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iai51cGRhdGVDdXJzb3IobmV3SW5kZXgpO1xuICAgIH1cblxuICAgIG9iai5sYXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZXdJbmRleCA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSBvYmouY3VycmVudEluZGV4ICsgMTsgaSA8IG9iai5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG9iai5pdGVtc1tpXS5lbGVtZW50LnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgbmV3SW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0luZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iai51cGRhdGVDdXJzb3IobmV3SW5kZXgpO1xuICAgIH1cblxuICAgIG9iai5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZXdJbmRleCA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSBvYmouY3VycmVudEluZGV4ICsgMTsgaSA8IG9iai5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG9iai5pdGVtc1tpXS5lbGVtZW50LnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgbmV3SW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0luZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iai51cGRhdGVDdXJzb3IobmV3SW5kZXgpO1xuICAgIH1cblxuICAgIG9iai5wcmV2ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZXdJbmRleCA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSBvYmouY3VycmVudEluZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChvYmouaXRlbXNbaV0uZWxlbWVudC5zdHlsZS5kaXNwbGF5ICE9ICdub25lJykge1xuICAgICAgICAgICAgICAgIG5ld0luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdJbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBvYmoudXBkYXRlQ3Vyc29yKG5ld0luZGV4KTtcbiAgICB9XG5cbiAgICBpZiAoISBqU3VpdGVzLmRyb3Bkb3duLmhhc0V2ZW50cykge1xuICAgICAgICBpZiAoJ29udG91Y2hzZW5kJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc2VuZCcsIGpTdWl0ZXMuZHJvcGRvd24ubW91c2V1cCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgalN1aXRlcy5kcm9wZG93bi5tb3VzZXVwKTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgalN1aXRlcy5kcm9wZG93bi5vbmtleWRvd24pO1xuXG4gICAgICAgIGpTdWl0ZXMuZHJvcGRvd24uaGFzRXZlbnRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBTdGFydCBkcm9wZG93blxuICAgIG9iai5pbml0KCk7XG5cbiAgICAvLyBLZWVwIG9iamVjdCBhdmFpbGFibGUgZnJvbSB0aGUgbm9kZVxuICAgIGVsLmRyb3Bkb3duID0gb2JqO1xuXG4gICAgcmV0dXJuIG9iajtcbn0pO1xuXG5qU3VpdGVzLmRyb3Bkb3duLmhhc0V2ZW50cyA9IGZhbHNlO1xuXG5qU3VpdGVzLmRyb3Bkb3duLm1vdXNldXAgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBqU3VpdGVzLmdldEVsZW1lbnQoZS50YXJnZXQsICdqZHJvcGRvd24nKTtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICB2YXIgZHJvcGRvd24gPSBlbGVtZW50LmRyb3Bkb3duO1xuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqZHJvcGRvd24taGVhZGVyJykpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnamRyb3Bkb3duLWZvY3VzJykgJiYgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2pkcm9wZG93bi1kZWZhdWx0JykpIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5jbG9zZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5vcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqZHJvcGRvd24tZ3JvdXAtbmFtZScpKSB7XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBlLnRhcmdldC5uZXh0U2libGluZy5jaGlsZHJlbjtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5uZXh0U2libGluZy5zdHlsZS5kaXNwbGF5ICE9ICdub25lJykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zW2ldLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5zZWxlY3RJdGVtKGl0ZW1zW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pkcm9wZG93bi1ncm91cC1hcnJvdycpKSB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqZHJvcGRvd24tZ3JvdXAtYXJyb3ctZG93bicpKSB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnamRyb3Bkb3duLWdyb3VwLWFycm93LWRvd24nKTtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdqZHJvcGRvd24tZ3JvdXAtYXJyb3ctdXAnKTtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5wYXJlbnROb2RlLm5leHRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2pkcm9wZG93bi1ncm91cC1hcnJvdy11cCcpO1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2pkcm9wZG93bi1ncm91cC1hcnJvdy1kb3duJyk7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5uZXh0U2libGluZy5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqZHJvcGRvd24taXRlbScpKSB7XG4gICAgICAgICAgICBkcm9wZG93bi5zZWxlY3RJdGVtKGUudGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pkcm9wZG93bi1pbWFnZScpKSB7XG4gICAgICAgICAgICBkcm9wZG93bi5zZWxlY3RJbmRleChlLnRhcmdldC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pkcm9wZG93bi1kZXNjcmlwdGlvbicpKSB7XG4gICAgICAgICAgICBkcm9wZG93bi5zZWxlY3RJbmRleChlLnRhcmdldC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pkcm9wZG93bi10aXRsZScpKSB7XG4gICAgICAgICAgICBkcm9wZG93bi5zZWxlY3RJbmRleChlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpO1xuICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnamRyb3Bkb3duLWNsb3NlJykgfHwgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqZHJvcGRvd24tYmFja2Ryb3AnKSkge1xuICAgICAgICAgICAgLy8gQ2xvc2VcbiAgICAgICAgICAgIGRyb3Bkb3duLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGpTdWl0ZXMuZHJvcGRvd24uY3VycmVudCkge1xuICAgICAgICAgICAgalN1aXRlcy5kcm9wZG93bi5jdXJyZW50LmRyb3Bkb3duLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLy8gS2V5ZG93biBjb250cm9sc1xualN1aXRlcy5kcm9wZG93bi5vbmtleWRvd24gPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGpTdWl0ZXMuZHJvcGRvd24uY3VycmVudCkge1xuICAgICAgICAvLyBFbGVtZW50XG4gICAgICAgIHZhciBlbGVtZW50ID0galN1aXRlcy5kcm9wZG93bi5jdXJyZW50LmRyb3Bkb3duO1xuICAgICAgICAvLyBJbmRleFxuICAgICAgICB2YXIgaW5kZXggPSBlbGVtZW50LmN1cnJlbnRJbmRleDtcblxuICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZS53aGljaCA9PSAxMyB8fCBlLndoaWNoID09IDI3IHx8IGUud2hpY2ggPT0gMzUgfHwgZS53aGljaCA9PSAzNiB8fCBlLndoaWNoID09IDM4IHx8IGUud2hpY2ggPT0gNDApIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGN1cnNvclxuICAgICAgICAgICAgICAgIGlmIChlLndoaWNoID09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2VsZWN0SW5kZXgoaW5kZXgpXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IDM4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmZpcnN0VmlzaWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5wcmV2KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZmlyc3RWaXNpYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggKyAxIDwgZWxlbWVudC5vcHRpb25zLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSAzNikge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmZpcnN0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IDM1KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQubGFzdCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PSAyNykge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmpTdWl0ZXMuZHJvcGRvd24uZXh0cmFjdEZyb21Eb20gPSBmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuICAgIC8vIEtlZXAgcmVmZXJlbmNlXG4gICAgdmFyIHNlbGVjdCA9IGVsO1xuICAgIGlmICghIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICAvLyBQcmVwYXJlIGNvbmZpZ3VyYXRpb25cbiAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKCdtdWx0aXBsZScpICYmICghIG9wdGlvbnMgfHwgb3B0aW9ucy5tdWx0aXBsZSA9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG9wdGlvbnMubXVsdGlwbGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicpICYmICghIG9wdGlvbnMgfHwgb3B0aW9ucy5wbGFjZWhvbGRlciA9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG9wdGlvbnMucGxhY2Vob2xkZXIgPSBlbC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyk7XG4gICAgfVxuICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXV0b2NvbXBsZXRlJykgJiYgKCEgb3B0aW9ucyB8fCBvcHRpb25zLmF1dG9jb21wbGV0ZSA9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG9wdGlvbnMuYXV0b2NvbXBsZXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCEgb3B0aW9ucyB8fCBvcHRpb25zLndpZHRoID09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRpb25zLndpZHRoID0gZWwub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIGlmIChlbC52YWx1ZSAmJiAoISBvcHRpb25zIHx8IG9wdGlvbnMudmFsdWUgPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBvcHRpb25zLnZhbHVlID0gZWwudmFsdWU7XG4gICAgfVxuICAgIGlmICghIG9wdGlvbnMgfHwgb3B0aW9ucy5kYXRhID09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRpb25zLmRhdGEgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbC5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKGVsLmNoaWxkcmVuW2pdLnRhZ05hbWUgPT0gJ09QVEdST1VQJykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWwuY2hpbGRyZW5bal0uY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVsLmNoaWxkcmVuW2pdLmNoaWxkcmVuW2ldLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZWwuY2hpbGRyZW5bal0uY2hpbGRyZW5baV0uaW5uZXJIVE1MLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IGVsLmNoaWxkcmVuW2pdLmdldEF0dHJpYnV0ZSgnbGFiZWwnKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBlbC5jaGlsZHJlbltqXS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZWwuY2hpbGRyZW5bal0uaW5uZXJIVE1MLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghIG9wdGlvbnMgfHwgb3B0aW9ucy5vbmNoYW5nZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3B0aW9ucy5vbmNoYW5nZSA9IGZ1bmN0aW9uKGEsYixjLGQpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm11bHRpcGxlID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLml0ZW1zW2JdLmNsYXNzTGlzdC5jb250YWlucygnamRyb3Bkb3duLXNlbGVjdGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0Lm9wdGlvbnNbYl0uc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdC5vcHRpb25zW2JdLnJlbW92ZUF0dHJpYnV0ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGVjdC52YWx1ZSA9IGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ3JlYXRlIERJVlxuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXYsIGVsKTtcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGVsID0gZGl2O1xuXG4gICAgcmV0dXJuIHsgZWw6ZWwsIG9wdGlvbnM6b3B0aW9ucyB9O1xufVxyXG5cclxuLyoqXG4gKiAoYykgalRvb2xzIFRleHQgRWRpdG9yXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGF1bGhvZGVsL2p0b29sc1xuICpcbiAqIEBhdXRob3I6IFBhdWwgSG9kZWwgPHBhdWwuaG9kZWxAZ21haWwuY29tPlxuICogQGRlc2NyaXB0aW9uOiBJbmxpbmUgcmljaHRleHQgZWRpdG9yXG4gKi9cblxualN1aXRlcy5lZGl0b3IgPSAoZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgb2JqLm9wdGlvbnMgPSB7fTtcblxuICAgIC8vIERlZmF1bHQgY29uZmlndXJhdGlvblxuICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgLy8gSW5pdGlhbCBIVE1MIGNvbnRlbnRcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIC8vIEluaXRpYWwgc25pcHBldFxuICAgICAgICBzbmlwcGV0OiBudWxsLFxuICAgICAgICAvLyBBZGQgdG9vbGJhclxuICAgICAgICB0b29sYmFyOiBudWxsLFxuICAgICAgICAvLyBNYXggaGVpZ2h0XG4gICAgICAgIG1heEhlaWdodDogbnVsbCxcbiAgICAgICAgLy8gV2Vic2l0ZSBwYXJzZXIgaXMgdG8gcmVhZCB3ZWJzaXRlcyBhbmQgaW1hZ2VzIGZyb20gY3Jvc3MgZG9tYWluXG4gICAgICAgIHJlbW90ZVBhcnNlcjogbnVsbCxcbiAgICAgICAgLy8gS2V5IGZyb20geW91dHViZSB0byByZWFkIHByb3BlcnRpZXMgZnJvbSBVUkxcbiAgICAgICAgeW91dHViZUtleTogbnVsbCxcbiAgICAgICAgLy8gVXNlciBsaXN0XG4gICAgICAgIHVzZXJTZWFyY2g6IG51bGwsXG4gICAgICAgIC8vIFBhcnNlIFVSTFxuICAgICAgICBwYXJzZVVSTDogZmFsc2UsXG4gICAgICAgIC8vIEFjY2VwdCBkcm9wIGZpbGVzXG4gICAgICAgIGRyb3Bab25lOiB0cnVlLFxuICAgICAgICBkcm9wQXNBdHRhY2htZW50OiBmYWxzZSxcbiAgICAgICAgYWNjZXB0SW1hZ2VzOiB0cnVlLFxuICAgICAgICBhY2NlcHRGaWxlczogZmFsc2UsXG4gICAgICAgIG1heEZpbGVTaXplOiA1MDAwMDAwLCBcbiAgICAgICAgLy8gQm9yZGVyXG4gICAgICAgIGJvcmRlcjogdHJ1ZSxcbiAgICAgICAgcGFkZGluZzogdHJ1ZSxcbiAgICAgICAgZm9jdXM6IGZhbHNlLFxuICAgICAgICAvLyBFdmVudHNcbiAgICAgICAgb25jbGljazogbnVsbCxcbiAgICAgICAgb25mb2N1czogbnVsbCxcbiAgICAgICAgb25ibHVyOiBudWxsLFxuICAgICAgICBvbmxvYWQ6IG51bGwsXG4gICAgICAgIG9uZW50ZXI6IG51bGwsXG4gICAgICAgIG9ua2V5dXA6IG51bGwsXG4gICAgICAgIG9ua2V5ZG93bjogbnVsbCxcbiAgICB9O1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIG91ciBvYmplY3RcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkZWZhdWx0cykge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgb2JqLm9wdGlvbnNbcHJvcGVydHldID0gb3B0aW9uc1twcm9wZXJ0eV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmoub3B0aW9uc1twcm9wZXJ0eV0gPSBkZWZhdWx0c1twcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQcml2YXRlIGNvbnRyb2xsZXJzXG4gICAgdmFyIGltYWdlUmVzaXplID0gMDtcbiAgICB2YXIgZWRpdG9yVGltZXIgPSBudWxsO1xuICAgIHZhciBlZGl0b3JBY3Rpb24gPSBudWxsO1xuXG4gICAgLy8gTWFrZSBzdXJlIGVsZW1lbnQgaXMgZW1wdHlcbiAgICBlbC5pbm5lckhUTUwgPSAnJztcblxuICAgIC8vIFByZXBhcmUgY29udGFpbmVyXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnamVkaXRvci1jb250YWluZXInKTtcblxuICAgIC8vIFBhZGRpbmdcbiAgICBpZiAob2JqLm9wdGlvbnMucGFkZGluZyA9PSB0cnVlKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2plZGl0b3ItcGFkZGluZycpO1xuICAgIH1cblxuICAgIC8vIEJvcmRlclxuICAgIGlmIChvYmoub3B0aW9ucy5ib3JkZXIgPT0gZmFsc2UpIHtcbiAgICAgICAgZWwuc3R5bGUuYm9yZGVyID0gJzBweCc7XG4gICAgfVxuXG4gICAgLy8gU25pcHBldFxuICAgIHZhciBzbmlwcGV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc25pcHBldC5jbGFzc05hbWUgPSAnc25pcHBldCc7XG4gICAgc25pcHBldC5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIGZhbHNlKTtcblxuICAgIC8vIFRvb2xiYXJcbiAgICB2YXIgdG9vbGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRvb2xiYXIuY2xhc3NOYW1lID0gJ2plZGl0b3ItdG9vbGJhcic7XG5cbiAgICAvLyBDcmVhdGUgZWRpdG9yXG4gICAgdmFyIGVkaXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVkaXRvci5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIHRydWUpO1xuICAgIGVkaXRvci5zZXRBdHRyaWJ1dGUoJ3NwZWxsY2hlY2snLCBmYWxzZSk7XG4gICAgZWRpdG9yLmNsYXNzTmFtZSA9ICdqZWRpdG9yJztcblxuICAgIC8vIE1heCBoZWlnaHRcbiAgICBpZiAob2JqLm9wdGlvbnMubWF4SGVpZ2h0KSB7XG4gICAgICAgIGVkaXRvci5zdHlsZS5vdmVyZmxvd1kgPSAnYXV0byc7XG4gICAgICAgIGVkaXRvci5zdHlsZS5tYXhIZWlnaHQgPSBvYmoub3B0aW9ucy5tYXhIZWlnaHQ7XG4gICAgfVxuXG4gICAgLy8gU2V0IGVkaXRvciBpbml0aWFsIHZhbHVlXG4gICAgaWYgKG9iai5vcHRpb25zLnZhbHVlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iai5vcHRpb25zLnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGVsLmlubmVySFRNTCA/IGVsLmlubmVySFRNTCA6ICcnOyBcbiAgICB9XG5cbiAgICBpZiAoISB2YWx1ZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSAnPGJyPic7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBpbWFnZXMgZnJvbSBhIEhUTUwgc3RyaW5nXG4gICAgICovXG4gICAgdmFyIGV4dHJhY3RJbWFnZUZyb21IdG1sID0gZnVuY3Rpb24oaHRtbCkge1xuICAgICAgICAvLyBDcmVhdGUgdGVtcCBlbGVtZW50XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cbiAgICAgICAgLy8gRXh0cmFjdCBpbWFnZXNcbiAgICAgICAgdmFyIGltZyA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKTtcblxuICAgICAgICBpZiAoaW1nLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvYmouYWRkSW1hZ2UoaW1nW2ldLnNyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnQgbm9kZSBhdCBjYXJldFxuICAgICAqL1xuICAgIHZhciBpbnNlcnROb2RlQXRDYXJldCA9IGZ1bmN0aW9uKG5ld05vZGUpIHtcbiAgICAgICAgdmFyIHNlbCwgcmFuZ2U7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIGlmIChzZWwucmFuZ2VDb3VudCkge1xuICAgICAgICAgICAgICAgIHJhbmdlID0gc2VsLmdldFJhbmdlQXQoMCk7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkVGV4dCA9IHJhbmdlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZGVsZXRlQ29udGVudHMoKTtcbiAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKG5ld05vZGUpOyBcbiAgICAgICAgICAgICAgICAvLyBtb3ZlIHRoZSBjdXJzb3IgYWZ0ZXIgZWxlbWVudFxuICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QWZ0ZXIobmV3Tm9kZSk7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kQWZ0ZXIobmV3Tm9kZSk7IFxuICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kIHNuaXBwZXQgb3IgdGh1bWJzIGluIHRoZSBlZGl0b3JcbiAgICAgKiBAUGFyYW0gb2JqZWN0IGRhdGFcbiAgICAgKi9cbiAgICB2YXIgYXBwZW5kRWxlbWVudCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgLy8gUmVzZXQgc25pcHBldFxuICAgICAgICBzbmlwcGV0LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgIGlmIChkYXRhLmltYWdlKSB7XG4gICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ3NuaXBwZXQtaW1hZ2UnO1xuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1rJywgJ2ltYWdlJyk7XG4gICAgICAgICAgICBzbmlwcGV0LmFwcGVuZENoaWxkKGRpdik7XG5cbiAgICAgICAgICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gZGF0YS5pbWFnZTtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnc25pcHBldC10aXRsZSc7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaycsICd0aXRsZScpO1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gZGF0YS50aXRsZTtcbiAgICAgICAgc25pcHBldC5hcHBlbmRDaGlsZChkaXYpO1xuXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdzbmlwcGV0LWRlc2NyaXB0aW9uJztcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1rJywgJ2Rlc2NyaXB0aW9uJyk7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBkYXRhLmRlc2NyaXB0aW9uO1xuICAgICAgICBzbmlwcGV0LmFwcGVuZENoaWxkKGRpdik7XG5cbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ3NuaXBwZXQtaG9zdCc7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaycsICdob3N0Jyk7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBkYXRhLmhvc3Q7XG4gICAgICAgIHNuaXBwZXQuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnc25pcHBldC11cmwnO1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdkYXRhLWsnLCAndXJsJyk7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBkYXRhLnVybDtcbiAgICAgICAgc25pcHBldC5hcHBlbmRDaGlsZChkaXYpO1xuXG4gICAgICAgIGVkaXRvci5hcHBlbmRDaGlsZChzbmlwcGV0KTtcbiAgICB9XG5cbiAgICB2YXIgdmVyaWZ5RWRpdG9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChlZGl0b3JUaW1lcik7XG4gICAgICAgIGVkaXRvclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzbmlwcGV0ID0gZWRpdG9yLnF1ZXJ5U2VsZWN0b3IoJy5zbmlwcGV0Jyk7XG4gICAgICAgICAgICB2YXIgdGh1bWJzQ29udGFpbmVyID0gZWwucXVlcnlTZWxlY3RvcignLmplZGl0b3ItdGh1bWJzLWNvbnRhaW5lcicpO1xuXG4gICAgICAgICAgICBpZiAoISBzbmlwcGV0ICYmICEgdGh1bWJzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBlZGl0b3IuaW5uZXJIVE1MLnJlcGxhY2UoL1xcbi9nLCAnICcpO1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICAgICAgICB2YXIgdGh1bWJzQ29udGFpbmVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5qZWRpdG9yLXRodW1icy1jb250YWluZXInKTtcbiAgICAgICAgICAgICAgICBpZiAodGh1bWJzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRodW1ic0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSBjb250YWluZXIuaW5uZXJUZXh0OyBcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0galN1aXRlcy5lZGl0b3IuZGV0ZWN0VXJsKHRleHQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodXJsWzBdLnN1YnN0cigtMykgPT0gJ2pwZycgfHwgdXJsWzBdLnN1YnN0cigtMykgPT0gJ3BuZycgfHwgdXJsWzBdLnN1YnN0cigtMykgPT0gJ2dpZicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqU3VpdGVzLmVkaXRvci5nZXREb21haW4odXJsWzBdKSA9PSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouaW1wb3J0SW1hZ2UodXJsWzBdLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5pbXBvcnRJbWFnZShvYmoub3B0aW9ucy5yZW1vdGVQYXJzZXIgKyB1cmxbMF0sICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IGpTdWl0ZXMuZWRpdG9yLnlvdXR1YmVQYXJzZXIodXJsWzBdKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmdldFlvdXR1YmUoaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZ2V0V2Vic2l0ZSh1cmxbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwKTtcbiAgICB9XG5cbiAgICBvYmoucGFyc2VDb250ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZlcmlmeUVkaXRvcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBtZXRhZGF0YSBmcm9tIGEgeW91dHViZSB2aWRlb1xuICAgICAqL1xuICAgIG9iai5nZXRZb3V0dWJlID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMueW91dHViZUtleSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhlIHlvdXR1YmVLZXkgaXMgbm90IGRlZmluZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGpTdWl0ZXMuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20veW91dHViZS92My92aWRlb3M/cGFydD1zbmlwcGV0LHN0YXRpc3RpY3Mma2V5PScgKyBvYmoub3B0aW9ucy55b3V0dWJlS2V5ICsgJyZpZD0nICsgaWQsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHZhbGlkIGVsZW1lbnRzIHRvIGJlIGFwcGVuZGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXRlbXMgJiYgcmVzdWx0Lml0ZW1zWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0OiAnd3d3LnlvdXR1YmUuY29tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL3d3dy55b3V0dWJlLmNvbT93YXRjaD0nICsgaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lml0ZW1zWzBdLnNuaXBwZXQudGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLnRpdGxlID0gcmVzdWx0Lml0ZW1zWzBdLnNuaXBwZXQudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lml0ZW1zWzBdLnNuaXBwZXQuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLmRlc2NyaXB0aW9uID0gcmVzdWx0Lml0ZW1zWzBdLnNuaXBwZXQuZGVzY3JpcHRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC5kZXNjcmlwdGlvbi5sZW5ndGggPiAxNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcC5kZXNjcmlwdGlvbiA9IHAuZGVzY3JpcHRpb24uc3Vic3RyKDAsIDE1MCkgKyAnLi4uJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lml0ZW1zWzBdLnNuaXBwZXQudGh1bWJuYWlscy5tZWRpdW0udXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcC5pbWFnZSA9IHJlc3VsdC5pdGVtc1swXS5zbmlwcGV0LnRodW1ibmFpbHMubWVkaXVtLnVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kRWxlbWVudChwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IG1ldGEgaW5mb3JtYXRpb24gZnJvbSBhIHdlYnNpdGVcbiAgICAgKi9cbiAgICBvYmouZ2V0V2Vic2l0ZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICBpZiAoISBvYmoub3B0aW9ucy5yZW1vdGVQYXJzZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaGUgcmVtb3RlUGFyc2VyIGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqU3VpdGVzLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogb2JqLm9wdGlvbnMucmVtb3RlUGFyc2VyICsgZW5jb2RlVVJJKHVybC50cmltKCkpLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0OiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHAudGl0bGUgPSByZXN1bHQudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcC5kZXNjcmlwdGlvbiA9IHJlc3VsdC5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwLmltYWdlID0gcmVzdWx0LmltYWdlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdFsnb2c6aW1hZ2UnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcC5pbWFnZSA9IHJlc3VsdFsnb2c6aW1hZ2UnXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHAuaG9zdCA9IHJlc3VsdC5ob3N0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwLnVybCA9IHJlc3VsdC51cmw7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRFbGVtZW50KHApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGVkaXRvciB2YWx1ZVxuICAgICAqL1xuICAgIG9iai5zZXREYXRhID0gZnVuY3Rpb24oaHRtbCkge1xuICAgICAgICBlZGl0b3IuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgY3Vyc29yKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGVkaXRvciBkYXRhXG4gICAgICovXG4gICAgb2JqLmdldERhdGEgPSBmdW5jdGlvbihqc29uKSB7XG4gICAgICAgIGlmICghIGpzb24pIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZWRpdG9yLmlubmVySFRNTDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgOiAnJyxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IHRhZyB1c2Vyc1xuICAgICAgICAgICAgdmFyIHRhZ2dlZCA9IGVkaXRvci5xdWVyeVNlbGVjdG9yQWxsKCcucG9zdC10YWcnKTtcbiAgICAgICAgICAgIGlmICh0YWdnZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZGF0YS51c2VycyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFnZ2VkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1c2VySWQgPSB0YWdnZWRbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLXVzZXInKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2Vycy5wdXNoKHVzZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YS51c2VycyA9IGRhdGEudXNlcnMuam9pbignLCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc25pcHBldC5pbm5lckhUTUwpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGRhdGEuc25pcHBldCA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc25pcHBldC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQga2V5IGZyb20gZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gc25pcHBldC5jaGlsZHJlbltpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnNuaXBwZXQuaW1hZ2UgPSBzbmlwcGV0LmNoaWxkcmVuW2ldLmNoaWxkcmVuWzBdLmdldEF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc25pcHBldFtrZXldID0gc25pcHBldC5jaGlsZHJlbltpXS5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzbmlwcGV0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgICAgIHNuaXBwZXQucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0ZXh0ID0gZWRpdG9yLmlubmVySFRNTDtcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLzxicj4vZywgXCJcXG5cIik7XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC88XFwvZGl2Pi9nLCBcIjxcXC9kaXY+XFxuXCIpO1xuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvPCg/Oi58XFxuKSo/Pi9nbSwgXCJcIik7XG4gICAgICAgICAgICBkYXRhLmNvbnRlbnQgPSB0ZXh0LnRyaW0oKTtcbiAgICAgICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8vIFJlc2V0XG4gICAgb2JqLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGVkaXRvci5pbm5lckhUTUwgPSAnJztcbiAgICB9XG5cbiAgICBvYmouYWRkUGRmID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5yZXN1bHQuc3Vic3RyKDAsNCkgIT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIHNvdXJjZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gNjA7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gNjA7XG5cbiAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICBjYW52YXMudG9CbG9iKGZ1bmN0aW9uKGJsb2IpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgICAgICBuZXdJbWFnZS5zcmMgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICBuZXdJbWFnZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZXh0ZW5zaW9uJywgJ3BkZicpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW1hZ2Uuc2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnLCBkYXRhLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0ltYWdlLnNldEF0dHJpYnV0ZSgnZGF0YS1zaXplJywgZGF0YS5zaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdJbWFnZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGF0ZScsIGRhdGEuZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld0ltYWdlLmNsYXNzTmFtZSA9ICdqZmlsZSBwZGYnO1xuXG4gICAgICAgICAgICAgICAgaW5zZXJ0Tm9kZUF0Q2FyZXQobmV3SW1hZ2UpO1xuICAgICAgICAgICAgICAgIGpTdWl0ZXMuZmlsZXNbbmV3SW1hZ2Uuc3JjXSA9IGRhdGEucmVzdWx0LnN1YnN0cihkYXRhLnJlc3VsdC5pbmRleE9mKCcsJykgKyAxKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2JqLmFkZEltYWdlID0gZnVuY3Rpb24oc3JjLCBuYW1lLCBzaXplLCBkYXRlKSB7XG4gICAgICAgIGlmIChzcmMuc3Vic3RyKDAsNCkgIT0gJ2RhdGEnICYmICEgb2JqLm9wdGlvbnMucmVtb3RlUGFyc2VyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdyZW1vdGVQYXJzZXIgbm90IGRlZmluZWQgaW4geW91ciBpbml0aWFsaXphdGlvbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0byBwcm9jZXNzIGNyb3NzIGRvbWFpbiBpbWFnZXNcbiAgICAgICAgICAgIGlmIChzcmMuc3Vic3RyKDAsNCkgPT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4dGVuc2lvbiA9IHNyYy5zcGxpdCgnOycpXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uWzBdLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uWzFdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZXh0ZW5zaW9uID0gc3JjLnN1YnN0cihzcmMubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgICAgICAgICAgICAgIC8vIFdvcmsgZm9yIGNyb3NzIGJyb3dzZXJzXG4gICAgICAgICAgICAgICAgc3JjID0gb2JqLm9wdGlvbnMucmVtb3RlUGFyc2VyICsgc3JjO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiBvbmxvYWQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIGNhbnZhcy50b0Jsb2IoZnVuY3Rpb24oYmxvYikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW1hZ2Uuc3JjID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICAgICAgICAgIG5ld0ltYWdlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnOTAwJyk7XG4gICAgICAgICAgICAgICAgICAgIG5ld0ltYWdlLnNldEF0dHJpYnV0ZSgnZGF0YS1leHRlbnNpb24nLCBleHRlbnNpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1hZ2Uuc2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnLCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1hZ2Uuc2V0QXR0cmlidXRlKCdkYXRhLXNpemUnLCBzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1hZ2Uuc2V0QXR0cmlidXRlKCdkYXRhLWRhdGUnLCBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuZXdJbWFnZS5jbGFzc05hbWUgPSAnamZpbGUnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0Tm9kZUF0Q2FyZXQobmV3SW1hZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGpTdWl0ZXMuZmlsZXNbbmV3SW1hZ2Uuc3JjXSA9IGNvbnRlbnQuc3Vic3RyKGNvbnRlbnQuaW5kZXhPZignLCcpICsgMSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbWcuc3JjID0gc3JjO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2JqLmFkZEZpbGUgPSBmdW5jdGlvbihmaWxlcykge1xuICAgICAgICB2YXIgcmVhZGVyID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGZpbGVzW2ldLnNpemUgPiBvYmoub3B0aW9ucy5tYXhGaWxlU2l6ZSkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGUgZmlsZSBpcyB0b28gYmlnJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgUERGIG9yIEltYWdlc1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZmlsZXNbaV0udHlwZS5zcGxpdCgnLycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVbMF0gPT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVbMV0gPT0gJ3BkZicpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyW2ldID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyW2ldLmluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyW2ldLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICByZWFkZXJbaV0ubmFtZSA9IGZpbGVzW2ldLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlcltpXS5kYXRlID0gZmlsZXNbaV0ubGFzdE1vZGlmaWVkO1xuICAgICAgICAgICAgICAgICAgICByZWFkZXJbaV0uc2l6ZSA9IGZpbGVzW2ldLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlcltpXS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudGFyZ2V0LnR5cGUgPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5hY2NlcHRGaWxlcyA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5hZGRQZGYoZGF0YS50YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmFkZEltYWdlKGRhdGEudGFyZ2V0LnJlc3VsdCwgZGF0YS50YXJnZXQubmFtZSwgZGF0YS50b3RhbCwgZGF0YS50YXJnZXQubGFzdE1vZGlmaWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlYWRlcltpXS5yZWFkQXNEYXRhVVJMKGZpbGVzW2ldKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGUgZXh0ZW5zaW9uIGlzIG5vdCBhbGxvd2VkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVzdHJveVxuICAgIG9iai5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGVkaXRvci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZWRpdG9yTW91c2VVcCk7XG4gICAgICAgIGVkaXRvci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBlZGl0b3JNb3VzZURvd24pO1xuICAgICAgICBlZGl0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZWRpdG9yTW91c2VNb3ZlKTtcbiAgICAgICAgZWRpdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZWRpdG9yS2V5VXApO1xuICAgICAgICBlZGl0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVkaXRvcktleURvd24pO1xuICAgICAgICBlZGl0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgZWRpdG9yRHJhZ1N0YXJ0KTtcbiAgICAgICAgZWRpdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIGVkaXRvckRyYWdFbnRlcik7XG4gICAgICAgIGVkaXRvci5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGVkaXRvckRyYWdPdmVyKTtcbiAgICAgICAgZWRpdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBlZGl0b3JEcm9wKTtcbiAgICAgICAgZWRpdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgZWRpdG9yUGFzdGUpO1xuXG4gICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25ibHVyKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBlZGl0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIGVkaXRvckJsdXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25mb2N1cykgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZWRpdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZWRpdG9yRm9jdXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWwuZWRpdG9yID0gbnVsbDtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnamVkaXRvci1jb250YWluZXInKTtcblxuICAgICAgICB0b29sYmFyLnJlbW92ZSgpO1xuICAgICAgICBzbmlwcGV0LnJlbW92ZSgpO1xuICAgICAgICBlZGl0b3IucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdmFyIGlzTGV0dGVyID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB2YXIgcmVnZXggPSAvKFtcXHUwMDQxLVxcdTAwNUFcXHUwMDYxLVxcdTAwN0FcXHUwMEFBXFx1MDBCNVxcdTAwQkFcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyQzFcXHUwMkM2LVxcdTAyRDFcXHUwMkUwLVxcdTAyRTRcXHUwMkVDXFx1MDJFRVxcdTAzNzAtXFx1MDM3NFxcdTAzNzZcXHUwMzc3XFx1MDM3QS1cXHUwMzdEXFx1MDM4NlxcdTAzODgtXFx1MDM4QVxcdTAzOENcXHUwMzhFLVxcdTAzQTFcXHUwM0EzLVxcdTAzRjVcXHUwM0Y3LVxcdTA0ODFcXHUwNDhBLVxcdTA1MjdcXHUwNTMxLVxcdTA1NTZcXHUwNTU5XFx1MDU2MS1cXHUwNTg3XFx1MDVEMC1cXHUwNUVBXFx1MDVGMC1cXHUwNUYyXFx1MDYyMC1cXHUwNjRBXFx1MDY2RVxcdTA2NkZcXHUwNjcxLVxcdTA2RDNcXHUwNkQ1XFx1MDZFNVxcdTA2RTZcXHUwNkVFXFx1MDZFRlxcdTA2RkEtXFx1MDZGQ1xcdTA2RkZcXHUwNzEwXFx1MDcxMi1cXHUwNzJGXFx1MDc0RC1cXHUwN0E1XFx1MDdCMVxcdTA3Q0EtXFx1MDdFQVxcdTA3RjRcXHUwN0Y1XFx1MDdGQVxcdTA4MDAtXFx1MDgxNVxcdTA4MUFcXHUwODI0XFx1MDgyOFxcdTA4NDAtXFx1MDg1OFxcdTA4QTBcXHUwOEEyLVxcdTA4QUNcXHUwOTA0LVxcdTA5MzlcXHUwOTNEXFx1MDk1MFxcdTA5NTgtXFx1MDk2MVxcdTA5NzEtXFx1MDk3N1xcdTA5NzktXFx1MDk3RlxcdTA5ODUtXFx1MDk4Q1xcdTA5OEZcXHUwOTkwXFx1MDk5My1cXHUwOUE4XFx1MDlBQS1cXHUwOUIwXFx1MDlCMlxcdTA5QjYtXFx1MDlCOVxcdTA5QkRcXHUwOUNFXFx1MDlEQ1xcdTA5RERcXHUwOURGLVxcdTA5RTFcXHUwOUYwXFx1MDlGMVxcdTBBMDUtXFx1MEEwQVxcdTBBMEZcXHUwQTEwXFx1MEExMy1cXHUwQTI4XFx1MEEyQS1cXHUwQTMwXFx1MEEzMlxcdTBBMzNcXHUwQTM1XFx1MEEzNlxcdTBBMzhcXHUwQTM5XFx1MEE1OS1cXHUwQTVDXFx1MEE1RVxcdTBBNzItXFx1MEE3NFxcdTBBODUtXFx1MEE4RFxcdTBBOEYtXFx1MEE5MVxcdTBBOTMtXFx1MEFBOFxcdTBBQUEtXFx1MEFCMFxcdTBBQjJcXHUwQUIzXFx1MEFCNS1cXHUwQUI5XFx1MEFCRFxcdTBBRDBcXHUwQUUwXFx1MEFFMVxcdTBCMDUtXFx1MEIwQ1xcdTBCMEZcXHUwQjEwXFx1MEIxMy1cXHUwQjI4XFx1MEIyQS1cXHUwQjMwXFx1MEIzMlxcdTBCMzNcXHUwQjM1LVxcdTBCMzlcXHUwQjNEXFx1MEI1Q1xcdTBCNURcXHUwQjVGLVxcdTBCNjFcXHUwQjcxXFx1MEI4M1xcdTBCODUtXFx1MEI4QVxcdTBCOEUtXFx1MEI5MFxcdTBCOTItXFx1MEI5NVxcdTBCOTlcXHUwQjlBXFx1MEI5Q1xcdTBCOUVcXHUwQjlGXFx1MEJBM1xcdTBCQTRcXHUwQkE4LVxcdTBCQUFcXHUwQkFFLVxcdTBCQjlcXHUwQkQwXFx1MEMwNS1cXHUwQzBDXFx1MEMwRS1cXHUwQzEwXFx1MEMxMi1cXHUwQzI4XFx1MEMyQS1cXHUwQzMzXFx1MEMzNS1cXHUwQzM5XFx1MEMzRFxcdTBDNThcXHUwQzU5XFx1MEM2MFxcdTBDNjFcXHUwQzg1LVxcdTBDOENcXHUwQzhFLVxcdTBDOTBcXHUwQzkyLVxcdTBDQThcXHUwQ0FBLVxcdTBDQjNcXHUwQ0I1LVxcdTBDQjlcXHUwQ0JEXFx1MENERVxcdTBDRTBcXHUwQ0UxXFx1MENGMVxcdTBDRjJcXHUwRDA1LVxcdTBEMENcXHUwRDBFLVxcdTBEMTBcXHUwRDEyLVxcdTBEM0FcXHUwRDNEXFx1MEQ0RVxcdTBENjBcXHUwRDYxXFx1MEQ3QS1cXHUwRDdGXFx1MEQ4NS1cXHUwRDk2XFx1MEQ5QS1cXHUwREIxXFx1MERCMy1cXHUwREJCXFx1MERCRFxcdTBEQzAtXFx1MERDNlxcdTBFMDEtXFx1MEUzMFxcdTBFMzJcXHUwRTMzXFx1MEU0MC1cXHUwRTQ2XFx1MEU4MVxcdTBFODJcXHUwRTg0XFx1MEU4N1xcdTBFODhcXHUwRThBXFx1MEU4RFxcdTBFOTQtXFx1MEU5N1xcdTBFOTktXFx1MEU5RlxcdTBFQTEtXFx1MEVBM1xcdTBFQTVcXHUwRUE3XFx1MEVBQVxcdTBFQUJcXHUwRUFELVxcdTBFQjBcXHUwRUIyXFx1MEVCM1xcdTBFQkRcXHUwRUMwLVxcdTBFQzRcXHUwRUM2XFx1MEVEQy1cXHUwRURGXFx1MEYwMFxcdTBGNDAtXFx1MEY0N1xcdTBGNDktXFx1MEY2Q1xcdTBGODgtXFx1MEY4Q1xcdTEwMDAtXFx1MTAyQVxcdTEwM0ZcXHUxMDUwLVxcdTEwNTVcXHUxMDVBLVxcdTEwNURcXHUxMDYxXFx1MTA2NVxcdTEwNjZcXHUxMDZFLVxcdTEwNzBcXHUxMDc1LVxcdTEwODFcXHUxMDhFXFx1MTBBMC1cXHUxMEM1XFx1MTBDN1xcdTEwQ0RcXHUxMEQwLVxcdTEwRkFcXHUxMEZDLVxcdTEyNDhcXHUxMjRBLVxcdTEyNERcXHUxMjUwLVxcdTEyNTZcXHUxMjU4XFx1MTI1QS1cXHUxMjVEXFx1MTI2MC1cXHUxMjg4XFx1MTI4QS1cXHUxMjhEXFx1MTI5MC1cXHUxMkIwXFx1MTJCMi1cXHUxMkI1XFx1MTJCOC1cXHUxMkJFXFx1MTJDMFxcdTEyQzItXFx1MTJDNVxcdTEyQzgtXFx1MTJENlxcdTEyRDgtXFx1MTMxMFxcdTEzMTItXFx1MTMxNVxcdTEzMTgtXFx1MTM1QVxcdTEzODAtXFx1MTM4RlxcdTEzQTAtXFx1MTNGNFxcdTE0MDEtXFx1MTY2Q1xcdTE2NkYtXFx1MTY3RlxcdTE2ODEtXFx1MTY5QVxcdTE2QTAtXFx1MTZFQVxcdTE3MDAtXFx1MTcwQ1xcdTE3MEUtXFx1MTcxMVxcdTE3MjAtXFx1MTczMVxcdTE3NDAtXFx1MTc1MVxcdTE3NjAtXFx1MTc2Q1xcdTE3NkUtXFx1MTc3MFxcdTE3ODAtXFx1MTdCM1xcdTE3RDdcXHUxN0RDXFx1MTgyMC1cXHUxODc3XFx1MTg4MC1cXHUxOEE4XFx1MThBQVxcdTE4QjAtXFx1MThGNVxcdTE5MDAtXFx1MTkxQ1xcdTE5NTAtXFx1MTk2RFxcdTE5NzAtXFx1MTk3NFxcdTE5ODAtXFx1MTlBQlxcdTE5QzEtXFx1MTlDN1xcdTFBMDAtXFx1MUExNlxcdTFBMjAtXFx1MUE1NFxcdTFBQTdcXHUxQjA1LVxcdTFCMzNcXHUxQjQ1LVxcdTFCNEJcXHUxQjgzLVxcdTFCQTBcXHUxQkFFXFx1MUJBRlxcdTFCQkEtXFx1MUJFNVxcdTFDMDAtXFx1MUMyM1xcdTFDNEQtXFx1MUM0RlxcdTFDNUEtXFx1MUM3RFxcdTFDRTktXFx1MUNFQ1xcdTFDRUUtXFx1MUNGMVxcdTFDRjVcXHUxQ0Y2XFx1MUQwMC1cXHUxREJGXFx1MUUwMC1cXHUxRjE1XFx1MUYxOC1cXHUxRjFEXFx1MUYyMC1cXHUxRjQ1XFx1MUY0OC1cXHUxRjREXFx1MUY1MC1cXHUxRjU3XFx1MUY1OVxcdTFGNUJcXHUxRjVEXFx1MUY1Ri1cXHUxRjdEXFx1MUY4MC1cXHUxRkI0XFx1MUZCNi1cXHUxRkJDXFx1MUZCRVxcdTFGQzItXFx1MUZDNFxcdTFGQzYtXFx1MUZDQ1xcdTFGRDAtXFx1MUZEM1xcdTFGRDYtXFx1MUZEQlxcdTFGRTAtXFx1MUZFQ1xcdTFGRjItXFx1MUZGNFxcdTFGRjYtXFx1MUZGQ1xcdTIwNzFcXHUyMDdGXFx1MjA5MC1cXHUyMDlDXFx1MjEwMlxcdTIxMDdcXHUyMTBBLVxcdTIxMTNcXHUyMTE1XFx1MjExOS1cXHUyMTFEXFx1MjEyNFxcdTIxMjZcXHUyMTI4XFx1MjEyQS1cXHUyMTJEXFx1MjEyRi1cXHUyMTM5XFx1MjEzQy1cXHUyMTNGXFx1MjE0NS1cXHUyMTQ5XFx1MjE0RVxcdTIxODNcXHUyMTg0XFx1MkMwMC1cXHUyQzJFXFx1MkMzMC1cXHUyQzVFXFx1MkM2MC1cXHUyQ0U0XFx1MkNFQi1cXHUyQ0VFXFx1MkNGMlxcdTJDRjNcXHUyRDAwLVxcdTJEMjVcXHUyRDI3XFx1MkQyRFxcdTJEMzAtXFx1MkQ2N1xcdTJENkZcXHUyRDgwLVxcdTJEOTZcXHUyREEwLVxcdTJEQTZcXHUyREE4LVxcdTJEQUVcXHUyREIwLVxcdTJEQjZcXHUyREI4LVxcdTJEQkVcXHUyREMwLVxcdTJEQzZcXHUyREM4LVxcdTJEQ0VcXHUyREQwLVxcdTJERDZcXHUyREQ4LVxcdTJEREVcXHUyRTJGXFx1MzAwNVxcdTMwMDZcXHUzMDMxLVxcdTMwMzVcXHUzMDNCXFx1MzAzQ1xcdTMwNDEtXFx1MzA5NlxcdTMwOUQtXFx1MzA5RlxcdTMwQTEtXFx1MzBGQVxcdTMwRkMtXFx1MzBGRlxcdTMxMDUtXFx1MzEyRFxcdTMxMzEtXFx1MzE4RVxcdTMxQTAtXFx1MzFCQVxcdTMxRjAtXFx1MzFGRlxcdTM0MDAtXFx1NERCNVxcdTRFMDAtXFx1OUZDQ1xcdUEwMDAtXFx1QTQ4Q1xcdUE0RDAtXFx1QTRGRFxcdUE1MDAtXFx1QTYwQ1xcdUE2MTAtXFx1QTYxRlxcdUE2MkFcXHVBNjJCXFx1QTY0MC1cXHVBNjZFXFx1QTY3Ri1cXHVBNjk3XFx1QTZBMC1cXHVBNkU1XFx1QTcxNy1cXHVBNzFGXFx1QTcyMi1cXHVBNzg4XFx1QTc4Qi1cXHVBNzhFXFx1QTc5MC1cXHVBNzkzXFx1QTdBMC1cXHVBN0FBXFx1QTdGOC1cXHVBODAxXFx1QTgwMy1cXHVBODA1XFx1QTgwNy1cXHVBODBBXFx1QTgwQy1cXHVBODIyXFx1QTg0MC1cXHVBODczXFx1QTg4Mi1cXHVBOEIzXFx1QThGMi1cXHVBOEY3XFx1QThGQlxcdUE5MEEtXFx1QTkyNVxcdUE5MzAtXFx1QTk0NlxcdUE5NjAtXFx1QTk3Q1xcdUE5ODQtXFx1QTlCMlxcdUE5Q0ZcXHVBQTAwLVxcdUFBMjhcXHVBQTQwLVxcdUFBNDJcXHVBQTQ0LVxcdUFBNEJcXHVBQTYwLVxcdUFBNzZcXHVBQTdBXFx1QUE4MC1cXHVBQUFGXFx1QUFCMVxcdUFBQjVcXHVBQUI2XFx1QUFCOS1cXHVBQUJEXFx1QUFDMFxcdUFBQzJcXHVBQURCLVxcdUFBRERcXHVBQUUwLVxcdUFBRUFcXHVBQUYyLVxcdUFBRjRcXHVBQjAxLVxcdUFCMDZcXHVBQjA5LVxcdUFCMEVcXHVBQjExLVxcdUFCMTZcXHVBQjIwLVxcdUFCMjZcXHVBQjI4LVxcdUFCMkVcXHVBQkMwLVxcdUFCRTJcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBNkRcXHVGQTcwLVxcdUZBRDlcXHVGQjAwLVxcdUZCMDZcXHVGQjEzLVxcdUZCMTdcXHVGQjFEXFx1RkIxRi1cXHVGQjI4XFx1RkIyQS1cXHVGQjM2XFx1RkIzOC1cXHVGQjNDXFx1RkIzRVxcdUZCNDBcXHVGQjQxXFx1RkI0M1xcdUZCNDRcXHVGQjQ2LVxcdUZCQjFcXHVGQkQzLVxcdUZEM0RcXHVGRDUwLVxcdUZEOEZcXHVGRDkyLVxcdUZEQzdcXHVGREYwLVxcdUZERkJcXHVGRTcwLVxcdUZFNzRcXHVGRTc2LVxcdUZFRkNcXHVGRjIxLVxcdUZGM0FcXHVGRjQxLVxcdUZGNUFcXHVGRjY2LVxcdUZGQkVcXHVGRkMyLVxcdUZGQzdcXHVGRkNBLVxcdUZGQ0ZcXHVGRkQyLVxcdUZGRDdcXHVGRkRBLVxcdUZGRENdKykvZztcbiAgICAgICAgcmV0dXJuIHN0ci5tYXRjaChyZWdleCkgPyAxIDogMDtcbiAgICB9XG5cbiAgICAvLyBFdmVudCBoYW5kbGVyc1xuICAgIHZhciBlZGl0b3JNb3VzZVVwID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBlZGl0b3JBY3Rpb24gPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZWRpdG9yTW91c2VEb3duID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgY2xvc2UgPSBmdW5jdGlvbihzbmlwcGV0KSB7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IHNuaXBwZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBpZiAocmVjdC53aWR0aCAtIChlLmNsaWVudFggLSByZWN0LmxlZnQpIDwgNDAgJiYgZS5jbGllbnRZIC0gcmVjdC50b3AgPCA0MCkge1xuICAgICAgICAgICAgICAgIHNuaXBwZXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICAgICAgc25pcHBldC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09ICdJTUcnKSB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuc3R5bGUuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBlZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGU6IGUudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgIHk6IGUuY2xpZW50WSxcbiAgICAgICAgICAgICAgICAgICAgdzogcmVjdC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaDogcmVjdC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGQ6IGUudGFyZ2V0LnN0eWxlLmN1cnNvcixcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoISBlLnRhcmdldC5zdHlsZS53aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS53aWR0aCA9IHJlY3Qud2lkdGggKyAncHgnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghIGUudGFyZ2V0LnN0eWxlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5oZWlnaHQgPSByZWN0LmhlaWdodCArICdweCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHMgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHMucmFuZ2VDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMucmFuZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLnJlbW92ZVJhbmdlKHMuZ2V0UmFuZ2VBdChpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVkaXRvckFjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7IFxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc25pcHBldCcpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2UoZS50YXJnZXQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnc25pcHBldCcpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2UoZS50YXJnZXQucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVkaXRvckFjdGlvbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZWRpdG9yTW91c2VNb3ZlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZS50YXJnZXQudGFnTmFtZSA9PSAnSU1HJykge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xuICAgICAgICAgICAgICAgIHZhciByZWN0ID0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGUuY2xpZW50WSAtIHJlY3QudG9wIDwgNSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjdC53aWR0aCAtIChlLmNsaWVudFggLSByZWN0LmxlZnQpIDwgNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuY3Vyc29yID0gJ25lLXJlc2l6ZSc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5jbGllbnRYIC0gcmVjdC5sZWZ0IDwgNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuY3Vyc29yID0gJ253LXJlc2l6ZSc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5jdXJzb3IgPSAnbi1yZXNpemUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZWN0LmhlaWdodCAtIChlLmNsaWVudFkgLSByZWN0LnRvcCkgPCA1KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWN0LndpZHRoIC0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgPCA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5jdXJzb3IgPSAnc2UtcmVzaXplJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmNsaWVudFggLSByZWN0LmxlZnQgPCA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5jdXJzb3IgPSAnc3ctcmVzaXplJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmN1cnNvciA9ICdzLXJlc2l6ZSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlY3Qud2lkdGggLSAoZS5jbGllbnRYIC0gcmVjdC5sZWZ0KSA8IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuY3Vyc29yID0gJ2UtcmVzaXplJztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuY2xpZW50WCAtIHJlY3QubGVmdCA8IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuY3Vyc29yID0gJ3ctcmVzaXplJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5jdXJzb3IgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZlXG4gICAgICAgIGlmIChlLndoaWNoID09IDEgJiYgZWRpdG9yQWN0aW9uICYmIGVkaXRvckFjdGlvbi5kKSB7XG4gICAgICAgICAgICBpZiAoZWRpdG9yQWN0aW9uLmQgPT0gJ2UtcmVzaXplJyB8fCBlZGl0b3JBY3Rpb24uZCA9PSAnbmUtcmVzaXplJyB8fCAgZWRpdG9yQWN0aW9uLmQgPT0gJ3NlLXJlc2l6ZScpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3JBY3Rpb24uZS5zdHlsZS53aWR0aCA9IChlZGl0b3JBY3Rpb24udyArIChlLmNsaWVudFggLSBlZGl0b3JBY3Rpb24ueCkpICsgJ3B4JztcblxuICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdIZWlnaHQgPSAoZS5jbGllbnRYIC0gZWRpdG9yQWN0aW9uLngpICogKGVkaXRvckFjdGlvbi5oIC8gZWRpdG9yQWN0aW9uLncpO1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3JBY3Rpb24uZS5zdHlsZS5oZWlnaHQgPSBlZGl0b3JBY3Rpb24uaCArIG5ld0hlaWdodCArICdweCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0hlaWdodCA9ICBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEgbmV3SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvckFjdGlvbi5kID09ICdzLXJlc2l6ZScgfHwgZWRpdG9yQWN0aW9uLmQgPT0gJ3NlLXJlc2l6ZScgfHwgZWRpdG9yQWN0aW9uLmQgPT0gJ3N3LXJlc2l6ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yQWN0aW9uLmUuc3R5bGUuaGVpZ2h0ID0gZWRpdG9yQWN0aW9uLmggKyAoZS5jbGllbnRZIC0gZWRpdG9yQWN0aW9uLnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVkaXRvcktleVVwID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoISBlZGl0b3IuaW5uZXJIVE1MKSB7XG4gICAgICAgICAgICBlZGl0b3IuaW5uZXJIVE1MID0gJzxkaXY+PGJyPjwvZGl2Pic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9ua2V5dXApID09ICdmdW5jdGlvbicpIHsgXG4gICAgICAgICAgICBvYmoub3B0aW9ucy5vbmtleXVwKGUsIGVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgdmFyIGVkaXRvcktleURvd24gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIENoZWNrIGZvciBVUkxcbiAgICAgICAgaWYgKG9iai5vcHRpb25zLnBhcnNlVVJMID09IHRydWUpIHtcbiAgICAgICAgICAgIHZlcmlmeUVkaXRvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xvc2FibGVcbiAgICAgICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy5vbmVudGVyKSA9PSAnZnVuY3Rpb24nICYmIGUud2hpY2ggPT0gMTMpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gb2JqLmdldERhdGEoKTtcbiAgICAgICAgICAgIG9iai5vcHRpb25zLm9uZW50ZXIob2JqLCBlbCwgZGF0YSwgZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9ua2V5ZG93bikgPT0gJ2Z1bmN0aW9uJykgeyBcbiAgICAgICAgICAgIG9iai5vcHRpb25zLm9ua2V5ZG93bihlLCBlbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZWRpdG9yUGFzdGUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmNsaXBib2FyZERhdGEgfHwgZS5vcmlnaW5hbEV2ZW50LmNsaXBib2FyZERhdGEpIHtcbiAgICAgICAgICAgIHZhciBodG1sID0gKGUub3JpZ2luYWxFdmVudCB8fCBlKS5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQvaHRtbCcpO1xuICAgICAgICAgICAgdmFyIHRleHQgPSAoZS5vcmlnaW5hbEV2ZW50IHx8IGUpLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xuICAgICAgICAgICAgdmFyIGZpbGUgPSAoZS5vcmlnaW5hbEV2ZW50IHx8IGUpLmNsaXBib2FyZERhdGEuZmlsZXNcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuY2xpcGJvYXJkRGF0YSkge1xuICAgICAgICAgICAgdmFyIGh0bWwgPSB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdIdG1sJyk7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IHdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTtcbiAgICAgICAgICAgIHZhciBmaWxlID0gd2luZG93LmNsaXBib2FyZERhdGEuZmlsZXNcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWxlLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gUGFzdGUgYSBpbWFnZSBmcm9tIHRoZSBjbGlwYm9hcmRcbiAgICAgICAgICAgIG9iai5hZGRGaWxlKGZpbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUGFzdGUgdGV4dFxuICAgICAgICAgICAgdGV4dCA9IHRleHQuc3BsaXQoJ1xcclxcbicpO1xuICAgICAgICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0Lm5vZGVOYW1lID09ICdESVYnICYmICEgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqZWRpdG9yJykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSB0ZXh0W2ldICsgXCI8YnI+XFxyXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dFtpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9ICc8ZGl2PicgKyB0ZXh0W2ldICsgJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJzxkaXY+PGJyPjwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbnNlcnQgdGV4dFxuICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2luc2VydEh0bWwnLCBmYWxzZSwgc3RyKTtcblxuICAgICAgICAgICAgLy8gRXh0cmEgaW1hZ2VzIGZyb20gdGhlIHBhc3RlXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuYWNjZXB0SW1hZ2VzID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBleHRyYWN0SW1hZ2VGcm9tSHRtbChodG1sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB2YXIgZWRpdG9yRHJhZ1N0YXJ0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZWRpdG9yQWN0aW9uICYmIGVkaXRvckFjdGlvbi5lKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZWRpdG9yRHJhZ0VudGVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZWRpdG9yQWN0aW9uIHx8IG9iai5vcHRpb25zLmRyb3Bab25lID09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdqZWRpdG9yLWRyYWdnaW5nJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZWRpdG9yRHJhZ092ZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlZGl0b3JBY3Rpb24gfHwgb2JqLm9wdGlvbnMuZHJvcFpvbmUgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChlZGl0b3JUaW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChlZGl0b3JUaW1lcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVkaXRvclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdqZWRpdG9yLWRyYWdnaW5nJyk7XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVkaXRvckRyb3AgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlZGl0b3JBY3Rpb24gfHwgb2JqLm9wdGlvbnMuZHJvcFpvbmUgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFBvc2l0aW9uIGNhcmV0IG9uIHRoZSBkcm9wXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQpIHtcbiAgICAgICAgICAgICAgICByYW5nZT1kb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50KGUuY2xpZW50WCwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5yYW5nZVBhcmVudCkge1xuICAgICAgICAgICAgICAgIHJhbmdlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoZS5yYW5nZVBhcmVudCxlLnJhbmdlT2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgc2VsLmFuY2hvck5vZGUucGFyZW50Tm9kZS5mb2N1cygpO1xuXG4gICAgICAgICAgICB2YXIgaHRtbCA9IChlLm9yaWdpbmFsRXZlbnQgfHwgZSkuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvaHRtbCcpO1xuICAgICAgICAgICAgdmFyIHRleHQgPSAoZS5vcmlnaW5hbEV2ZW50IHx8IGUpLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgICAgICAgICB2YXIgZmlsZSA9IChlLm9yaWdpbmFsRXZlbnQgfHwgZSkuZGF0YVRyYW5zZmVyLmZpbGVzO1xuICAgIFxuICAgICAgICAgICAgaWYgKGZpbGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgb2JqLmFkZEZpbGUoZmlsZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgICBleHRyYWN0SW1hZ2VGcm9tSHRtbChodG1sKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnamVkaXRvci1kcmFnZ2luZycpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVkaXRvckJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb2JqLm9wdGlvbnMub25ibHVyKG9iaiwgZWwsIG9iai5nZXREYXRhKCkpO1xuICAgIH1cblxuICAgIHZhciBlZGl0b3JGb2N1cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBvYmoub3B0aW9ucy5vbmZvY3VzKG9iaiwgZWwsIG9iai5nZXREYXRhKCkpO1xuICAgIH1cblxuICAgIGVkaXRvci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZWRpdG9yTW91c2VVcCk7XG4gICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGVkaXRvck1vdXNlRG93bik7XG4gICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGVkaXRvck1vdXNlTW92ZSk7XG4gICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZWRpdG9yS2V5VXApO1xuICAgIGVkaXRvci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZWRpdG9yS2V5RG93bik7XG4gICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGVkaXRvckRyYWdTdGFydCk7XG4gICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIGVkaXRvckRyYWdFbnRlcik7XG4gICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZWRpdG9yRHJhZ092ZXIpO1xuICAgIGVkaXRvci5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZWRpdG9yRHJvcCk7XG4gICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgZWRpdG9yUGFzdGUpO1xuXG4gICAgLy8gQmx1clxuICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25ibHVyKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGVkaXRvci5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZWRpdG9yQmx1cik7XG4gICAgfVxuXG4gICAgLy8gRm9jdXNcbiAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9uZm9jdXMpID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZWRpdG9yRm9jdXMpO1xuICAgIH1cblxuICAgIC8vIE9ubG9hZFxuICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25sb2FkKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9iai5vcHRpb25zLm9ubG9hZChlbCwgZWRpdG9yKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdmFsdWUgdG8gdGhlIGVkaXRvclxuICAgIGVkaXRvci5pbm5lckhUTUwgPSB2YWx1ZTtcblxuICAgIC8vIEFwcGVuZCBlZGl0b3IgdG8gdGhlIGNvbnRhaW5yZVxuICAgIGVsLmFwcGVuZENoaWxkKGVkaXRvcik7XG5cbiAgICAvLyBTbmlwcGV0XG4gICAgaWYgKG9iai5vcHRpb25zLnNuaXBwZXQpIHtcbiAgICAgICAgYXBwZW5kRWxlbWVudChvYmoub3B0aW9ucy5zbmlwcGV0KTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IHRvb2xiYXJcbiAgICBpZiAob2JqLm9wdGlvbnMudG9vbGJhciA9PSBudWxsKSB7XG4gICAgICAgIG9iai5vcHRpb25zLnRvb2xiYXIgPSBqU3VpdGVzLmVkaXRvci5nZXREZWZhdWx0VG9vbGJhcigpO1xuICAgIH1cblxuICAgIC8vIEFkZCB0b29sYmFyXG4gICAgaWYgKG9iai5vcHRpb25zLnRvb2xiYXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoub3B0aW9ucy50b29sYmFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMudG9vbGJhcltpXS5pY29uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1JY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuICAgICAgICAgICAgICAgIGl0ZW1JY29uLmNsYXNzTmFtZSA9ICdtYXRlcmlhbC1pY29ucyc7XG4gICAgICAgICAgICAgICAgaXRlbUljb24uaW5uZXJIVE1MID0gb2JqLm9wdGlvbnMudG9vbGJhcltpXS5pY29uO1xuICAgICAgICAgICAgICAgIGl0ZW1JY29uLm9uY2xpY2sgPSAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBhO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMudG9vbGJhcltiXS5vbmNsaWNrKGVsLCBvYmosIHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkoaSk7XG4gICAgICAgICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChpdGVtSWNvbik7XG4gICAgICAgICAgICAgICAgdG9vbGJhci5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnRvb2xiYXJbaV0udHlwZSA9PSAnZGl2aXNvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnamVkaXRvci10b29sYmFyLWRpdmlzb3InO1xuICAgICAgICAgICAgICAgICAgICB0b29sYmFyLmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqLm9wdGlvbnMudG9vbGJhcltpXS50eXBlID09ICdidXR0b24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnamVkaXRvci10b29sYmFyLWJ1dHRvbicpO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmlubmVySFRNTCA9IG9iai5vcHRpb25zLnRvb2xiYXJbaV0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xiYXIuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQodG9vbGJhcik7XG4gICAgfVxuXG4gICAgLy8gRm9jdXMgdG8gdGhlIGVkaXRvclxuICAgIGlmIChvYmoub3B0aW9ucy5mb2N1cykge1xuICAgICAgICBqU3VpdGVzLmVkaXRvci5zZXRDdXJzb3IoZWRpdG9yLCBvYmoub3B0aW9ucy5mb2N1cyA9PSAnaW5pdGlhbCcgPyB0cnVlIDogZmFsc2UpO1xuICAgIH1cblxuICAgIGVsLmVkaXRvciA9IG9iajtcblxuICAgIHJldHVybiBvYmo7XG59KTtcblxualN1aXRlcy5lZGl0b3Iuc2V0Q3Vyc29yID0gZnVuY3Rpb24oZWxlbWVudCwgZmlyc3QpIHtcbiAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ3NlbGVjdEFsbCcpO1xuICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgdmFyIHJhbmdlID0gc2VsLmdldFJhbmdlQXQoMCk7XG4gICAgaWYgKGZpcnN0ID09IHRydWUpIHtcbiAgICAgICAgdmFyIG5vZGUgPSByYW5nZS5zdGFydENvbnRhaW5lcjtcbiAgICAgICAgdmFyIHNpemUgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBub2RlID0gcmFuZ2UuZW5kQ29udGFpbmVyO1xuICAgICAgICB2YXIgc2l6ZSA9IG5vZGUubGVuZ3RoO1xuICAgIH1cbiAgICByYW5nZS5zZXRTdGFydChub2RlLCBzaXplKTtcbiAgICByYW5nZS5zZXRFbmQobm9kZSwgc2l6ZSk7XG4gICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG59XG5cbmpTdWl0ZXMuZWRpdG9yLmdldERvbWFpbiA9IGZ1bmN0aW9uKHVybCkge1xuICAgIHJldHVybiB1cmwucmVwbGFjZSgnaHR0cDovLycsJycpLnJlcGxhY2UoJ2h0dHBzOi8vJywnJykucmVwbGFjZSgnd3d3LicsJycpLnNwbGl0KC9bLz8jXS8pWzBdLnNwbGl0KC86L2cpWzBdO1xufVxuXG5qU3VpdGVzLmVkaXRvci5kZXRlY3RVcmwgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdmFyIGV4cHJlc3Npb24gPSAvKCgoaHR0cHM/OlxcL1xcLyl8KHd3d1xcLikpWy1BLVowLTkrJkAjXFwvJT89fl98ITosLjtdKlstQS1aMC05KyZAI1xcLyU9fl98XSspL2lnO1xuICAgIHZhciBsaW5rcyA9IHRleHQubWF0Y2goZXhwcmVzc2lvbik7XG5cbiAgICBpZiAobGlua3MpIHtcbiAgICAgICAgaWYgKGxpbmtzWzBdLnN1YnN0cigwLDMpID09ICd3d3cnKSB7XG4gICAgICAgICAgICBsaW5rc1swXSA9ICdodHRwOi8vJyArIGxpbmtzWzBdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpbmtzO1xufVxuXG5qU3VpdGVzLmVkaXRvci55b3V0dWJlUGFyc2VyID0gZnVuY3Rpb24odXJsKSB7XG4gICAgdmFyIHJlZ0V4cCA9IC9eLiooKHlvdXR1LmJlXFwvKXwodlxcLyl8KFxcL3VcXC9cXHdcXC8pfChlbWJlZFxcLyl8KHdhdGNoXFw/KSlcXD8/dj89PyhbXiNcXCZcXD9dKikuKi87XG4gICAgdmFyIG1hdGNoID0gdXJsLm1hdGNoKHJlZ0V4cCk7XG5cbiAgICByZXR1cm4gKG1hdGNoICYmIG1hdGNoWzddLmxlbmd0aCA9PSAxMSkgPyBtYXRjaFs3XSA6IGZhbHNlO1xufVxuXG5qU3VpdGVzLmVkaXRvci5nZXREZWZhdWx0VG9vbGJhciA9IGZ1bmN0aW9uKCkgeyBcbiAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgICBpY29uOid1bmRvJyxcbiAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCd1bmRvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGljb246J3JlZG8nLFxuICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ3JlZG8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTonZGl2aXNvcidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWNvbjonZm9ybWF0X2JvbGQnLFxuICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24oYSxiLGMpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnYm9sZCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKFwiYm9sZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBjLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWNvbjonZm9ybWF0X2l0YWxpYycsXG4gICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbihhLGIsYykge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdpdGFsaWMnKTtcblxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShcIml0YWxpY1wiKSkge1xuICAgICAgICAgICAgICAgICAgICBjLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWNvbjonZm9ybWF0X3VuZGVybGluZScsXG4gICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbihhLGIsYykge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCd1bmRlcmxpbmUnKTtcblxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShcInVuZGVybGluZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBjLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTonZGl2aXNvcidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWNvbjonZm9ybWF0X2xpc3RfYnVsbGV0ZWQnLFxuICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24oYSxiLGMpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnaW5zZXJ0VW5vcmRlcmVkTGlzdCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKFwiaW5zZXJ0VW5vcmRlcmVkTGlzdFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBjLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWNvbjonZm9ybWF0X2xpc3RfbnVtYmVyZWQnLFxuICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24oYSxiLGMpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnaW5zZXJ0T3JkZXJlZExpc3QnKTtcblxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShcImluc2VydE9yZGVyZWRMaXN0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGMuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpY29uOidmb3JtYXRfaW5kZW50X2luY3JlYXNlJyxcbiAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uKGEsYixjKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2luZGVudCcsIHRydWUsIG51bGwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKFwiaW5kZW50XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGMuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpY29uOidmb3JtYXRfaW5kZW50X2RlY3JlYXNlJyxcbiAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uKGEsYixjKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ291dGRlbnQnKTtcblxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShcIm91dGRlbnRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgYy5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGMuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyp7XG4gICAgICAgICAgICB0eXBlOidzZWxlY3QnLFxuICAgICAgICAgICAgaXRlbXM6IFsnVmVyZGFuYScsJ0FyaWFsJywnQ291cmllciBOZXcnXSxcbiAgICAgICAgICAgIG9uY2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTonc2VsZWN0JyxcbiAgICAgICAgICAgIGl0ZW1zOiBbJzEwcHgnLCcxMnB4JywnMTRweCcsJzE2cHgnLCcxOHB4JywnMjBweCcsJzIycHgnXSxcbiAgICAgICAgICAgIG9uY2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWNvbjonZm9ybWF0X2FsaWduX2xlZnQnLFxuICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ0p1c3RpZnlMZWZ0Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUoXCJKdXN0aWZ5TGVmdFwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWNvbjonZm9ybWF0X2FsaWduX2NlbnRlcicsXG4gICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnanVzdGlmeUNlbnRlcicpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKFwianVzdGlmeUNlbnRlclwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWNvbjonZm9ybWF0X2FsaWduX3JpZ2h0JyxcbiAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdqdXN0aWZ5UmlnaHQnKTtcblxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShcImp1c3RpZnlSaWdodFwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWNvbjonZm9ybWF0X2FsaWduX2p1c3RpZnknLFxuICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2p1c3RpZnlGdWxsJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUoXCJqdXN0aWZ5RnVsbFwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWNvbjonZm9ybWF0X2xpc3RfYnVsbGV0ZWQnLFxuICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2luc2VydFVub3JkZXJlZExpc3QnKTtcblxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShcImluc2VydFVub3JkZXJlZExpc3RcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0qL1xuICAgIF07XG59XG5cclxuXHJcbmpTdWl0ZXMuaW1hZ2UgPSAoZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcclxuICAgIHZhciBvYmogPSB7fTtcclxuICAgIG9iai5vcHRpb25zID0ge307XHJcblxyXG4gICAgLy8gRGVmYXVsdCBjb25maWd1cmF0aW9uXHJcbiAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgbWluV2lkdGg6IGZhbHNlLFxyXG4gICAgICAgIG9uY2hhbmdlOiBudWxsLFxyXG4gICAgICAgIHNpbmdsZUZpbGU6IHRydWUsXHJcbiAgICAgICAgcmVtb3RlUGFyc2VyOiBudWxsLFxyXG4gICAgICAgIHRleHQ6e1xyXG4gICAgICAgICAgICBleHRlbnNpb25Ob3RBbGxvd2VkOidUaGUgZXh0ZW5zaW9uIGlzIG5vdCBhbGxvd2VkJyxcclxuICAgICAgICAgICAgaW1hZ2VUb29TbWFsbDonVGhlIHJlc29sdXRpb24gaXMgdG9vIGxvdywgdHJ5IGEgaW1hZ2Ugd2l0aCBhIGJldHRlciByZXNvbHV0aW9uLiB3aWR0aCA+IDgwMHB4JyxcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCBvdXIgb2JqZWN0XHJcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkZWZhdWx0cykge1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XSA9IG9wdGlvbnNbcHJvcGVydHldO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XSA9IGRlZmF1bHRzW3Byb3BlcnR5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBsb2FkIGljb25cclxuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2p1cGxvYWQnKTtcclxuXHJcbiAgICAvLyBBZGQgaW1hZ2VcclxuICAgIG9iai5hZGRJbWFnZSA9IGZ1bmN0aW9uKGZpbGUpIHtcclxuICAgICAgICBpZiAoISBmaWxlLmRhdGUpIHtcclxuICAgICAgICAgICAgZmlsZS5kYXRlID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdkYXRhLWRhdGUnLCBmaWxlLmxhc3Rtb2RpZmllZCA/IGZpbGUubGFzdG1vZGlmaWVkIDogZmlsZS5kYXRlKTtcclxuICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnLCBmaWxlLm5hbWUpO1xyXG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2l6ZScsIGZpbGUuc2l6ZSk7XHJcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnZGF0YS1zbWFsbCcsIGZpbGUuc21hbGwgPyBmaWxlLnNtYWxsIDogJycpO1xyXG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY292ZXInLCBmaWxlLmNvdmVyID8gMSA6IDApO1xyXG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtZXh0ZW5zaW9uJywgZmlsZS5leHRlbnNpb24pO1xyXG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGZpbGUuZmlsZSk7XHJcbiAgICAgICAgaW1nLmNsYXNzTmFtZSA9ICdqZmlsZSc7XHJcbiAgICAgICAgaW1nLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG5cclxuICAgICAgICByZXR1cm4gaW1nO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBpbWFnZVxyXG4gICAgb2JqLmFkZEltYWdlcyA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICAgaWYgKG9iai5vcHRpb25zLnNpbmdsZUZpbGUgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBlbC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQob2JqLmFkZEltYWdlKGZpbGVzW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9iai5hZGRGcm9tRmlsZSA9IGZ1bmN0aW9uKGZpbGUpIHtcclxuICAgICAgICB2YXIgdHlwZSA9IGZpbGUudHlwZS5zcGxpdCgnLycpO1xyXG4gICAgICAgIGlmICh0eXBlWzBdID09ICdpbWFnZScpIHtcclxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnNpbmdsZUZpbGUgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBpbWFnZUZpbGUgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICBpbWFnZUZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKHYpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uIG9ubG9hZCgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBjYW52YXMudG9EYXRhVVJMKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbjogZmlsZS5uYW1lLnN1YnN0cihmaWxlLm5hbWUubGFzdEluZGV4T2YoJy4nKSArIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IGZpbGUuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdG1vZGlmaWVkOiBmaWxlLmxhc3RNb2RpZmllZCxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ltYWdlID0gb2JqLmFkZEltYWdlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKG5ld0ltYWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT25jaGFuZ2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9uY2hhbmdlKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm9uY2hhbmdlKG5ld0ltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGltZy5zcmMgPSB2LnNyY0VsZW1lbnQucmVzdWx0O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGltYWdlRmlsZS5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KHRleHQuZXh0ZW50aW9uTm90QWxsb3dlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9iai5hZGRGcm9tVXJsID0gZnVuY3Rpb24oc3JjKSB7XHJcbiAgICAgICAgaWYgKHNyYy5zdWJzdHIoMCw0KSAhPSAnZGF0YScgJiYgISBvYmoub3B0aW9ucy5yZW1vdGVQYXJzZXIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcigncmVtb3RlUGFyc2VyIG5vdCBkZWZpbmVkIGluIHlvdXIgaW5pdGlhbGl6YXRpb24nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRvIHByb2Nlc3MgY3Jvc3MgZG9tYWluIGltYWdlc1xyXG4gICAgICAgICAgICBpZiAoc3JjLnN1YnN0cigwLDQpID09ICdkYXRhJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV4dGVuc2lvbiA9IHNyYy5zcGxpdCgnOycpXHJcbiAgICAgICAgICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb25bMF0uc3BsaXQoJy8nKTtcclxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvblsxXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBleHRlbnNpb24gPSBzcmMuc3Vic3RyKHNyYy5sYXN0SW5kZXhPZignLicpICsgMSk7XHJcbiAgICAgICAgICAgICAgICAvLyBXb3JrIGZvciBjcm9zcyBicm93c2Vyc1xyXG4gICAgICAgICAgICAgICAgc3JjID0gb2JqLm9wdGlvbnMucmVtb3RlUGFyc2VyICsgc3JjO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcblxyXG4gICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gb25sb2FkKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FudmFzLnRvQmxvYihmdW5jdGlvbihibG9iKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb246IGV4dGVuc2lvblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SW1hZ2UgPSBvYmouYWRkSW1hZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQobmV3SW1hZ2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIGJhc2U2NCByZWFkeSB0byBnb1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gY2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGpTdWl0ZXMuZmlsZXNbZGF0YS5maWxlXSA9IGNvbnRlbnQuc3Vic3RyKGNvbnRlbnQuaW5kZXhPZignLCcpICsgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9uY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy5vbmNoYW5nZSkgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5vbmNoYW5nZShuZXdJbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpbWcuc3JjID0gc3JjO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgYXR0YWNobWVudElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIGF0dGFjaG1lbnRJbnB1dC50eXBlID0gJ2ZpbGUnO1xyXG4gICAgYXR0YWNobWVudElucHV0LnNldEF0dHJpYnV0ZSgnYWNjZXB0JywgJ2ltYWdlLyonKTtcclxuICAgIGF0dGFjaG1lbnRJbnB1dC5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBvYmouYWRkRnJvbUZpbGUodGhpcy5maWxlc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgalN1aXRlcy5jbGljayhhdHRhY2htZW50SW5wdXQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGVsLnN0eWxlLmJvcmRlciA9ICcxcHggZGFzaGVkICMwMDAnO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGVsLnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgI2VlZSc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RvcCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlbC5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkICNlZWUnO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7ICBcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGh0bWwgPSAoZS5vcmlnaW5hbEV2ZW50IHx8IGUpLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L2h0bWwnKTtcclxuICAgICAgICB2YXIgZmlsZSA9IChlLm9yaWdpbmFsRXZlbnQgfHwgZSkuZGF0YVRyYW5zZmVyLmZpbGVzO1xyXG5cclxuICAgICAgICBpZiAoZmlsZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlLmRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgb2JqLmFkZEZyb21GaWxlKGUuZGF0YVRyYW5zZmVyLmZpbGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaHRtbCkge1xyXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuc2luZ2xlRmlsZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRlbXAgZWxlbWVudFxyXG4gICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sO1xyXG5cclxuICAgICAgICAgICAgLy8gRXh0cmFjdCBpbWFnZXNcclxuICAgICAgICAgICAgdmFyIGltZyA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpbWcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5hZGRGcm9tVXJsKGltZ1tpXS5zcmMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbC5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkICNlZWUnO1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICBlbC5pbWFnZSA9IG9iajtcclxuXHJcbiAgICByZXR1cm4gb2JqO1xyXG59KTtcclxuXHJcbi8qKlxuICogKGMpIGpMb2FkaW5nXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGF1bGhvZGVsL2p0b29sc1xuICpcbiAqIEBhdXRob3I6IFBhdWwgSG9kZWwgPHBhdWwuaG9kZWxAZ21haWwuY29tPlxuICogQGRlc2NyaXB0aW9uOiBQYWdlIGxvYWRpbmcgc3BpblxuICovXG5cbmpTdWl0ZXMubG9hZGluZyA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgb2JqID0ge307XG5cbiAgICB2YXIgbG9hZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxvYWRpbmcuY2xhc3NOYW1lID0gJ2psb2FkaW5nJztcblxuICAgIG9iai5zaG93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobG9hZGluZyk7XG4gICAgfTtcblxuICAgIG9iai5oaWRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobG9hZGluZyk7XG4gICAgfTtcblxuICAgIHJldHVybiBvYmo7XG59KSgpO1xyXG5cclxuLyoqXG4gKiAoYykgakxvZ2luXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGF1bGhvZGVsL2p0b29sc1xuICpcbiAqIEBhdXRob3I6IFBhdWwgSG9kZWwgPHBhdWwuaG9kZWxAZ21haWwuY29tPlxuICogQGRlc2NyaXB0aW9uOiBMb2dpbiBoZWxwZXJcbiAqL1xuXG5qU3VpdGVzLmxvZ2luID0gKGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIG9iai5vcHRpb25zID0ge307XG5cbiAgICAvLyBEZWZhdWx0IGNvbmZpZ3VyYXRpb25cbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgIHByZXBhcmVSZXF1ZXN0OiBudWxsLFxuICAgICAgICBhY2Nlc3NUb2tlbjogbnVsbCxcbiAgICAgICAgZGV2aWNlVG9rZW46IG51bGwsXG4gICAgICAgIGZhY2Vib29rVXJsOiBudWxsLFxuICAgICAgICBmYWNlYm9va0F1dGhlbnRpY2F0aW9uOiBudWxsLFxuICAgICAgICBtYXhIZWlnaHQ6IG51bGwsXG4gICAgICAgIG9ubG9hZDogbnVsbCxcbiAgICAgICAgb25zdWNjZXNzOiBudWxsLFxuICAgICAgICBvbmVycm9yOiBudWxsLFxuICAgICAgICBtZXNzYWdlOiBudWxsLFxuICAgICAgICBsb2dvOiBudWxsLFxuICAgICAgICBuZXdQcm9maWxlOiBmYWxzZSxcbiAgICAgICAgbmV3UHJvZmlsZVVybDogZmFsc2UsXG4gICAgICAgIG5ld1Byb2ZpbGVMb2dpbjogZmFsc2UsXG4gICAgICAgIGZ1bGxzY3JlZW46IGZhbHNlLFxuICAgICAgICBuZXdQYXNzd29yZFZhbGlkYXRpb246IG51bGwsXG4gICAgfTtcblxuICAgIC8vIExvb3AgdGhyb3VnaCBvdXIgb2JqZWN0XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XSA9IG9wdGlvbnNbcHJvcGVydHldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqLm9wdGlvbnNbcHJvcGVydHldID0gZGVmYXVsdHNbcHJvcGVydHldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWVzc2FnZSBjb25zb2xlIGNvbnRhaW5lclxuICAgIGlmICghIG9iai5vcHRpb25zLm1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lc3NhZ2UnKTtcbiAgICAgICAgaWYgKG1lc3NhZ2VFbGVtZW50KSB7XG4gICAgICAgICAgICBvYmoub3B0aW9ucy5tZXNzYWdlID0gbWVzc2FnZUVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBY3Rpb25cbiAgICB2YXIgYWN0aW9uID0gbnVsbDtcblxuICAgIC8vIENvbnRhaW5lclxuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgZWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgIC8vIExvZ29cbiAgICB2YXIgZGl2TG9nbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdkxvZ28uY2xhc3NOYW1lID0gJ2psb2dpbi1sb2dvJ1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZMb2dvKTtcblxuICAgIGlmIChvYmoub3B0aW9ucy5sb2dvKSB7XG4gICAgICAgIHZhciBsb2dvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGxvZ28uc3JjID0gb2JqLm9wdGlvbnMubG9nbztcbiAgICAgICAgZGl2TG9nby5hcHBlbmRDaGlsZChsb2dvKTtcbiAgICB9XG5cbiAgICAvLyBDb2RlXG4gICAgdmFyIGxhYmVsQ29kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgbGFiZWxDb2RlLmlubmVySFRNTCA9ICdQbGVhc2UgZW50ZXIgaGVyZSB0aGUgY29kZSByZWNlaXZlZCc7XG4gICAgdmFyIGlucHV0Q29kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wdXRDb2RlLnR5cGUgPSAnbnVtYmVyJztcbiAgICBpbnB1dENvZGUuaWQgPSAnY29kZSc7XG4gICAgaW5wdXRDb2RlLnNldEF0dHJpYnV0ZSgnbWF4bGVuZ3RoJywgNik7XG4gICAgdmFyIGRpdkNvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXZDb2RlLmFwcGVuZENoaWxkKGxhYmVsQ29kZSk7XG4gICAgZGl2Q29kZS5hcHBlbmRDaGlsZChpbnB1dENvZGUpO1xuXG4gICAgLy8gSGFzaFxuICAgIHZhciBpbnB1dEhhc2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0SGFzaC50eXBlID0gJ2hpZGRlbic7XG4gICAgaW5wdXRIYXNoLm5hbWUgPSAnaCc7XG4gICAgdmFyIGRpdkhhc2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXZIYXNoLmFwcGVuZENoaWxkKGlucHV0SGFzaCk7XG5cbiAgICAvLyBSZWNvdmVyeVxuICAgIHZhciBpbnB1dFJlY292ZXJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBpbnB1dFJlY292ZXJ5LnR5cGUgPSAnaGlkZGVuJztcbiAgICBpbnB1dFJlY292ZXJ5Lm5hbWUgPSAncmVjb3ZlcnknO1xuICAgIGlucHV0UmVjb3ZlcnkudmFsdWUgPSAnMSc7XG4gICAgdmFyIGRpdlJlY292ZXJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2UmVjb3ZlcnkuYXBwZW5kQ2hpbGQoaW5wdXRSZWNvdmVyeSk7XG5cbiAgICAvLyBMb2dpblxuICAgIHZhciBsYWJlbExvZ2luID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBsYWJlbExvZ2luLmlubmVySFRNTCA9ICdMb2dpbic7XG4gICAgdmFyIGlucHV0TG9naW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0TG9naW4udHlwZSA9ICd0ZXh0JztcbiAgICBpbnB1dExvZ2luLm5hbWUgPSAnbG9naW4nO1xuICAgIGlucHV0TG9naW4uc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG4gICAgaW5wdXRMb2dpbi5vbmtleXVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW15hLXpBLVowLTlfK10rL2dpLCAnJyk7XG4gICAgfSBcbiAgICB2YXIgZGl2TG9naW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXZMb2dpbi5hcHBlbmRDaGlsZChsYWJlbExvZ2luKTtcbiAgICBkaXZMb2dpbi5hcHBlbmRDaGlsZChpbnB1dExvZ2luKTtcblxuICAgIC8vIE5hbWVcbiAgICB2YXIgbGFiZWxOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBsYWJlbE5hbWUuaW5uZXJIVE1MID0gJ05hbWUnO1xuICAgIHZhciBpbnB1dE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0TmFtZS50eXBlID0gJ3RleHQnO1xuICAgIGlucHV0TmFtZS5uYW1lID0gJ25hbWUnO1xuICAgIHZhciBkaXZOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2TmFtZS5hcHBlbmRDaGlsZChsYWJlbE5hbWUpO1xuICAgIGRpdk5hbWUuYXBwZW5kQ2hpbGQoaW5wdXROYW1lKTtcblxuICAgIC8vIEVtYWlsXG4gICAgdmFyIGxhYmVsVXNlcm5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGxhYmVsVXNlcm5hbWUuaW5uZXJIVE1MID0gJ0UtbWFpbCc7XG4gICAgdmFyIGlucHV0VXNlcm5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0VXNlcm5hbWUudHlwZSA9ICd0ZXh0JztcbiAgICBpbnB1dFVzZXJuYW1lLm5hbWUgPSAndXNlcm5hbWUnO1xuICAgIGlucHV0VXNlcm5hbWUuc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCAnbmV3LXVzZXJuYW1lJyk7XG4gICAgdmFyIGRpdlVzZXJuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2VXNlcm5hbWUuYXBwZW5kQ2hpbGQobGFiZWxVc2VybmFtZSk7XG4gICAgZGl2VXNlcm5hbWUuYXBwZW5kQ2hpbGQoaW5wdXRVc2VybmFtZSk7XG5cbiAgICAvLyBQYXNzd29yZFxuICAgIHZhciBsYWJlbFBhc3N3b3JkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBsYWJlbFBhc3N3b3JkLmlubmVySFRNTCA9ICdOZXcgcGFzc3dvcmQnO1xuICAgIHZhciBpbnB1dFBhc3N3b3JkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBpbnB1dFBhc3N3b3JkLnR5cGUgPSAncGFzc3dvcmQnO1xuICAgIGlucHV0UGFzc3dvcmQubmFtZSA9ICdwYXNzd29yZCc7XG4gICAgaW5wdXRQYXNzd29yZC5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsICduZXctcGFzc3dvcmQnKTtcbiAgICB2YXIgZGl2UGFzc3dvcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXZQYXNzd29yZC5hcHBlbmRDaGlsZChsYWJlbFBhc3N3b3JkKTtcbiAgICBkaXZQYXNzd29yZC5hcHBlbmRDaGlsZChpbnB1dFBhc3N3b3JkKTtcbiAgICBkaXZQYXNzd29yZC5vbmtleWRvd24gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcbiAgICAgICAgICAgIG9iai5leGVjdXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXBlYXQgcGFzc3dvcmRcbiAgICB2YXIgbGFiZWxSZXBlYXRQYXNzd29yZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgbGFiZWxSZXBlYXRQYXNzd29yZC5pbm5lckhUTUwgPSAnUmVwZWF0IHRoZSBuZXcgcGFzc3dvcmQnO1xuICAgIHZhciBpbnB1dFJlcGVhdFBhc3N3b3JkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBpbnB1dFJlcGVhdFBhc3N3b3JkLnR5cGUgPSAncGFzc3dvcmQnO1xuICAgIGlucHV0UmVwZWF0UGFzc3dvcmQubmFtZSA9ICdwYXNzd29yZCc7XG4gICAgdmFyIGRpdlJlcGVhdFBhc3N3b3JkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2UmVwZWF0UGFzc3dvcmQuYXBwZW5kQ2hpbGQobGFiZWxSZXBlYXRQYXNzd29yZCk7XG4gICAgZGl2UmVwZWF0UGFzc3dvcmQuYXBwZW5kQ2hpbGQoaW5wdXRSZXBlYXRQYXNzd29yZCk7XG5cbiAgICAvLyBSZW1lbWJlciBjaGVja2JveFxuICAgIHZhciBsYWJlbFJlbWVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBsYWJlbFJlbWVtYmVyLmlubmVySFRNTCA9ICdSZW1lbWJlciBtZSBvbiB0aGlzIGRldmljZSc7XG4gICAgdmFyIGlucHV0UmVtZW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0UmVtZW1iZXIudHlwZSA9ICdjaGVja2JveCc7XG4gICAgaW5wdXRSZW1lbWJlci5uYW1lID0gJ3JlbWVtYmVyJztcbiAgICBpbnB1dFJlbWVtYmVyLnZhbHVlID0gJzEnO1xuICAgIGxhYmVsUmVtZW1iZXIuYXBwZW5kQ2hpbGQoaW5wdXRSZW1lbWJlcik7XG4gICAgdmFyIGRpdlJlbWVtYmVyQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2UmVtZW1iZXJCdXR0b24uY2xhc3NOYW1lID0gJ3JlbWVtYmVyQnV0dG9uJztcbiAgICBkaXZSZW1lbWJlckJ1dHRvbi5hcHBlbmRDaGlsZChsYWJlbFJlbWVtYmVyKTtcblxuICAgIC8vIExvZ2luIGJ1dHRvblxuICAgIHZhciBhY3Rpb25CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGFjdGlvbkJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgYWN0aW9uQnV0dG9uLnZhbHVlID0gJ0xvZyBJbic7XG4gICAgYWN0aW9uQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb2JqLmV4ZWN1dGUoKTtcbiAgICB9XG4gICAgdmFyIGRpdkFjdGlvbkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdkFjdGlvbkJ1dHRvbi5hcHBlbmRDaGlsZChhY3Rpb25CdXR0b24pO1xuXG4gICAgLy8gQ2FuY2VsIGJ1dHRvblxuICAgIHZhciBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYW5jZWxCdXR0b24uaW5uZXJIVE1MID0gJ0NhbmNlbCc7XG4gICAgY2FuY2VsQnV0dG9uLmNsYXNzTmFtZSA9ICdjYW5jZWxCdXR0b24nO1xuICAgIGNhbmNlbEJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG9iai5yZXF1ZXN0QWNjZXNzKCk7XG4gICAgfVxuICAgIHZhciBkaXZDYW5jZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXZDYW5jZWxCdXR0b24uYXBwZW5kQ2hpbGQoY2FuY2VsQnV0dG9uKTtcblxuICAgIC8vIENhcHRjaGFcbiAgICB2YXIgbGFiZWxDYXB0Y2hhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBsYWJlbENhcHRjaGEuaW5uZXJIVE1MID0gJ1BsZWFzZSB0eXBlIGhlcmUgdGhlIGNvZGUgYmVsb3cnO1xuICAgIHZhciBpbnB1dENhcHRjaGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0Q2FwdGNoYS50eXBlID0gJ3RleHQnO1xuICAgIGlucHV0Q2FwdGNoYS5uYW1lID0gJ2NhcHRjaGEnO1xuICAgIHZhciBpbWFnZUNhcHRjaGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICB2YXIgZGl2Q2FwdGNoYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdkNhcHRjaGEuY2xhc3NOYW1lID0gJ2psb2dpbi1jYXB0Y2hhJztcbiAgICBkaXZDYXB0Y2hhLmFwcGVuZENoaWxkKGxhYmVsQ2FwdGNoYSk7XG4gICAgZGl2Q2FwdGNoYS5hcHBlbmRDaGlsZChpbnB1dENhcHRjaGEpO1xuICAgIGRpdkNhcHRjaGEuYXBwZW5kQ2hpbGQoaW1hZ2VDYXB0Y2hhKTtcblxuICAgIC8vIEZhY2Vib29rXG4gICAgdmFyIGZhY2Vib29rQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZmFjZWJvb2tCdXR0b24uaW5uZXJIVE1MID0gJ0xvZ2luIHdpdGggRmFjZWJvb2snO1xuICAgIGZhY2Vib29rQnV0dG9uLmNsYXNzTmFtZSA9ICdmYWNlYm9va0J1dHRvbic7XG4gICAgdmFyIGRpdkZhY2Vib29rQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2RmFjZWJvb2tCdXR0b24uYXBwZW5kQ2hpbGQoZmFjZWJvb2tCdXR0b24pO1xuICAgIGRpdkZhY2Vib29rQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb2JqLnJlcXVlc3RMb2dpblZpYUZhY2Vib29rKCk7XG4gICAgfVxuICAgIC8vIEZvcmdvdCBwYXNzd29yZFxuICAgIHZhciBpbnB1dFJlcXVlc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgaW5wdXRSZXF1ZXN0LmlubmVySFRNTCA9ICdSZXF1ZXN0IGEgbmV3IHBhc3N3b3JkJztcbiAgICB2YXIgZGl2UmVxdWVzdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdlJlcXVlc3RCdXR0b24uY2xhc3NOYW1lID0gJ3JlcXVlc3RCdXR0b24nO1xuICAgIGRpdlJlcXVlc3RCdXR0b24uYXBwZW5kQ2hpbGQoaW5wdXRSZXF1ZXN0KTtcbiAgICBkaXZSZXF1ZXN0QnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb2JqLnJlcXVlc3ROZXdQYXNzd29yZCgpO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgYSBuZXcgUHJvZmlsZVxuICAgIHZhciBpbnB1dE5ld1Byb2ZpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgaW5wdXROZXdQcm9maWxlLmlubmVySFRNTCA9ICdDcmVhdGUgYSBuZXcgcHJvZmlsZSc7XG4gICAgdmFyIGRpdk5ld1Byb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXZOZXdQcm9maWxlQnV0dG9uLmNsYXNzTmFtZSA9ICduZXdQcm9maWxlQnV0dG9uJztcbiAgICBkaXZOZXdQcm9maWxlQnV0dG9uLmFwcGVuZENoaWxkKGlucHV0TmV3UHJvZmlsZSk7XG4gICAgZGl2TmV3UHJvZmlsZUJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG9iai5uZXdQcm9maWxlKCk7XG4gICAgfVxuXG4gICAgZWwuY2xhc3NOYW1lID0gJ2psb2dpbic7XG5cbiAgICBpZiAob2JqLm9wdGlvbnMuZnVsbHNjcmVlbiA9PSB0cnVlKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2psb2dpbi1mdWxsc2NyZWVuJyk7XG4gICAgfVxuXG4gICAgLyoqIFxuICAgICAqIFNob3cgbWVzc2FnZVxuICAgICAqL1xuICAgIG9iai5zaG93TWVzc2FnZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAodHlwZW9mKGRhdGEpID09ICdvYmplY3QnKSA/IGRhdGEubWVzc2FnZSA6IGRhdGE7XG5cbiAgICAgICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy5zaG93TWVzc2FnZSkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb2JqLm9wdGlvbnMuc2hvd01lc3NhZ2UoZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqU3VpdGVzLmFsZXJ0KGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmV3IHByb2ZpbGVcbiAgICAgKi9cbiAgICBvYmoubmV3UHJvZmlsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZMb2dvKTtcbiAgICAgICAgaWYgKG9iai5vcHRpb25zLm5ld1Byb2ZpbGVMb2dpbikge1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdkxvZ2luKTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2TmFtZSk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZVc2VybmFtZSk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZBY3Rpb25CdXR0b24pO1xuICAgICAgICBpZiAob2JqLm9wdGlvbnMuZmFjZWJvb2tBdXRoZW50aWNhdGlvbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2RmFjZWJvb2tCdXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZDYW5jZWxCdXR0b24pO1xuXG4gICAgICAgIC8vIFJlc2V0IGlucHV0c1xuICAgICAgICBpbnB1dExvZ2luLnZhbHVlID0gJyc7XG4gICAgICAgIGlucHV0VXNlcm5hbWUudmFsdWUgPSAnJztcbiAgICAgICAgaW5wdXRQYXNzd29yZC52YWx1ZSA9ICcnO1xuXG4gICAgICAgIC8vIEJ1dHRvblxuICAgICAgICBhY3Rpb25CdXR0b24udmFsdWUgPSAnQ3JlYXRlIG5ldyBwcm9maWxlJztcblxuICAgICAgICAvLyBBY3Rpb25cbiAgICAgICAgYWN0aW9uID0gJ25ld1Byb2ZpbGUnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhlIGVtYWlsIHdpdGggdGhlIHJlY292ZXJ5IGluc3RydWN0aW9uc1xuICAgICAqL1xuICAgIG9iai5yZXF1ZXN0TmV3UGFzc3dvcmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoY29udGFpbmVyLmNoaWxkcmVuLCBkaXZDYXB0Y2hhKSA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgY2FwdGNoYSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZMb2dvKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlJlY292ZXJ5KTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlVzZXJuYW1lKTtcbiAgICAgICAgaWYgKGNhcHRjaGEpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZDYXB0Y2hhKTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2QWN0aW9uQnV0dG9uKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdkNhbmNlbEJ1dHRvbik7XG4gICAgICAgIGFjdGlvbkJ1dHRvbi52YWx1ZSA9ICdSZXF1ZXN0IGEgbmV3IHBhc3N3b3JkJztcbiAgICAgICAgaW5wdXRSZWNvdmVyeS52YWx1ZSA9IDE7XG5cbiAgICAgICAgLy8gQWN0aW9uXG4gICAgICAgIGFjdGlvbiA9ICdyZXF1ZXN0TmV3UGFzc3dvcmQnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmZpcm0gcmVjb3ZlcnkgY29kZVxuICAgICAqL1xuICAgIG9iai5jb2RlQ29uZmlybWF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdkxvZ28pO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2SGFzaCk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZDb2RlKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdkFjdGlvbkJ1dHRvbik7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZDYW5jZWxCdXR0b24pO1xuICAgICAgICBhY3Rpb25CdXR0b24udmFsdWUgPSAnQ29uZmlybSBjb2RlJztcbiAgICAgICAgaW5wdXRSZWNvdmVyeS52YWx1ZSA9IDI7XG5cbiAgICAgICAgLy8gQWN0aW9uXG4gICAgICAgIGFjdGlvbiA9ICdjb2RlQ29uZmlybWF0aW9uJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgbXkgcGFzc3dvcmRcbiAgICAgKi9cbiAgICBvYmouY2hhbmdlTXlQYXNzd29yZCA9IGZ1bmN0aW9uKGhhc2gpIHtcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2TG9nbyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZIYXNoKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlBhc3N3b3JkKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlJlcGVhdFBhc3N3b3JkKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdkFjdGlvbkJ1dHRvbik7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZDYW5jZWxCdXR0b24pO1xuICAgICAgICBhY3Rpb25CdXR0b24udmFsdWUgPSAnQ2hhbmdlIG15IHBhc3N3b3JkJztcbiAgICAgICAgaW5wdXRIYXNoLnZhbHVlID0gaGFzaDtcblxuICAgICAgICAvLyBBY3Rpb25cbiAgICAgICAgYWN0aW9uID0gJ2NoYW5nZU15UGFzc3dvcmQnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgYWNjZXNzIGRlZmF1bHQgbWV0aG9kXG4gICAgICovXG4gICAgb2JqLnJlcXVlc3RBY2Nlc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2TG9nbyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZVc2VybmFtZSk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZQYXNzd29yZCk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZBY3Rpb25CdXR0b24pO1xuICAgICAgICBpZiAob2JqLm9wdGlvbnMuZmFjZWJvb2tBdXRoZW50aWNhdGlvbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2RmFjZWJvb2tCdXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZSZXF1ZXN0QnV0dG9uKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlJlbWVtYmVyQnV0dG9uKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlJlcXVlc3RCdXR0b24pO1xuICAgICAgICBpZiAob2JqLm9wdGlvbnMubmV3UHJvZmlsZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2TmV3UHJvZmlsZUJ1dHRvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCdXR0b25cbiAgICAgICAgYWN0aW9uQnV0dG9uLnZhbHVlID0gJ0xvZ2luJztcblxuICAgICAgICAvLyBQYXNzd29yZFxuICAgICAgICBpbnB1dFBhc3N3b3JkLnZhbHVlID0gJyc7XG5cbiAgICAgICAgLy8gRW1haWwgcGVyc2lzdGVuY2VcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSkge1xuICAgICAgICAgICAgaW5wdXRVc2VybmFtZS52YWx1ZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKTtcbiAgICAgICAgICAgIGlucHV0UGFzc3dvcmQuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0VXNlcm5hbWUuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdGlvblxuICAgICAgICBhY3Rpb24gPSAncmVxdWVzdEFjY2Vzcyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBsb2dpbiB2aWEgZmFjZWJvb2tcbiAgICAgKi9cbiAgICBvYmoucmVxdWVzdExvZ2luVmlhRmFjZWJvb2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZihkZXZpY2VOb3RpZmljYXRpb25Ub2tlbikgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIEZCLmdldExvZ2luU3RhdHVzKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEgcmVzcG9uc2Uuc3RhdHVzIHx8IHJlc3BvbnNlLnN0YXR1cyAhPSAnY29ubmVjdGVkJykge1xuICAgICAgICAgICAgICAgICAgICBGQi5sb2dpbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmF1dGhSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5leGVjdXRlKHsgZjpyZXNwb25zZS5hdXRoUmVzcG9uc2UuYWNjZXNzVG9rZW4gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zaG93TWVzc2FnZSgnTm90IGF1dGhvcml6ZWQgYnkgZmFjZWJvb2snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwge3Njb3BlOiAncHVibGljX3Byb2ZpbGUsZW1haWwnfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmV4ZWN1dGUoeyBmOnJlc3BvbnNlLmF1dGhSZXNwb25zZS5hY2Nlc3NUb2tlbiB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGpEZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZmJMb2dpbi5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCBqU3RhcnQpO1xuICAgICAgICAgICAgICAgIGZiTG9naW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVycm9yJywgakVycm9yKTtcbiAgICAgICAgICAgICAgICBmYkxvZ2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2V4aXQnLCBqRXhpdCk7XG4gICAgICAgICAgICAgICAgZmJMb2dpbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGZiTG9naW4gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBqU3RhcnQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBldmVudC51cmw7XG4gICAgICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKFwiYWNjZXNzX3Rva2VuXCIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSB1cmwubWF0Y2goLz0oLio/KSYvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1WzFdLmxlbmd0aCA+IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmV4ZWN1dGUoeyBmOnVbMV0gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBqRGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgIH0sNTAwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoXCJlcnJvcj1hY2Nlc3NfZGVuaWVkXCIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGpEZXN0cm95ICw1MDApO1xuICAgICAgICAgICAgICAgICAgIC8vIE5vdCBhdXRob3JpemVkIGJ5IGZhY2Vib29rXG4gICAgICAgICAgICAgICAgICAgb2JqLnNob3dNZXNzYWdlKCdOb3QgYXV0aG9yaXplZCBieSBmYWNlYm9vaycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgakVycm9yID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBqRGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgIGpFeGl0ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBqRGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmYkxvZ2luID0gd2luZG93Lm9wZW4ob2JqLm9wdGlvbnMuZmFjZWJvb2tVcmwsIFwiX2JsYW5rXCIsIFwibG9jYXRpb249bm8sY2xvc2VidXR0b25jYXB0aW9uPUV4aXQsZGlzYWxsb3dvdmVyc2Nyb2xsPXllcyx0b29sYmFyPW5vXCIpO1xuICAgICAgICAgICAgZmJMb2dpbi5hZGRFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCBqU3RhcnQpO1xuICAgICAgICAgICAgZmJMb2dpbi5hZGRFdmVudExpc3RlbmVyKCdsb2FkZXJyb3InLCBqRXJyb3IpO1xuICAgICAgICAgICAgZmJMb2dpbi5hZGRFdmVudExpc3RlbmVyKCdleGl0JywgakV4aXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWN0aW9uXG4gICAgICAgIGFjdGlvbiA9ICdyZXF1ZXN0TG9naW5WaWFGYWNlYm9vayc7XG4gICAgfVxuXG4gICAgLy8gUGVyZm9ybSByZXF1ZXN0XG4gICAgb2JqLmV4ZWN1dGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIC8vIE5ldyBwcm9maWxlXG4gICAgICAgIGlmIChhY3Rpb24gPT0gJ25ld1Byb2ZpbGUnKSB7XG4gICAgICAgICAgICB2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAoL14oW1xcdy1cXC5dK0AoW1xcdy1dK1xcLikrW1xcdy1dezIsNH0pPyQvKTtcbiAgICAgICAgICAgIGlmICghIGlucHV0VXNlcm5hbWUudmFsdWUgfHwgISBwYXR0ZXJuLnRlc3QoaW5wdXRVc2VybmFtZS52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICdJbnZhbGlkIGUtbWFpbCBhZGRyZXNzJzsgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gbmV3IFJlZ0V4cCgvXlthLXpBLVowLTlcXF9cXC1cXC5cXHMrXSskLyk7XG4gICAgICAgICAgICBpZiAoISBpbnB1dExvZ2luLnZhbHVlIHx8ICEgcGF0dGVybi50ZXN0KGlucHV0TG9naW4udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSAnSW52YWxpZCB1c2VybmFtZSwgcGxlYXNlIHVzZSBvbmx5IGNoYXJhY3RlcnMgYW5kIG51bWJlcnMnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIG9iai5zaG93TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09ICdjaGFuZ2VNeVBhc3N3b3JkJykge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXRQYXNzd29yZC52YWx1ZS5sZW5ndGggPCAzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICdQYXNzd29yZCBpcyB0b28gc2hvcnQnO1xyXG4gICAgICAgICAgICB9IGVsc2UgIGlmIChpbnB1dFBhc3N3b3JkLnZhbHVlICE9IGlucHV0UmVwZWF0UGFzc3dvcmQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gJ1Bhc3N3b3JkIHNob3VsZCBtYXRjaCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm5ld1Bhc3N3b3JkVmFsaWRhdGlvbikgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBvYmoub3B0aW9ucy5uZXdQYXNzd29yZFZhbGlkYXRpb24ob2JqLCBpbnB1dFBhc3N3b3JkLnZhbHVlLCBpbnB1dFBhc3N3b3JkLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgb2JqLnNob3dNZXNzYWdlKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEtlZXAgZW1haWxcbiAgICAgICAgaWYgKGlucHV0VXNlcm5hbWUudmFsdWUgIT0gJycpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLCBpbnB1dFVzZXJuYW1lLnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhcHRjaGFcbiAgICAgICAgaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoY29udGFpbmVyLmNoaWxkcmVuLCBkaXZDYXB0Y2hhKSA+PSAwKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXRDYXB0Y2hhLnZhbHVlID09ICcnKSB7XG4gICAgICAgICAgICAgICAgb2JqLnNob3dNZXNzYWdlKCdQbGVhc2UgZW50ZXIgdGhlIGNhcHRjaCBjb2RlIGJlbG93Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXJsXG4gICAgICAgIHZhciB1cmwgPSBvYmoub3B0aW9ucy51cmw7XG5cbiAgICAgICAgLy8gRGV2aWNlIHRva2VuXG4gICAgICAgIGlmIChvYmoub3B0aW9ucy5kZXZpY2VUb2tlbikge1xuICAgICAgICAgICAgdXJsICs9ICc/dG9rZW49JyArIG9iai5vcHRpb25zLmRldmljZVRva2VuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsbGJhY2tcbiAgICAgICAgdmFyIG9uc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIC8vIFN1Y2Nlc3NmdWxseSByZXNwb25zZVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlY292ZXJ5IHByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSAncmVxdWVzdE5ld1Bhc3N3b3JkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNvZGVDb25maXJtYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT0gJ2NvZGVDb25maXJtYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVxdWVzdEFjY2VzcygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PSAnbmV3UHJvZmlsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5yZXF1ZXN0QWNjZXNzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXcgcHJvZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm5ld1Byb2ZpbGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVG9rZW5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC50b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5hY2Nlc3NUb2tlbiA9IHJlc3VsdC50b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnQWNjZXNzLVRva2VuJywgcmVzdWx0LnRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNob3cgbWVzc2FnZVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaG93IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgb2JqLnNob3dNZXNzYWdlKHJlc3VsdC5tZXNzYWdlKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgY2FwdGNoYSBjb2RlXG4gICAgICAgICAgICAgICAgaWYgKCEgcmVzdWx0LmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoY29udGFpbmVyLmNoaWxkcmVuLCBkaXZDYXB0Y2hhKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXZDYXB0Y2hhLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShkaXZDYXB0Y2hhLCBkaXZBY3Rpb25CdXR0b24pO1xuICAgICAgICAgICAgICAgICAgICBpbWFnZUNhcHRjaGEuc2V0QXR0cmlidXRlKCdzcmMnLCAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyByZXN1bHQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gR2l2ZSB0aW1lIHRvIHVzZXIgc2VlIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5oYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoYW5nZSBwYXNzd29yZFxuICAgICAgICAgICAgICAgICAgICBvYmouY2hhbmdlTXlQYXNzd29yZChyZXN1bHQuaGFzaCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQudXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcCBpbml0aWFsaXphdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy5vbnN1Y2Nlc3MpID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5vbnN1Y2Nlc3MocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzdWx0LnVybDsgfSwgMjAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXN1bHQudXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25lcnJvcikgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm9uZXJyb3IocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBhc3N3b3JkXG4gICAgICAgIGlmICghIGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0galN1aXRlcy5nZXRGb3JtRWxlbWVudHMoZWwpO1xuICAgICAgICAgICAgLy8gRW5jb2RlIHBhc3N3b3JmZFxuICAgICAgICAgICAgaWYgKGRhdGEucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnBhc3N3b3JkID0galN1aXRlcy5sb2dpbi5zaGE1MTIoZGF0YS5wYXNzd29yZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWNvdmVyeSBjb2RlXG4gICAgICAgICAgICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChjb250YWluZXIuY2hpbGRyZW4sIGRpdkNvZGUpID49IDAgJiYgaW5wdXRDb2RlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5oID0galN1aXRlcy5sb2dpbi5zaGE1MTIoaW5wdXRDb2RlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvYWRpbmdcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnamxvZ2luLWxvYWRpbmcnKTtcblxuICAgICAgICAvLyBVcmxcbiAgICAgICAgdmFyIHVybCA9IChhY3Rpb24gPT0gJ25ld1Byb2ZpbGUnICYmIG9iai5vcHRpb25zLm5ld1Byb2ZpbGVVcmwpID8gb2JqLm9wdGlvbnMubmV3UHJvZmlsZVVybCA6IG9iai5vcHRpb25zLnVybDtcblxuICAgICAgICAvLyBSZW1vdGUgY2FsbFxuICAgICAgICBqU3VpdGVzLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGxvYWRpbmdcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdqbG9naW4tbG9hZGluZycpO1xuICAgICAgICAgICAgICAgIC8vIENhbGxiYWNrXG4gICAgICAgICAgICAgICAgb25zdWNjZXNzKHJlc3VsdCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIC8vIEVycm9yXG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnamxvZ2luLWxvYWRpbmcnKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25lcnJvcikgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5vbmVycm9yKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnPycpO1xyXG4gICAgaWYgKHF1ZXJ5U3RyaW5nWzFdICYmIHF1ZXJ5U3RyaW5nWzFdLmxlbmd0aCA9PSAxMzAgJiYgcXVlcnlTdHJpbmdbMV0uc3Vic3RyKDAsMikgPT0gJ2g9Jykge1xyXG4gICAgICAgIG9iai5jaGFuZ2VNeVBhc3N3b3JkKHF1ZXJ5U3RyaW5nWzFdLnN1YnN0cigyKSk7XHJcbiAgICB9IGVsc2Uge1xuICAgICAgICBvYmoucmVxdWVzdEFjY2VzcygpO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59KTtcblxualN1aXRlcy5sb2dpbi5zaGE1MTIgPSAoZnVuY3Rpb24oc3RyKSB7XG4gICAgZnVuY3Rpb24gaW50NjQobXNpbnRfMzIsIGxzaW50XzMyKSB7XG4gICAgICAgIHRoaXMuaGlnaE9yZGVyID0gbXNpbnRfMzI7XG4gICAgICAgIHRoaXMubG93T3JkZXIgPSBsc2ludF8zMjtcbiAgICB9XG5cbiAgICB2YXIgSCA9IFtuZXcgaW50NjQoMHg2YTA5ZTY2NywgMHhmM2JjYzkwOCksIG5ldyBpbnQ2NCgweGJiNjdhZTg1LCAweDg0Y2FhNzNiKSxcbiAgICAgICAgbmV3IGludDY0KDB4M2M2ZWYzNzIsIDB4ZmU5NGY4MmIpLCBuZXcgaW50NjQoMHhhNTRmZjUzYSwgMHg1ZjFkMzZmMSksXG4gICAgICAgIG5ldyBpbnQ2NCgweDUxMGU1MjdmLCAweGFkZTY4MmQxKSwgbmV3IGludDY0KDB4OWIwNTY4OGMsIDB4MmIzZTZjMWYpLFxuICAgICAgICBuZXcgaW50NjQoMHgxZjgzZDlhYiwgMHhmYjQxYmQ2YiksIG5ldyBpbnQ2NCgweDViZTBjZDE5LCAweDEzN2UyMTc5KV07XG5cbiAgICB2YXIgSyA9IFtuZXcgaW50NjQoMHg0MjhhMmY5OCwgMHhkNzI4YWUyMiksIG5ldyBpbnQ2NCgweDcxMzc0NDkxLCAweDIzZWY2NWNkKSxcbiAgICAgICAgbmV3IGludDY0KDB4YjVjMGZiY2YsIDB4ZWM0ZDNiMmYpLCBuZXcgaW50NjQoMHhlOWI1ZGJhNSwgMHg4MTg5ZGJiYyksXG4gICAgICAgIG5ldyBpbnQ2NCgweDM5NTZjMjViLCAweGYzNDhiNTM4KSwgbmV3IGludDY0KDB4NTlmMTExZjEsIDB4YjYwNWQwMTkpLFxuICAgICAgICBuZXcgaW50NjQoMHg5MjNmODJhNCwgMHhhZjE5NGY5YiksIG5ldyBpbnQ2NCgweGFiMWM1ZWQ1LCAweGRhNmQ4MTE4KSxcbiAgICAgICAgbmV3IGludDY0KDB4ZDgwN2FhOTgsIDB4YTMwMzAyNDIpLCBuZXcgaW50NjQoMHgxMjgzNWIwMSwgMHg0NTcwNmZiZSksXG4gICAgICAgIG5ldyBpbnQ2NCgweDI0MzE4NWJlLCAweDRlZTRiMjhjKSwgbmV3IGludDY0KDB4NTUwYzdkYzMsIDB4ZDVmZmI0ZTIpLFxuICAgICAgICBuZXcgaW50NjQoMHg3MmJlNWQ3NCwgMHhmMjdiODk2ZiksIG5ldyBpbnQ2NCgweDgwZGViMWZlLCAweDNiMTY5NmIxKSxcbiAgICAgICAgbmV3IGludDY0KDB4OWJkYzA2YTcsIDB4MjVjNzEyMzUpLCBuZXcgaW50NjQoMHhjMTliZjE3NCwgMHhjZjY5MjY5NCksXG4gICAgICAgIG5ldyBpbnQ2NCgweGU0OWI2OWMxLCAweDllZjE0YWQyKSwgbmV3IGludDY0KDB4ZWZiZTQ3ODYsIDB4Mzg0ZjI1ZTMpLFxuICAgICAgICBuZXcgaW50NjQoMHgwZmMxOWRjNiwgMHg4YjhjZDViNSksIG5ldyBpbnQ2NCgweDI0MGNhMWNjLCAweDc3YWM5YzY1KSxcbiAgICAgICAgbmV3IGludDY0KDB4MmRlOTJjNmYsIDB4NTkyYjAyNzUpLCBuZXcgaW50NjQoMHg0YTc0ODRhYSwgMHg2ZWE2ZTQ4MyksXG4gICAgICAgIG5ldyBpbnQ2NCgweDVjYjBhOWRjLCAweGJkNDFmYmQ0KSwgbmV3IGludDY0KDB4NzZmOTg4ZGEsIDB4ODMxMTUzYjUpLFxuICAgICAgICBuZXcgaW50NjQoMHg5ODNlNTE1MiwgMHhlZTY2ZGZhYiksIG5ldyBpbnQ2NCgweGE4MzFjNjZkLCAweDJkYjQzMjEwKSxcbiAgICAgICAgbmV3IGludDY0KDB4YjAwMzI3YzgsIDB4OThmYjIxM2YpLCBuZXcgaW50NjQoMHhiZjU5N2ZjNywgMHhiZWVmMGVlNCksXG4gICAgICAgIG5ldyBpbnQ2NCgweGM2ZTAwYmYzLCAweDNkYTg4ZmMyKSwgbmV3IGludDY0KDB4ZDVhNzkxNDcsIDB4OTMwYWE3MjUpLFxuICAgICAgICBuZXcgaW50NjQoMHgwNmNhNjM1MSwgMHhlMDAzODI2ZiksIG5ldyBpbnQ2NCgweDE0MjkyOTY3LCAweDBhMGU2ZTcwKSxcbiAgICAgICAgbmV3IGludDY0KDB4MjdiNzBhODUsIDB4NDZkMjJmZmMpLCBuZXcgaW50NjQoMHgyZTFiMjEzOCwgMHg1YzI2YzkyNiksXG4gICAgICAgIG5ldyBpbnQ2NCgweDRkMmM2ZGZjLCAweDVhYzQyYWVkKSwgbmV3IGludDY0KDB4NTMzODBkMTMsIDB4OWQ5NWIzZGYpLFxuICAgICAgICBuZXcgaW50NjQoMHg2NTBhNzM1NCwgMHg4YmFmNjNkZSksIG5ldyBpbnQ2NCgweDc2NmEwYWJiLCAweDNjNzdiMmE4KSxcbiAgICAgICAgbmV3IGludDY0KDB4ODFjMmM5MmUsIDB4NDdlZGFlZTYpLCBuZXcgaW50NjQoMHg5MjcyMmM4NSwgMHgxNDgyMzUzYiksXG4gICAgICAgIG5ldyBpbnQ2NCgweGEyYmZlOGExLCAweDRjZjEwMzY0KSwgbmV3IGludDY0KDB4YTgxYTY2NGIsIDB4YmM0MjMwMDEpLFxuICAgICAgICBuZXcgaW50NjQoMHhjMjRiOGI3MCwgMHhkMGY4OTc5MSksIG5ldyBpbnQ2NCgweGM3NmM1MWEzLCAweDA2NTRiZTMwKSxcbiAgICAgICAgbmV3IGludDY0KDB4ZDE5MmU4MTksIDB4ZDZlZjUyMTgpLCBuZXcgaW50NjQoMHhkNjk5MDYyNCwgMHg1NTY1YTkxMCksXG4gICAgICAgIG5ldyBpbnQ2NCgweGY0MGUzNTg1LCAweDU3NzEyMDJhKSwgbmV3IGludDY0KDB4MTA2YWEwNzAsIDB4MzJiYmQxYjgpLFxuICAgICAgICBuZXcgaW50NjQoMHgxOWE0YzExNiwgMHhiOGQyZDBjOCksIG5ldyBpbnQ2NCgweDFlMzc2YzA4LCAweDUxNDFhYjUzKSxcbiAgICAgICAgbmV3IGludDY0KDB4Mjc0ODc3NGMsIDB4ZGY4ZWViOTkpLCBuZXcgaW50NjQoMHgzNGIwYmNiNSwgMHhlMTliNDhhOCksXG4gICAgICAgIG5ldyBpbnQ2NCgweDM5MWMwY2IzLCAweGM1Yzk1YTYzKSwgbmV3IGludDY0KDB4NGVkOGFhNGEsIDB4ZTM0MThhY2IpLFxuICAgICAgICBuZXcgaW50NjQoMHg1YjljY2E0ZiwgMHg3NzYzZTM3MyksIG5ldyBpbnQ2NCgweDY4MmU2ZmYzLCAweGQ2YjJiOGEzKSxcbiAgICAgICAgbmV3IGludDY0KDB4NzQ4ZjgyZWUsIDB4NWRlZmIyZmMpLCBuZXcgaW50NjQoMHg3OGE1NjM2ZiwgMHg0MzE3MmY2MCksXG4gICAgICAgIG5ldyBpbnQ2NCgweDg0Yzg3ODE0LCAweGExZjBhYjcyKSwgbmV3IGludDY0KDB4OGNjNzAyMDgsIDB4MWE2NDM5ZWMpLFxuICAgICAgICBuZXcgaW50NjQoMHg5MGJlZmZmYSwgMHgyMzYzMWUyOCksIG5ldyBpbnQ2NCgweGE0NTA2Y2ViLCAweGRlODJiZGU5KSxcbiAgICAgICAgbmV3IGludDY0KDB4YmVmOWEzZjcsIDB4YjJjNjc5MTUpLCBuZXcgaW50NjQoMHhjNjcxNzhmMiwgMHhlMzcyNTMyYiksXG4gICAgICAgIG5ldyBpbnQ2NCgweGNhMjczZWNlLCAweGVhMjY2MTljKSwgbmV3IGludDY0KDB4ZDE4NmI4YzcsIDB4MjFjMGMyMDcpLFxuICAgICAgICBuZXcgaW50NjQoMHhlYWRhN2RkNiwgMHhjZGUwZWIxZSksIG5ldyBpbnQ2NCgweGY1N2Q0ZjdmLCAweGVlNmVkMTc4KSxcbiAgICAgICAgbmV3IGludDY0KDB4MDZmMDY3YWEsIDB4NzIxNzZmYmEpLCBuZXcgaW50NjQoMHgwYTYzN2RjNSwgMHhhMmM4OThhNiksXG4gICAgICAgIG5ldyBpbnQ2NCgweDExM2Y5ODA0LCAweGJlZjkwZGFlKSwgbmV3IGludDY0KDB4MWI3MTBiMzUsIDB4MTMxYzQ3MWIpLFxuICAgICAgICBuZXcgaW50NjQoMHgyOGRiNzdmNSwgMHgyMzA0N2Q4NCksIG5ldyBpbnQ2NCgweDMyY2FhYjdiLCAweDQwYzcyNDkzKSxcbiAgICAgICAgbmV3IGludDY0KDB4M2M5ZWJlMGEsIDB4MTVjOWJlYmMpLCBuZXcgaW50NjQoMHg0MzFkNjdjNCwgMHg5YzEwMGQ0YyksXG4gICAgICAgIG5ldyBpbnQ2NCgweDRjYzVkNGJlLCAweGNiM2U0MmI2KSwgbmV3IGludDY0KDB4NTk3ZjI5OWMsIDB4ZmM2NTdlMmEpLFxuICAgICAgICBuZXcgaW50NjQoMHg1ZmNiNmZhYiwgMHgzYWQ2ZmFlYyksIG5ldyBpbnQ2NCgweDZjNDQxOThjLCAweDRhNDc1ODE3KV07XG5cbiAgICB2YXIgVyA9IG5ldyBBcnJheSg2NCk7XG4gICAgdmFyIGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIGksIGo7XG4gICAgdmFyIFQxLCBUMjtcbiAgICB2YXIgY2hhcnNpemUgPSA4O1xuXG4gICAgZnVuY3Rpb24gdXRmOF9lbmNvZGUoc3RyKSB7XG4gICAgICAgIHJldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RyMmJpbmIoc3RyKSB7XG4gICAgICAgIHZhciBiaW4gPSBbXTtcbiAgICAgICAgdmFyIG1hc2sgPSAoMSA8PCBjaGFyc2l6ZSkgLSAxO1xuICAgICAgICB2YXIgbGVuID0gc3RyLmxlbmd0aCAqIGNoYXJzaXplO1xuICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSBjaGFyc2l6ZSkge1xuICAgICAgICAgICAgYmluW2kgPj4gNV0gfD0gKHN0ci5jaGFyQ29kZUF0KGkgLyBjaGFyc2l6ZSkgJiBtYXNrKSA8PCAoMzIgLSBjaGFyc2l6ZSAtIChpICUgMzIpKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4gYmluO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJpbmIyaGV4KGJpbmFycmF5KSB7XG4gICAgICAgIHZhciBoZXhfdGFiID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XG4gICAgICAgIHZhciBzdHIgPSBcIlwiO1xuICAgICAgICB2YXIgbGVuZ3RoID0gYmluYXJyYXkubGVuZ3RoICogNDtcbiAgICAgICAgdmFyIHNyY0J5dGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgc3JjQnl0ZSA9IGJpbmFycmF5W2kgPj4gMl0gPj4gKCgzIC0gKGkgJSA0KSkgKiA4KTtcbiAgICAgICAgICAgIHN0ciArPSBoZXhfdGFiLmNoYXJBdCgoc3JjQnl0ZSA+PiA0KSAmIDB4RikgKyBoZXhfdGFiLmNoYXJBdChzcmNCeXRlICYgMHhGKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2FmZV9hZGRfMih4LCB5KSB7XG4gICAgICAgIHZhciBsc3csIG1zdywgbG93T3JkZXIsIGhpZ2hPcmRlcjtcblxuICAgICAgICBsc3cgPSAoeC5sb3dPcmRlciAmIDB4RkZGRikgKyAoeS5sb3dPcmRlciAmIDB4RkZGRik7XG4gICAgICAgIG1zdyA9ICh4Lmxvd09yZGVyID4+PiAxNikgKyAoeS5sb3dPcmRlciA+Pj4gMTYpICsgKGxzdyA+Pj4gMTYpO1xuICAgICAgICBsb3dPcmRlciA9ICgobXN3ICYgMHhGRkZGKSA8PCAxNikgfCAobHN3ICYgMHhGRkZGKTtcblxuICAgICAgICBsc3cgPSAoeC5oaWdoT3JkZXIgJiAweEZGRkYpICsgKHkuaGlnaE9yZGVyICYgMHhGRkZGKSArIChtc3cgPj4+IDE2KTtcbiAgICAgICAgbXN3ID0gKHguaGlnaE9yZGVyID4+PiAxNikgKyAoeS5oaWdoT3JkZXIgPj4+IDE2KSArIChsc3cgPj4+IDE2KTtcbiAgICAgICAgaGlnaE9yZGVyID0gKChtc3cgJiAweEZGRkYpIDw8IDE2KSB8IChsc3cgJiAweEZGRkYpO1xuXG4gICAgICAgIHJldHVybiBuZXcgaW50NjQoaGlnaE9yZGVyLCBsb3dPcmRlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2FmZV9hZGRfNChhLCBiLCBjLCBkKSB7XG4gICAgICAgIHZhciBsc3csIG1zdywgbG93T3JkZXIsIGhpZ2hPcmRlcjtcblxuICAgICAgICBsc3cgPSAoYS5sb3dPcmRlciAmIDB4RkZGRikgKyAoYi5sb3dPcmRlciAmIDB4RkZGRikgKyAoYy5sb3dPcmRlciAmIDB4RkZGRikgKyAoZC5sb3dPcmRlciAmIDB4RkZGRik7XG4gICAgICAgIG1zdyA9IChhLmxvd09yZGVyID4+PiAxNikgKyAoYi5sb3dPcmRlciA+Pj4gMTYpICsgKGMubG93T3JkZXIgPj4+IDE2KSArIChkLmxvd09yZGVyID4+PiAxNikgKyAobHN3ID4+PiAxNik7XG4gICAgICAgIGxvd09yZGVyID0gKChtc3cgJiAweEZGRkYpIDw8IDE2KSB8IChsc3cgJiAweEZGRkYpO1xuXG4gICAgICAgIGxzdyA9IChhLmhpZ2hPcmRlciAmIDB4RkZGRikgKyAoYi5oaWdoT3JkZXIgJiAweEZGRkYpICsgKGMuaGlnaE9yZGVyICYgMHhGRkZGKSArIChkLmhpZ2hPcmRlciAmIDB4RkZGRikgKyAobXN3ID4+PiAxNik7XG4gICAgICAgIG1zdyA9IChhLmhpZ2hPcmRlciA+Pj4gMTYpICsgKGIuaGlnaE9yZGVyID4+PiAxNikgKyAoYy5oaWdoT3JkZXIgPj4+IDE2KSArIChkLmhpZ2hPcmRlciA+Pj4gMTYpICsgKGxzdyA+Pj4gMTYpO1xuICAgICAgICBoaWdoT3JkZXIgPSAoKG1zdyAmIDB4RkZGRikgPDwgMTYpIHwgKGxzdyAmIDB4RkZGRik7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBpbnQ2NChoaWdoT3JkZXIsIGxvd09yZGVyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzYWZlX2FkZF81KGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgICAgdmFyIGxzdywgbXN3LCBsb3dPcmRlciwgaGlnaE9yZGVyO1xuXG4gICAgICAgIGxzdyA9IChhLmxvd09yZGVyICYgMHhGRkZGKSArIChiLmxvd09yZGVyICYgMHhGRkZGKSArIChjLmxvd09yZGVyICYgMHhGRkZGKSArIChkLmxvd09yZGVyICYgMHhGRkZGKSArIChlLmxvd09yZGVyICYgMHhGRkZGKTtcbiAgICAgICAgbXN3ID0gKGEubG93T3JkZXIgPj4+IDE2KSArIChiLmxvd09yZGVyID4+PiAxNikgKyAoYy5sb3dPcmRlciA+Pj4gMTYpICsgKGQubG93T3JkZXIgPj4+IDE2KSArIChlLmxvd09yZGVyID4+PiAxNikgKyAobHN3ID4+PiAxNik7XG4gICAgICAgIGxvd09yZGVyID0gKChtc3cgJiAweEZGRkYpIDw8IDE2KSB8IChsc3cgJiAweEZGRkYpO1xuXG4gICAgICAgIGxzdyA9IChhLmhpZ2hPcmRlciAmIDB4RkZGRikgKyAoYi5oaWdoT3JkZXIgJiAweEZGRkYpICsgKGMuaGlnaE9yZGVyICYgMHhGRkZGKSArIChkLmhpZ2hPcmRlciAmIDB4RkZGRikgKyAoZS5oaWdoT3JkZXIgJiAweEZGRkYpICsgKG1zdyA+Pj4gMTYpO1xuICAgICAgICBtc3cgPSAoYS5oaWdoT3JkZXIgPj4+IDE2KSArIChiLmhpZ2hPcmRlciA+Pj4gMTYpICsgKGMuaGlnaE9yZGVyID4+PiAxNikgKyAoZC5oaWdoT3JkZXIgPj4+IDE2KSArIChlLmhpZ2hPcmRlciA+Pj4gMTYpICsgKGxzdyA+Pj4gMTYpO1xuICAgICAgICBoaWdoT3JkZXIgPSAoKG1zdyAmIDB4RkZGRikgPDwgMTYpIHwgKGxzdyAmIDB4RkZGRik7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBpbnQ2NChoaWdoT3JkZXIsIGxvd09yZGVyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWooeCwgeSwgeikge1xuICAgICAgICByZXR1cm4gbmV3IGludDY0KFxuICAgICAgICAgICAgKHguaGlnaE9yZGVyICYgeS5oaWdoT3JkZXIpIF4gKHguaGlnaE9yZGVyICYgei5oaWdoT3JkZXIpIF4gKHkuaGlnaE9yZGVyICYgei5oaWdoT3JkZXIpLFxuICAgICAgICAgICAgKHgubG93T3JkZXIgJiB5Lmxvd09yZGVyKSBeICh4Lmxvd09yZGVyICYgei5sb3dPcmRlcikgXiAoeS5sb3dPcmRlciAmIHoubG93T3JkZXIpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2goeCwgeSwgeikge1xuICAgICAgICByZXR1cm4gbmV3IGludDY0KFxuICAgICAgICAgICAgKHguaGlnaE9yZGVyICYgeS5oaWdoT3JkZXIpIF4gKH54LmhpZ2hPcmRlciAmIHouaGlnaE9yZGVyKSxcbiAgICAgICAgICAgICh4Lmxvd09yZGVyICYgeS5sb3dPcmRlcikgXiAofngubG93T3JkZXIgJiB6Lmxvd09yZGVyKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdHIoeCwgbikge1xuICAgICAgICBpZiAobiA8PSAzMikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBpbnQ2NChcbiAgICAgICAgICAgICAoeC5oaWdoT3JkZXIgPj4+IG4pIHwgKHgubG93T3JkZXIgPDwgKDMyIC0gbikpLFxuICAgICAgICAgICAgICh4Lmxvd09yZGVyID4+PiBuKSB8ICh4LmhpZ2hPcmRlciA8PCAoMzIgLSBuKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGludDY0KFxuICAgICAgICAgICAgICh4Lmxvd09yZGVyID4+PiBuKSB8ICh4LmhpZ2hPcmRlciA8PCAoMzIgLSBuKSksXG4gICAgICAgICAgICAgKHguaGlnaE9yZGVyID4+PiBuKSB8ICh4Lmxvd09yZGVyIDw8ICgzMiAtIG4pKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNpZ21hMCh4KSB7XG4gICAgICAgIHZhciByb3RyMjggPSByb3RyKHgsIDI4KTtcbiAgICAgICAgdmFyIHJvdHIzNCA9IHJvdHIoeCwgMzQpO1xuICAgICAgICB2YXIgcm90cjM5ID0gcm90cih4LCAzOSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBpbnQ2NChcbiAgICAgICAgICAgIHJvdHIyOC5oaWdoT3JkZXIgXiByb3RyMzQuaGlnaE9yZGVyIF4gcm90cjM5LmhpZ2hPcmRlcixcbiAgICAgICAgICAgIHJvdHIyOC5sb3dPcmRlciBeIHJvdHIzNC5sb3dPcmRlciBeIHJvdHIzOS5sb3dPcmRlclxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNpZ21hMSh4KSB7XG4gICAgICAgIHZhciByb3RyMTQgPSByb3RyKHgsIDE0KTtcbiAgICAgICAgdmFyIHJvdHIxOCA9IHJvdHIoeCwgMTgpO1xuICAgICAgICB2YXIgcm90cjQxID0gcm90cih4LCA0MSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBpbnQ2NChcbiAgICAgICAgICAgIHJvdHIxNC5oaWdoT3JkZXIgXiByb3RyMTguaGlnaE9yZGVyIF4gcm90cjQxLmhpZ2hPcmRlcixcbiAgICAgICAgICAgIHJvdHIxNC5sb3dPcmRlciBeIHJvdHIxOC5sb3dPcmRlciBeIHJvdHI0MS5sb3dPcmRlclxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdhbW1hMCh4KSB7XG4gICAgICAgIHZhciByb3RyMSA9IHJvdHIoeCwgMSksIHJvdHI4ID0gcm90cih4LCA4KSwgc2hyNyA9IHNocih4LCA3KTtcblxuICAgICAgICByZXR1cm4gbmV3IGludDY0KFxuICAgICAgICAgICAgcm90cjEuaGlnaE9yZGVyIF4gcm90cjguaGlnaE9yZGVyIF4gc2hyNy5oaWdoT3JkZXIsXG4gICAgICAgICAgICByb3RyMS5sb3dPcmRlciBeIHJvdHI4Lmxvd09yZGVyIF4gc2hyNy5sb3dPcmRlclxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdhbW1hMSh4KSB7XG4gICAgICAgIHZhciByb3RyMTkgPSByb3RyKHgsIDE5KTtcbiAgICAgICAgdmFyIHJvdHI2MSA9IHJvdHIoeCwgNjEpO1xuICAgICAgICB2YXIgc2hyNiA9IHNocih4LCA2KTtcblxuICAgICAgICByZXR1cm4gbmV3IGludDY0KFxuICAgICAgICAgICAgcm90cjE5LmhpZ2hPcmRlciBeIHJvdHI2MS5oaWdoT3JkZXIgXiBzaHI2LmhpZ2hPcmRlcixcbiAgICAgICAgICAgIHJvdHIxOS5sb3dPcmRlciBeIHJvdHI2MS5sb3dPcmRlciBeIHNocjYubG93T3JkZXJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaHIoeCwgbikge1xuICAgICAgICBpZiAobiA8PSAzMikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBpbnQ2NChcbiAgICAgICAgICAgICAgICB4LmhpZ2hPcmRlciA+Pj4gbixcbiAgICAgICAgICAgICAgICB4Lmxvd09yZGVyID4+PiBuIHwgKHguaGlnaE9yZGVyIDw8ICgzMiAtIG4pKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgaW50NjQoXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB4LmhpZ2hPcmRlciA8PCAoMzIgLSBuKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzdHIgPSB1dGY4X2VuY29kZShzdHIpO1xuICAgIHZhciBzdHJsZW4gPSBzdHIubGVuZ3RoKmNoYXJzaXplO1xuICAgIHN0ciA9IHN0cjJiaW5iKHN0cik7XG5cbiAgICBzdHJbc3RybGVuID4+IDVdIHw9IDB4ODAgPDwgKDI0IC0gc3RybGVuICUgMzIpO1xuICAgIHN0clsoKChzdHJsZW4gKyAxMjgpID4+IDEwKSA8PCA1KSArIDMxXSA9IHN0cmxlbjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSAzMikge1xuICAgICAgICBhID0gSFswXTtcbiAgICAgICAgYiA9IEhbMV07XG4gICAgICAgIGMgPSBIWzJdO1xuICAgICAgICBkID0gSFszXTtcbiAgICAgICAgZSA9IEhbNF07XG4gICAgICAgIGYgPSBIWzVdO1xuICAgICAgICBnID0gSFs2XTtcbiAgICAgICAgaCA9IEhbN107XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4MDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoaiA8IDE2KSB7XG4gICAgICAgICAgICAgICAgV1tqXSA9IG5ldyBpbnQ2NChzdHJbaioyICsgaV0sIHN0cltqKjIgKyBpICsgMV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBXW2pdID0gc2FmZV9hZGRfNChnYW1tYTEoV1tqIC0gMl0pLCBXW2ogLSA3XSwgZ2FtbWEwKFdbaiAtIDE1XSksIFdbaiAtIDE2XSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFQxID0gc2FmZV9hZGRfNShoLCBzaWdtYTEoZSksIGNoKGUsIGYsIGcpLCBLW2pdLCBXW2pdKTtcbiAgICAgICAgICAgIFQyID0gc2FmZV9hZGRfMihzaWdtYTAoYSksIG1haihhLCBiLCBjKSk7XG4gICAgICAgICAgICBoID0gZztcbiAgICAgICAgICAgIGcgPSBmO1xuICAgICAgICAgICAgZiA9IGU7XG4gICAgICAgICAgICBlID0gc2FmZV9hZGRfMihkLCBUMSk7XG4gICAgICAgICAgICBkID0gYztcbiAgICAgICAgICAgIGMgPSBiO1xuICAgICAgICAgICAgYiA9IGE7XG4gICAgICAgICAgICBhID0gc2FmZV9hZGRfMihUMSwgVDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgSFswXSA9IHNhZmVfYWRkXzIoYSwgSFswXSk7XG4gICAgICAgIEhbMV0gPSBzYWZlX2FkZF8yKGIsIEhbMV0pO1xuICAgICAgICBIWzJdID0gc2FmZV9hZGRfMihjLCBIWzJdKTtcbiAgICAgICAgSFszXSA9IHNhZmVfYWRkXzIoZCwgSFszXSk7XG4gICAgICAgIEhbNF0gPSBzYWZlX2FkZF8yKGUsIEhbNF0pO1xuICAgICAgICBIWzVdID0gc2FmZV9hZGRfMihmLCBIWzVdKTtcbiAgICAgICAgSFs2XSA9IHNhZmVfYWRkXzIoZywgSFs2XSk7XG4gICAgICAgIEhbN10gPSBzYWZlX2FkZF8yKGgsIEhbN10pO1xuICAgIH1cblxuICAgIHZhciBiaW5hcnJheSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgSC5sZW5ndGg7IGkrKykge1xuICAgICAgICBiaW5hcnJheS5wdXNoKEhbaV0uaGlnaE9yZGVyKTtcbiAgICAgICAgYmluYXJyYXkucHVzaChIW2ldLmxvd09yZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmluYjJoZXgoYmluYXJyYXkpO1xufSk7XHJcblxyXG4vKipcclxuICogKGMpIGpUb29scyBJbnB1dCBNYXNrXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsaG9kZWwvanRvb2xzXHJcbiAqXHJcbiAqIEBhdXRob3I6IFBhdWwgSG9kZWwgPHBhdWwuaG9kZWxAZ21haWwuY29tPlxyXG4gKiBAZGVzY3JpcHRpb246IElucHV0IG1hc2tcclxuICovXHJcblxyXG5qU3VpdGVzLm1hc2sgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgb2JqID0ge307XHJcbiAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgdmFyIHZhbHVlcyA9IFtdXHJcbiAgICB2YXIgcGllY2VzID0gW107XHJcblxyXG4gICAgb2JqLnJ1biA9IGZ1bmN0aW9uKHZhbHVlLCBtYXNrLCBkZWNpbWFsKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlICYmIG1hc2spIHtcclxuICAgICAgICAgICAgaWYgKCEgZGVjaW1hbCkge1xyXG4gICAgICAgICAgICAgICAgZGVjaW1hbCA9ICcuJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gTnVtYmVyKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG51bWJlciA9ICgnJyt2YWx1ZSkuc3BsaXQoJy4nKTtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG51bWJlclswXTtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZURlY2ltYWwgPSBudW1iZXJbMV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICcnICsgdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICB2YWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIG1hc2sgdG9rZW5cclxuICAgICAgICAgICAgb2JqLnByZXBhcmUobWFzayk7XHJcbiAgICAgICAgICAgIC8vIEN1cnJlbnQgdmFsdWVcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVja2luZyBjdXJyZW50IHZhbHVlXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnRWYWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWVbaV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucHJvY2VzcyhjdXJyZW50VmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodmFsdWVEZWNpbWFsKSB7XHJcbiAgICAgICAgICAgICAgICBvYmoucHJvY2VzcyhkZWNpbWFsKTtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSB2YWx1ZURlY2ltYWw7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2tpbmcgY3VycmVudCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudFZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWVbaV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnByb2Nlc3MoY3VycmVudFZhbHVlW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBGb3JtYXR0ZWQgdmFsdWVcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5qb2luKCcnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9iai5hcHBseSA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQgJiYgISBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpIHtcclxuICAgICAgICAgICAgdmFyIG1hc2sgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWFzaycpO1xyXG4gICAgICAgICAgICBpZiAobWFzayAmJiBlLmtleUNvZGUgPiA0Nikge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbWFzayB0b2tlblxyXG4gICAgICAgICAgICAgICAgb2JqLnByZXBhcmUobWFzayk7XHJcbiAgICAgICAgICAgICAgICAvLyBDdXJyZW50IHZhbHVlXHJcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuc2VsZWN0aW9uU3RhcnQgPCBlLnRhcmdldC5zZWxlY3Rpb25FbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gZS50YXJnZXQudmFsdWUuc3Vic3RyaW5nKDAsIGUudGFyZ2V0LnNlbGVjdGlvblN0YXJ0KTsgXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVja2luZyBjdXJyZW50IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50VmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZVtpXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucHJvY2VzcyhjdXJyZW50VmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gTmV3IGlucHV0XHJcbiAgICAgICAgICAgICAgICBvYmoucHJvY2VzcyhvYmouZnJvbUtleUNvZGUoZSkpO1xyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHZhbHVlIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHZhbHVlcy5qb2luKCcnKTtcclxuICAgICAgICAgICAgICAgIGlmIChwaWVjZXMubGVuZ3RoID09IHZhbHVlcy5sZW5ndGggJiYgcGllY2VzW3BpZWNlcy5sZW5ndGgtMV0ubGVuZ3RoID09IHZhbHVlc1t2YWx1ZXMubGVuZ3RoLTFdLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnZGF0YS1jb21wbGV0ZWQnLCAndHJ1ZScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29tcGxldGVkJywgJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGRlZmF1bHRcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByb2Nlc3MgaW5wdXRzIGFuZCBzYXZlIHRvIHZhbHVlc1xyXG4gICAgICovXHJcbiAgICBvYmoucHJvY2VzcyA9IGZ1bmN0aW9uKGlucHV0KSB7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBpZiAocGllY2VzW2luZGV4XSA9PSAnbW0nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzW2luZGV4XSA9PSBudWxsIHx8IHZhbHVlc1tpbmRleF0gPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoaW5wdXQpID4gMSAmJiBwYXJzZUludChpbnB1dCkgPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gJzAnICsgaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VJbnQoaW5wdXQpIDwgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IGlucHV0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzW2luZGV4XSA9PSAxICYmIHZhbHVlc1tpbmRleF0gPCAyICYmIHBhcnNlSW50KGlucHV0KSA8IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSArPSBpbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZXNbaW5kZXhdID09IDAgJiYgdmFsdWVzW2luZGV4XSA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gKz0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwaWVjZXNbaW5kZXhdID09ICdkZCcpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbaW5kZXhdID09IG51bGwgfHwgdmFsdWVzW2luZGV4XSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChpbnB1dCkgPiAzICYmIHBhcnNlSW50KGlucHV0KSA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSAnMCcgKyBpbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZUludChpbnB1dCkgPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbaW5kZXhdID09IDMgJiYgcGFyc2VJbnQoaW5wdXQpIDwgMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdICs9IGlucHV0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlc1tpbmRleF0gPCAzICYmIHBhcnNlSW50KGlucHV0KSA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gKz0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwaWVjZXNbaW5kZXhdID09ICdoaDI0Jykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tpbmRleF0gPT0gbnVsbCB8fCB2YWx1ZXNbaW5kZXhdID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KGlucHV0KSA+IDIgJiYgcGFyc2VJbnQoaW5wdXQpIDwgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9ICcwJyArIGlucHV0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlSW50KGlucHV0KSA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSBpbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tpbmRleF0gPT0gMiAmJiBwYXJzZUludChpbnB1dCkgPCA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gKz0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVzW2luZGV4XSA8IDIgJiYgcGFyc2VJbnQoaW5wdXQpIDwgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSArPSBpbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBpZWNlc1tpbmRleF0gPT0gJ2hoJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tpbmRleF0gPT0gbnVsbCB8fCB2YWx1ZXNbaW5kZXhdID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KGlucHV0KSA+IDEgJiYgcGFyc2VJbnQoaW5wdXQpIDwgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9ICcwJyArIGlucHV0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlSW50KGlucHV0KSA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSBpbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tpbmRleF0gPT0gMSAmJiBwYXJzZUludChpbnB1dCkgPCAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gKz0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVzW2luZGV4XSA8IDEgJiYgcGFyc2VJbnQoaW5wdXQpIDwgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSArPSBpbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBpZWNlc1tpbmRleF0gPT0gJ21pJyB8fCBwaWVjZXNbaW5kZXhdID09ICdzcycpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbaW5kZXhdID09IG51bGwgfHwgdmFsdWVzW2luZGV4XSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChpbnB1dCkgPiA1ICYmIHBhcnNlSW50KGlucHV0KSA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSAnMCcgKyBpbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZUludChpbnB1dCkgPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChpbnB1dCkgPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdICs9IGlucHV0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBpZWNlc1tpbmRleF0gPT0gJ3l5JyB8fCBwaWVjZXNbaW5kZXhdID09ICd5eXl5Jykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KGlucHV0KSA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tpbmRleF0gPT0gbnVsbCB8fCB2YWx1ZXNbaW5kZXhdID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSBpbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdICs9IGlucHV0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzW2luZGV4XS5sZW5ndGggPT0gcGllY2VzW2luZGV4XS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwaWVjZXNbaW5kZXhdID09ICcjJyB8fCBwaWVjZXNbaW5kZXhdID09ICcjLiMjJyB8fCBwaWVjZXNbaW5kZXhdID09ICcjLCMjJyB8fCBwaWVjZXNbaW5kZXhdID09ICcjICMjJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0Lm1hdGNoKC9bMC05XS9nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZXNbaW5kZXhdID09ICcjLiMjJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gJy4nO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGllY2VzW2luZGV4XSA9PSAnIywjIycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlcGFyYXRvciA9ICcsJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBpZWNlc1tpbmRleF0gPT0gJyMgIyMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZXBhcmF0b3IgPSAnICc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlcGFyYXRvciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzW2luZGV4XSA9PSBudWxsIHx8IHZhbHVlc1tpbmRleF0gPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IGlucHV0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gKz0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZXNbaW5kZXhdLm1hdGNoKC9bMC05XS9nKS5qb2luKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gdmFsdWVzW2luZGV4XS5sZW5ndGggLSAxOyBqID49IDAgOyBqLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnB1c2godmFsdWVzW2luZGV4XVtqXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIChzICUgMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5wdXNoKHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IHQucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IHQuam9pbignJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzW2luZGV4XS5zdWJzdHIoMCwxKSA9PSBzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWVzW2luZGV4XS5zdWJzdHIoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGllY2VzW2luZGV4XSA9PSAnIy4jIycgJiYgaW5wdXQgPT0gJy4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmdcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBpZWNlc1tpbmRleF0gPT0gJyMsIyMnICYmIGlucHV0ID09ICcsJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwaWVjZXNbaW5kZXhdID09ICcjICMjJyAmJiBpbnB1dCA9PSAnICcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbaW5kZXhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpZWNlc1tpbmRleF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGllY2VzW2luZGV4XSA9PSBpbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZXNbaW5kZXhdID09ICcwJyAmJiBwaWVjZXNbaW5kZXgrMV0gPT0gaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBpZWNlc1tpbmRleF0gPT0gJzAnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQubWF0Y2goL1swLTldL2cpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IGlucHV0O1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwaWVjZXNbaW5kZXhdID09ICdhJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0Lm1hdGNoKC9bYS16QS1aXS9nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSBpbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGllY2VzW2luZGV4XSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpZWNlc1tpbmRleF0gPT0gJ1xcXFxhJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdiA9ICdhJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBpZWNlc1tpbmRleF0gPT0gJ1xcXFwwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdiA9ICcwJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBpZWNlc1tpbmRleF0gPT0gJ1stXScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0ID09ICctJyB8fCBpbnB1dCA9PSAnKycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ID0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdiA9ICcgJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ID0gcGllY2VzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IHY7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0ID09IHYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgIH0gd2hpbGUgKHBpZWNlc1tpbmRleF0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIHRva2VucyBmb3IgdGhlIG1hc2tcclxuICAgICAqL1xyXG4gICAgb2JqLnByZXBhcmUgPSBmdW5jdGlvbihtYXNrKSB7XHJcbiAgICAgICAgcGllY2VzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChtYXNrW2ldLm1hdGNoKC9bMC05XXxbYS16XXxcXFxcL2cpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWFza1tpXSA9PSAneScgJiYgbWFza1tpKzFdID09ICd5JyAmJiBtYXNrW2krMl0gPT0gJ3knICYmIG1hc2tbaSszXSA9PSAneScpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWVjZXMucHVzaCgneXl5eScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAneScgJiYgbWFza1tpKzFdID09ICd5Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKCd5eScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnbScgJiYgbWFza1tpKzFdID09ICdtJyAmJiBtYXNrW2krMl0gPT0gJ20nICYmIG1hc2tbaSszXSA9PSAnbScpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWVjZXMucHVzaCgnbW1tbScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnbScgJiYgbWFza1tpKzFdID09ICdtJyAmJiBtYXNrW2krMl0gPT0gJ20nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGllY2VzLnB1c2goJ21tbScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnbScgJiYgbWFza1tpKzFdID09ICdtJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKCdtbScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnZCcgJiYgbWFza1tpKzFdID09ICdkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKCdkZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnaCcgJiYgbWFza1tpKzFdID09ICdoJyAmJiBtYXNrW2krMl0gPT0gJzInICYmIG1hc2tbaSszXSA9PSAnNCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWVjZXMucHVzaCgnaGgyNCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnaCcgJiYgbWFza1tpKzFdID09ICdoJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKCdoaCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnbScgJiYgbWFza1tpKzFdID09ICdpJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKCdtaScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAncycgJiYgbWFza1tpKzFdID09ICdzJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKCdzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnYScgJiYgbWFza1tpKzFdID09ICdtJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKCdhbScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAncCcgJiYgbWFza1tpKzFdID09ICdtJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKCdwbScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnXFxcXCcgJiYgbWFza1tpKzFdID09ICcwJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKCdcXFxcMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnXFxcXCcgJiYgbWFza1tpKzFdID09ICdhJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKCdcXFxcYScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGllY2VzLnB1c2gobWFza1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWFza1tpXSA9PSAnIycgJiYgbWFza1tpKzFdID09ICcuJyAmJiBtYXNrW2krMl0gPT0gJyMnICYmIG1hc2tbaSszXSA9PSAnIycpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWVjZXMucHVzaCgnIy4jIycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnIycgJiYgbWFza1tpKzFdID09ICcsJyAmJiBtYXNrW2krMl0gPT0gJyMnICYmIG1hc2tbaSszXSA9PSAnIycpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWVjZXMucHVzaCgnIywjIycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnIycgJiYgbWFza1tpKzFdID09ICcgJyAmJiBtYXNrW2krMl0gPT0gJyMnICYmIG1hc2tbaSszXSA9PSAnIycpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWVjZXMucHVzaCgnIyAjIycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFza1tpXSA9PSAnWycgJiYgbWFza1tpKzFdID09ICctJyAmJiBtYXNrW2krMl0gPT0gJ10nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGllY2VzLnB1c2goJ1stXScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGllY2VzLnB1c2gobWFza1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFxyXG4gICAgICogVGhhbmtzIGZvciB0aGUgY29sbGFib3JhdGlvblxyXG4gICAgICovXHJcbiAgICBvYmouZnJvbUtleUNvZGUgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIF90b19hc2NpaSA9IHtcclxuICAgICAgICAgICAgJzE4OCc6ICc0NCcsXHJcbiAgICAgICAgICAgICcxMDknOiAnNDUnLFxyXG4gICAgICAgICAgICAnMTkwJzogJzQ2JyxcclxuICAgICAgICAgICAgJzE5MSc6ICc0NycsXHJcbiAgICAgICAgICAgICcxOTInOiAnOTYnLFxyXG4gICAgICAgICAgICAnMjIwJzogJzkyJyxcclxuICAgICAgICAgICAgJzIyMic6ICczOScsXHJcbiAgICAgICAgICAgICcyMjEnOiAnOTMnLFxyXG4gICAgICAgICAgICAnMjE5JzogJzkxJyxcclxuICAgICAgICAgICAgJzE3Myc6ICc0NScsXHJcbiAgICAgICAgICAgICcxODcnOiAnNjEnLCAvL0lFIEtleSBjb2Rlc1xyXG4gICAgICAgICAgICAnMTg2JzogJzU5JywgLy9JRSBLZXkgY29kZXNcclxuICAgICAgICAgICAgJzE4OSc6ICc0NScgIC8vSUUgS2V5IGNvZGVzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc2hpZnRVcHMgPSB7XHJcbiAgICAgICAgICAgIFwiOTZcIjogXCJ+XCIsXHJcbiAgICAgICAgICAgIFwiNDlcIjogXCIhXCIsXHJcbiAgICAgICAgICAgIFwiNTBcIjogXCJAXCIsXHJcbiAgICAgICAgICAgIFwiNTFcIjogXCIjXCIsXHJcbiAgICAgICAgICAgIFwiNTJcIjogXCIkXCIsXHJcbiAgICAgICAgICAgIFwiNTNcIjogXCIlXCIsXHJcbiAgICAgICAgICAgIFwiNTRcIjogXCJeXCIsXHJcbiAgICAgICAgICAgIFwiNTVcIjogXCImXCIsXHJcbiAgICAgICAgICAgIFwiNTZcIjogXCIqXCIsXHJcbiAgICAgICAgICAgIFwiNTdcIjogXCIoXCIsXHJcbiAgICAgICAgICAgIFwiNDhcIjogXCIpXCIsXHJcbiAgICAgICAgICAgIFwiNDVcIjogXCJfXCIsXHJcbiAgICAgICAgICAgIFwiNjFcIjogXCIrXCIsXHJcbiAgICAgICAgICAgIFwiOTFcIjogXCJ7XCIsXHJcbiAgICAgICAgICAgIFwiOTNcIjogXCJ9XCIsXHJcbiAgICAgICAgICAgIFwiOTJcIjogXCJ8XCIsXHJcbiAgICAgICAgICAgIFwiNTlcIjogXCI6XCIsXHJcbiAgICAgICAgICAgIFwiMzlcIjogXCJcXFwiXCIsXHJcbiAgICAgICAgICAgIFwiNDRcIjogXCI8XCIsXHJcbiAgICAgICAgICAgIFwiNDZcIjogXCI+XCIsXHJcbiAgICAgICAgICAgIFwiNDdcIjogXCI/XCJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgYyA9IGUud2hpY2g7XHJcblxyXG4gICAgICAgIGlmIChfdG9fYXNjaWkuaGFzT3duUHJvcGVydHkoYykpIHtcclxuICAgICAgICAgICAgYyA9IF90b19hc2NpaVtjXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZS5zaGlmdEtleSAmJiAoYyA+PSA2NSAmJiBjIDw9IDkwKSkge1xyXG4gICAgICAgICAgICBjID0gU3RyaW5nLmZyb21DaGFyQ29kZShjICsgMzIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5zaGlmdEtleSAmJiBzaGlmdFVwcy5oYXNPd25Qcm9wZXJ0eShjKSkge1xyXG4gICAgICAgICAgICBjID0gc2hpZnRVcHNbY107XHJcbiAgICAgICAgfSBlbHNlIGlmICg5NiA8PSBjICYmIGMgPD0gMTA1KSB7XHJcbiAgICAgICAgICAgIGMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMgLSA0OCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb2JqO1xyXG59KSgpO1xyXG5cclxualN1aXRlcy5tb2JpbGUgPSAoZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcclxuICAgIHZhciBvYmogPSB7fTtcclxuICAgIG9iai5vcHRpb25zID0ge307XHJcblxyXG4gICAgaWYgKGpTdWl0ZXMuZWwpIHtcclxuICAgICAgICBqU3VpdGVzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnb3B0aW9uLXRpdGxlJykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9iajtcclxufSkoKTtcclxuXHJcbmpTdWl0ZXMucGFnZXMgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY29udGFpbmVyID0gbnVsbDtcclxuICAgIHZhciBjdXJyZW50ID0gbnVsbDtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBwYWdlXHJcbiAgICB2YXIgY3JlYXRlUGFnZSA9IGZ1bmN0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHBhZ2VcclxuICAgICAgICB2YXIgcGFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHBhZ2UuY2xhc3NMaXN0LmFkZCgncGFnZScpO1xyXG5cclxuICAgICAgICAvLyBBbHdheXMgaGlkZGVuXHJcbiAgICAgICAgcGFnZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAvLyBLZWVwIG9wdGlvbnNcclxuICAgICAgICBwYWdlLm9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xyXG5cclxuICAgICAgICBpZiAoISBjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwYWdlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKHBhZ2UsIGN1cnJlbnQubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgalN1aXRlcy5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBwYWdlLm9wdGlvbnMudXJsLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIC8vIFB1c2ggdG8gcmVmcmVzaCBjb250cm9sc1xyXG4gICAgICAgICAgICAgICAgalN1aXRlcy5yZWZyZXNoKHBhZ2UsIHBhZ2Uub3B0aW9ucy5vbnB1c2gpO1xyXG5cbiAgICAgICAgICAgICAgICAvLyBPcGVuIHBhZ2VcclxuICAgICAgICAgICAgICAgIHBhZ2UuaW5uZXJIVE1MID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0IGphdmFzY3JpcHRcclxuICAgICAgICAgICAgICAgIHZhciBzY3JpcHQgPSBwYWdlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcclxuICAgICAgICAgICAgICAgIC8vIFJ1biBwb3NzaWJsZSBpbmxpbmUgc2NyaXB0c1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY3JpcHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gc2NyaXB0W2ldLmdldEF0dHJpYnV0ZSgndHlwZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghIHR5cGUgfHwgdHlwZSA9PSAndGV4dC9qYXZhc2NyaXB0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsKHNjcmlwdFtpXS5pbm5lckhUTUwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFNldCB0aXRsZVxyXG4gICAgICAgICAgICAgICAgcGFnZS5zZXRUaXRsZSA9IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBTaG93IHBhZ2VcclxuICAgICAgICAgICAgICAgIGlmICghIHBhZ2Uub3B0aW9ucy5jbG9zZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG93UGFnZShwYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIE9ubG9hZCBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihwYWdlLm9wdGlvbnMub25sb2FkKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZS5vcHRpb25zLm9ubG9hZChwYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEZvcmNlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGNhbGxiYWNrKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socGFnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNob3dQYWdlID0gZnVuY3Rpb24ocGFnZSwgaWdub3JlSGlzdG9yeSwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PSBwYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gcGFnZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEtlZXAgc2Nyb2xsIGluIHRoZSB0b3BcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTaG93IHBhZ2VcclxuICAgICAgICAgICAgICAgIHBhZ2Uuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChjb250YWluZXIuY2hpbGRyZW4sIGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGIgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGNvbnRhaW5lci5jaGlsZHJlbiwgcGFnZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTGVhdmVcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoY3VycmVudC5vcHRpb25zLm9ubGVhdmUpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Lm9wdGlvbnMub25sZWF2ZShjdXJyZW50LCBwYWdlLCBpZ25vcmVIaXN0b3J5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBqU3VpdGVzLnNsaWRlTGVmdChjb250YWluZXIsIChhIDwgYiA/IDAgOiAxKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBwYWdlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRW50ZXJcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocGFnZS5vcHRpb25zLm9uZW50ZXIpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlLm9wdGlvbnMub25lbnRlcihwYWdlLCBjdXJyZW50LCBpZ25vcmVIaXN0b3J5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFNob3dcclxuICAgICAgICAgICAgcGFnZS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcblxyXG4gICAgICAgICAgICAvLyBLZWVwIGN1cnJlbnRcclxuICAgICAgICAgICAgY3VycmVudCA9IHBhZ2U7XHJcblxyXG4gICAgICAgICAgICAvLyBFbnRlclxyXG4gICAgICAgICAgICBpZiAodHlwZW9mKHBhZ2Uub3B0aW9ucy5vbmVudGVyKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlLm9wdGlvbnMub25lbnRlcihwYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWRkIGhpc3RvcnlcclxuICAgICAgICBpZiAoISBpZ25vcmVIaXN0b3J5KSB7XHJcbiAgICAgICAgICAgIC8vIEFkZCBoaXN0b3J5XHJcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7IHJvdXRlOiBwYWdlLm9wdGlvbnMucm91dGUgfSwgcGFnZS5vcHRpb25zLnRpdGxlLCBwYWdlLm9wdGlvbnMucm91dGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsbGJhY2tcclxuICAgICAgICBpZiAodHlwZW9mKGNhbGxiYWNrKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHBhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJbml0IG1ldGhvZFxyXG4gICAgdmFyIG9iaiA9IGZ1bmN0aW9uKHJvdXRlLCBtaXhlZCkge1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgcGFnZSBjb250YWluZXJcclxuICAgICAgICBpZiAoISBjb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2VzJyk7XHJcbiAgICAgICAgICAgIGlmICghIGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ3BhZ2VzJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQXBwZW5kIGNvbnRhaW5lciB0byB0aGUgYXBwbGljYXRpb25cclxuICAgICAgICAgICAgaWYgKGpTdWl0ZXMuZWwpIHtcclxuICAgICAgICAgICAgICAgIGpTdWl0ZXMuZWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCEgb2JqLnBhZ2VzW3JvdXRlXSkge1xyXG4gICAgICAgICAgICBpZiAoISByb3V0ZSkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ0Vycm9yLCBubyByb3V0ZSBwcm92aWRlZCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihtaXhlZCkgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gbWl4ZWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhZ2Ugb3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gbWl4ZWQgPyBtaXhlZCA6IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENsb3NlZFxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jbG9zZWQgPSBtaXhlZCAmJiBtaXhlZC5jbG9zZWQgPyAxIDogMDtcclxuICAgICAgICAgICAgICAgIC8vIEtlZXAgUm91dGVcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMucm91dGUgPSByb3V0ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOZXcgcGFnZSB1cmxcclxuICAgICAgICAgICAgICAgIGlmICghIG9wdGlvbnMudXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdXRlUGF0aCA9IHJvdXRlLnNwbGl0KCcjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy51cmwgPSBqU3VpdGVzLnBhZ2VzLnBhdGggKyByb3V0ZVBhdGhbMF0gKyAnLmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gVGl0bGVcclxuICAgICAgICAgICAgICAgIGlmICghIG9wdGlvbnMudGl0bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnRpdGxlID0gJ1VudGl0bGVkJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IHBhZ2VcclxuICAgICAgICAgICAgICAgIG9iai5wYWdlc1tyb3V0ZV0gPSBjcmVhdGVQYWdlKG9wdGlvbnMsIGNhbGxiYWNrID8gY2FsbGJhY2sgOiBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBjb25maWdcclxuICAgICAgICAgICAgaWYgKG1peGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBIaXN0b3J5XHJcbiAgICAgICAgICAgICAgICB2YXIgaWdub3JlSGlzdG9yeSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihtaXhlZCkgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IG1peGVkO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG1peGVkLm9uZW50ZXIpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnBhZ2VzW3JvdXRlXS5vcHRpb25zLm9uZW50ZXIgPSBtaXhlZC5vbmVudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG1peGVkLm9ubGVhdmUpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnBhZ2VzW3JvdXRlXS5vcHRpb25zLm9ubGVhdmUgPSBtaXhlZC5vbmxlYXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGhpc3RvcnlcclxuICAgICAgICAgICAgICAgICAgICBpZ25vcmVIaXN0b3J5ID0gbWl4ZWQuaWdub3JlSGlzdG9yeSA/IDEgOiAwOyBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2hvd1BhZ2Uob2JqLnBhZ2VzW3JvdXRlXSwgaWdub3JlSGlzdG9yeSwgY2FsbGJhY2sgPyBjYWxsYmFjayA6IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvYmoucGFnZXMgPSB7fTtcclxuXHJcbiAgICAvLyBHZXQgcGFnZVxyXG4gICAgb2JqLmdldCA9IGZ1bmN0aW9uKHJvdXRlKSB7XHJcbiAgICAgICAgaWYgKG9iai5wYWdlc1tyb3V0ZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iai5wYWdlc1tyb3V0ZV07IFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvYmouZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH1cclxuXHJcbiAgICBvYmouZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIEN1cnJlbnQgaXMgbnVsbFxyXG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgIC8vIERlc3Ryb3kgY29udGFpbmVyc1xyXG4gICAgICAgIG9iai5wYWdlcyA9IHt9O1xyXG4gICAgICAgIC8vIFJlc2V0IGNvbnRhaW5lclxyXG4gICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb2JqO1xyXG59KSgpO1xyXG5cclxuLy8gUGF0aFxyXG5qU3VpdGVzLnBhZ2VzLnBhdGggPSAncGFnZXMnO1xyXG5cclxuLy8gUGFuZWxcclxualN1aXRlcy5wYW5lbCA9IChmdW5jdGlvbigpIHtcclxuICAgIC8vIE5vIGluaXRpYWwgcGFuZWwgZGVjbGFyZWRcclxuICAgIHZhciBwYW5lbCA9IG51bGw7XHJcblxyXG4gICAgdmFyIG9iaiA9IGZ1bmN0aW9uKHJvdXRlKSB7XHJcbiAgICAgICAgaWYgKCEgcGFuZWwpIHtcclxuICAgICAgICAgICAgb2JqLmNyZWF0ZShqU3VpdGVzLnBhZ2VzLnBhdGggKyByb3V0ZSArICcuaHRtbCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2hvdyBwYW5lbFxyXG4gICAgICAgIHBhbmVsLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuXHJcbiAgICAgICAgLy8gQWRkIGFuaW1hdGlvblxyXG4gICAgICAgIGlmIChwYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3BhbmVsLWxlZnQnKSkge1xyXG4gICAgICAgICAgICBqU3VpdGVzLnNsaWRlTGVmdChwYW5lbCwgMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgalN1aXRlcy5zbGlkZVJpZ2h0KHBhbmVsLCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLmNyZWF0ZSA9IGZ1bmN0aW9uKHJvdXRlKSB7XHJcbiAgICAgICAgaWYgKCEgcGFuZWwpIHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGVsZW1lbnRcclxuICAgICAgICAgICAgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncGFuZWwnKTtcclxuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncGFuZWwtbGVmdCcpO1xyXG4gICAgICAgICAgICBwYW5lbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgLy8gQmluZCB0byB0aGUgYXBwXHJcbiAgICAgICAgICAgIGlmIChqU3VpdGVzLmVsKSB7XHJcbiAgICAgICAgICAgICAgICBqU3VpdGVzLmVsLmFwcGVuZENoaWxkKHBhbmVsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdGUgY29udGVudFxyXG4gICAgICAgIGlmIChyb3V0ZSkge1xyXG5cdCAgICAgICAgdmFyIHVybCA9IGpTdWl0ZXMucGFnZXMucGF0aCArIHJvdXRlICsgJy5odG1sJztcclxuXHJcbiAgICAgICAgICAgIGpTdWl0ZXMuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgY29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIHBhbmVsLmlubmVySFRNTCA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgamF2YXNjcmlwdFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3JpcHQgPSBwYW5lbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUnVuIHBvc3NpYmxlIGlubGluZSBzY3JpcHRzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY3JpcHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHR5cGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBzY3JpcHRbaV0uZ2V0QXR0cmlidXRlKCd0eXBlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIHR5cGUgfHwgdHlwZSA9PSAndGV4dC9qYXZhc2NyaXB0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZhbChzY3JpcHRbaV0uaW5uZXJIVE1MKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9iai5jbG9zZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChwYW5lbCkge1xyXG4gICAgICAgICAgICAvLyBBbmltYXRpb25cclxuICAgICAgICAgICAgaWYgKHBhbmVsLmNsYXNzTGlzdC5jb250YWlucygncGFuZWwtbGVmdCcpKSB7XHJcbiAgICAgICAgICAgICAgICBqU3VpdGVzLnNsaWRlTGVmdChwYW5lbCwgMCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgalN1aXRlcy5zbGlkZVJpZ2h0KHBhbmVsLCAwLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYW5lbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLmdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBwYW5lbDtcclxuICAgIH1cclxuXHJcbiAgICBvYmouZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHBhbmVsLnJlbW92ZSgpO1xyXG4gICAgICAgIHBhbmVsID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb2JqO1xyXG59KSgpO1xyXG5cclxualN1aXRlcy50b29sYmFyID0gKGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgb2JqID0ge307XHJcbiAgICBvYmoub3B0aW9ucyA9IG9wdGlvbnM7XHJcblxyXG4gICAgb2JqLnNlbGVjdEl0ZW0gPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdG9vbGJhckNvbnRlbnQuY2hpbGRyZW47XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBlbGVtZW50c1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLmhpZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBqU3VpdGVzLnNsaWRlQm90dG9tKHRvb2xiYXIsIDAsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0b29sYmFyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLnNob3cgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0b29sYmFyLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICBqU3VpdGVzLnNsaWRlQm90dG9tKHRvb2xiYXIsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIG9iai5nZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdG9vbGJhcjtcclxuICAgIH1cclxuXHJcbiAgICBvYmouc2V0QmFkZ2UgPSBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcclxuICAgICAgICB0b29sYmFyQ29udGVudC5jaGlsZHJlbltpbmRleF0uY2hpbGRyZW5bMV0uZmlyc3RDaGlsZC5pbm5lckhUTUwgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBvYmouZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRvb2xiYXIucmVtb3ZlKCk7XHJcbiAgICAgICAgdG9vbGJhciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRvb2xiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRvb2xiYXIuY2xhc3NMaXN0LmFkZCgnanRvb2xiYXInKTtcclxuICAgIHRvb2xiYXIub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IGpTdWl0ZXMuZ2V0RWxlbWVudChlLnRhcmdldCwgJ2p0b29sYmFyLWl0ZW0nKTtcclxuICAgICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBvYmouc2VsZWN0SXRlbShlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRvb2xiYXJDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0b29sYmFyLmFwcGVuZENoaWxkKHRvb2xiYXJDb250ZW50KTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMuaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgdG9vbGJhckl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0b29sYmFySXRlbS5jbGFzc0xpc3QuYWRkKCdqdG9vbGJhci1pdGVtJyk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaXRlbXNbaV0ucm91dGUpIHtcclxuICAgICAgICAgICAgdG9vbGJhckl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWhyZWYnLCBvcHRpb25zLml0ZW1zW2ldLnJvdXRlKTtcclxuICAgICAgICAgICAgalN1aXRlcy5wYWdlcyhvcHRpb25zLml0ZW1zW2ldLnJvdXRlLCB7XHJcbiAgICAgICAgICAgICAgICBjbG9zZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvbmVudGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmouc2VsZWN0SXRlbSh0b29sYmFySXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaXRlbXNbaV0uaWNvbikge1xyXG4gICAgICAgICAgICB2YXIgdG9vbGJhckljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICAgICAgICAgIHRvb2xiYXJJY29uLmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLWljb25zJyk7XHJcbiAgICAgICAgICAgIHRvb2xiYXJJY29uLmlubmVySFRNTCA9IG9wdGlvbnMuaXRlbXNbaV0uaWNvbjtcclxuICAgICAgICAgICAgdG9vbGJhckl0ZW0uYXBwZW5kQ2hpbGQodG9vbGJhckljb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRvb2xiYXJCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRvb2xiYXJCYWRnZS5jbGFzc0xpc3QuYWRkKCdqYmFkZ2UnKTtcclxuICAgICAgICB2YXIgdG9vbGJhckJhZGdlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRvb2xiYXJCYWRnZUNvbnRlbnQuaW5uZXJIVE1MID0gb3B0aW9ucy5pdGVtc1tpXS5iYWRnZSA/IG9wdGlvbnMuaXRlbXNbaV0uYmFkZ2UgOiAnJztcclxuICAgICAgICB0b29sYmFyQmFkZ2UuYXBwZW5kQ2hpbGQodG9vbGJhckJhZGdlQ29udGVudCk7XHJcbiAgICAgICAgdG9vbGJhckl0ZW0uYXBwZW5kQ2hpbGQodG9vbGJhckJhZGdlKTtcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaXRlbXNbaV0udGl0bGUpIHtcclxuICAgICAgICAgICAgdmFyIHRvb2xiYXJUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgdG9vbGJhclRpdGxlLmlubmVySFRNTCA9IG9wdGlvbnMuaXRlbXNbaV0udGl0bGU7XHJcbiAgICAgICAgICAgIHRvb2xiYXJJdGVtLmFwcGVuZENoaWxkKHRvb2xiYXJUaXRsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0b29sYmFyQ29udGVudC5hcHBlbmRDaGlsZCh0b29sYmFySXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgZWwudG9vbGJhciA9IG9iajtcclxuXHJcbiAgICBlbC5hcHBlbmRDaGlsZCh0b29sYmFyKTtcclxuXHJcbiAgICByZXR1cm4gb2JqO1xyXG59KTtcclxuXHJcbmpTdWl0ZXMuYWN0aW9uc2hlZXQgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYWN0aW9uc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGFjdGlvbnNoZWV0LmNsYXNzTmFtZSA9ICdqYWN0aW9uc2hlZXQnO1xyXG4gICAgYWN0aW9uc2hlZXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICB2YXIgYWN0aW9uQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgYWN0aW9uQ29udGVudC5jbGFzc05hbWUgPSAnamFjdGlvbnNoZWV0LWNvbnRlbnQnO1xyXG4gICAgYWN0aW9uc2hlZXQuYXBwZW5kQ2hpbGQoYWN0aW9uQ29udGVudCk7XHJcblxyXG4gICAgdmFyIG9iaiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICBvYmoub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXNldCBjb250YWluZXJcclxuICAgICAgICBhY3Rpb25Db250ZW50LmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgbmV3IGVsZW1lbnRzXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoub3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYWN0aW9uR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgYWN0aW9uR3JvdXAuY2xhc3NOYW1lID0gJ2phY3Rpb25zaGVldC1ncm91cCc7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5vcHRpb25zW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdiA9IG9iai5vcHRpb25zW2ldW2pdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbkl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIHZhciBhY3Rpb25JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25JbnB1dC50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25JbnB1dC52YWx1ZSA9IHYudGl0bGU7XHJcbiAgICAgICAgICAgICAgICBpZiAodi5jbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25JbnB1dC5jbGFzc05hbWUgPSB2LmNsYXNzTmFtZTsgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodi5vbmNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uSW5wdXQub25jbGljayA9IHYub25jbGljazsgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodi5hY3Rpb24gPT0gJ2NhbmNlbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25JbnB1dC5zdHlsZS5jb2xvciA9ICdyZWQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYWN0aW9uSXRlbS5hcHBlbmRDaGlsZChhY3Rpb25JbnB1dCk7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25Hcm91cC5hcHBlbmRDaGlsZChhY3Rpb25JdGVtKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYWN0aW9uQ29udGVudC5hcHBlbmRDaGlsZChhY3Rpb25Hcm91cCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTaG93XHJcbiAgICAgICAgYWN0aW9uc2hlZXQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cclxuICAgICAgICAvLyBBcHBlbmRcclxuICAgICAgICBqU3VpdGVzLmVsLmFwcGVuZENoaWxkKGFjdGlvbnNoZWV0KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWF0aW9uXHJcbiAgICAgICAgalN1aXRlcy5zbGlkZUJvdHRvbShhY3Rpb25Db250ZW50LCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBvYmouY2xvc2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoYWN0aW9uc2hlZXQuc3R5bGUuZGlzcGxheSAhPSAnbm9uZScpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGFueSBleGlzdGluZyBhY3Rpb25zaGVldFxyXG4gICAgICAgICAgICBqU3VpdGVzLnNsaWRlQm90dG9tKGFjdGlvbkNvbnRlbnQsIGZhbHNlLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbnNoZWV0LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uc2hlZXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBtb3VzZVVwID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIG9iai5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFjdGlvbnNoZWV0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBtb3VzZVVwKTtcclxuXHJcbiAgICBvYmoub3B0aW9ucyA9IHt9O1xyXG5cclxuICAgIHJldHVybiBvYmo7XHJcbn0pKCk7XHJcblxyXG4vKipcclxuICogKGMpIGpTdWl0ZXMgbW9kYWxcclxuICogaHR0cHM6Ly9naXRodWIuY29tL3BhdWxob2RlbC9qc3VpdGVzXHJcbiAqXHJcbiAqIEBhdXRob3I6IFBhdWwgSG9kZWwgPHBhdWwuaG9kZWxAZ21haWwuY29tPlxyXG4gKiBAZGVzY3JpcHRpb246IE1vZGFsXHJcbiAqL1xyXG5cclxualN1aXRlcy5tb2RhbCA9IChmdW5jdGlvbihlbCwgb3B0aW9ucykge1xyXG4gICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgb2JqLm9wdGlvbnMgPSB7fTtcclxuXHJcbiAgICAvLyBEZWZhdWx0IGNvbmZpZ3VyYXRpb25cclxuICAgIHZhciBkZWZhdWx0cyA9IHtcclxuICAgICAgICB1cmw6IG51bGwsXHJcbiAgICAgICAgb25vcGVuOiBudWxsLFxyXG4gICAgICAgIG9uY2xvc2U6IG51bGwsXHJcbiAgICAgICAgY2xvc2VkOiBmYWxzZSxcclxuICAgICAgICB3aWR0aDogbnVsbCxcclxuICAgICAgICBoZWlnaHQ6IG51bGwsXHJcbiAgICAgICAgdGl0bGU6IG51bGwsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCBvdXIgb2JqZWN0XHJcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkZWZhdWx0cykge1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XSA9IG9wdGlvbnNbcHJvcGVydHldO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XSA9IGRlZmF1bHRzW3Byb3BlcnR5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGl0bGVcclxuICAgIGlmICghIG9iai5vcHRpb25zLnRpdGxlICYmIGVsLmdldEF0dHJpYnV0ZSgndGl0bGUnKSkge1xyXG4gICAgICAgIG9iai5vcHRpb25zLnRpdGxlID0gZWwuZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0ZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGVtcC5hcHBlbmRDaGlsZChlbC5jaGlsZHJlbltpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG9iai5jb250ZW50LmNsYXNzTmFtZSA9ICdqbW9kYWxfY29udGVudCc7XHJcbiAgICBvYmouY29udGVudC5pbm5lckhUTUwgPSBlbC5pbm5lckhUTUw7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgb2JqLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGVtcC5jaGlsZHJlbltpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgb2JqLmNvbnRhaW5lci5jbGFzc05hbWUgPSAnam1vZGFsJztcclxuICAgIG9iai5jb250YWluZXIuYXBwZW5kQ2hpbGQob2JqLmNvbnRlbnQpO1xyXG5cclxuICAgIGlmIChvYmoub3B0aW9ucy53aWR0aCkge1xyXG4gICAgICAgIG9iai5jb250YWluZXIuc3R5bGUud2lkdGggPSBvYmoub3B0aW9ucy53aWR0aDtcclxuICAgIH1cclxuICAgIGlmIChvYmoub3B0aW9ucy5oZWlnaHQpIHtcclxuICAgICAgICBvYmouY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG9iai5vcHRpb25zLmhlaWdodDtcclxuICAgIH1cclxuICAgIGlmIChvYmoub3B0aW9ucy50aXRsZSkge1xyXG4gICAgICAgIG9iai5jb250YWluZXIuc2V0QXR0cmlidXRlKCd0aXRsZScsIG9iai5vcHRpb25zLnRpdGxlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb2JqLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCduby10aXRsZScpO1xyXG4gICAgfVxyXG4gICAgZWwuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgZWwuYXBwZW5kQ2hpbGQob2JqLmNvbnRhaW5lcik7XHJcblxyXG4gICAgLy8gQmFja2Ryb3BcclxuICAgIHZhciBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgYmFja2Ryb3AuY2xhc3NOYW1lID0gJ2ptb2RhbF9iYWNrZHJvcCc7XHJcbiAgICBlbC5hcHBlbmRDaGlsZChiYWNrZHJvcCk7XHJcblxyXG4gICAgb2JqLm9wZW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAvLyBGdWxsc2NyZWVuXHJcbiAgICAgICAgY29uc3QgcmVjdCA9IG9iai5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgaWYgKGpTdWl0ZXMuZ2V0V2luZG93V2lkdGgoKSA8IHJlY3Qud2lkdGgpIHtcclxuICAgICAgICAgICAgb2JqLmNvbnRhaW5lci5zdHlsZS50b3AgPSAnJztcclxuICAgICAgICAgICAgb2JqLmNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJyc7XHJcbiAgICAgICAgICAgIG9iai5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnam1vZGFsX2Z1bGxzY3JlZW4nKTtcclxuICAgICAgICAgICAgalN1aXRlcy5zbGlkZUJvdHRvbShvYmouY29udGFpbmVyLCAxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBiYWNrZHJvcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ3VycmVudFxyXG4gICAgICAgIGpTdWl0ZXMubW9kYWwuY3VycmVudCA9IG9iajtcclxuICAgICAgICAvLyBFdmVudFxyXG4gICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25vcGVuKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zLm9ub3BlbihlbCwgb2JqKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLnJlc2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBvYmouY29udGFpbmVyLnN0eWxlLnRvcCA9ICcnO1xyXG4gICAgICAgIG9iai5jb250YWluZXIuc3R5bGUubGVmdCA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIG9iai5pc09wZW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gZWwuc3R5bGUuZGlzcGxheSAhPSAnbm9uZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLmNsb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAvLyBCYWNrZHJvcFxyXG4gICAgICAgIGJhY2tkcm9wLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAvLyBDdXJyZW50XHJcbiAgICAgICAgalN1aXRlcy5tb2RhbC5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICAvLyBSZW1vdmUgZnVsbHNjcmVlbiBjbGFzc1xyXG4gICAgICAgIG9iai5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnam1vZGFsX2Z1bGxzY3JlZW4nKTtcclxuICAgICAgICAvLyBFdmVudFxyXG4gICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25jbG9zZSkgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBvYmoub3B0aW9ucy5vbmNsb3NlKGVsLCBvYmopO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoISBqU3VpdGVzLm1vZGFsLmhhc0V2ZW50cykge1xyXG4gICAgICAgIGpTdWl0ZXMubW9kYWwuY3VycmVudCA9IG9iajtcclxuXHJcbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBqU3VpdGVzLm1vZGFsLm1vdXNlRG93bkNvbnRyb2xzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBqU3VpdGVzLm1vZGFsLm1vdXNlRG93bkNvbnRyb2xzKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgalN1aXRlcy5tb2RhbC5tb3VzZU1vdmVDb250cm9scyk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBqU3VpdGVzLm1vZGFsLm1vdXNlVXBDb250cm9scyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgalN1aXRlcy5tb2RhbC5rZXlEb3duQ29udHJvbHMpO1xyXG5cclxuICAgICAgICBqU3VpdGVzLm1vZGFsLmhhc0V2ZW50cyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9iai5vcHRpb25zLnVybCkge1xyXG4gICAgICAgIGpTdWl0ZXMuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogb2JqLm9wdGlvbnMudXJsLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBvYmouY29udGVudC5pbm5lckhUTUwgPSBkYXRhO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLmNsb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5vcGVuKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMuY2xvc2VkKSB7XHJcbiAgICAgICAgICAgIG9iai5vcGVuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEtlZXAgb2JqZWN0IGF2YWlsYWJsZSBmcm9tIHRoZSBub2RlXHJcbiAgICBlbC5tb2RhbCA9IG9iajtcclxuXHJcbiAgICByZXR1cm4gb2JqO1xyXG59KTtcclxuXHJcbmpTdWl0ZXMubW9kYWwuY3VycmVudCA9IG51bGw7XHJcbmpTdWl0ZXMubW9kYWwucG9zaXRpb24gPSBudWxsO1xyXG5cclxualN1aXRlcy5tb2RhbC5rZXlEb3duQ29udHJvbHMgPSBmdW5jdGlvbihlKSB7XHJcbiAgICBpZiAoZS53aGljaCA9PSAyNykge1xyXG4gICAgICAgIGlmIChqU3VpdGVzLm1vZGFsLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgalN1aXRlcy5tb2RhbC5jdXJyZW50LmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5qU3VpdGVzLm1vZGFsLm1vdXNlVXBDb250cm9scyA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIGlmIChqU3VpdGVzLm1vZGFsLmN1cnJlbnQpIHtcclxuICAgICAgICBqU3VpdGVzLm1vZGFsLmN1cnJlbnQuY29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcclxuICAgIH1cclxuICAgIGpTdWl0ZXMubW9kYWwucG9zaXRpb24gPSBudWxsO1xyXG59XHJcblxyXG5qU3VpdGVzLm1vZGFsLm1vdXNlTW92ZUNvbnRyb2xzID0gZnVuY3Rpb24oZSkge1xyXG4gICAgaWYgKGpTdWl0ZXMubW9kYWwuY3VycmVudCAmJiBqU3VpdGVzLm1vZGFsLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKGUud2hpY2ggPT0gMSB8fCBlLndoaWNoID09IDMpIHtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0galN1aXRlcy5tb2RhbC5wb3NpdGlvbjtcclxuICAgICAgICAgICAgalN1aXRlcy5tb2RhbC5jdXJyZW50LmNvbnRhaW5lci5zdHlsZS50b3AgPSAocG9zaXRpb25bMV0gKyAoZS5jbGllbnRZIC0gcG9zaXRpb25bM10pICsgKHBvc2l0aW9uWzVdIC8gMikpICsgJ3B4JztcclxuICAgICAgICAgICAgalN1aXRlcy5tb2RhbC5jdXJyZW50LmNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gKHBvc2l0aW9uWzBdICsgKGUuY2xpZW50WCAtIHBvc2l0aW9uWzJdKSArIChwb3NpdGlvbls0XSAvIDIpKSArICdweCc7XHJcbiAgICAgICAgICAgIGpTdWl0ZXMubW9kYWwuY3VycmVudC5jb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ21vdmUnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGpTdWl0ZXMubW9kYWwuY3VycmVudC5jb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ2F1dG8nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxualN1aXRlcy5tb2RhbC5tb3VzZURvd25Db250cm9scyA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIGpTdWl0ZXMubW9kYWwucG9zaXRpb24gPSBbXTtcclxuXHJcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqbW9kYWwnKSkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIEdldCB0YXJnZXQgaW5mb1xyXG4gICAgICAgICAgICB2YXIgcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGUuY2hhbmdlZFRvdWNoZXMgJiYgZS5jaGFuZ2VkVG91Y2hlc1swXSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB4ID0gZS5jbGllbnRYO1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSBlLmNsaWVudFk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChyZWN0LndpZHRoIC0gKHggLSByZWN0LmxlZnQpIDwgNTAgJiYgKHkgLSByZWN0LnRvcCkgPCA1MCkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBqU3VpdGVzLm1vZGFsLmN1cnJlbnQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCd0aXRsZScpICYmICh5IC0gcmVjdC50b3ApIDwgNTApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHdpbmRvdy5nZXRTZWxlY3Rpb24gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGpTdWl0ZXMubW9kYWwucG9zaXRpb24gPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QubGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC50b3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY2xpZW50WCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5jbGllbnRZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0LndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmpTdWl0ZXMubm90aWZpY2F0aW9uID0gKGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIHZhciBvYmogPSB7fTtcclxuICAgIG9iai5vcHRpb25zID0ge307XHJcblxyXG4gICAgLy8gRGVmYXVsdCBjb25maWd1cmF0aW9uXHJcbiAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgaWNvbjogbnVsbCxcclxuICAgICAgICBuYW1lOiAnTm90aWZpY2F0aW9uJyxcclxuICAgICAgICBkYXRlOiBudWxsLFxyXG4gICAgICAgIHRpdGxlOiBudWxsLFxyXG4gICAgICAgIG1lc3NhZ2U6IG51bGwsXHJcbiAgICAgICAgdGltZW91dDogNDAwMCxcclxuICAgICAgICBhdXRvSGlkZTogdHJ1ZSxcclxuICAgICAgICBjbG9zZWFibGU6IHRydWUsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCBvdXIgb2JqZWN0XHJcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkZWZhdWx0cykge1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XSA9IG9wdGlvbnNbcHJvcGVydHldO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XSA9IGRlZmF1bHRzW3Byb3BlcnR5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbm90aWZpY2F0aW9uLmNsYXNzTmFtZSA9ICdqbm90aWZpY2F0aW9uJztcclxuXHJcbiAgICB2YXIgbm90aWZpY2F0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBub3RpZmljYXRpb25Db250YWluZXIuY2xhc3NOYW1lID0gJ2pub3RpZmljYXRpb24tY29udGFpbmVyJztcclxuICAgIG5vdGlmaWNhdGlvbi5hcHBlbmRDaGlsZChub3RpZmljYXRpb25Db250YWluZXIpO1xyXG5cclxuICAgIHZhciBub3RpZmljYXRpb25IZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG5vdGlmaWNhdGlvbkhlYWRlci5jbGFzc05hbWUgPSAnam5vdGlmaWNhdGlvbi1oZWFkZXInO1xyXG4gICAgbm90aWZpY2F0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvbkhlYWRlcik7XHJcblxyXG4gICAgdmFyIG5vdGlmaWNhdGlvbkltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBub3RpZmljYXRpb25JbWFnZS5jbGFzc05hbWUgPSAnam5vdGlmaWNhdGlvbi1pbWFnZSc7XHJcbiAgICBub3RpZmljYXRpb25IZWFkZXIuYXBwZW5kQ2hpbGQobm90aWZpY2F0aW9uSW1hZ2UpO1xyXG5cclxuICAgIGlmIChvYmoub3B0aW9ucy5pY29uKSB7XHJcbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICBub3RpZmljYXRpb25JY29uLnNyYyA9IG9iai5vcHRpb25zLmljb247XHJcbiAgICAgICAgbm90aWZpY2F0aW9uSW1hZ2UuYXBwZW5kQ2hpbGQobm90aWZpY2F0aW9uSWNvbik7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG5vdGlmaWNhdGlvbk5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG5vdGlmaWNhdGlvbk5hbWUuY2xhc3NOYW1lID0gJ2pub3RpZmljYXRpb24tbmFtZSc7XHJcbiAgICBub3RpZmljYXRpb25OYW1lLmlubmVySFRNTCA9IG9iai5vcHRpb25zLm5hbWU7XHJcbiAgICBub3RpZmljYXRpb25IZWFkZXIuYXBwZW5kQ2hpbGQobm90aWZpY2F0aW9uTmFtZSk7XHJcblxyXG4gICAgaWYgKG9iai5vcHRpb25zLmNsb3NlYWJsZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbm90aWZpY2F0aW9uQ2xvc2UuY2xhc3NOYW1lID0gJ2pub3RpZmljYXRpb24tY2xvc2UnO1xyXG4gICAgICAgIG5vdGlmaWNhdGlvbkNsb3NlLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgb2JqLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbm90aWZpY2F0aW9uSGVhZGVyLmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvbkNsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbm90aWZpY2F0aW9uRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbm90aWZpY2F0aW9uRGF0ZS5jbGFzc05hbWUgPSAnam5vdGlmaWNhdGlvbi1kYXRlJztcclxuICAgIG5vdGlmaWNhdGlvbkhlYWRlci5hcHBlbmRDaGlsZChub3RpZmljYXRpb25EYXRlKTtcclxuXHJcbiAgICB2YXIgbm90aWZpY2F0aW9uQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbm90aWZpY2F0aW9uQ29udGVudC5jbGFzc05hbWUgPSAnam5vdGlmaWNhdGlvbi1jb250ZW50JztcclxuICAgIG5vdGlmaWNhdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChub3RpZmljYXRpb25Db250ZW50KTtcclxuXHJcbiAgICBpZiAob2JqLm9wdGlvbnMudGl0bGUpIHtcclxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBub3RpZmljYXRpb25UaXRsZS5jbGFzc05hbWUgPSAnam5vdGlmaWNhdGlvbi10aXRsZSc7XHJcbiAgICAgICAgbm90aWZpY2F0aW9uVGl0bGUuaW5uZXJIVE1MID0gb2JqLm9wdGlvbnMudGl0bGU7XHJcbiAgICAgICAgbm90aWZpY2F0aW9uQ29udGVudC5hcHBlbmRDaGlsZChub3RpZmljYXRpb25UaXRsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG5vdGlmaWNhdGlvbk1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG5vdGlmaWNhdGlvbk1lc3NhZ2UuY2xhc3NOYW1lID0gJ2pub3RpZmljYXRpb24tbWVzc2FnZSc7XHJcbiAgICBub3RpZmljYXRpb25NZXNzYWdlLmlubmVySFRNTCA9IG9iai5vcHRpb25zLm1lc3NhZ2U7XHJcbiAgICBub3RpZmljYXRpb25Db250ZW50LmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvbk1lc3NhZ2UpO1xyXG5cclxuICAgIG9iai5zaG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub3RpZmljYXRpb24pO1xyXG4gICAgICAgIGlmIChqU3VpdGVzLmdldFdpbmRvd1dpZHRoKCkgPiA4MDApIHsgXHJcbiAgICAgICAgICAgIGpTdWl0ZXMuZmFkZUluKG5vdGlmaWNhdGlvbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgalN1aXRlcy5zbGlkZVRvcChub3RpZmljYXRpb24sIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvYmouaGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChqU3VpdGVzLmdldFdpbmRvd1dpZHRoKCkgPiA4MDApIHsgXHJcbiAgICAgICAgICAgIGpTdWl0ZXMuZmFkZU91dChub3RpZmljYXRpb24sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm90aWZpY2F0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgalN1aXRlcy5zbGlkZVRvcChub3RpZmljYXRpb24sIDAsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm90aWZpY2F0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBvYmouc2hvdygpO1xyXG5cclxuICAgIGlmIChvYmoub3B0aW9ucy5hdXRvSGlkZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgb2JqLmhpZGUoKTtcclxuICAgICAgICB9LCBvYmoub3B0aW9ucy50aW1lb3V0KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoalN1aXRlcy5nZXRXaW5kb3dXaWR0aCgpIDwgODAwKSB7XHJcbiAgICAgICAgbm90aWZpY2F0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJzd2lwZXVwXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgb2JqLmhpZGUoKTtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvYmo7XHJcbn0pO1xyXG5cclxualN1aXRlcy5yYXRpbmcgPSAoZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcclxuICAgIHZhciBvYmogPSB7fTtcclxuICAgIG9iai5vcHRpb25zID0ge307XHJcblxyXG4gICAgLy8gRGVmYXVsdCBjb25maWd1cmF0aW9uXHJcbiAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgbnVtYmVyOiA1LFxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIHRvb2x0aXA6IFsgJ1ZlcnkgYmFkJywgJ0JhZCcsICdBdmVyYWdlJywgJ0dvb2QnLCAnVmVyeSBnb29kJyBdLFxyXG4gICAgICAgIG9uY2hhbmdlOiBudWxsLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBMb29wIHRocm91Z2ggdGhlIGluaXRpYWwgY29uZmlndXJhdGlvblxyXG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZGVmYXVsdHMpIHtcclxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICBvYmoub3B0aW9uc1twcm9wZXJ0eV0gPSBvcHRpb25zW3Byb3BlcnR5XTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvYmoub3B0aW9uc1twcm9wZXJ0eV0gPSBkZWZhdWx0c1twcm9wZXJ0eV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENsYXNzXHJcbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdqcmF0aW5nJyk7XHJcblxyXG4gICAgLy8gQWRkIGVsZW1lbnRzXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5vcHRpb25zLm51bWJlcjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCAoaSArIDEpKVxyXG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgb2JqLm9wdGlvbnMudG9vbHRpcFtpXSlcclxuICAgICAgICBlbC5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB2YWx1ZVxyXG4gICAgb2JqLnNldFZhbHVlID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5vcHRpb25zLm51bWJlcjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpIDwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGVsLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5hZGQoJ2pyYXRpbmctc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2pyYXRpbmctb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgZWwuY2hpbGRyZW5baV0uY2xhc3NMaXN0LnJlbW92ZSgnanJhdGluZy1zZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvYmoub3B0aW9ucy52YWx1ZSA9IGluZGV4O1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9uY2hhbmdlKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zLm9uY2hhbmdlKGVsLCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9iai5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBvYmoub3B0aW9ucy52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob2JqLm9wdGlvbnMudmFsdWUpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5vcHRpb25zLm51bWJlcjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpIDwgb2JqLm9wdGlvbnMudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGVsLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5hZGQoJ2pyYXRpbmctc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBFdmVudHNcclxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4Jyk7XHJcbiAgICAgICAgaWYgKGluZGV4ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gb2JqLm9wdGlvbnMudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIG9iai5zZXRWYWx1ZSgwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9iai5zZXRWYWx1ZShpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgaW5kZXggPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5vcHRpb25zLm51bWJlcjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpIDwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGVsLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5hZGQoJ2pyYXRpbmctb3ZlcicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWwuY2hpbGRyZW5baV0uY2xhc3NMaXN0LnJlbW92ZSgnanJhdGluZy1vdmVyJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLm9wdGlvbnMubnVtYmVyOyBpKyspIHtcclxuICAgICAgICAgICAgZWwuY2hpbGRyZW5baV0uY2xhc3NMaXN0LnJlbW92ZSgnanJhdGluZy1vdmVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZWwucmF0aW5nID0gb2JqO1xyXG5cclxuICAgIHJldHVybiBvYmo7XHJcbn0pO1xyXG5cclxuXHJcbi8qKlxyXG4gKiAoYykgSW1hZ2Ugc2xpZGVyXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsaG9kZWwvanRvb2xzXHJcbiAqXHJcbiAqIEBhdXRob3I6IFBhdWwgSG9kZWwgPHBhdWwuaG9kZWxAZ21haWwuY29tPlxyXG4gKiBAZGVzY3JpcHRpb246IEltYWdlIFNsaWRlclxyXG4gKi9cclxuXHJcbmpTdWl0ZXMuc2xpZGVyID0gKGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgb2JqID0ge307XHJcbiAgICBvYmoub3B0aW9ucyA9IHt9O1xyXG4gICAgb2JqLmN1cnJlbnRJbWFnZSA9IG51bGw7XHJcblxyXG4gICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICBvYmoub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSXRlbXNcclxuICAgIG9iai5vcHRpb25zLml0ZW1zID0gW107XHJcblxyXG4gICAgaWYgKCEgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdqc2xpZGVyJykpIHtcclxuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdqc2xpZGVyJyk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBjb250YWluZXJcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdqc2xpZGVyLWNvbnRhaW5lcic7XHJcblxyXG4gICAgICAgIC8vIE1vdmUgY2hpbGRyZW4gaW5zaWRlXHJcbiAgICAgICAgaWYgKGVsLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gS2VlcCBjaGlsZHJlbiBpdGVtc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5pdGVtcy5wdXNoKGVsLmNoaWxkcmVuW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JqLm9wdGlvbnMuaXRlbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5vcHRpb25zLml0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5pdGVtc1tpXS5jbGFzc0xpc3QuYWRkKCdqZmlsZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gb2JqLm9wdGlvbnMuaXRlbXNbaV0uc3JjLmxhc3RJbmRleE9mKCcvJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuaXRlbXNbaV0uc2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnLCBvYmoub3B0aW9ucy5pdGVtc1tpXS5zcmMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5pdGVtc1tpXS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScsIG9iai5vcHRpb25zLml0ZW1zW2ldLnNyYy5zdWJzdHIoaW5kZXggKyAxKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBvYmoub3B0aW9ucy5pdGVtc1tpXS5zcmMubGFzdEluZGV4T2YoJy8nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQob2JqLm9wdGlvbnMuaXRlbXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XHJcbiAgICAgICAgLy8gQWRkIGNsb3NlIGJ1dHRvbVxyXG4gICAgICAgIHZhciBjbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGNsb3NlLmNsYXNzTmFtZSA9ICdqc2xpZGVyLWNsb3NlJztcclxuICAgICAgICBjbG9zZS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBjbG9zZS5vbmNsaWNrID0gIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBvYmouY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoY2xvc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gZWwucXVlcnlTZWxlY3Rvcignc2xpZGVyLWNvbnRhaW5lcicpO1xyXG4gICAgfVxyXG5cclxuICAgIG9iai5zaG93ID0gZnVuY3Rpb24odGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKCEgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBjb250YWluZXIuY2hpbGRyZW5bMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoISBjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdqc2xpZGVyLXByZXZpZXcnKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnanNsaWRlci1wcmV2aWV3Jyk7XHJcbiAgICAgICAgICAgIGNsb3NlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGlkZSBhbGwgaW1hZ2VzXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXIuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmNoaWxkcmVuW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTaG93IGNsaWNrZWQgb25seVxyXG4gICAgICAgIHRhcmdldC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICAgICAgLy8gSXMgdGhlcmUgYW55IHByZXZpb3VzXHJcbiAgICAgICAgaWYgKHRhcmdldC5wcmV2aW91c1NpYmxpbmcpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2pzbGlkZXItbGVmdCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdqc2xpZGVyLWxlZnQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElzIHRoZXJlIGFueSBuZXh0XHJcbiAgICAgICAgaWYgKHRhcmdldC5uZXh0U2libGluZykge1xyXG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnanNsaWRlci1yaWdodCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdqc2xpZGVyLXJpZ2h0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvYmouY3VycmVudEltYWdlID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIG9iai5vcGVuID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgb2JqLnNob3coKTtcclxuXHJcbiAgICAgICAgLy8gRXZlbnRcclxuICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9ub3BlbikgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBvYmoub3B0aW9ucy5vbm9wZW4oZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvYmouY2xvc2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnanNsaWRlci1wcmV2aWV3Jyk7XHJcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2pzbGlkZXItbGVmdCcpO1xyXG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdqc2xpZGVyLXJpZ2h0Jyk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbltpXS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjbG9zZS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcblxyXG4gICAgICAgIG9iai5jdXJyZW50SW1hZ2UgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBFdmVudFxyXG4gICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25jbG9zZSkgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBvYmoub3B0aW9ucy5vbmNsb3NlKGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLnJlc2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIG9iai5hZGRGaWxlID0gZnVuY3Rpb24odiwgaWdub3JlRXZlbnRzKSB7XHJcbiAgICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtbGFzdG1vZGlmaWVkJywgdi5sYXN0bW9kaWZpZWQpO1xyXG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScsIHYubmFtZSk7XHJcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnZGF0YS1zaXplJywgdi5zaXplKTtcclxuICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdkYXRhLWV4dGVuc2lvbicsIHYuZXh0ZW5zaW9uKTtcclxuICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdkYXRhLWNvdmVyJywgdi5jb3Zlcik7XHJcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgdi5maWxlKTtcclxuICAgICAgICBpbWcuY2xhc3NOYW1lID0gJ2pmaWxlJztcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW1nKTtcclxuICAgICAgICBvYmoub3B0aW9ucy5pdGVtcy5wdXNoKGltZyk7XHJcblxyXG4gICAgICAgIC8vIE9uY2hhbmdlXHJcbiAgICAgICAgaWYgKCEgaWdub3JlRXZlbnRzKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25jaGFuZ2UpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm9uY2hhbmdlKGVsLCB2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvYmouYWRkRmlsZXMgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgb2JqLmFkZEZpbGUoZmlsZXNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvYmoubmV4dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChvYmouY3VycmVudEltYWdlLm5leHRTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgIG9iai5zaG93KG9iai5jdXJyZW50SW1hZ2UubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgb2JqLnByZXYgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAob2JqLmN1cnJlbnRJbWFnZS5wcmV2aW91c1NpYmxpbmcpIHtcclxuICAgICAgICAgICAgb2JqLnNob3cob2JqLmN1cnJlbnRJbWFnZS5wcmV2aW91c1NpYmxpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvYmouZ2V0RGF0YSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBqU3VpdGVzLmdldEZpbGVzKGNvbnRhaW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXBwZW5kIGRhdGFcclxuICAgIGlmIChvYmoub3B0aW9ucy5kYXRhICYmIG9iai5vcHRpb25zLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoub3B0aW9ucy5kYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5kYXRhW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBvYmouYWRkRmlsZShvYmoub3B0aW9ucy5kYXRhW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBbGxvdyBpbnNlcnRcclxuICAgIGlmIChvYmoub3B0aW9ucy5hbGxvd0F0dGFjaG1lbnQpIHtcclxuICAgICAgICB2YXIgYXR0YWNobWVudElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBhdHRhY2htZW50SW5wdXQudHlwZSA9ICdmaWxlJztcclxuICAgICAgICBhdHRhY2htZW50SW5wdXQuY2xhc3NOYW1lID0gJ3NsaWRlci1hdHRhY2htZW50JztcclxuICAgICAgICBhdHRhY2htZW50SW5wdXQuc2V0QXR0cmlidXRlKCdhY2NlcHQnLCAnaW1hZ2UvKicpO1xyXG4gICAgICAgIGF0dGFjaG1lbnRJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIGF0dGFjaG1lbnRJbnB1dC5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVhZGVyID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gdGhpcy5maWxlc1tpXS50eXBlLnNwbGl0KCcvJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVbMF0gPT0gJ2ltYWdlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBleHRlbnNpb24gPSB0aGlzLmZpbGVzW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uW2V4dGVuc2lvbi5sZW5ndGgtMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiB0aGlzLmZpbGVzW2ldLnNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuZmlsZXNbaV0ubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uOiBleHRlbnNpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0bW9kaWZpZWQ6IHRoaXMuZmlsZXNbaV0ubGFzdE1vZGlmaWVkLFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyW2ldID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICByZWFkZXJbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5maWxlID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouYWRkRmlsZShmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRlcltpXS5yZWFkQXNEYXRhVVJMKHRoaXMuZmlsZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgnVGhlIGV4dGVuc2lvbiBpcyBub3QgYWxsb3dlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGF0dGFjaG1lbnRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG4gICAgICAgIGF0dGFjaG1lbnRJY29uLmlubmVySFRNTCA9ICdhdHRhY2htZW50JztcclxuICAgICAgICBhdHRhY2htZW50SWNvbi5jbGFzc05hbWUgPSAnanNsaWRlci1hdHRhY2ggbWF0ZXJpYWwtaWNvbnMnO1xyXG4gICAgICAgIGF0dGFjaG1lbnRJY29uLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgalN1aXRlcy5jbGljayhhdHRhY2htZW50SW5wdXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoYXR0YWNobWVudElucHV0KTtcclxuICAgICAgICBlbC5hcHBlbmRDaGlsZChhdHRhY2htZW50SWNvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUHVzaCB0byByZWZyZXNoXHJcbiAgICB2YXIgbG9uZ1RvdWNoVGltZXIgPSBudWxsO1xyXG5cclxuICAgIHZhciBtb3VzZURvd24gPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT0gJ0lNRycpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlXHJcbiAgICAgICAgICAgIHZhciB0YXJnZXRJbWFnZSA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICBsb25nVG91Y2hUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuc3JjLnN1YnN0cigwLDQpID09ICdkYXRhJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcmVtb3ZlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnanJlbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2pyZW1vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gT25jaGFuZ2VcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25jaGFuZ2UpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5vbmNoYW5nZShlbCwgZS50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG1vdXNlVXAgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKGxvbmdUb3VjaFRpbWVyKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChsb25nVG91Y2hUaW1lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPcGVuIHNsaWRlclxyXG4gICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09ICdJTUcnKSB7XHJcbiAgICAgICAgICAgIGlmICghIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnanJlbW92ZScpKSB7XHJcbiAgICAgICAgICAgICAgICBvYmouc2hvdyhlLnRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBBcnJvdyBjb250cm9sc1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xpZW50V2lkdGggLSBlLm9mZnNldFggPCA0MCkge1xyXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBuZXh0IGltYWdlXHJcbiAgICAgICAgICAgICAgICBvYmoubmV4dCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUub2Zmc2V0WCA8IDQwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaG93IHByZXZpb3VzIGltYWdlXHJcbiAgICAgICAgICAgICAgICBvYmoucHJldigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBtb3VzZURvd24pO1xyXG4gICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBtb3VzZURvd24pO1xyXG4gICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBtb3VzZVVwKTtcclxuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG1vdXNlVXApO1xyXG5cclxuICAgIC8vIEFkZCBnbG9iYWwgZXZlbnRzXHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwic3dpcGVsZWZ0XCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBvYmoubmV4dCgpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInN3aXBlcmlnaHRcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIG9iai5wcmV2KCk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgZWwuc2xpZGVyID0gb2JqO1xyXG5cclxuICAgIHJldHVybiBvYmo7XHJcbn0pO1xyXG5cclxuLyoqXG4gKiAoYykgalRvb2xzIHYxLjAuMSAtIEVsZW1lbnQgc29ydGluZ1xuICogaHR0cHM6Ly9naXRodWIuY29tL3BhdWxob2RlbC9qdG9vbHNcbiAqXG4gKiBAYXV0aG9yOiBQYXVsIEhvZGVsIDxwYXVsLmhvZGVsQGdtYWlsLmNvbT5cbiAqIEBkZXNjcmlwdGlvbjogRWxlbWVudCBkcmFnIGFuZCBkcm9wIHNvcnRpbmdcbiAqL1xuXG5qU3VpdGVzLnNvcnRpbmcgPSAoZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdqc29ydGluZycpO1xuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpO1xuICAgIH0pO1xuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoZS50YXJnZXQuY2xpZW50SGVpZ2h0IC8gMiA+IGUub2Zmc2V0WSkge1xuICAgICAgICAgICAgZS5wYXRoWzBdLnN0eWxlLmJvcmRlclRvcCA9ICcxcHggZG90dGVkICNjY2MnO1xuICAgICAgICAgICAgZS5wYXRoWzBdLnN0eWxlLmJvcmRlckJvdHRvbSA9ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZS5wYXRoWzBdLnN0eWxlLmJvcmRlclRvcCA9ICcnO1xuICAgICAgICAgICAgZS5wYXRoWzBdLnN0eWxlLmJvcmRlckJvdHRvbSA9ICcxcHggZG90dGVkICNjY2MnO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucGF0aFswXS5zdHlsZS5ib3JkZXJUb3AgPSAnJztcbiAgICAgICAgZS5wYXRoWzBdLnN0eWxlLmJvcmRlckJvdHRvbSA9ICcnO1xuICAgIH0pO1xuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wYXRoWzFdLnF1ZXJ5U2VsZWN0b3IoJy5kcmFnZ2luZycpLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XG4gICAgfSk7XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGUucGF0aFsxXS5xdWVyeVNlbGVjdG9yKCcuZHJhZ2dpbmcnKTtcblxuICAgICAgICBpZiAoZS50YXJnZXQuY2xpZW50SGVpZ2h0IC8gMiA+IGUub2Zmc2V0WSkge1xuICAgICAgICAgICAgZS5wYXRoWzFdLmluc2VydEJlZm9yZShlbGVtZW50LCBlLnBhdGhbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZS5wYXRoWzFdLmluc2VydEJlZm9yZShlbGVtZW50LCBlLnBhdGhbMF0ubmV4dFNpYmxpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5wYXRoWzBdLnN0eWxlLmJvcmRlclRvcCA9ICcnO1xuICAgICAgICBlLnBhdGhbMF0uc3R5bGUuYm9yZGVyQm90dG9tID0gJyc7XG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsLmNoaWxkcmVuW2ldLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGVsO1xufSk7XHJcblxyXG5qU3VpdGVzLnRhYnMgPSAoZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcclxuICAgIHZhciBvYmogPSB7fTtcclxuICAgIG9iai5vcHRpb25zID0ge307XHJcblxyXG4gICAgLy8gRGVmYXVsdCBjb25maWd1cmF0aW9uXHJcbiAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICBhbGxvd0NyZWF0ZTogZmFsc2UsXHJcbiAgICAgICAgb25sb2FkOiBudWxsLFxyXG4gICAgICAgIG9uY2hhbmdlOiBudWxsLFxyXG4gICAgICAgIG9uY3JlYXRlOiBudWxsLFxyXG4gICAgICAgIGFuaW1hdGlvbjogZmFsc2UsXHJcbiAgICAgICAgY3JlYXRlOiBudWxsLFxyXG4gICAgICAgIGF1dG9OYW1lOiBmYWxzZSxcclxuICAgICAgICBwcmVmaXhOYW1lOiAnJyxcclxuICAgICAgICBoaWRlSGVhZGVyczogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgaW5pdGlhbCBjb25maWd1cmF0aW9uXHJcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkZWZhdWx0cykge1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XSA9IG9wdGlvbnNbcHJvcGVydHldO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XSA9IGRlZmF1bHRzW3Byb3BlcnR5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2xhc3NcclxuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2p0YWJzJyk7XHJcblxyXG4gICAgaWYgKG9iai5vcHRpb25zLmFuaW1hdGlvbiA9PSB0cnVlKSB7XHJcbiAgICAgICAgLy8gQm9yZGVyXHJcbiAgICAgICAgdmFyIGJvcmRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGJvcmRlci5jbGFzc05hbWUgPSAnanRhYnMtYm9yZGVyJztcclxuICAgICAgICBlbC5hcHBlbmRDaGlsZChib3JkZXIpO1xyXG5cclxuICAgICAgICB2YXIgc2V0Qm9yZGVyID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIHJlY3QgPSBoZWFkZXJzLmNoaWxkcmVuW2luZGV4XS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgdmFyIHJlY3RDb250ZW50ID0gY29udGVudC5jaGlsZHJlbltpbmRleF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIGJvcmRlci5zdHlsZS53aWR0aCA9IHJlY3Qud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICBib3JkZXIuc3R5bGUubGVmdCA9IChyZWN0LmxlZnQgLSByZWN0Q29udGVudC5sZWZ0KSArICdweCc7XHJcbiAgICAgICAgICAgIGJvcmRlci5zdHlsZS50b3AgPSByZWN0LmhlaWdodCArICdweCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB2YWx1ZVxyXG4gICAgb2JqLm9wZW4gPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVhZGVycy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBoZWFkZXJzLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2p0YWJzLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgIGlmIChjb250ZW50LmNoaWxkcmVuW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50LmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2p0YWJzLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhlYWRlcnMuY2hpbGRyZW5baW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2p0YWJzLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgaWYgKGNvbnRlbnQuY2hpbGRyZW5baW5kZXhdKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuY2hpbGRyZW5baW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2p0YWJzLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBIaWRlXHJcbiAgICAgICAgaWYgKG9iai5vcHRpb25zLmhpZGVIZWFkZXJzID09IHRydWUgJiYgKGhlYWRlcnMuY2hpbGRyZW4ubGVuZ3RoIDwgMiAmJiBvYmoub3B0aW9ucy5hbGxvd0NyZWF0ZSA9PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgaGVhZGVycy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGhlYWRlcnMuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICAvLyBTZXQgYm9yZGVyXHJcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5hbmltYXRpb24gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRCb3JkZXIoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvYmouc2VsZWN0SW5kZXggPSBmdW5jdGlvbihhKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChoZWFkZXJzLmNoaWxkcmVuLCBhKTtcclxuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICBvYmoub3BlbihpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9iai5jcmVhdGUgPSBmdW5jdGlvbih0aXRsZSwgZGl2KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy5jcmVhdGUpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgb2JqLm9wdGlvbnMuY3JlYXRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb2JqLmFwcGVuZEVsZW1lbnQodGl0bGUsIGRpdik7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9uY3JlYXRlKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5vbmNyZWF0ZShlbCwgZGl2KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9iai5hcHBlbmRFbGVtZW50ID0gZnVuY3Rpb24odGl0bGUsIGRpdikge1xyXG4gICAgICAgIGlmICghIHRpdGxlKSB7XHJcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5hdXRvTmFtZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBvYmoub3B0aW9ucy5wcmVmaXhOYW1lO1xyXG4gICAgICAgICAgICAgICAgdGl0bGUgKz0gJyAnICsgKHBhcnNlSW50KGNvbnRlbnQuY2hpbGRyZW4ubGVuZ3RoKSArIDEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gcHJvbXB0KCdUaXRsZT8nLCAnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aXRsZSkge1xyXG4gICAgICAgICAgICAvLyBBZGQgaGVhZGVyc1xyXG4gICAgICAgICAgICB2YXIgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGhlYWRlci5pbm5lckhUTUwgPSB0aXRsZTtcclxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLmFsbG93Q3JlYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmluc2VydEJlZm9yZShoZWFkZXIsIGhlYWRlcnMubGFzdENoaWxkKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGNvbnRlbnRcclxuICAgICAgICAgICAgaWYgKCEgZGl2KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChkaXYpO1xyXG5cclxuICAgICAgICAgICAgLy8gT3BlbiBuZXcgdGFiXHJcbiAgICAgICAgICAgIG9iai5zZWxlY3RJbmRleChoZWFkZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgZnJvbSBkYXRhXHJcbiAgICBpZiAob2JqLm9wdGlvbnMuZGF0YSkge1xyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgY29tcG9uZW50IGlzIGJsYW5rXHJcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgdmFyIGhlYWRlcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB2YXIgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGhlYWRlcnMuY2xhc3NMaXN0LmFkZCgnanRhYnMtaGVhZGVycycpO1xyXG4gICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnanRhYnMtY29udGVudCcpO1xyXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKGhlYWRlcnMpO1xyXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5vcHRpb25zLmRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGhlYWRlcnNJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kQ2hpbGQoaGVhZGVyc0l0ZW0pO1xyXG4gICAgICAgICAgICB2YXIgY29udGVudEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChjb250ZW50SXRlbSk7XHJcblxyXG4gICAgICAgICAgICBoZWFkZXJzSXRlbS5pbm5lckhUTUwgPSBvYmoub3B0aW9ucy5kYXRhW2ldLnRpdGxlO1xyXG4gICAgICAgICAgICBpZiAob2JqLm9wdGlvbnMuZGF0YVtpXS5jb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50SXRlbS5pbm5lckhUTUwgPSBvYmoub3B0aW9ucy5kYXRhW2ldLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqLm9wdGlvbnMuZGF0YVtpXS51cmwpIHtcclxuICAgICAgICAgICAgICAgIGpTdWl0ZXMuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBvYmoub3B0aW9ucy5kYXRhW2ldLnVybCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudEl0ZW0uaW5uZXJIVE1MID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9ubG9hZCkgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMub25sb2FkKGVsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoub3BlbigwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChlbC5jaGlsZHJlblswXSAmJiBlbC5jaGlsZHJlblsxXSkge1xyXG4gICAgICAgIC8vIENyZWF0ZSBmcm9tIGV4aXN0aW5nIGVsZW1lbnRzXHJcbiAgICAgICAgdmFyIGhlYWRlcnMgPSBlbC5jaGlsZHJlblswXTtcclxuICAgICAgICB2YXIgY29udGVudCA9IGVsLmNoaWxkcmVuWzFdO1xyXG4gICAgICAgIGhlYWRlcnMuY2xhc3NMaXN0LmFkZCgnanRhYnMtaGVhZGVycycpO1xyXG4gICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnanRhYnMtY29udGVudCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBlbC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB2YXIgaGVhZGVycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgaGVhZGVycy5jbGFzc0xpc3QuYWRkKCdqdGFicy1oZWFkZXJzJyk7XHJcbiAgICAgICAgY29udGVudC5jbGFzc0xpc3QuYWRkKCdqdGFicy1jb250ZW50Jyk7XHJcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoaGVhZGVycyk7XHJcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoY29udGVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTmV3XHJcbiAgICBpZiAob2JqLm9wdGlvbnMuYWxsb3dDcmVhdGUgPT0gdHJ1ZSkge1xyXG4gICAgICAgIHZhciBhZGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICAgICAgYWRkLmNsYXNzTmFtZSA9ICdqdGFicy1hZGQnO1xyXG4gICAgICAgIGhlYWRlcnMuYXBwZW5kQ2hpbGQoYWRkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFdmVudHNcclxuICAgIGhlYWRlcnMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQudGFnTmFtZSA9PSAnRElWJykge1xyXG4gICAgICAgICAgICBvYmouc2VsZWN0SW5kZXgoZS50YXJnZXQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9iai5jcmVhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoaGVhZGVycy5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICBvYmoub3BlbigwKTtcclxuICAgIH1cclxuXHJcbiAgICBlbC50YWJzID0gb2JqO1xyXG5cclxuICAgIHJldHVybiBvYmo7XHJcbn0pO1xyXG5cclxualN1aXRlcy50YWdzID0gKGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgb2JqID0ge307XHJcbiAgICBvYmoub3B0aW9ucyA9IHt9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gZGVmYXVsdHNcclxuICAgICAqIEBwcm9wZXJ0eSB7KHN0cmluZ3xBcnJheSl9IHZhbHVlIC0gSW5pdGlhbCB2YWx1ZSBvZiB0aGUgY29tcG9udGVudFxyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbWl0IC0gTWF4IG51bWJlciBvZiB0YWdzIGluc2lkZSB0aGUgZWxlbWVudFxyXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHNlYXJjaCAtIFRoZSBVUkwgZm9yIHN1Z2dlc3Rpb25zXHJcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gcGxhY2Vob2xkZXIgLSBUaGUgZGVmYXVsdCBpbnN0cnVjdGlvbiB0ZXh0IG9uIHRoZSBlbGVtZW50XHJcbiAgICAgKiBAcHJvcGVydHkge3ZhbGlkYXRpb259IHZhbGlkYXRpb24gLSBNZXRob2QgdG8gdmFsaWRhdGUgdGhlIHRhZ3NcclxuICAgICAqIEBwcm9wZXJ0eSB7cmVxdWVzdENhbGxiYWNrfSBvbmJlZm9yZWNoYW5nZSAtIE1ldGhvZCB0byBiZSBleGVjdXRlIGJlZm9yZSBhbnkgY2hhbmdlcyBvbiB0aGUgZWxlbWVudFxyXG4gICAgICogQHByb3BlcnR5IHtyZXF1ZXN0Q2FsbGJhY2t9IG9uY2hhbmdlIC0gTWV0aG9kIHRvIGJlIGV4ZWN1dGUgYWZ0ZXIgYW55IGNoYW5nZXMgb24gdGhlIGVsZW1lbnRcclxuICAgICAqIEBwcm9wZXJ0eSB7cmVxdWVzdENhbGxiYWNrfSBvbmZvY3VzIC0gTWV0aG9kIHRvIGJlIGV4ZWN1dGUgd2hlbiBvbiBmb2N1c1xyXG4gICAgICogQHByb3BlcnR5IHtyZXF1ZXN0Q2FsbGJhY2t9IG9uYmx1ciAtIE1ldGhvZCB0byBiZSBleGVjdXRlIHdoZW4gb24gYmx1clxyXG4gICAgICogQHByb3BlcnR5IHtyZXF1ZXN0Q2FsbGJhY2t9IG9ubG9hZCAtIE1ldGhvZCB0byBiZSBleGVjdXRlIHdoZW4gdGhlIGVsZW1lbnQgaXMgbG9hZGVkXHJcbiAgICAgKi9cclxuICAgIHZhciBkZWZhdWx0cyA9IHtcclxuICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICBsaW1pdDogbnVsbCxcclxuICAgICAgICBsaW1pdE1lc3NhZ2U6ICdUaGUgbGltaXQgb2YgZW50cmllcyBpczogJyxcclxuICAgICAgICBzZWFyY2g6IG51bGwsXHJcbiAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXHJcbiAgICAgICAgdmFsaWRhdGlvbjogbnVsbCxcclxuICAgICAgICBvbmJlZm9yZWNoYW5nZTogbnVsbCxcclxuICAgICAgICBvbmNoYW5nZTogbnVsbCxcclxuICAgICAgICBvbmZvY3VzOiBudWxsLFxyXG4gICAgICAgIG9uYmx1cjogbnVsbCxcclxuICAgICAgICBvbmxvYWQ6IG51bGwsXHJcbiAgICAgICAgY29sb3JzOiBudWxsLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBMb29wIHRocm91Z2ggdGhvdWdoIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb25cclxuICAgIGZvciAodmFyIHByb3BlcnR5IGluIGRlZmF1bHRzKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgb2JqLm9wdGlvbnNbcHJvcGVydHldID0gb3B0aW9uc1twcm9wZXJ0eV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb2JqLm9wdGlvbnNbcHJvcGVydHldID0gZGVmYXVsdHNbcHJvcGVydHldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTZWFyY2ggaGVscGVyc1xyXG4gICAgdmFyIHNlYXJjaENvbnRhaW5lciA9IG51bGw7XHJcbiAgICB2YXIgc2VhcmNoVGVybXMgPSBudWxsO1xyXG4gICAgdmFyIHNlYXJjaEluZGV4ID0gMDtcclxuICAgIHZhciBzZWFyY2hUaW1lciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBuZXcgdGFnIHRvIHRoZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0geyg/c3RyaW5nfEFycmF5KX0gdmFsdWUgLSBUaGUgdmFsdWUgb2YgdGhlIG5ldyBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIG9iai5hZGQgPSBmdW5jdGlvbih2YWx1ZSwgZm9jdXMpIHtcclxuICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9uYmVmb3JlY2hhbmdlKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHZhciB2ID0gb2JqLm9wdGlvbnMub25iZWZvcmVjaGFuZ2UoZWwsIG9iaiwgdmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAodiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENsb3NlIHNlYXJjaFxyXG4gICAgICAgIGlmIChzZWFyY2hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgc2VhcmNoQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvYmoub3B0aW9ucy5saW1pdCA+IDAgJiYgZWwuY2hpbGRyZW4ubGVuZ3RoID49IG9iai5vcHRpb25zLmxpbWl0KSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KG9iai5vcHRpb25zLmxpbWl0TWVzc2FnZSArICcgJyArIG9iai5vcHRpb25zLmxpbWl0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBHZXQgbm9kZVxyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IGdldFNlbGVjdGlvblN0YXJ0KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBNaXggYXJndW1lbnQgc3RyaW5nIG9yIGFycmF5XHJcbiAgICAgICAgICAgIGlmICghIHZhbHVlIHx8IHR5cGVvZih2YWx1ZSkgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB2YWx1ZSA/IHZhbHVlIDogJzxicj4nO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnanRhZ3MnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmluc2VydEJlZm9yZShkaXYsIG5vZGUubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnanRhZ3MnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghIG5vZGUuaW5uZXJUZXh0LnJlcGxhY2UoXCJcXG5cIiwgXCJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2hpbGQobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMubGltaXQgfHwgZWwuY2hpbGRyZW4ubGVuZ3RoIDwgb2JqLm9wdGlvbnMubGltaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gdmFsdWVbaV0gPyB2YWx1ZVtpXSA6ICc8YnI+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFBsYWNlIGNhcmV0XHJcbiAgICAgICAgICAgIGlmIChmb2N1cykge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXJldChkaXYpO1xyXG4gICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZpbHRlclxyXG4gICAgICAgICAgICBmaWx0ZXIoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMub25jaGFuZ2UpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLm9uY2hhbmdlKGVsLCBvYmosIHZhbHVlID8gdmFsdWUgOiAnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIHRhZ3MgaW4gdGhlIGVsZW1lbnRcclxuICAgICAqIEByZXR1cm4ge0FycmF5fSBkYXRhIC0gQWxsIHRhZ3MgYXMgYW4gYXJyYXlcclxuICAgICAqL1xyXG4gICAgb2JqLmdldERhdGEgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGF0YSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWwuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gb2JqLmdldFZhbHVlKGkpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZCA9IGVsLmNoaWxkcmVuW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHsgaWQ6IGlkLCB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHZhbHVlIG9mIG9uZSB0YWcuIE51bGwgZm9yIGFsbCB0YWdzXHJcbiAgICAgKiBAcGFyYW0gez9udW1iZXJ9IGluZGV4IC0gVGFnIGluZGV4IG51bWJlci4gTnVsbCBmb3IgYWxsIHRhZ3MuXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHZhbHVlIC0gQWxsIHRhZ3Mgc2VwYXJhdGVkIGJ5IGNvbW1hXHJcbiAgICAgKi9cclxuICAgIG9iai5nZXRWYWx1ZSA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gR2V0IG9uZSBpbmRpdmlkdWFsIHZhbHVlXHJcbiAgICAgICAgICAgIHZhbHVlID0gZWwuY2hpbGRyZW5baW5kZXhdLmlubmVyVGV4dC5yZXBsYWNlKFwiXFxuXCIsIFwiXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBhbGxcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBlbC5jaGlsZHJlbltpXS5pbm5lclRleHQucmVwbGFjZShcIlxcblwiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChvYmouZ2V0VmFsdWUoaSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhbHVlID0gZGF0YS5qb2luKCcsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGJhc2VkIG9uIGEgc3RyaW5nIHNlcGFyZXRlZCBieSAoLHw7fFxcclxcbilcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIEEgc3RyaW5nIHdpdGggdGhlIHRhZ3NcclxuICAgICAqL1xyXG4gICAgb2JqLnNldFZhbHVlID0gZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICAgIC8vIFJlbW92ZSB3aGl0ZXNwYWNlc1xyXG4gICAgICAgIHRleHQgPSB0ZXh0LnRyaW0oKTtcclxuXHJcbiAgICAgICAgaWYgKHRleHQpIHtcclxuICAgICAgICAgICAgLy8gVGFnc1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IGV4dHJhY3RUYWdzKHRleHQpO1xyXG4gICAgICAgICAgICAvLyBBZGQgdGFncyB0byB0aGUgZWxlbWVudFxyXG4gICAgICAgICAgICBvYmouYWRkKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvYmoucmVzZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBlbC5pbm5lckhUTUwgPSAnPGRpdj48YnI+PC9kaXY+JztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZlcmlmeSBpZiBhbGwgdGFncyBpbiB0aGUgZWxlbWVudCBhcmUgdmFsaWRcclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIG9iai5pc1ZhbGlkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRlc3QgPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWwuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGVsLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5jb250YWlucygnanRhZ3NfZXJyb3InKSkge1xyXG4gICAgICAgICAgICAgICAgdGVzdCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0ZXN0ID09IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgb25lIGVsZW1lbnQgZnJvbSB0aGUgc3VnZ2VzdGlvbnMgdG8gdGhlIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtIC0gTm9kZSBlbGVtZW50IGluIHRoZSBzdWdnZXN0aW9ucyBjb250YWluZXJcclxuICAgICAqLyBcclxuICAgIG9iai5zZWxlY3RJbmRleCA9IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICAvLyBSZXNldCB0ZXJtc1xyXG4gICAgICAgIHNlYXJjaFRlcm1zID0gJyc7XHJcbiAgICAgICAgdmFyIG5vZGUgPSBnZXRTZWxlY3Rpb25TdGFydCgpO1xyXG4gICAgICAgIC8vIEFwcGVuZCB0ZXh0IHRvIHRoZSBjYXJldFxyXG4gICAgICAgIG5vZGUuaW5uZXJUZXh0ID0gaXRlbS5jaGlsZHJlblsxXS5pbm5lclRleHQ7XHJcbiAgICAgICAgLy8gU2V0IG5vZGUgaWRcclxuICAgICAgICBpZiAoaXRlbS5jaGlsZHJlblsxXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSkge1xyXG4gICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIGl0ZW0uY2hpbGRyZW5bMV0uZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDbG9zZSBjb250YWluZXJcclxuICAgICAgICBpZiAoc2VhcmNoQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHNlYXJjaENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIHNlYXJjaENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlIGFueSBlcnJvclxyXG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnanRhZ3NfZXJyb3InKTtcclxuICAgICAgICAvLyBBZGQgbmV3IGl0ZW1cclxuICAgICAgICBvYmouYWRkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZWFyY2ggZm9yIHN1Z2dlc3Rpb25zXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbm9kZSAtIFRhcmdldCBub2RlIGZvciBhbnkgc3VnZ2VzdGlvbnNcclxuICAgICAqL1xyXG4gICAgb2JqLnNlYXJjaCA9IGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgICAvLyBDcmVhdGUgYW5kIGFwcGVuZCBzZWFyY2ggY29udGFpbmVyIHRvIHRoZSBET01cclxuICAgICAgICBpZiAoISBzZWFyY2hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgICAgICAgICBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXYsIGVsLm5leHRTaWJsaW5nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBjb250YWluZXJcclxuICAgICAgICAgICAgc2VhcmNoQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHNlYXJjaENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdqdGFnc19zZWFyY2gnKTtcclxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHNlYXJjaENvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZWFyY2ggZm9yXHJcbiAgICAgICAgdmFyIHRlcm1zID0gbm9kZS5hbmNob3JOb2RlLm5vZGVWYWx1ZTtcclxuXHJcbiAgICAgICAgLy8gU2VhcmNoXHJcbiAgICAgICAgaWYgKG5vZGUuYW5jaG9yTm9kZS5ub2RlVmFsdWUgJiYgdGVybXMgIT0gc2VhcmNoVGVybXMpIHtcclxuICAgICAgICAgICAgLy8gVGVybXNcclxuICAgICAgICAgICAgc2VhcmNoVGVybXMgPSBub2RlLmFuY2hvck5vZGUubm9kZVZhbHVlO1xyXG4gICAgICAgICAgICAvLyBSZXNldCBpbmRleFxyXG4gICAgICAgICAgICBzZWFyY2hJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIC8vIEdldCByZW1vdmUgcmVzdWx0c1xyXG4gICAgICAgICAgICBqU3VpdGVzLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBvYmoub3B0aW9ucy5zZWFyY2ggKyBzZWFyY2hUZXJtcyxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJpbnQgcmVzdWx0c1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghIGRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBpdGVtc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVuID0gZGF0YS5sZW5ndGggPCAxMSA/IGRhdGEubGVuZ3RoIDogMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldLmltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGRhdGFbaV0uaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGltZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgZGF0YVtpXS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmlubmVySFRNTCA9IGRhdGFbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouc2VsZWN0SW5kZXgodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgaXRlbSB0byB0aGUgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIERlc3Ryb3kgdGFncyBlbGVtZW50XHJcbiAgICBvYmouZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIEJpbmQgZXZlbnRzXHJcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRhZ3NNb3VzZVVwKTtcclxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGFnc0tleURvd24pO1xyXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGFnc0tleVVwKTtcclxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwYXN0ZScsIHRhZ3NQYXN0ZSk7XHJcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0YWdzRm9jdXMpO1xyXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0YWdzQmx1cik7XHJcbiAgICAgICAgLy8gUmVtb3ZlIGVsZW1lbnRcclxuICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZ2V0UmFuZG9tQ29sb3IgPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgIHZhciByYW5kID0gZnVuY3Rpb24obWluLCBtYXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICdoc2woJyArIHJhbmQoMSwgMzYwKSArICcsJyArIHJhbmQoNDAsIDcwKSArICclLCcgKyByYW5kKDY1LCA3MikgKyAnJSknO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmlsdGVyIHRhZ3NcclxuICAgICAqL1xyXG4gICAgdmFyIGZpbHRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWwuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGxhYmVsIGRlc2lnblxyXG4gICAgICAgICAgICBpZiAoISBvYmouZ2V0VmFsdWUoaSkpIHtcclxuICAgICAgICAgICAgICAgIGVsLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2p0YWdzX2xhYmVsJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbC5jaGlsZHJlbltpXS5jbGFzc0xpc3QuYWRkKCdqdGFnc19sYWJlbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRpb24gaW4gcGxhY2VcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqLm9wdGlvbnMudmFsaWRhdGlvbikgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmouZ2V0VmFsdWUoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMudmFsaWRhdGlvbihlbC5jaGlsZHJlbltpXSwgZWwuY2hpbGRyZW5baV0uaW5uZXJUZXh0LCBlbC5jaGlsZHJlbltpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5hZGQoJ2p0YWdzX2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5jaGlsZHJlbltpXS5jbGFzc0xpc3QucmVtb3ZlKCdqdGFnc19lcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuY2hpbGRyZW5baV0uY2xhc3NMaXN0LnJlbW92ZSgnanRhZ3NfZXJyb3InKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQbGFjZSBjYXJldCBpbiB0aGUgZWxlbWVudCBub2RlXHJcbiAgICAgKi9cclxuICAgIHZhciBjYXJldCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xyXG4gICAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoZSwgZS5pbm5lclRleHQubGVuZ3RoKTtcclxuICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcclxuICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICB2YXIgZ2V0U2VsZWN0aW9uU3RhcnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpLmFuY2hvck5vZGU7XHJcbiAgICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChub2RlLm5vZGVUeXBlID09IDMgPyBub2RlLnBhcmVudE5vZGUgOiBub2RlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRyYWN0IHRhZ3MgZnJvbSBhIHN0cmluZ1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBSYXcgc3RyaW5nXHJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gZGF0YSAtIEFycmF5IHdpdGggZXh0cmFjdGVkIHRhZ3NcclxuICAgICAqL1xyXG4gICAgdmFyIGV4dHJhY3RUYWdzID0gZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXl9ICovXHJcbiAgICAgICAgdmFyIGRhdGEgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXHJcbiAgICAgICAgdmFyIHdvcmQgPSAnJztcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHdoaXRlc3BhY2VzXHJcbiAgICAgICAgdGV4dCA9IHRleHQudHJpbSgpO1xyXG5cclxuICAgICAgICBpZiAodGV4dCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXh0W2ldID09ICcsJyB8fCB0ZXh0W2ldID09ICc7JyB8fCB0ZXh0W2ldID09ICdcXHJcXG4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JkID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB3b3JkICs9IHRleHRbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2god29yZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG4gICAgdmFyIGFuY2hvck9mZnNldCA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9jZXNzaW5nIGV2ZW50IGtleWRvd24gb24gdGhlIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSBlIHtvYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciB0YWdzS2V5RG93biA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAvLyBBbmNob3JvZmZzZXRcclxuICAgICAgICBhbmNob3JPZmZzZXQgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuYW5jaG9yT2Zmc2V0O1xyXG5cclxuICAgICAgICAvLyBWZXJpZnkgY29udGVudFxyXG4gICAgICAgIGlmICghIGVsLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSAnPGJyPic7XHJcbiAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENvbW1hXHJcbiAgICAgICAgaWYgKGUud2hpY2ggPT0gOSB8fCBlLndoaWNoID09IDE4NiB8fCBlLndoaWNoID09IDE4OCkge1xyXG4gICAgICAgICAgICB2YXIgbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5hbmNob3JPZmZzZXQ7XHJcbiAgICAgICAgICAgIGlmIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEgb2JqLm9wdGlvbnMubGltaXQgfHwgZWwuY2hpbGRyZW4ubGVuZ3RoIDwgb2JqLm9wdGlvbnMubGltaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmouYWRkKCcnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IDEzKSB7XHJcbiAgICAgICAgICAgIC8vIEVudGVyXHJcbiAgICAgICAgICAgIGlmIChzZWFyY2hDb250YWluZXIgJiYgc2VhcmNoQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgIG9iai5zZWxlY3RJbmRleChzZWFyY2hDb250YWluZXIuY2hpbGRyZW5bc2VhcmNoSW5kZXhdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBuID0gd2luZG93LmdldFNlbGVjdGlvbigpLmFuY2hvck9mZnNldDtcclxuICAgICAgICAgICAgICAgIGlmIChuID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLmxpbWl0IHx8IGVsLmNoaWxkcmVuLmxlbmd0aCA8IG9iai5vcHRpb25zLmxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5hZGQoJycsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IDM4KSB7XHJcbiAgICAgICAgICAgIC8vIFVwXHJcbiAgICAgICAgICAgIGlmIChzZWFyY2hDb250YWluZXIgJiYgc2VhcmNoQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaENvbnRhaW5lci5jaGlsZHJlbltzZWFyY2hJbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hJbmRleCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbmRleC0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VhcmNoQ29udGFpbmVyLmNoaWxkcmVuW3NlYXJjaEluZGV4XS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09IDQwKSB7XHJcbiAgICAgICAgICAgIC8vIERvd25cclxuICAgICAgICAgICAgaWYgKHNlYXJjaENvbnRhaW5lciAmJiBzZWFyY2hDb250YWluZXIuc3R5bGUuZGlzcGxheSAhPSAnJykge1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoQ29udGFpbmVyLmNoaWxkcmVuW3NlYXJjaEluZGV4XS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaEluZGV4IDwgOSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaEluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hDb250YWluZXIuY2hpbGRyZW5bc2VhcmNoSW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9jZXNzaW5nIGV2ZW50IGtleXVwIG9uIHRoZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gZSB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgdGFnc0tleVVwID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChlLndoaWNoID09IDM5KSB7XHJcbiAgICAgICAgICAgIHZhciBuID0gd2luZG93LmdldFNlbGVjdGlvbigpLmFuY2hvck9mZnNldDtcclxuICAgICAgICAgICAgaWYgKG4gPiAxICYmIG4gPT0gYW5jaG9yT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBvYmouYWRkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT0gMTMgfHwgZS53aGljaCA9PSAzOCB8fCBlLndoaWNoID09IDQwKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoc2VhcmNoVGltZXIpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzZWFyY2hUaW1lcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlYXJjaFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8vIEN1cnJlbnQgbm9kZVxyXG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBTZWFyY2hcclxuICAgICAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5zZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmouc2VhcmNoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VhcmNoVGltZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZmlsdGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9jZXNzaW5nIGV2ZW50IHBhc3RlIG9uIHRoZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gZSB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgdGFnc1Bhc3RlID0gIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAoZS5jbGlwYm9hcmREYXRhIHx8IGUub3JpZ2luYWxFdmVudC5jbGlwYm9hcmREYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBodG1sID0gKGUub3JpZ2luYWxFdmVudCB8fCBlKS5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQvaHRtbCcpO1xyXG4gICAgICAgICAgICB2YXIgdGV4dCA9IChlLm9yaWdpbmFsRXZlbnQgfHwgZSkuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuY2xpcGJvYXJkRGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgaHRtbCA9IHdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoJ0h0bWwnKTtcclxuICAgICAgICAgICAgdmFyIHRleHQgPSB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdUZXh0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvYmouc2V0VmFsdWUodGV4dCk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJvY2Vzc2luZyBldmVudCBtb3VzZXVwIG9uIHRoZSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gZSB7b2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB2YXIgdGFnc01vdXNlVXAgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0LnBhcmVudE5vZGUgJiYgZS50YXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2p0YWdzJykpIHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnanRhZ3NfbGFiZWwnKSB8fCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2p0YWdzX2Vycm9yJykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZWN0LndpZHRoIC0gKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgPCAxNikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUNoaWxkKGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICBlbC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2VhcmNoQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHNlYXJjaENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJvY2Vzc2luZyBldmVudCBmb2N1cyBvbiB0aGUgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIGUge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIHRhZ3NGb2N1cyA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAoISBlbC5jaGlsZHJlbi5sZW5ndGggfHwgb2JqLmdldFZhbHVlKGVsLmNoaWxkcmVuLmxlbmd0aCAtIDEpKSB7XHJcbiAgICAgICAgICAgIGlmICghIG9iai5vcHRpb25zLmxpbWl0IHx8IGVsLmNoaWxkcmVuLmxlbmd0aCA8IG9iai5vcHRpb25zLmxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gJzxicj4nO1xyXG4gICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy5vbmZvY3VzKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zLm9uZm9jdXMoZWwsIG9iaiwgb2JqLmdldFZhbHVlKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByb2Nlc3NpbmcgZXZlbnQgYmx1ciBvbiB0aGUgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIGUge29iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIHRhZ3NCbHVyID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChzZWFyY2hDb250YWluZXIpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgbGFiZWwgZGVzaWduXHJcbiAgICAgICAgICAgIGlmICghIG9iai5nZXRWYWx1ZShpKSkge1xyXG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2hpbGQoZWwuY2hpbGRyZW5baV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9uYmx1cikgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBvYmoub3B0aW9ucy5vbmJsdXIoZWwsIG9iaiwgb2JqLmdldFZhbHVlKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBCaW5kIGV2ZW50c1xyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRhZ3NNb3VzZVVwKTtcclxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0YWdzS2V5RG93bik7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRhZ3NLZXlVcCk7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIHRhZ3NQYXN0ZSk7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRhZ3NGb2N1cyk7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGFnc0JsdXIpO1xyXG5cclxuICAgIC8vIFByZXBhcmUgY29udGFpbmVyXHJcbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdqdGFncycpO1xyXG4gICAgZWwuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKTtcclxuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3BlbGxjaGVjaycsIGZhbHNlKTtcclxuXHJcbiAgICBpZiAob2JqLm9wdGlvbnMucGxhY2Vob2xkZXIpIHtcclxuICAgICAgICBlbC5wbGFjZWhvbGRlciA9IG9iai5vcHRpb25zLnBsYWNlaG9sZGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1ha2Ugc3VyZSBlbGVtZW50IGlzIGVtcHR5XHJcbiAgICBpZiAob2JqLm9wdGlvbnMudmFsdWUpIHtcclxuICAgICAgICBvYmouc2V0VmFsdWUob2JqLm9wdGlvbnMudmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBlbC5pbm5lckhUTUwgPSAnPGRpdj48YnI+PC9kaXY+JztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9ubG9hZCkgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIG9iai5vcHRpb25zLm9ubG9hZChlbCwgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBlbC50YWdzID0gb2JqO1xyXG5cclxuICAgIHJldHVybiBvYmo7XHJcbn0pO1xyXG5cclxualN1aXRlcy50cmFja2VyID0gKGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgb2JqID0ge307XHJcbiAgICBvYmoub3B0aW9ucyA9IHt9O1xyXG5cclxuICAgIC8vIERlZmF1bHQgY29uZmlndXJhdGlvblxyXG4gICAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgICAgIHVybDogbnVsbCxcclxuICAgICAgICBtZXNzYWdlOiAnQXJlIHlvdSBzdXJlPyBUaGVyZSBhcmUgdW5zYXZlZCBpbmZvcm1hdGlvbiBpbiB5b3VyIGZvcm0nLFxyXG4gICAgICAgIGlnbm9yZTogZmFsc2UsXHJcbiAgICAgICAgY3VycmVudEhhc2g6IG51bGwsXHJcbiAgICAgICAgc3VibWl0QnV0dG9uOm51bGwsXHJcbiAgICAgICAgb25sb2FkOiBudWxsLFxyXG4gICAgICAgIG9uYmVmb3Jlc2F2ZTogbnVsbCxcclxuICAgICAgICBvbnNhdmU6IG51bGwsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCBvdXIgb2JqZWN0XHJcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkZWZhdWx0cykge1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XSA9IG9wdGlvbnNbcHJvcGVydHldO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zW3Byb3BlcnR5XSA9IGRlZmF1bHRzW3Byb3BlcnR5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLnNldFVybCA9IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICAgIG9iai5vcHRpb25zLnVybCA9IHVybDtcclxuICAgIH1cclxuXHJcbiAgICBvYmoubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGpTdWl0ZXMuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogb2JqLm9wdGlvbnMudXJsLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWFcIik7XHJcbiBcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGVsZW1lbnRzW2ldLmdldEF0dHJpYnV0ZSgnbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW2ldLnZhbHVlID0gZGF0YVtuYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy5vbmxvYWQpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmoub3B0aW9ucy5vbmxvYWQoZWwsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLnNhdmUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdGVzdCA9IG9iai52YWxpZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAodGVzdCkge1xyXG4gICAgICAgICAgICBqU3VpdGVzLmFsZXJ0KHRlc3QpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gb2JqLmdldEVsZW1lbnRzKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZihvYmoub3B0aW9ucy5vbmJlZm9yZXNhdmUpID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gb2JqLm9wdGlvbnMub25iZWZvcmVzYXZlKGVsLCBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnT25iZWZvcmVzYXZlIHJldHVybmVkIGZhbHNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgalN1aXRlcy5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogb2JqLm9wdGlvbnMudXJsLFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpTdWl0ZXMuYWxlcnQocmVzdWx0Lm1lc3NhZ2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG9iai5vcHRpb25zLm9uc2F2ZSkgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IG9iai5vcHRpb25zLm9uc2F2ZShlbCwgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG9iai5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb2JqLnZhbGlkYXRlRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgZW1haWxDaGVja2VyID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAoL14oW1xcdy1cXC5dK0AoW1xcdy1dK1xcLikrW1xcdy1dezIsNH0pPyQvKTtcclxuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdChkYXRhKSA/IHRydWUgOiBmYWxzZTsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcGFzc3dvcmRDaGVja2VyID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGRhdGEubGVuZ3RoID4gNSkgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYWRkRXJyb3IgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIC8vIEFkZCBlcnJvciBpbiB0aGUgZWxlbWVudFxyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIC8vIFN1Ym1pdCBidXR0b25cclxuICAgICAgICAgICAgaWYgKG9iai5vcHRpb25zLnN1Ym1pdEJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgb2JqLm9wdGlvbnMuc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZXJyb3InKSB8fCAnVGhlcmUgaXMgYW4gZXJyb3IgaW4gdGhlIGZvcm0nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGRlbEVycm9yID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGNsYXNzIGZyb20gdGhpcyBlbGVtZW50XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxuICAgICAgICAgICAgLy8gR2V0IGVsZW1lbnRzIGluIHRoZSBmb3JtXHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYVwiKTtcclxuICAgICAgICAgICAgLy8gUnVuIGFsbCBlbGVtZW50cyBcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS12YWxpZGF0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChvYmoub3B0aW9ucy5zdWJtaXRCdXR0b24pIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLnN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5vcHRpb25zLnN1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJsYW5rXHJcbiAgICAgICAgdmFyIHRlc3QgPSAnJztcclxuICAgICAgICBpZiAoISBlbGVtZW50LnZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRlc3QgPSBhZGRFcnJvcihlbGVtZW50KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWVtYWlsJykgJiYgISBlbWFpbENoZWNrZXIoZWxlbWVudC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgdGVzdCA9IGFkZEVycm9yKGVsZW1lbnQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc3dvcmQnKSAmJiAhIGVtYWlsQ2hlY2tlcihlbGVtZW50LnZhbHVlKSkge1xyXG4gICAgICAgICAgICB0ZXN0ID0gYWRkRXJyb3IoZWxlbWVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxFcnJvcihlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRlc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUnVuIGZvcm0gdmFsaWRhdGlvblxyXG4gICAgb2JqLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRlc3QgPSAnJztcclxuICAgICAgICAvLyBHZXQgZWxlbWVudHMgaW4gdGhlIGZvcm1cclxuICAgICAgICB2YXIgZWxlbWVudHMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWFcIik7XHJcbiAgICAgICAgLy8gUnVuIGFsbCBlbGVtZW50cyBcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50c1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsaWRhdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlc3QgKz0gXCI8YnI+XFxyXFxuXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0ZXN0ICs9IG9iai52YWxpZGF0ZUVsZW1lbnQoZWxlbWVudHNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0ZXN0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIHRoZSBmb3JtXHJcbiAgICBvYmouZ2V0RXJyb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBWYWxpZGF0aW9uXHJcbiAgICAgICAgcmV0dXJuIG9iai52YWxpZGF0aW9uKCkgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJuIHRoZSBmb3JtIGhhc2hcclxuICAgIG9iai5zZXRIYXNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iai5nZXRIYXNoKG9iai5nZXRFbGVtZW50cygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGhlIGZvcm0gaGFzaFxyXG4gICAgb2JqLmdldEhhc2ggPSBmdW5jdGlvbihzdHIpIHtcclxuICAgICAgICB2YXIgaGFzaCA9IDAsIGksIGNocjtcclxuXHJcbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhc2g7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIGNociA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNocjtcclxuICAgICAgICAgICAgICBoYXNoIHw9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBoYXNoO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElzIHRoZXJlIGFueSBjaGFuZ2UgaW4gdGhlIGZvcm0gc2luY2Ugc3RhcnQgdHJhY2tpbmc/XHJcbiAgICBvYmouaXNDaGFuZ2VkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhc2ggPSBvYmouc2V0SGFzaCgpO1xyXG4gICAgICAgIHJldHVybiAob2JqLm9wdGlvbnMuY3VycmVudEhhc2ggIT0gaGFzaCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzdGFydCB0cmFja2luZ1xyXG4gICAgb2JqLnJlc2V0VHJhY2tlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG9iai5vcHRpb25zLmN1cnJlbnRIYXNoID0gb2JqLnNldEhhc2goKTtcclxuICAgICAgICBvYmoub3B0aW9ucy5pZ25vcmUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBvYmoucmVzZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBvYmoub3B0aW9ucy5jdXJyZW50SGFzaCA9IG9iai5zZXRIYXNoKCk7XHJcbiAgICAgICAgb2JqLm9wdGlvbnMuaWdub3JlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWdub3JlIGZsYWdcclxuICAgIG9iai5zZXRJZ25vcmUgPSBmdW5jdGlvbihpZ25vcmVGbGFnKSB7XHJcbiAgICAgICAgb2JqLm9wdGlvbnMuaWdub3JlID0gaWdub3JlRmxhZyA/IHRydWUgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgZm9ybSBlbGVtZW50c1xyXG4gICAgb2JqLmdldEVsZW1lbnRzID0gZnVuY3Rpb24oYXNBcnJheSkge1xyXG4gICAgICAgIHZhciBkYXRhID0ge307XHJcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gZWwucXVlcnlTZWxlY3RvckFsbChcImlucHV0LCBzZWxlY3QsIHRleHRhcmVhXCIpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gZWxlbWVudC5uYW1lO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFbbmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGFzQXJyYXkgPT0gdHJ1ZSA/IGRhdGEgOiBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTdGFydCB0cmFja2luZyBpbiBvbmUgc2Vjb25kXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG9iai5vcHRpb25zLmN1cnJlbnRIYXNoID0gb2JqLnNldEhhc2goKTtcclxuICAgIH0sIDEwMDApO1xyXG5cclxuICAgIC8vIEFsZXJ0XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChvYmouaXNDaGFuZ2VkKCkgJiYgb2JqLm9wdGlvbnMuaWdub3JlID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHZhciBjb25maXJtYXRpb25NZXNzYWdlID0gIG9iai5vcHRpb25zLm1lc3NhZ2U/IG9iai5vcHRpb25zLm1lc3NhZ2UgOiBcIlxcby9cIjtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb25maXJtYXRpb25NZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGUgPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBlID0gd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGNvbmZpcm1hdGlvbk1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1hdGlvbk1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFZhbGlkYXRpb25zXHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsaWRhdGlvbicpKSB7XHJcbiAgICAgICAgICAgIG9iai52YWxpZGF0ZUVsZW1lbnQoZS50YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGVsLnRyYWNrZXIgPSBvYmo7XHJcblxyXG4gICAgcmV0dXJuIG9iajtcclxufSk7XHJcblxyXG5cclxuXHJcbiAgICByZXR1cm4galN1aXRlcztcclxuXHJcbn0pKSk7IiwibG9hZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbG9hZGVyJylcclxubGV0IGRhdGVVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LmdldEF0dHJpYnV0ZSgndXJsJylcclxuXHJcbmNvbnN0IHNhdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZScpXHJcbmlmKHNhdmUpe1xyXG4gICAgc2F2ZS5vbmNsaWNrID0gKCk9PntzYXZlRGF0YSgpfVxyXG4gICAgYXN5bmMgZnVuY3Rpb24gc2F2ZURhdGEoKXtcclxuICAgICAgICBsb2FkZXJbMF0uY2xhc3NOYW1lID0gJ2xvYWRlcidcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIGF3YWl0IGF4aW9zKHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDoncGF0Y2gnLFxyXG4gICAgICAgICAgICAgICAgdXJsOicvZGF0YS9zYXZlLycrbnVtSUQsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBteVRhYmxlLmdldEpzb24oKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBsb2FkZXJbMF0uY2xhc3NOYW1lID0gJ2xvYWRlciBoaWRkZW4nXHJcbiAgICAgICAgfWNhdGNoKGUpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgcGRmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BkZicpXHJcbnBkZi5vbmNsaWNrID0gKCk9Pntnb1RvUERGKCl9XHJcblxyXG5mdW5jdGlvbiBnb1RvUERGKCl7XHJcbiAgICBsb2NhdGlvbi5yZXBsYWNlKCcvZGF0YS9wZGYnKVxyXG59XHJcblxyXG5cclxuY29uc3QgamV4Y2VsID0gcmVxdWlyZSgnamV4Y2VsJylcclxucmVxdWlyZSgnLi92ZW5kb3IuY3NzJylcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEpzb24odXJsKXtcclxuICAgIHRyeXtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCh1cmwpXHJcbiAgICAgICAgbnVtSUQgPSByZXNwb25zZS5kYXRhLl9pZFxyXG4gICAgICAgIGxvYWRlclswXS5jbGFzc05hbWUgPSAnbG9hZGVyIGhpZGRlbidcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5kYXRhT2JqZWN0XHJcbiAgICB9Y2F0Y2goZSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSlcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbXlUYWJsZWZ1bmN0aW9uKCl7XHJcbiAgICBteVRhYmxlID0gamV4Y2VsKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcHJlYWRzaGVldCcpLHtcclxuICAgIGRhdGE6IGF3YWl0IGdldEpzb24oZGF0ZVVybCksXHJcbiAgICBzZWFyY2g6dHJ1ZSxcclxuICAgIHRhYmxlV2lkdGg6XCIxMzAwcHhcIixcclxuICAgIHBhZ2luYXRpb246MjAsXHJcbiAgICB0YWJsZU92ZXJmbG93OnRydWUsXHJcbiAgICByb3dSZXNpemU6dHJ1ZSxcclxuICAgIGRlZmF1bHRDb2xBbGlnbjonbGVmdCcsXHJcbiAgICBhbGxvd0luc2VydENvbHVtbjpmYWxzZSxcclxuICAgIGFsbG93TWFudWFsSW5zZXJ0Q29sdW1uOmZhbHNlLFxyXG4gICAgYWxsb3dEZWxldGVDb2x1bW46ZmFsc2UsXHJcbiAgICB3b3JkV3JhcDp0cnVlLFxyXG4gICAgYWxsb3dSZW5hbWVDb2x1bW46ZmFsc2UsXHJcbiAgICBjb2x1bW5zOiBbXHJcbiAgICAgICAgeyB0aXRsZTonVW5pdCBSZWYuICYgZGF0ZScsIHR5cGU6J3RleHQnLCB3aWR0aDoxMjAsIHdvcmRXcmFwOiB0cnVlfSxcclxuICAgICAgICB7IHRpdGxlOidCaWxsIG9mIEVudHJ5IE5vLicsIHR5cGU6J3RleHQnLCB3aWR0aDoxMjAsIHdvcmRXcmFwOiB0cnVlfSxcclxuICAgICAgICB7IHRpdGxlOiAnQ3VzdG9tcyBTdGF0aW9uIG9mIGltcG9ydCcsIHR5cGU6J3RleHQnLCB3aWR0aDoxNTAgfSxcclxuICAgICAgICB7IHRpdGxlOiAnQ29kZSB3YXJlaG91c2UnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTIwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ0VvVSBOYW1lIEFkZHInLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ090aGVycycsIHR5cGU6J3RleHQnLCB3aWR0aDoxMDAgfSxcclxuICAgICAgICB7IHRpdGxlOiAnQi0xNyBCb25kIEFtdCcsIHR5cGU6J3RleHQnLCB3aWR0aDoxMDAgfSxcclxuICAgICAgICB7IHRpdGxlOiAnRGVzY3JpcHRpb24gZ29vZHMnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ0ludm9pY2UgTm8uJywgdHlwZTondGV4dCcsIHdpZHRoOjEwMCB9LFxyXG4gICAgICAgIHsgdGl0bGU6ICdQcm9jIENlcnQgTm8uL2RhdGUnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ1VuaXQsd2VpZ2h0ICYgcXVhbnRpdHknLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ1ZhbHVlJywgdHlwZTondGV4dCcsIHdpZHRoOjEwMCB9LFxyXG4gICAgICAgIHsgdGl0bGU6ICdEdXR5IGFzc2Vzc2VkJywgdHlwZTondGV4dCcsIHdpZHRoOjEwMCB9LFxyXG4gICAgICAgIHsgdGl0bGU6ICdSZWcuIG5vLiBtZWFucyBvZiB0cmFuc3BvcnQnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ0RhdGUgJiB0aW1lIG9mIHJlY2VpcHQnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ0RhdGUgYW5kIHRpbWUgb2YgcmVtb3ZhbCcsIHR5cGU6J3RleHQnLCB3aWR0aDoxMDAgfSxcclxuICAgICAgICB7IHRpdGxlOiAnUXVhbnRpdHkgY2xlYXJlZCcsIHR5cGU6J3RleHQnLCB3aWR0aDoxMDAgfSxcclxuICAgICAgICB7IHRpdGxlOiAnVmFsdWUnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ0R1dHkgaW52b2x2ZWQnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJyAnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ1B1cnBvc2Ugb2YgcmVtb3ZhbCcsIHR5cGU6J3RleHQnLCB3aWR0aDoxMDAgfSxcclxuICAgICAgICB7IHRpdGxlOiAnRGF0ZSAmIFRpbWUnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ1F1YW50aXR5JywgdHlwZTondGV4dCcsIHdpZHRoOjEwMCB9LFxyXG4gICAgICAgIHsgdGl0bGU6ICdWYWx1ZScsIHR5cGU6J3RleHQnLCB3aWR0aDoxMDAgfSxcclxuICAgICAgICB7IHRpdGxlOiAnRHV0eScsIHR5cGU6J3RleHQnLCB3aWR0aDoxMDAgfSxcclxuICAgICAgICB7IHRpdGxlOiAnRGV0YWlscyBvZiBkb2N1bWVudCcsIHR5cGU6J3RleHQnLCB3aWR0aDoxMDAgfSxcclxuICAgICAgICB7IHRpdGxlOiAnUHVycG9zZSBvZiByZXR1cm4nLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ0RhdGUgJiB0aW1lJywgdHlwZTondGV4dCcsIHdpZHRoOjEwMCB9LFxyXG4gICAgICAgIHsgdGl0bGU6ICdRdWFudGl0eScsIHR5cGU6J3RleHQnLCB3aWR0aDoxMDAgfSxcclxuICAgICAgICB7IHRpdGxlOiAnVmFsdWUnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ0R1dHkgaW52b2x2ZWQnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ0RldGFpbHMnLCB0eXBlOid0ZXh0Jywgd2lkdGg6MTAwIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ1F1YW50aXR5JywgdHlwZTondGV4dCcsIHdpZHRoOjEwMCB9LFxyXG4gICAgICAgIHsgdGl0bGU6ICdWYWx1ZScsIHR5cGU6J3RleHQnLCB3aWR0aDoxMDAgfSxcclxuICAgICAgICB7IHRpdGxlOiAnICcsIHR5cGU6J3RleHQnLCB3aWR0aDoxMDAgfVxyXG4gICAgXSxcclxuICAgIG5lc3RlZEhlYWRlcnM6W1xyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgeyB0aXRsZTonICcsY29sc3BhbjoyIH0sIHsgdGl0bGU6J1JlY2VpcHRzJywgY29sc3BhbjoxMiB9LCB7dGl0bGU6J1JlbW92YWwgb2YgcHJvY2Vzc2luZycsIGNvbHNwYW46IDR9LHt0aXRsZTonUmVtYXJrcycsIGNvbHNwYW46MX0sXHJcbiAgICAgICAgICAgIHt0aXRsZTonT3RoZXIgcmVtb3ZhbHMnLCBjb2xzcGFuOjZ9LCB7dGl0bGU6J1JldHVybnMgdG8gdW5pdCcsIGNvbHNwYW46Nn0sIHt0aXRsZTonQmFsYW5jZSBpbiBzdG9jaycsY29sc3BhbjoyfSx7dGl0bGU6J1JlbWFya3MnLGNvbHNwYW46MX1cclxuICAgICAgICBdXHJcbiAgICAgICAgICAgIFxyXG4gICAgXVxyXG59KVxyXG59XHJcblxyXG5teVRhYmxlZnVuY3Rpb24oKVxyXG5cclxuIiwidmFyIGNzcyA9IFwiLyoqXFxyXFxuICogKGMpIGpTdWl0ZXMgSmF2YXNjcmlwdCBXZWIgQ29tcG9uZW50c1xcclxcbiAqXFxyXFxuICogQXV0aG9yOiBQYXVsIEhvZGVsIDxwYXVsLmhvZGVsQGdtYWlsLmNvbT5cXHJcXG4gKiBXZWJzaXRlOiBodHRwczovL2Jvc3Nhbm92YS51ay9qc3VpdGVzL1xcclxcbiAqIERlc2NyaXB0aW9uOiBDcmVhdGUgYW1hemluZyB3ZWIgYmFzZWQgYXBwbGljYXRpb25zLlxcclxcbiAqXFxyXFxuICogTUlUIExpY2Vuc2VcXHJcXG4gKlxcclxcbiAqL1xcbi8qKiBHZW5lcmFsICoqL1xcbjpyb290IHtcXG4gIC0tYnV0dG9uLWNvbG9yOiAjMjk4QkE4O1xcbiAgLS1hY3RpdmUtY29sb3I6ICMwMDdhZmY7XFxufVxcbi5qZHJhZ2dpbmcge1xcbiAgb3BhY2l0eTogMC4yO1xcbiAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTIwKTtcXG59XFxuLmp1cGxvYWQge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCUUNBWUFBQUNPRWZLdEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUE3ZW1sVVdIUllUVXc2WTI5dExtRmtiMkpsTG5odGNBQUFBQUFBUEQ5NGNHRmphMlYwSUdKbFoybHVQU0x2dTc4aUlHbGtQU0pYTlUwd1RYQkRaV2hwU0hweVpWTjZUbFJqZW10ak9XUWlQejRLUEhnNmVHMXdiV1YwWVNCNGJXeHVjenA0UFNKaFpHOWlaVHB1Y3pwdFpYUmhMeUlnZURwNGJYQjBhejBpUVdSdlltVWdXRTFRSUVOdmNtVWdOUzQyTFdNeE16Z2dOemt1TVRVNU9ESTBMQ0F5TURFMkx6QTVMekUwTFRBeE9qQTVPakF4SUNBZ0lDQWdJQ0FpUGdvZ0lDQThjbVJtT2xKRVJpQjRiV3h1Y3pweVpHWTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1Rrdk1ESXZNakl0Y21SbUxYTjViblJoZUMxdWN5TWlQZ29nSUNBZ0lDQThjbVJtT2tSbGMyTnlhWEIwYVc5dUlISmtaanBoWW05MWREMGlJZ29nSUNBZ0lDQWdJQ0FnSUNCNGJXeHVjenA0YlhBOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOGlDaUFnSUNBZ0lDQWdJQ0FnSUhodGJHNXpPbVJqUFNKb2RIUndPaTh2Y0hWeWJDNXZjbWN2WkdNdlpXeGxiV1Z1ZEhNdk1TNHhMeUlLSUNBZ0lDQWdJQ0FnSUNBZ2VHMXNibk02Y0dodmRHOXphRzl3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzQm9iM1J2YzJodmNDOHhMakF2SWdvZ0lDQWdJQ0FnSUNBZ0lDQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SUtJQ0FnSUNBZ0lDQWdJQ0FnZUcxc2JuTTZjM1JGZG5ROUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXpWSGx3WlM5U1pYTnZkWEpqWlVWMlpXNTBJeUlLSUNBZ0lDQWdJQ0FnSUNBZ2VHMXNibk02ZEdsbVpqMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzkwYVdabUx6RXVNQzhpQ2lBZ0lDQWdJQ0FnSUNBZ0lIaHRiRzV6T21WNGFXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2WlhocFppOHhMakF2SWo0S0lDQWdJQ0FnSUNBZ1BIaHRjRHBEY21WaGRHOXlWRzl2YkQ1QlpHOWlaU0JRYUc5MGIzTm9iM0FnUTBNZ01qQXhOeUFvVjJsdVpHOTNjeWs4TDNodGNEcERjbVZoZEc5eVZHOXZiRDRLSUNBZ0lDQWdJQ0FnUEhodGNEcERjbVZoZEdWRVlYUmxQakl3TVRjdE1USXRNekZVTWpJNk5ETTZNekJhUEM5NGJYQTZRM0psWVhSbFJHRjBaVDRLSUNBZ0lDQWdJQ0FnUEhodGNEcE5iMlJwWm5sRVlYUmxQakl3TVRndE1ERXRNREZVTWpBNk1ETTZNak5hUEM5NGJYQTZUVzlrYVdaNVJHRjBaVDRLSUNBZ0lDQWdJQ0FnUEhodGNEcE5aWFJoWkdGMFlVUmhkR1UrTWpBeE9DMHdNUzB3TVZReU1Eb3dNem95TTFvOEwzaHRjRHBOWlhSaFpHRjBZVVJoZEdVK0NpQWdJQ0FnSUNBZ0lEeGtZenBtYjNKdFlYUSthVzFoWjJVdmNHNW5QQzlrWXpwbWIzSnRZWFErQ2lBZ0lDQWdJQ0FnSUR4d2FHOTBiM05vYjNBNlEyOXNiM0pOYjJSbFBqTThMM0JvYjNSdmMyaHZjRHBEYjJ4dmNrMXZaR1UrQ2lBZ0lDQWdJQ0FnSUR4NGJYQk5UVHBKYm5OMFlXNWpaVWxFUG5odGNDNXBhV1E2WkRFM05HVmtZMlV0Tldaa05DMHdPRFJrTFRrek56QXRaRFJoT0RWbU16ZGtOamRpUEM5NGJYQk5UVHBKYm5OMFlXNWpaVWxFUGdvZ0lDQWdJQ0FnSUNBOGVHMXdUVTA2Ukc5amRXMWxiblJKUkQ1NGJYQXVaR2xrT2pCbVl6Y3haREV5TFRnMU1HVXRZMkUwTlMwNU16RTRMV1JoWWpJNVlXWmhNbVE0TWp3dmVHMXdUVTA2Ukc5amRXMWxiblJKUkQ0S0lDQWdJQ0FnSUNBZ1BIaHRjRTFOT2s5eWFXZHBibUZzUkc5amRXMWxiblJKUkQ1NGJYQXVaR2xrT2pCbVl6Y3haREV5TFRnMU1HVXRZMkUwTlMwNU16RTRMV1JoWWpJNVlXWmhNbVE0TWp3dmVHMXdUVTA2VDNKcFoybHVZV3hFYjJOMWJXVnVkRWxFUGdvZ0lDQWdJQ0FnSUNBOGVHMXdUVTA2U0dsemRHOXllVDRLSUNBZ0lDQWdJQ0FnSUNBZ1BISmtaanBUWlhFK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4eVpHWTZiR2tnY21SbU9uQmhjbk5sVkhsd1pUMGlVbVZ6YjNWeVkyVWlQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4YzNSRmRuUTZZV04wYVc5dVBtTnlaV0YwWldROEwzTjBSWFowT21GamRHbHZiajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhOMFJYWjBPbWx1YzNSaGJtTmxTVVErZUcxd0xtbHBaRG93Wm1NM01XUXhNaTA0TlRCbExXTmhORFV0T1RNeE9DMWtZV0l5T1dGbVlUSmtPREk4TDNOMFJYWjBPbWx1YzNSaGJtTmxTVVErQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHAzYUdWdVBqSXdNVGN0TVRJdE16RlVNakk2TkRNNk16QmFQQzl6ZEVWMmREcDNhR1Z1UGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGMzUkZkblE2YzI5bWRIZGhjbVZCWjJWdWRENUJaRzlpWlNCUWFHOTBiM05vYjNBZ1EwTWdNakF4TnlBb1YybHVaRzkzY3lrOEwzTjBSWFowT25OdlpuUjNZWEpsUVdkbGJuUStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lEd3ZjbVJtT214cFBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGNtUm1PbXhwSUhKa1pqcHdZWEp6WlZSNWNHVTlJbEpsYzI5MWNtTmxJajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhOMFJYWjBPbUZqZEdsdmJqNXpZWFpsWkR3dmMzUkZkblE2WVdOMGFXOXVQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4YzNSRmRuUTZhVzV6ZEdGdVkyVkpSRDU0YlhBdWFXbGtPamsyTVRBNVkyWTBMVEV3TTJJdE5UYzBOeTFoWldFM0xXSTVORE14T1dZME5XRmtaand2YzNSRmRuUTZhVzV6ZEdGdVkyVkpSRDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhOMFJYWjBPbmRvWlc0K01qQXhPQzB3TVMwd01WUXlNRG93TWpveU1GbzhMM04wUlhaME9uZG9aVzQrQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHB6YjJaMGQyRnlaVUZuWlc1MFBrRmtiMkpsSUZCb2IzUnZjMmh2Y0NCRFF5QXlNREUzSUNoWGFXNWtiM2R6S1R3dmMzUkZkblE2YzI5bWRIZGhjbVZCWjJWdWRENEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSE4wUlhaME9tTm9ZVzVuWldRK0x6d3ZjM1JGZG5RNlkyaGhibWRsWkQ0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEM5eVpHWTZiR2srQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh5WkdZNmJHa2djbVJtT25CaGNuTmxWSGx3WlQwaVVtVnpiM1Z5WTJVaVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjM1JGZG5RNllXTjBhVzl1UG5OaGRtVmtQQzl6ZEVWMmREcGhZM1JwYjI0K0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVYyZERwcGJuTjBZVzVqWlVsRVBuaHRjQzVwYVdRNlpERTNOR1ZrWTJVdE5XWmtOQzB3T0RSa0xUa3pOekF0WkRSaE9EVm1NemRrTmpkaVBDOXpkRVYyZERwcGJuTjBZVzVqWlVsRVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjM1JGZG5RNmQyaGxiajR5TURFNExUQXhMVEF4VkRJd09qQXpPakl6V2p3dmMzUkZkblE2ZDJobGJqNEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSE4wUlhaME9uTnZablIzWVhKbFFXZGxiblErUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5ESURJd01UY2dLRmRwYm1SdmQzTXBQQzl6ZEVWMmREcHpiMlowZDJGeVpVRm5aVzUwUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGMzUkZkblE2WTJoaGJtZGxaRDR2UEM5emRFVjJkRHBqYUdGdVoyVmtQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQThMM0prWmpwc2FUNEtJQ0FnSUNBZ0lDQWdJQ0FnUEM5eVpHWTZVMlZ4UGdvZ0lDQWdJQ0FnSUNBOEwzaHRjRTFOT2tocGMzUnZjbmsrQ2lBZ0lDQWdJQ0FnSUR4MGFXWm1Pazl5YVdWdWRHRjBhVzl1UGpFOEwzUnBabVk2VDNKcFpXNTBZWFJwYjI0K0NpQWdJQ0FnSUNBZ0lEeDBhV1ptT2xoU1pYTnZiSFYwYVc5dVBqY3lNREF3TUM4eE1EQXdNRHd2ZEdsbVpqcFlVbVZ6YjJ4MWRHbHZiajRLSUNBZ0lDQWdJQ0FnUEhScFptWTZXVkpsYzI5c2RYUnBiMjQrTnpJd01EQXdMekV3TURBd1BDOTBhV1ptT2xsU1pYTnZiSFYwYVc5dVBnb2dJQ0FnSUNBZ0lDQThkR2xtWmpwU1pYTnZiSFYwYVc5dVZXNXBkRDR5UEM5MGFXWm1PbEpsYzI5c2RYUnBiMjVWYm1sMFBnb2dJQ0FnSUNBZ0lDQThaWGhwWmpwRGIyeHZjbE53WVdObFBqWTFOVE0xUEM5bGVHbG1Pa052Ykc5eVUzQmhZMlUrQ2lBZ0lDQWdJQ0FnSUR4bGVHbG1PbEJwZUdWc1dFUnBiV1Z1YzJsdmJqNDRNRHd2WlhocFpqcFFhWGhsYkZoRWFXMWxibk5wYjI0K0NpQWdJQ0FnSUNBZ0lEeGxlR2xtT2xCcGVHVnNXVVJwYldWdWMybHZiajQ0TUR3dlpYaHBaanBRYVhobGJGbEVhVzFsYm5OcGIyNCtDaUFnSUNBZ0lEd3ZjbVJtT2tSbGMyTnlhWEIwYVc5dVBnb2dJQ0E4TDNKa1pqcFNSRVkrQ2p3dmVEcDRiWEJ0WlhSaFBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvOFAzaHdZV05yWlhRZ1pXNWtQU0ozSWo4K3RjOEFzZ0FBQUNCalNGSk5BQUI2SlFBQWdJTUFBUG4vQUFDQTZRQUFkVEFBQU9wZ0FBQTZtQUFBRjIrU1g4VkdBQUFHalVsRVFWUjQydXljVzJ4VVJSakhmOTFTb0VJQlVRcFlJOFZTVkJERXhuaUxFUk5VSkJwUVZFREZxRTFBRVlrWDBKQ0MwWWpnQmRFWURPSUZlVkVFRlJCaWxLQm9nZytLaVFvVjVRNktobGE4bHJaUkJMbyt6TGRhenM3Wk0yZDN6c0p1NTUvc3kzZG16NTc5N1Z5K3k4d1d4T054bk5KWHpDRndBQjFBQjlBQmRISUFIVUFIMEFGMENxOTI5ZlgxdWZiTUE0SExnU3FnSE9nUGRKSnJmd1BiZ2IzQUp1QkQ0S3NvSDZhZ3JxNHVGNkNWQW5jQzR3VllHUDBBTEFWZUF2YTBOWURGd09QQVJLQnpodmM2QXJ3RzFBQy90b1U1Y0RTd0ZYakFBanlBUW1BQ3NBT296bmVBVHdMTGdkTU0yLzhqTHhOMUF4WUJDL0oxQ0w4RjNCalFaaE93Q3FnRnZnZCtBdUpBVDZBQ09CTVlDVndVY0o5MXNpRGxEY0MzZ1J0U1hGOEl6QWUrTTd4Zk9YQzNUQU9GUG0zV0EwTnpBZURwOG9VR0FTZUtyVUY2MFI2Wm42YW42Q25UZ0kxcGZuWUZNQWNZNDNOOUdURHVlQVI0c1F5bEs4UnZTMGR6Z1ljc1BjOVU0Qm1mYTlYQTR1TUY0R1h5cFVka2VKOFowbk5zNmhiZ2RaOXJQY0s2T0xaWDRYYmlzSDVpQWQ2OENPQUJ2QUhjNjNOdHdiSHNnZjJCOTRCS0MvZmFBRndZOFp5OEVyaFdZeDhFYk00MndBdUFqNEVUQXRwdGxsaDFOOUFpQzB0L1lMQ25YVjl4VDZKVUo2QU9LUEhZWDVISUoyc0FLNEJ2Z1E0KzE3Zko1THhLSWd1ZHpnQkd5U1MvM3NBUHRLV1p3Q3lQclFrNHlkUXh0d0Z3SDlCYlk0L0xJdkJFeUY1UklGOGlHK29DL0s3eEVVZkxFSTk4RVZuc0EyOC9NQ1FrUElEbUxNSURPQ0RPdTFmWFpHTVZyZ0p1MTlnYlpDS3VKVGVrNjJtVjJRRDRYSW9GWlQrNW8xMGEyeWxSQTZ3Q0x0WFlwOHVpa1V2NldlYnIxdW9PZEl3UzRIaU5iUy93Rkxtblp1Q2d4OVkraFZkaEJlQndqVzErQkY5dUZ2QnFGaURHRFczYTBDdXMrZ0FEUExZV1ZCN1BwaWFKbjVZWVpqTWlnbGVzNlcyTnNrSkgwZ04xUloxRUpjeVdKbnZpMGhwVWJTUUs5ZFJ3YURHSXF0SUdlTGJHOW8zbG52ZUNUMlltQ29nVlBxdndkcE9JS0IyQTdUVTJXK1hDaVFFWmtTZ2dUdkd4bDhtME5OYzJ3REtOcmNYQ0Y1bUFTb1VGYVFZdzJ4SzhJdjR2eXZ0cG1zVHhHUUhzTFBQUUxwOWZySStGWWZ0eWlQWTFsaUFlQnM1RFpZTlMvWGdqZ1RYcEFwd3E0R2FqMGs4NkRiSzRZSVNCbU9sd2pyZWF3KzhDenZFREphN2JvakFBVHdVK1F0VVFTZzBXbHI0V0Z3eFQyWjRUYTFHWjlNZDhybGNEWTAwQURwRmZaVmlJRDcvRDhvSnhyQ0FDUENJalE2ZWxxT0s4cnlNOUdQZzY0QU0rQjFZQVcxQkowcjlNL2FhUUMwWVlpQVdXbmUwRlFGZjBkWm5uZ2RzZ09hSGFYVnlTTGo0M1hTWTN6Q1JWTmNsU3o5TnBUZ1FSeXdmQVZScjdXY0RXbUtheERsNFRLdVUrTGtONGt5T0VGMVhFTWs1R21GZjNlT2ZBS2NENW1vWS95cHk0T3NNSGVUakRCU1BNY0Y1bzhYNE5QczcwZUtBb01ZU0xKSUR1b09sNUF3UmlKcm9KV0lJcTFCd004RGNMREZ5UHBvQUVTVEVxTi9tMGFWWWxRRjFSdFJQdmlCMlpXRVFlUkovL0dtMEJIcWh0dGllVHV0SlZna3JHQnUwRmJFYnR2bW9NZ05qTEVyeEVMM3lINUwwMW94SUE3OU84YVRWcWo3RU5tV1NwR3cxRHdoWlVKVEJJZjFpZUdsWm9BRmJHeEczcEVTTElqa29sQnNNWGFWTkM5cVdyblpURlpKaDY5U1YyODN2NW9Ick5sTkE5SnZHZlYwc2NMKzNjbTFRN2lhRlBLTlk2WGltVEQwZkZ3dVdhUnJzY3F5UjExSGdxaDJJa1o1Z1B5N0x0ZExSS05YN2duekhna01kWUdESXgwRlpVcnJIVnhWQkhCTHpEdXAvamxhU3JOYmJkTVdDbjVzSUF4eXNwc3JsWlkxOFRRMy9tWW94amRwUW1rRng4T2dLc2pBSHZhdDR3bEZaWlZ5Y2UxZGlXQTgweDRET2Y3TWE4TEQra2FZaG1HdkxaMG92b2EwTFAwbXBaMXFYWHE0RnpzL2lnaVNSQlk4QnJIM2JxMENhNkhsV3Q4Mm9kNmlUQmZ5bjlMajYrWHgycTJuWXdTejNROUZockUvWlNWWDY2QlBqVTUxcS9STENSNklFSDBLZkNlOHNRTDg1U21OUm8rSW9hM3RnVThHYTJqdFM4UmFVZFBqN2dUdFFScVMveWZMSG9nRXJmKzZYeWtrNTJla09URVNtNjdBYlVydnV5UEFSWEF0eVBTdno2d2R1SzVteXg3cHpJY1B5M040RDZaNHczcGMwTzFJYnliQXdyV3lxU3ViWlVPc1l3NERyVTRSby9iVUVkM200d0Faam9pZThiUHRBUlZOa3ZWd0FXeXB4dTZncXRSVzB1MGk2a3FVNHFEVUVWVWlyYXNBTmRROEJob1ZTYml6YWkvdVJtYmhzRXR4cDFsQ1B3cEpYcFdibUJxRCsrdVRXUFE3eG0xTmFWSmVJb216bXZJUThiZHBPMHpwV296ZWE5QWliZjQxV0hnZDlRaGFKdHFBUGlhNEZmUW52LzdsOThNNVA3OXpZSDBBRjBBQjFBSndmUUFYUUFIVUNuTlBUdkFLZW1pRlU2bmI5NkFBQUFBRWxGVGtTdVFtQ0MpO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtc2l6ZTogMTAwcHg7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIzMCwgMjMwLCAyMzAsIDAuMSk7XFxuICBib3JkZXI6IDFweCBkb3R0ZWQgI2VlZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1pbi1oZWlnaHQ6IDE4MHB4O1xcbn1cXG4uanJlbW92ZSB7XFxuICBvcGFjaXR5OiAwLjI7XFxuICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MjApO1xcbn1cXG4vKiogQW5pbWF0aW9ucyAqKi9cXG4uZmFkZS1pbiB7XFxuICBhbmltYXRpb246IGZhZGUtaW4gMnMgZm9yd2FyZHM7XFxufVxcbi5mYWRlLW91dCB7XFxuICBhbmltYXRpb246IGZhZGUtb3V0IDFzIGZvcndhcmRzO1xcbn1cXG4uc2xpZGUtbGVmdC1pbiB7XFxuICBhbmltYXRpb246IHNsaWRlLWxlZnQtaW4gMC40cyBmb3J3YXJkcztcXG59XFxuLnNsaWRlLWxlZnQtb3V0IHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtbGVmdC1vdXQgMC40cyBmb3J3YXJkcztcXG59XFxuLnNsaWRlLXJpZ2h0LWluIHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtcmlnaHQtaW4gMC40cyBmb3J3YXJkcztcXG59XFxuLnNsaWRlLXJpZ2h0LW91dCB7XFxuICBhbmltYXRpb246IHNsaWRlLXJpZ2h0LW91dCAwLjRzIGZvcndhcmRzO1xcbn1cXG4uc2xpZGUtdG9wLWluIHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtdG9wLWluIDAuNHMgZm9yd2FyZHM7XFxufVxcbi5zbGlkZS10b3Atb3V0IHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtdG9wLW91dCAwLjJzIGZvcndhcmRzO1xcbn1cXG4uc2xpZGUtYm90dG9tLWluIHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtYm90dG9tLWluIDAuNHMgZm9yd2FyZHM7XFxufVxcbi5zbGlkZS1ib3R0b20tb3V0IHtcXG4gIGFuaW1hdGlvbjogc2xpZGUtYm90dG9tLW91dCAwLjFzIGZvcndhcmRzO1xcbn1cXG4vKiogRmFkZWluIGFuZCBGYWRlb3V0ICoqL1xcbkBrZXlmcmFtZXMgZmFkZS1pbiB7XFxuICAwJSB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgb3BhY2l0eTogMTAwO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZS1pbiB7XFxuICAwJSB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgb3BhY2l0eTogMTAwO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIGZhZGUtb3V0IHtcXG4gIDAlIHtcXG4gICAgb3BhY2l0eTogMTAwO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxufVxcbkAtd2Via2l0LWtleWZyYW1lcyBmYWRlLW91dCB7XFxuICAwJSB7XFxuICAgIG9wYWNpdHk6IDEwMDtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbn1cXG4vKiogS2V5ZnJhbWVzIExlZnQgdG8gUmlnaHQgKiovXFxuQGtleWZyYW1lcyBzbGlkZS1sZWZ0LWluIHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtbGVmdC1pbiB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIHNsaWRlLWxlZnQtb3V0IHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtbGVmdC1vdXQge1xcbiAgMCUge1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwJSk7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpO1xcbiAgfVxcbn1cXG4vKiogS2V5ZnJhbWVzIFJpZ2h0IHRvIExlZnQgKiovXFxuQGtleWZyYW1lcyBzbGlkZS1yaWdodC1pbiB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtcmlnaHQtaW4ge1xcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIHNsaWRlLXJpZ2h0LW91dCB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwJSk7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtcmlnaHQtb3V0IHtcXG4gIDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpO1xcbiAgfVxcbn1cXG4vKiogS2V5ZnJhbWVzIFRvcCB0byBCb3R0b20gKiovXFxuQGtleWZyYW1lcyBzbGlkZS10b3AtaW4ge1xcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwJSk7XFxuICB9XFxufVxcbkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZS10b3AtaW4ge1xcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTtcXG4gIH1cXG59XFxuQGtleWZyYW1lcyBzbGlkZS10b3Atb3V0IHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtdG9wLW91dCB7XFxuICAwJSB7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7XFxuICB9XFxufVxcbi8qKiBLZXlmcmFtZXMgQm90dG9tIHRvIFRvcCAqKi9cXG5Aa2V5ZnJhbWVzIHNsaWRlLWJvdHRvbS1pbiB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCUpO1xcbiAgfVxcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGUtYm90dG9tLWluIHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTtcXG4gIH1cXG59XFxuQGtleWZyYW1lcyBzbGlkZS1ib3R0b20tb3V0IHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwJSk7XFxuICB9XFxufVxcbkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZS1ib3R0b20tb3V0IHtcXG4gIDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpO1xcbiAgfVxcbn1cXG5Ac3VwcG9ydHMgKC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaCkge1xcbiAgLmFwcCAub3B0aW9ucyBpbnB1dDpjaGVja2VkOmJlZm9yZSB7XFxuICAgIHRvcDogLTEycHg7XFxuICB9XFxufVxcbkAtd2Via2l0LWtleWZyYW1lcyBzcGluIHtcXG4gIGZyb20ge1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xcbiAgfVxcblxcbiAgdG8ge1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XFxuICB9XFxufVxcbkBrZXlmcmFtZXMgc3BpbiB7XFxuICBmcm9tIHtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICB9XFxuXFxuICB0byB7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XFxuICB9XFxufVxcbi51bnNlbGVjdGFibGUge1xcbiAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuLmpidXR0b24ge1xcbiAgcGFkZGluZzogNHB4O1xcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMjBweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XFxuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGxpbmUtaGVpZ2h0OiAyNHB4O1xcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XFxufVxcbi5qYnV0dG9uLmJsdWUge1xcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYTczZTg7XFxufVxcbi5qYnV0dG9uOjpiZWZvcmUge1xcbiAgY29udGVudDogYXR0cihkYXRhLWljb24pO1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IDI0cHg7XFxuICBmb250LXNpemU6IDI0cHg7XFxuICBsaW5lLWhlaWdodDogMjRweDtcXG4gIGZvbnQtZmFtaWx5OiAnTWF0ZXJpYWwgaWNvbnMnO1xcbiAgY29sb3I6ICM5OTk7XFxuICBtYXJnaW4tcmlnaHQ6IDJweDtcXG59XFxuLmpidXR0b24uYmx1ZTo6YmVmb3JlIHtcXG4gIGNvbG9yOiAjZmZmO1xcbn1cXG4uamJ1dHRvbjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcbn1cXG4uamJ1dHRvbi5ibHVlOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYTczZTg7XFxuICBvcGFjaXR5OiAwLjg7XFxufVxcbi8qKlxcbiAqIERhdGUgJiBEYXRldGltZSBwaWNrZXIgdjEuMC4xXFxuICogQXV0aG9yOiBwYXVsLmhvZGVsQGdtYWlsLmNvbVxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsaG9kZWwvanRvb2xzXFxuICovXFxuLmpjYWxlbmRhciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiA5MDAwO1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsMCwwLDApO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIG1pbi13aWR0aDogMjgwcHg7XFxufVxcbi5qY2FsZW5kYXItZm9jdXMge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qY2FsZW5kYXItYmFja2Ryb3Age1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICB6LWluZGV4OiA5MDAwO1xcbiAgbWluLXdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTtcXG4gIGJvcmRlcjogMHB4O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpjYWxlbmRhci1jb250YWluZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuLmpjYWxlbmRhci1jb250ZW50IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDkwMDE7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDFweCAxcHggNXB4IDBweCByZ2JhKDAsMCwwLDAuMzkpO1xcbiAgLW1vei1ib3gtc2hhZG93OiAxcHggMXB4IDVweCAwcHggcmdiYSgwLDAsMCwwLjM5KTtcXG4gIGJveC1zaGFkb3c6IDFweCAxcHggNXB4IDBweCByZ2JhKDAsMCwwLDAuMzkpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG59XFxuLmpjYWxlbmRhci10YWJsZSA+IHRhYmxlIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG59XFxuLmpjYWxlbmRhci10YWJsZSA+IHRhYmxlID4gdGJvZHkgdGQge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHBhZGRpbmc6IDlweDtcXG4gIGZvbnQtc2l6ZTogMC45ZW07XFxufVxcbi5qY2FsZW5kYXItdGFibGUgPiB0YWJsZSA+IHRoZWFkIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmpjYWxlbmRhci1oZWFkZXIge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4uamNhbGVuZGFyLWhlYWRlciBzcGFuIHtcXG4gIG1hcmdpbi1yaWdodDogNHB4O1xcbiAgZm9udC1zaXplOiAxLjFlbTtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG4uamNhbGVuZGFyLXByZXYge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFJTNDcGF0aCBkPSdNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeicgZmlsbD0nJTIzMDAwJyAvJTNFJTNDcGF0aCBmaWxsPSdub25lJyBkPSdNMCAwaDI0djI0SDBWMHonLyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxufVxcbi5qY2FsZW5kYXItbmV4dCB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGQ9J004LjU5IDE2LjU5TDEzLjE3IDEyIDguNTkgNy40MSAxMCA2bDYgNi02IDYtMS40MS0xLjQxeicgZmlsbD0nJTIzMDAwJyAvJTNFJTNDcGF0aCBmaWxsPSdub25lJyBkPSdNMCAwaDI0djI0SDBWMHonLyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxufVxcbi5qY2FsZW5kYXItd2Vla2RheSB7XFxuICBmb250LXdlaWdodDogNjAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZjZmNmYztcXG4gIHBhZGRpbmc6IDE0cHg7XFxufVxcbi5qY2FsZW5kYXIgdGhlYWQgdGQge1xcbiAgcGFkZGluZzogMTBweDtcXG4gIGhlaWdodDogNDBweDtcXG59XFxuLmpjYWxlbmRhciB0Zm9vdCB0ZCB7XFxuICBwYWRkaW5nOiAxMHB4O1xcbn1cXG4uamNhbGVuZGFyLW1vbnRocyB0ZCxcXG4uamNhbGVuZGFyLXllYXJzIHRkIHtcXG4gIGhlaWdodDogMjRweDtcXG59XFxuLmpjYWxlbmRhci1pbnB1dCB7XFxuICBwYWRkaW5nLXJpZ2h0OiAxOHB4O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzE2JyBoZWlnaHQ9JzE2JyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9J2dyYXknJTNFJTNDcGF0aCBkPSdNMjAgM2gtMVYxaC0ydjJIN1YxSDV2Mkg0Yy0xLjEgMC0yIC45LTIgMnYxNmMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMThINFY4aDE2djEzeicvJTNFJTNDcGF0aCBmaWxsPSdub25lJyBkPSdNMCAwaDI0djI0SDB6Jy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB0b3AgNTAlIHJpZ2h0IDVweDtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG4uamNhbGVuZGFyLWRvbmUge1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAxcHggMXB4IDVweCAwcHggcmdiYSgwLDAsMCwwLjM5KTtcXG4gIC1tb3otYm94LXNoYWRvdzogMXB4IDFweCA1cHggMHB4IHJnYmEoMCwwLDAsMC4zOSk7XFxuICBib3gtc2hhZG93OiAxcHggMXB4IDVweCAwcHggcmdiYSgwLDAsMCwwLjM5KTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxufVxcbi5qY2FsZW5kYXItdXBkYXRlIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgcGFkZGluZzogNXB4O1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi5qY2FsZW5kYXIgc2VsZWN0IHtcXG4gIHdpZHRoOiA1NXB4O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgYm9yZGVyOiAwcHg7XFxuICBwYWRkaW5nOiA0cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXNpemU6IDEuMWVtO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxufVxcbi5qY2FsZW5kYXIgc2VsZWN0OmZpcnN0LWNoaWxkIHtcXG4gIG1hcmdpbi1yaWdodDogMnB4O1xcbn1cXG4uamNhbGVuZGFyLXNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XFxufVxcbi5qY2FsZW5kYXItcmVzZXQsXFxuLmpjYWxlbmRhci1jb25maXJtIHtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG59XFxuLmpjYWxlbmRhci1jb250cm9scyB7XFxuICBwYWRkaW5nOiAxNXB4O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tb3otYm94O1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLXdlYmtpdC1mbGV4LWZsb3c6IHJvdyB3cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xcbn1cXG4uamNhbGVuZGFyLWNvbnRyb2xzIGRpdiB7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuLmpjYWxlbmRhci1mdWxsc2l6ZSB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB3aWR0aDogMTAwJTtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbn1cXG4uamNhbGVuZGFyLWZ1bGxzaXplIC5qY2FsZW5kYXItY29udGVudCB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB3aWR0aDogMTAwJTtcXG4gIGxlZnQ6IDBweDtcXG4gIGJvdHRvbTogMHB4O1xcbn1cXG4uamNhbGVuZGFyLWZvY3VzLmpjYWxlbmRhci1mdWxsc2l6ZSAuamNhbGVuZGFyLWJhY2tkcm9wIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uamNhbGVuZGFyLXN1bmRheSB7XFxuICBjb2xvcjogcmVkO1xcbn1cXG4uamNhbGVuZGFyLWRpc2FibGVkIHtcXG4gIGNvbG9yOiAjY2NjO1xcbn1cXG4uamNvbG9yIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uamNvbG9yLWNvbnRlbnQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMHB4O1xcbiAgei1pbmRleDogOTAwMDtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XFxuICBmb250LXNpemU6IC44NzVyZW07XFxuICBsZXR0ZXItc3BhY2luZzogLjJweDtcXG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDhweCAxMHB4IDFweCByZ2JhKDAsMCwwLDAuMTQpLCAwIDNweCAxNHB4IDJweCByZ2JhKDAsMCwwLDAuMTIpLCAwIDVweCA1cHggLTNweCByZ2JhKDAsMCwwLDAuMik7XFxuICBib3gtc2hhZG93OiAwIDhweCAxMHB4IDFweCByZ2JhKDAsMCwwLDAuMTQpLCAwIDNweCAxNHB4IDJweCByZ2JhKDAsMCwwLDAuMTIpLCAwIDVweCA1cHggLTNweCByZ2JhKDAsMCwwLDAuMik7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuLmpjb2xvci1jb250ZW50IHRhYmxlIHtcXG4gIHBhZGRpbmc6IDdweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qY29sb3ItZm9jdXMge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qY29sb3IgdGFibGUge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbi5qY29sb3IgdGQge1xcbiAgYm9yZGVyOiAycHggc29saWQgI2ZmZjtcXG59XFxuLmpjb2xvci1zZWxlY3RlZCB7XFxuICBib3JkZXI6IDJweCBzb2xpZCAjMDAwICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDAgMDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNOSAxNi4xN0w0LjgzIDEybC0xLjQyIDEuNDFMOSAxOSAyMSA3bC0xLjQxLTEuNDF6JyBmaWxsPSd3aGl0ZScvJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbn1cXG4uamNvbG9yLWZ1bGxzY3JlZW4ge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgYm90dG9tOiAwcHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1heC1oZWlnaHQ6IDI1MHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMHB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuLmpjb2xvci1jbG9zZSB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHBhZGRpbmc6IDE1cHg7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMXB4IDBweCAxcHggMHB4IHJnYmEoMCwwLDAsMC4zOSk7XFxuICAtbW96LWJveC1zaGFkb3c6IDFweCAwcHggMXB4IDBweCByZ2JhKDAsMCwwLDAuMzkpO1xcbiAgYm94LXNoYWRvdzogMXB4IDBweCAxcHggMHB4IHJnYmEoMCwwLDAsMC4zOSk7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qY29sb3ItZnVsbHNjcmVlbiAuamNvbG9yLWNsb3NlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uamNvbG9yLWJhY2tkcm9wIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgbWluLXdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTtcXG4gIGJvcmRlcjogMHB4O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgei1pbmRleDogODAwMDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICAvKiBpT1MgU2FmYXJpICovXFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLyogU2FmYXJpICovXFxuICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAvKiBLb25xdWVyb3IgSFRNTCAqL1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC8qIEZpcmVmb3ggKi9cXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC8qIEludGVybmV0IEV4cGxvcmVyL0VkZ2UgKi9cXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLyogTm9uLXByZWZpeGVkIHZlcnNpb24sIGN1cnJlbnRseVxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ZWQgYnkgQ2hyb21lIGFuZCBPcGVyYSAqL1xcbn1cXG4vKipcXHJcXG4gKiBDb250ZXh0bWVudSB2MS4wLjFcXHJcXG4gKiBBdXRob3I6IHBhdWwuaG9kZWxAZ21haWwuY29tXFxyXFxuICogaHR0cHM6Ly9naXRodWIuY29tL3BhdWxob2RlbC9qc3VpdGVzXFxyXFxuICovXFxuLmpjb250ZXh0bWVudSB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB6LWluZGV4OiAxMDAwMDtcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxuICBjb2xvcjogIzU1NTtcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCByZ2JhKDE0MywgMTQ0LCAxNDUsIDEpO1xcbiAgLW1vei1ib3gtc2hhZG93OiAycHggMnB4IDJweCAwcHggcmdiYSgxNDMsIDE0NCwgMTQ1LCAxKTtcXG4gIGJveC1zaGFkb3c6IDJweCAycHggMnB4IDBweCByZ2JhKDE0MywgMTQ0LCAxNDUsIDEpO1xcbiAgYm9yZGVyOiAxcHggc29saWQgI0M2QzZDNjtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIHBhZGRpbmctdG9wOiA0cHg7XFxuICBwYWRkaW5nLWJvdHRvbTogNHB4O1xcbiAgbWFyZ2luOiAwcHg7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpjb250ZXh0bWVudS5qY29udGV4dG1lbnUtZm9jdXMge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG4uamNvbnRleHRtZW51ID4gZGl2IHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHBhZGRpbmc6IDhweCA4cHggOHB4IDI4cHg7XFxuICB3aWR0aDogMjUwcHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICBmb250LXNpemU6IDExcHg7XFxuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcXG59XFxuLmpjb250ZXh0bWVudSA+IGRpdiBhIHtcXG4gIGNvbG9yOiAjNTU1O1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG4uamNvbnRleHRtZW51ID4gZGl2IHNwYW4ge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbn1cXG4uamNvbnRleHRtZW51IC5jb250ZXh0bWVudS1kaXNhYmxlZCB7XFxuICBjb2xvcjogI2ExYTE5MjtcXG59XFxuLmpjb250ZXh0bWVudSA+IGRpdjpub3QoLmNvbnRleHRtZW51LWxpbmUpOmhvdmVyIHtcXG4gIGJhY2tncm91bmQ6ICNlYmViZWI7XFxufVxcbi5qY29udGV4dG1lbnUgPiBkaXYuY29udGV4dG1lbnUtbGluZSB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2U5ZTllOTtcXG4gIG1hcmdpbi10b3A6IDVweDtcXG4gIHBhZGRpbmc6IDJweDtcXG59XFxuLmpjb250ZXh0bWVudSBociB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZTllOWU5O1xcbiAgYm9yZGVyLWJvdHRvbTogMDtcXG4gIG1hcmdpbi10b3A6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDVweDtcXG59XFxuLyoqXFxyXFxuICogRGlhbG9nIHYxLjAuMVxcclxcbiAqIEF1dGhvcjogcGF1bC5ob2RlbEBnbWFpbC5jb21cXHJcXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGF1bGhvZGVsL2p0b29sc1xcclxcbiAqL1xcbi5qZGlhbG9nIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGxlZnQ6IDA7XFxuICB0b3A6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1pbi1oZWlnaHQ6IDEwMCU7XFxuICB6LWluZGV4OiAxMDAwMDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbjogLjFzO1xcbiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogLjFzO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAtd2Via2l0LWFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLmpkaWFsb2cgLmpkaWFsb2ctY29udGFpbmVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWF4LXdpZHRoOiAyODBweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBtYXJnaW46IDAgYXV0bztcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycztcXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogb3BhY2l0eSAuMnM7XFxufVxcbi5qZGlhbG9nIC5qZGlhbG9nLWhlYWRlciB7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4uamRpYWxvZyAuamRpYWxvZy1oZWFkZXIgLmpkaWFsb2ctdGl0bGUge1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIHBhZGRpbmc6IDhweDtcXG59XFxuLmpkaWFsb2cgLmpkaWFsb2ctaGVhZGVyIC5qZGlhbG9nLW1lc3NhZ2Uge1xcbiAgcGFkZGluZzogNHB4O1xcbn1cXG4uamRpYWxvZyAuamRpYWxvZy1mb290ZXIge1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAgYWxpZ24tY29udGVudDogc3RyZXRjaDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi5qZGlhbG9nIC5qZGlhbG9nLWZvb3RlciA+IGRpdiB7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNjY2M7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLmpkaWFsb2cgLmpkaWFsb2ctZm9vdGVyID4gZGl2OmZpcnN0LWNoaWxkIHtcXG4gIGJvcmRlci1sZWZ0OiAwcHg7XFxufVxcbi5qZGlhbG9nIC5qZGlhbG9nLWZvb3RlciBpbnB1dCB7XFxuICBib3JkZXI6IDBweDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLyoqXFxuICogKGMpIDIwMTMgakRyb3Bkb3duXFxuICogaHR0cDovL3d3dy5naXRodWIuY29tL3BhdWxob2RlbC9qZHJvcGRvd25cXG4gKlxcbiAqIEBhdXRob3I6IFBhdWwgSG9kZWwgPHBhdWwuaG9kZWxAZ21haWwuY29tPlxcbiAqIEBkZXNjcmlwdGlvbjogQ3VzdG9tIGRyb3Bkb3duc1xcbiAqL1xcbi5qZHJvcGRvd24ge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLmpkcm9wZG93bi1oZWFkZXI6OnBsYWNlaG9sZGVyIHtcXG4gIGNvbG9yOiAjMDAwO1xcbn1cXG4uamRyb3Bkb3duLWJhY2tkcm9wIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgbWluLXdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTtcXG4gIGJvcmRlcjogMHB4O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgei1pbmRleDogODAwMDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5qZHJvcGRvd24tZm9jdXMge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uamRyb3Bkb3duLWZvY3VzIC5qZHJvcGRvd24tY29udGFpbmVyIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwwLDApO1xcbn1cXG4uamRyb3Bkb3duLWZvY3VzIC5qZHJvcGRvd24taGVhZGVyIHtcXG4gIG91dGxpbmU6IGF1dG8gNXB4IC13ZWJraXQtZm9jdXMtcmluZy1jb2xvcjtcXG59XFxuLmpkcm9wZG93bi1jb250YWluZXItaGVhZGVyIHtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uamRyb3Bkb3duLWhlYWRlciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGFwcGVhcmFuY2U6IG5vbmU7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogdG9wIDUwJSByaWdodCA1cHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlMEElM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGZpbGw9J25vbmUnIGQ9J00wIDBoMjR2MjRIMFYweicvJTNFJTNDcGF0aCBkPSdNNyAxMGw1IDUgNS01SDd6JyBmaWxsPSdncmF5Jy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxuICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xcbn1cXG4uamRyb3Bkb3duLWluc2VydC1idXR0b24ge1xcbiAgZm9udC1zaXplOiAxLjRlbTtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogMzBweDtcXG4gIHRvcDogNHB4O1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpkcm9wZG93bi1jb250YWluZXIge1xcbiAgbWluLXdpZHRoOiBpbmhlcml0O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMTAwMDBweCwwLDApO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogOTAwMTtcXG59XFxuLmpkcm9wZG93bi1jbG9zZSB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHBhZGRpbmc6IDE1cHg7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuLmpkcm9wZG93bi1jb250ZW50IHtcXG4gIG1pbi13aWR0aDogaW5oZXJpdDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuLmpkcm9wZG93bi1pdGVtIHtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBjb2xvcjogIzAwMDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4uamRyb3Bkb3duLWltYWdlIHtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG4gIHdpZHRoOiAzMnB4O1xcbiAgaGVpZ2h0OiAzMnB4O1xcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcXG59XFxuLmpkcm9wZG93bi1pbWFnZS1zbWFsbCB7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG59XFxuLmpkcm9wZG93bi10aXRsZSB7XFxuICBmb250LXNpemU6IDAuN2VtO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLyoqIERlZmF1bHQgdmlzdWFsICoqL1xcbi5qZHJvcGRvd24tZGVmYXVsdCAuamRyb3Bkb3duLWhlYWRlciB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xcbiAgcGFkZGluZzogNXB4O1xcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMTZweDtcXG59XFxuLmpkcm9wZG93bi1kZWZhdWx0IC5qZHJvcGRvd24tY29udGFpbmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxufVxcbi5qZHJvcGRvd24tZGVmYXVsdC5qZHJvcGRvd24tZm9jdXMuamRyb3Bkb3duLWluc2VydCAuamRyb3Bkb3duLWhlYWRlciB7XFxuICBwYWRkaW5nLXJpZ2h0OiA1MHB4O1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQuamRyb3Bkb3duLWZvY3VzLmpkcm9wZG93bi1pbnNlcnQgLmpkcm9wZG93bi1pbnNlcnQtYnV0dG9uIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQgLmpkcm9wZG93bi1jb250ZW50IHtcXG4gIG1pbi13aWR0aDogaW5oZXJpdDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICM4ZmIxZTM7XFxuICBtYXJnaW46IDBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgbWluLWhlaWdodDogMTBweDtcXG4gIG1heC1oZWlnaHQ6IDIxNXB4O1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG59XFxuLmpkcm9wZG93bi1kZWZhdWx0IC5qZHJvcGRvd24taXRlbSB7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBwYWRkaW5nLWxlZnQ6IDhweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDQwcHg7XFxufVxcbi5qZHJvcGRvd24tZGVmYXVsdCAuamRyb3Bkb3duLWl0ZW06aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmOTNmZjtcXG4gIGNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQgLmpkcm9wZG93bi1jdXJzb3Ige1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmOTNmZjtcXG4gIGNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQgLmpkcm9wZG93bi1zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1DQXdhREkwZGpJMFNEQjZJaUJtYVd4c1BTSnViMjVsSWlBdlBqeHdZWFJvSUdROUlrMDVJREUyTGpFM1REUXVPRE1nTVRKc0xURXVORElnTVM0ME1VdzVJREU1SURJeElEZHNMVEV1TkRFdE1TNDBNWG9pSUdacGJHdzlJbmRvYVhSbElpQXZQand2YzNablBnbz0nKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB0b3AgNTAlIHJpZ2h0IDVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjkzZmY7XFxuICBjb2xvcjogI2ZmZjtcXG59XFxuLmpkcm9wZG93bi1kZWZhdWx0IC5qZHJvcGRvd24tZ3JvdXAge1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQgLmpkcm9wZG93bi1ncm91cCAuamRyb3Bkb3duLWl0ZW0ge1xcbiAgcGFkZGluZy1sZWZ0OiAxNnB4O1xcbn1cXG4uamRyb3Bkb3duLWRlZmF1bHQgLmpkcm9wZG93bi1ncm91cC1uYW1lIHtcXG4gIHBhZGRpbmctbGVmdDogOHB4O1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcbi8qKiBEZWZhdWx0IHJlbmRlciBmb3IgbW9iaWxlICoqL1xcbi5qZHJvcGRvd24tcGlja2VyLmpkcm9wZG93bi1mb2N1cyAuamRyb3Bkb3duLWhlYWRlciB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uamRyb3Bkb3duLXBpY2tlci5qZHJvcGRvd24tZm9jdXMgLmpkcm9wZG93bi1iYWNrZHJvcCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmpkcm9wZG93bi1waWNrZXIgLmpkcm9wZG93bi1jb250YWluZXIge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgYm90dG9tOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qZHJvcGRvd24tcGlja2VyIC5qZHJvcGRvd24tY2xvc2Uge1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggLTFweCA1cHggMHB4IHJnYmEoMCwwLDAsMC4zOSk7XFxuICAtbW96LWJveC1zaGFkb3c6IDBweCAtMXB4IDVweCAwcHggcmdiYSgwLDAsMCwwLjM5KTtcXG4gIGJveC1zaGFkb3c6IDBweCAtMXB4IDVweCAwcHggcmdiYSgwLDAsMCwwLjM5KTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmpkcm9wZG93bi1waWNrZXIgLmpkcm9wZG93bi1jb250ZW50IHtcXG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcXG4gIGhlaWdodDogMjgwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNmU2ZTg7XFxufVxcbi5qZHJvcGRvd24tcGlja2VyIC5qZHJvcGRvd24tZ3JvdXAtbmFtZSB7XFxuICBmb250LXNpemU6IDFlbTtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBwYWRkaW5nLXRvcDogMTBweDtcXG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHBhZGRpbmctbGVmdDogMjBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDIwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuLmpkcm9wZG93bi1waWNrZXIgLmpkcm9wZG93bi1pdGVtIHtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHBhZGRpbmctbGVmdDogMjBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDIwcHg7XFxufVxcbi5qZHJvcGRvd24tcGlja2VyIC5qZHJvcGRvd24tc2VsZWN0ZWQge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NQ0F3YURJMGRqSTBTREI2SWlCbWFXeHNQU0p1YjI1bElpQXZQanh3WVhSb0lHUTlJazA1SURFMkxqRTNURFF1T0RNZ01USnNMVEV1TkRJZ01TNDBNVXc1SURFNUlESXhJRGRzTFRFdU5ERXRNUzQwTVhvaUlHWnBiR3c5SW5kb2FYUmxJaUF2UGp3dmMzWm5QZ289Jyk7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogdG9wIDUwJSByaWdodCAxNXB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmOTNmZjtcXG4gIGNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLXBpY2tlciAuamRyb3Bkb3duLWN1cnNvciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWY5M2ZmO1xcbiAgY29sb3I6ICNmZmY7XFxufVxcbi8qKiBEZWZhdWx0IHJlbmRlciBmb3IgbW9iaWxlIHNlYXJjaGJhciAqKi9cXG4uamRyb3Bkb3duLXNlYXJjaGJhci5qZHJvcGRvd24tZm9jdXMge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XFxuICBwYWRkaW5nOiAwcHg7XFxuICB6LWluZGV4OiA5MDAxO1xcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhci5qZHJvcGRvd24tZm9jdXMgLmpkcm9wZG93bi1jb250YWluZXItaGVhZGVyIHtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwwLDAsLjEpO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhci5qZHJvcGRvd24tZm9jdXMgLmpkcm9wZG93bi1oZWFkZXIge1xcbiAgYm9yZGVyOiAwcHg7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbi14OiAwJTtcXG4gIGJhY2tncm91bmQtcG9zaXRpb24teTogNDAlO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1UVXVOU0F4TkdndExqYzViQzB1TWpndExqSTNRekUxTGpReElERXlMalU1SURFMklERXhMakV4SURFMklEa3VOU0F4TmlBMUxqa3hJREV6TGpBNUlETWdPUzQxSUROVE15QTFMamt4SURNZ09TNDFJRFV1T1RFZ01UWWdPUzQxSURFMll6RXVOakVnTUNBekxqQTVMUzQxT1NBMExqSXpMVEV1TlRkc0xqSTNMakk0ZGk0M09XdzFJRFF1T1RsTU1qQXVORGtnTVRsc0xUUXVPVGt0TlhwdExUWWdNRU0zTGpBeElERTBJRFVnTVRFdU9Ua2dOU0E1TGpWVE55NHdNU0ExSURrdU5TQTFJREUwSURjdU1ERWdNVFFnT1M0MUlERXhMams1SURFMElEa3VOU0F4TkhvaUlHWnBiR3c5SWlObE5tVTJaVGdpTHo0OGNHRjBhQ0JrUFNKTk1DQXdhREkwZGpJMFNEQjZJaUJtYVd4c1BTSnViMjVsSWk4K1BDOXpkbWMrKTtcXG4gIHBhZGRpbmctbGVmdDogMzBweCAhaW1wb3J0YW50O1xcbiAgcGFkZGluZy1yaWdodDogNjBweCAhaW1wb3J0YW50O1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLmpkcm9wZG93bi1zZWFyY2hiYXIuamRyb3Bkb3duLWZvY3VzIC5qZHJvcGRvd24tY2xvc2Uge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qZHJvcGRvd24tc2VhcmNoYmFyIC5qZHJvcGRvd24tY29udGFpbmVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhciAuamRyb3Bkb3duLWNsb3NlIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMHB4O1xcbiAgcmlnaHQ6IDBweDtcXG59XFxuLmpkcm9wZG93bi1zZWFyY2hiYXIgLmpkcm9wZG93bi1jb250ZW50IHtcXG4gIG1hcmdpbi10b3A6IDEwcHg7XFxufVxcbi5qZHJvcGRvd24tc2VhcmNoYmFyIC5qZHJvcGRvd24tZ3JvdXAge1xcbiAgbWFyZ2luLXRvcDogMTBweDtcXG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhciAuamRyb3Bkb3duLWdyb3VwLW5hbWUge1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNmU2ZTg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBwYWRkaW5nLWxlZnQ6IDEycHg7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuLmpkcm9wZG93bi1zZWFyY2hiYXIgLmpkcm9wZG93bi1ncm91cC1hcnJvdyB7XFxuICBmbG9hdDogcmlnaHQ7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxufVxcbi5qZHJvcGRvd24tc2VhcmNoYmFyIC5qZHJvcGRvd24tZ3JvdXAtYXJyb3ctZG93biB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTnk0ME1TQTRMalU1VERFeUlERXpMakUzYkRRdU5Ua3ROQzQxT0V3eE9DQXhNR3d0TmlBMkxUWXROaUF4TGpReExURXVOREY2SWk4K1BIQmhkR2dnWm1sc2JEMGlibTl1WlNJZ1pEMGlUVEFnTUdneU5IWXlORWd3VmpCNklpOCtQQzl6ZG1jKyk7XFxufVxcbi5qZHJvcGRvd24tc2VhcmNoYmFyIC5qZHJvcGRvd24tZ3JvdXAtYXJyb3ctdXAge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsQ2p4emRtY2dlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjNhV1IwYUQwaU1qUWlJR2hsYVdkb2REMGlNalFpSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJK1BIQmhkR2dnWkQwaVRUY3VOREVnTVRVdU5ERk1NVElnTVRBdU9ETnNOQzQxT1NBMExqVTRUREU0SURFMGJDMDJMVFl0TmlBMmVpSXZQanh3WVhSb0lHUTlJazB3SURCb01qUjJNalJJTUhvaUlHWnBiR3c5SW01dmJtVWlMejQ4TDNOMlp6ND0pO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhciAuamRyb3Bkb3duLWl0ZW0ge1xcbiAgcGFkZGluZy10b3A6IDEwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTZlNmU4O1xcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xcbiAgcGFkZGluZy1yaWdodDogNDBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBmb250LXNpemU6IDAuOWVtO1xcbn1cXG4uamRyb3Bkb3duLXNlYXJjaGJhciAuamRyb3Bkb3duLWRlc2NyaXB0aW9uIHtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIG1heC13aWR0aDogY2FsYygxMDAlIC0gMjBweCk7XFxufVxcbi5qZHJvcGRvd24tc2VhcmNoYmFyIC5qZHJvcGRvd24tY29udGVudCA+IC5qZHJvcGRvd24taXRlbTpmaXJzdC1jaGlsZCB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2U2ZTZlODtcXG59XFxuLmpkcm9wZG93bi1zZWFyY2hiYXIgLmpkcm9wZG93bi1zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1DQXdhREkwZGpJMFNEQjZJaUJtYVd4c1BTSnViMjVsSWk4K1BIQmhkR2dnWkQwaVRUa2dNVFl1TVRkTU5DNDRNeUF4TW13dE1TNDBNaUF4TGpReFREa2dNVGtnTWpFZ04yd3RNUzQwTVMweExqUXhlaUlnWm1sc2JEMGlJekF3TjJGbVppSXZQand2YzNablBnPT0nKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB0b3AgNTAlIHJpZ2h0IDE1cHg7XFxufVxcbi8qKiBMaXN0IHJlbmRlciAqKi9cXG5cXG4uamRyb3Bkb3duLWxpc3QgLmpkcm9wZG93bi1jb250YWluZXIge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qZHJvcGRvd24tbGlzdCAuamRyb3Bkb3duLWhlYWRlciB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uamRyb3Bkb3duLWxpc3QgLmpkcm9wZG93bi1ncm91cCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLWxpc3QgLmpkcm9wZG93bi1ncm91cC1uYW1lIHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTZlNmU4O1xcbiAgcGFkZGluZy10b3A6IDEwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG4uamRyb3Bkb3duLWxpc3QgLmpkcm9wZG93bi1pdGVtIHtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHBhZGRpbmctbGVmdDogMTBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDQwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbn1cXG4uamRyb3Bkb3duLWxpc3QgLmpkcm9wZG93bi1zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1DQXdhREkwZGpJMFNEQjZJaUJtYVd4c1BTSnViMjVsSWk4K1BIQmhkR2dnWkQwaVRUa2dNVFl1TVRkTU5DNDRNeUF4TW13dE1TNDBNaUF4TGpReFREa2dNVGtnTWpFZ04yd3RNUzQwTVMweExqUXhlaUlnWm1sc2JEMGlJekF3TjJGbVppSXZQand2YzNablBnPT0nKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB0b3AgNTAlIHJpZ2h0IDEwcHg7XFxufVxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC1kZXZpY2Utd2lkdGggOiA4MDBweCkge1xcbiAgLmpkcm9wZG93bi1saXN0IHtcXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcXG4gICAgYm9yZGVyOiAwcHg7XFxuICAgIHBhZGRpbmc6IDBweDtcXG4gIH1cXG5cXG4gIC5qZHJvcGRvd24tbGlzdCAuamRyb3Bkb3duLWNvbnRhaW5lciB7XFxuICAgIG1pbi13aWR0aDogMTAwJTtcXG4gIH1cXG59XFxuLmFwcCAuamRyb3Bkb3duLWl0ZW0ge1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG59XFxuLyoqXFxyXFxuICogKGMpIGpUb29scyBUZXh0IEVkaXRvclxcclxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsaG9kZWwvanRvb2xzXFxyXFxuICpcXHJcXG4gKiBAYXV0aG9yOiBQYXVsIEhvZGVsIDxwYXVsLmhvZGVsQGdtYWlsLmNvbT5cXHJcXG4gKiBAZGVzY3JpcHRpb246IElubGluZSByaWNodGV4dCBlZGl0b3JcXHJcXG4gKi9cXG4uamVkaXRvci1jb250YWluZXIge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcXG59XFxuLmplZGl0b3ItZHJhZ2dpbmcge1xcbiAgYm9yZGVyOiAxcHggZGFzaGVkICMwMDA7XFxufVxcbi5qZWRpdG9yLWNvbnRhaW5lci5qZWRpdG9yLXBhZGRpbmcge1xcbiAgcGFkZGluZzogMTBweDtcXG59XFxuLmplZGl0b3Ige1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XFxufVxcbi5qZWRpdG9yLWNvbnRhaW5lci5qZWRpdG9yLXBhZGRpbmcgLmplZGl0b3Ige1xcbiAgbWluLWhlaWdodDogMTIwcHg7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbiAgcGFkZGluZzogMTBweDtcXG59XFxuLmplZGl0b3ItdG9vbGJhciB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBkaXNwbGF5OiAtd2Via2l0LWlubGluZS1ib3g7XFxuICBkaXNwbGF5OiAtd2Via2l0LWlubGluZS1mbGV4O1xcbiAgZGlzcGxheTogLW1zLWlubGluZS1mbGV4Ym94O1xcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XFxuICAtd2Via2l0LWFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAycHg7XFxuICBib3JkZXItcmFkaXVzOiAycHg7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgNHB4IDVweCAwIHJnYmEoMCwwLDAsMC4xNCksIDAgMXB4IDEwcHggMCByZ2JhKDAsMCwwLDAuMTIpLCAwIDJweCA0cHggLTFweCByZ2JhKDAsMCwwLDAuMik7XFxuICBib3gtc2hhZG93OiAwIDRweCA1cHggMCByZ2JhKDAsMCwwLDAuMTQpLCAwIDFweCAxMHB4IDAgcmdiYSgwLDAsMCwwLjEyKSwgMCAycHggNHB4IC0xcHggcmdiYSgwLDAsMCwwLjIpO1xcbiAgbWFyZ2luOiAwcHg7XFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxuICBwYWRkaW5nOiA1cHg7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbn1cXG4uamVkaXRvci10b29sYmFyIC5qZWRpdG9yLXRvb2xiYXItZ3JvdXAge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMztcXG59XFxuLmplZGl0b3ItdG9vbGJhciBkaXYge1xcbiAgcGFkZGluZzogNHB4O1xcbn1cXG4uamVkaXRvci10b29sYmFyIGRpdi5qZWRpdG9yLXRvb2xiYXItYnV0dG9uIHtcXG4gIHBhZGRpbmctbGVmdDogMjBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDIwcHg7XFxufVxcbi5qZWRpdG9yLXRvb2xiYXIgZGl2IHtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAvKiBDaHJvbWUgYWxsIC8gU2FmYXJpIGFsbCAqL1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC8qIEZpcmVmb3ggYWxsICovXFxuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAvKiBJRSAxMCsgKi9cXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLyogTGlrZWx5IGZ1dHVyZSAqL1xcbn1cXG4uamVkaXRvci10b29sYmFyIGRpdiBpIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgZm9udC1zaXplOiAyMHB4O1xcbiAgd2lkdGg6IDIwcHg7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICBsaW5lLWhlaWdodDogMjBweDtcXG4gIGNvbG9yOiAjNzc3O1xcbn1cXG4uamVkaXRvci10b29sYmFyIHNlbGVjdCB7XFxuICBib3JkZXI6IDBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XFxuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGhlaWdodDogMzJweDtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBtYXJnaW46IDFweDtcXG59XFxuLmplZGl0b3ItdG9vbGJhciAuanRvb2xiYXItZGl2aXNvciB7XFxuICB3aWR0aDogMnB4O1xcbiAgaGVpZ2h0OiAyOHB4O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgbWFyZ2luOiA0cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xcbn1cXG4uamVkaXRvci10b29sYmFyIHNlbGVjdCBvcHRpb24ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIHBhZGRpbmc6IDIwcHg7XFxufVxcbi5qZWRpdG9yLXRvb2xiYXIgZGl2OmhvdmVyLFxcbi50b29sYmFyIHNlbGVjdDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbn1cXG4uamVkaXRvci10b29sYmFyIGRpdjpob3ZlciBpIHtcXG4gIGNvbG9yOiAjMjIyO1xcbn1cXG4uamVkaXRvci10b29sYmFyIGRpdi5zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2VjZWNlO1xcbn1cXG4uamVkaXRvci10aHVtYnMge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XFxufVxcbi5qZWRpdG9yLXRodW1icy1jb250YWluZXIge1xcbiAgbWFyZ2luLXRvcDogMTVweDtcXG59XFxuLmplZGl0b3ItdGh1bWJzIC5jbG9zZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBoZWlnaHQ6IDFweDtcXG59XFxuLmplZGl0b3ItdGh1bWJzIC5jbG9zZSBpIHtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgdGV4dC1zaGFkb3c6IDBweCAwcHggMnB4ICMwMDA7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0b3A6IDVweDtcXG4gIGxlZnQ6IDcycHg7XFxufVxcbi5qZWRpdG9yLXRodW1icyBpbWcge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcXG4gIHdpZHRoOiAxMDBweDtcXG4gIGhlaWdodDogMTAwcHg7XFxufVxcbi5qZWRpdG9yLXVzZXJzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgcGFkZGluZy10b3A6IDVweDtcXG4gIHBhZGRpbmctYm90dG9tOiA1cHg7XFxuICBtYXgtaGVpZ2h0OiAyMjBweDtcXG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcXG59XFxuLmplZGl0b3ItdXNlcnMgPiBkaXYge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBtaW4td2lkdGg6IDIyMHB4O1xcbiAgcGFkZGluZzogMTBweDtcXG4gIHBhZGRpbmctdG9wOiA1cHg7XFxuICBwYWRkaW5nLWJvdHRvbTogNXB4O1xcbn1cXG4uamVkaXRvci11c2VycyA+IGRpdjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZlZmVmO1xcbn1cXG4uamVkaXRvci11c2VycyA+IGRpdiBpbWcge1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IDI0cHg7XFxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XFxufVxcbi8qKiBTbmlwcGV0ICoqL1xcbi5zbmlwcGV0IHtcXG4gIG1hcmdpbi10b3A6IDE1cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZWVlO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uc25pcHBldDpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uc25pcHBldCBpbWcge1xcbiAgd2lkdGg6IDI1JTtcXG4gIG1heC13aWR0aDogMTIwcHg7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcbi5zbmlwcGV0IC5zbmlwcGV0LXRpdGxlIHtcXG4gIG1hcmdpbi10b3A6IDE1cHg7XFxuICBmb250LXNpemU6IDEuNGVtO1xcbn1cXG4uc25pcHBldCAuc25pcHBldC1kZXNjcmlwdGlvbiB7XFxuICBtYXJnaW4tdG9wOiA1cHg7XFxuICBmb250LXNpemU6IDFlbTtcXG59XFxuLnNuaXBwZXQgLnNuaXBwZXQtaG9zdCB7XFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBmb250LXNpemU6IDAuOGVtO1xcbiAgY29sb3I6ICM3Nzc7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG59XFxuLnNuaXBwZXQgLnNuaXBwZXQtdXJsIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5qZWRpdG9yIC5zbmlwcGV0OmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFJTNDcGF0aCBkPSdNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIG1hcmdpbjogMTRweDtcXG4gIGZvbnQtc2l6ZTogMjRweDtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgdGV4dC1zaGFkb3c6IDBweCAwcHggNXB4ICNmZmY7XFxufVxcbi5zbmlwcGV0IGRpdixcXG4uc25pcHBldCBpbWcge1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtby11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC11c2VyLWRyYWc6IG5vbmU7XFxuICAta2h0bWwtdXNlci1kcmFnOiBub25lO1xcbiAgLW1vei11c2VyLWRyYWc6IG5vbmU7XFxuICAtby11c2VyLWRyYWc6IG5vbmU7XFxufVxcbi5qZWRpdG9yIGltZyB7XFxuICBib3JkZXI6IDJweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qZWRpdG9yIGltZzpmb2N1cyB7XFxuICBib3JkZXI6IDJweCBzb2xpZCAjMDA5NkZEO1xcbn1cXG4uamVkaXRvciAucGRmIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB2ZXJzaW9uPScxLjEnIGlkPSdMYXllcl8xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB4PScwcHgnIHk9JzBweCcgdmlld0JveD0nMCAwIDUxMiA1MTInIHN0eWxlPSdlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7JyB4bWw6c3BhY2U9J3ByZXNlcnZlJyUzRSUzQ3BhdGggc3R5bGU9J2ZpbGw6JTIzQzMwQjE1OycgZD0nTTUxMS4zNDQsMjc0LjI2NkM1MTEuNzcsMjY4LjIzMSw1MTIsMjYyLjE0Myw1MTIsMjU2QzUxMiwxMTQuNjE1LDM5Ny4zODUsMCwyNTYsMFMwLDExNC42MTUsMCwyNTYgYzAsMTE3Ljc2OSw3OS41MywyMTYuOTQ5LDE4Ny44MDksMjQ2LjgwMUw1MTEuMzQ0LDI3NC4yNjZ6Jy8lM0UlM0NwYXRoIHN0eWxlPSdmaWxsOiUyMzg1MDgwRTsnIGQ9J001MTEuMzQ0LDI3NC4yNjZMMzE0Ljk5MSw3Ny45MTNMMTE5LjA5Niw0MzQuMDg3bDY4LjcxNCw2OC43MTRDMjA5LjUyMiw1MDguNzg3LDIzMi4zODUsNTEyLDI1Niw1MTIgQzM5MS4yNDMsNTEyLDUwMS45NzYsNDA3LjEyNSw1MTEuMzQ0LDI3NC4yNjZ6Jy8lM0UlM0Nwb2x5Z29uIHN0eWxlPSdmaWxsOiUyM0ZGRkZGRjsnIHBvaW50cz0nMjc4LjMyOCwzMzMuOTEzIDI1NS43MTEsNzcuOTEzIDExOS4wOTYsNzcuOTEzIDExOS4wOTYsMzExLjY1MiAnLyUzRSUzQ3BvbHlnb24gc3R5bGU9J2ZpbGw6JTIzRThFNkU2OycgcG9pbnRzPSczOTIuOTA0LDMxMS42NTIgMzkyLjkwNCwxNTUuODI2IDMzNy4yNTIsMTMzLjU2NSAzMTQuOTkxLDc3LjkxMyAyNTUuNzExLDc3LjkxMyAyNTYuMDY3LDMzMy45MTMgJy8lM0UlM0Nwb2x5Z29uIHN0eWxlPSdmaWxsOiUyM0ZGRkZGRjsnIHBvaW50cz0nMzE0Ljk5MSwxNTUuODI2IDMxNC45OTEsNzcuOTEzIDM5Mi45MDQsMTU1LjgyNiAnLyUzRSUzQ3JlY3QgeD0nMTE5LjA5NicgeT0nMzExLjY1Micgc3R5bGU9J2ZpbGw6JTIzRkMwRjFBOycgd2lkdGg9JzI3My44MDknIGhlaWdodD0nMTIyLjQzNScvJTNFJTNDZyUzRSUzQ3BhdGggc3R5bGU9J2ZpbGw6JTIzRkZGRkZGOycgZD0nTTIwNC44NzEsMzQ2LjM4N2MxMy41NDcsMCwyMS4zNDEsNi42NTksMjEuMzQxLDE4LjQ2NWMwLDEyLjQxMi03Ljc5NSwxOS42MDEtMjEuMzQxLDE5LjYwMWgtOS42MTEgdjE0LjkwOWgtMTMuNDcxdi01Mi45NzVMMjA0Ljg3MSwzNDYuMzg3TDIwNC44NzEsMzQ2LjM4N3ogTTE5NS4yNiwzNzMuODU4aDguOTNjNS45MDQsMCw5LjMwOC0yLjk1Miw5LjMwOC04LjU1MiBjMC01LjUyNS0zLjQwNi04LjMyNC05LjMwOC04LjMyNGgtOC45M1YzNzMuODU4eicvJTNFJTNDcGF0aCBzdHlsZT0nZmlsbDolMjNGRkZGRkY7JyBkPSdNMjU3LjkyOCwzNDYuMzg3YzE2LjY0OSwwLDI4LjE1MiwxMC43NDYsMjguMTUyLDI2LjQ4N2MwLDE1LjY2Ni0xMS42NTUsMjYuNDg4LTI4LjY4MywyNi40ODggaC0yMi4yNXYtNTIuOTc1SDI1Ny45Mjh6IE0yNDguNjE5LDM4OC42MTVoOS42MTFjOC4yNDksMCwxNC4xNTEtNi4zNTcsMTQuMTUxLTE1LjY2NWMwLTkuMzg0LTYuMjA1LTE1LjgxNy0xNC43NTctMTUuODE3aC05LjAwNiBWMzg4LjYxNXonLyUzRSUzQ3BhdGggc3R5bGU9J2ZpbGw6JTIzRkZGRkZGOycgZD0nTTMwOC41NjMsMzU2Ljk4MnYxMi4yNmgyMy43NjN2MTAuNTk2aC0yMy43NjN2MTkuNTI1aC0xMy40NzF2LTUyLjk3NWgzOS4yNzd2MTAuNTk1aC0yNS44MDYgVjM1Ni45ODJ6Jy8lM0UlM0MvZyUzRSUzQy9zdmclM0UlMEFcXFwiKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbiAgd2lkdGg6IDYwcHg7XFxuICBoZWlnaHQ6IDYwcHg7XFxufVxcbi8qKlxcclxcbiAqIChjKSBqTG9hZGluZ1xcclxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsaG9kZWwvanRvb2xzXFxyXFxuICpcXHJcXG4gKiBAYXV0aG9yOiBQYXVsIEhvZGVsIDxwYXVsLmhvZGVsQGdtYWlsLmNvbT5cXHJcXG4gKiBAZGVzY3JpcHRpb246IFBhZ2UgbG9hZGluZyBzcGluXFxyXFxuICovXFxuLmpsb2FkaW5nIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHotaW5kZXg6IDEwMDAxO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICBib3R0b206IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNyk7XFxufVxcbi5qbG9hZGluZzo6YWZ0ZXIge1xcbiAgY29udGVudDogJyc7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgbWFyZ2luLXRvcDogNTB2aDtcXG4gIHdpZHRoOiA0MHB4O1xcbiAgaGVpZ2h0OiA0MHB4O1xcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1jb2xvcjogd2hpdGU7XFxuICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci13aWR0aDogNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgLXdlYmtpdC1hbmltYXRpb246IHNwaW4gLjhzIGxpbmVhciBpbmZpbml0ZTtcXG4gIGFuaW1hdGlvbjogc3BpbiAuOHMgbGluZWFyIGluZmluaXRlO1xcbn1cXG4uamxvYWRpbmcuc3BpbiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuLmpsb2FkaW5nLnNwaW46OmFmdGVyIHtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgbWFyZ2luLXRvcDogODBweDtcXG4gIGJvcmRlci1jb2xvcjogI2FhYTtcXG4gIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG4uamxvZ2luIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XFxuICBmb250LXNpemU6IDFlbTtcXG59XFxuLmpsb2dpbi1mdWxsc2NyZWVuIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgei1pbmRleDogOTAwMDtcXG59XFxuLmpsb2dpbiA+IGZvcm0ge1xcbiAgbWF4LXdpZHRoOiA0ODBweDtcXG4gIHBhZGRpbmc6IDIwcHg7XFxuICBtYXJnaW46IDAgYXV0bztcXG59XFxuLmpsb2dpbiA+IGZvcm0gPiBkaXYge1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuLmpsb2dpbiBsYWJlbCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmpsb2dpbiA+IGZvcm0gPiBkaXYgPiBpbnB1dCB7XFxuICB3aWR0aDogMTAwJTtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBwYWRkaW5nOiAxNXB4O1xcbiAgbWFyZ2luOiAwcHg7XFxufVxcbi5qbG9naW4gaW5wdXRbdHlwZT0nY2hlY2tib3gnXSB7XFxuICBmbG9hdDogbGVmdDtcXG59XFxuLmpsb2dpbiBpbnB1dFt0eXBlPSdidXR0b24nXSB7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnV0dG9uLWNvbG9yKTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJ1dHRvbi1jb2xvcik7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcXG4gIGFwcGVhcmFuY2U6IG5vbmU7XFxufVxcbi5qbG9naW4gc3BhbiB7XFxuICBtYXJnaW46IDAgYXV0bztcXG59XFxuLmpsb2dpbiBpbWcge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgbWF4LXdpZHRoOiAyMjBweDtcXG59XFxuLmpsb2dpbiAuamxvZ2luLWxvZ28ge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgcGFkZGluZzogMjBweDtcXG59XFxuLmpsb2dpbiAuY2FwdGNoYSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbi10b3A6IDRweDtcXG4gIG1hcmdpbi1ib3R0b206IDRweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmpsb2dpbiAuZmFjZWJvb2tCdXR0b24ge1xcbiAgcGFkZGluZzogMTBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJ1dHRvbi1jb2xvcik7XFxuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1idXR0b24tY29sb3IpO1xcbiAgY29sb3I6ICNmZmY7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDI0IDI0JyB3aWR0aD0nMjRweCcgaGVpZ2h0PScyNHB4JyUzRSUzQ3BhdGggZD0nTTE5LDNINUMzLjg5NSwzLDMsMy44OTUsMyw1djE0YzAsMS4xMDUsMC44OTUsMiwyLDJoNy42MjF2LTYuOTYxaC0yLjM0M3YtMi43MjVoMi4zNDNWOS4zMDkgYzAtMi4zMjQsMS40MjEtMy41OTEsMy40OTUtMy41OTFjMC42OTktMC4wMDIsMS4zOTcsMC4wMzQsMi4wOTIsMC4xMDV2Mi40M2gtMS40MjhjLTEuMTMsMC0xLjM1LDAuNTM0LTEuMzUsMS4zMjJ2MS43MzVoMi43IGwtMC4zNTEsMi43MjVoLTIuMzY1VjIxSDE5YzEuMTA1LDAsMi0wLjg5NSwyLTJWNUMyMSwzLjg5NSwyMC4xMDUsMywxOSwzeicgZmlsbD0nd2hpdGUnLyUzRSUzQy9zdmclM0UlMEFcXFwiKTtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDEwcHggNDAlO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4uamxvZ2luIC5yZW1lbWJlckJ1dHRvbiB7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpsb2dpbiAucmVxdWVzdEJ1dHRvbixcXG4uamxvZ2luIC5jYW5jZWxCdXR0b24sXFxuLmpsb2dpbiAubmV3UHJvZmlsZUJ1dHRvbiB7XFxuICBwYWRkaW5nOiAyMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDBweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmpsb2dpbi1jYXB0Y2hhIGltZyB7XFxuICBtaW4td2lkdGg6IDI4MHB4O1xcbn1cXG4uamxvZ2luLWxvYWRpbmc6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB0b3A6IDBweDtcXG4gIGxlZnQ6IDBweDtcXG4gIHdpZHRoOiAyMDBweDtcXG4gIGhlaWdodDogNHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnV0dG9uLWNvbG9yKTtcXG4gIGFuaW1hdGlvbjogbG9hZGluZyAycyBsaW5lYXIgaW5maW5pdGU7XFxufVxcbkBrZXlmcmFtZXMgbG9hZGluZyB7XFxuICBmcm9tIHtcXG4gICAgbGVmdDogLTIwMHB4O1xcbiAgICB3aWR0aDogMzAlO1xcbiAgfVxcblxcbiAgNTAlIHtcXG4gICAgd2lkdGg6IDMwJTtcXG4gIH1cXG5cXG4gIDcwJSB7XFxuICAgIHdpZHRoOiA3MCU7XFxuICB9XFxuXFxuICA4MCUge1xcbiAgICBsZWZ0OiA1MCU7XFxuICB9XFxuXFxuICA5NSUge1xcbiAgICBsZWZ0OiAxMjAlO1xcbiAgfVxcblxcbiAgdG8ge1xcbiAgICBsZWZ0OiAxMDAlO1xcbiAgfVxcbn1cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtZGV2aWNlLXdpZHRoIDogODAwcHgpIHtcXG4gIC5qc3VpdGVzICoge1xcbiAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICB9XFxuXFxuICBodG1sLmpzdWl0ZXMge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICB9XFxuXFxuICAuanN1aXRlcyBib2R5IHtcXG4gICAgbWFyZ2luOiAwcHg7XFxuICAgIHBhZGRpbmc6IDBweDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgbWluLWhlaWdodDogMTAwJTtcXG4gICAgbGluZS1oZWlnaHQ6IDEuNDtcXG4gICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sU0YgVUkgVGV4dCxIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZiAhaW1wb3J0YW50O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgfVxcblxcbiAgLmpzdWl0ZXMgaW5wdXQsXFxuICAuanN1aXRlcyBzZWxlY3QsXFxuICAuanN1aXRlcyB0ZXh0YXJlYSxcXG4gIC5qc3VpdGVzIGRpdiB7XFxuICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLFNGIFVJIFRleHQsSGVsdmV0aWNhIE5ldWUsSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWYgIWltcG9ydGFudDtcXG4gIH1cXG59XFxuLmphcHAge1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIG92ZXJmbG93OiBzY3JvbGw7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbn1cXG4uandhcm5pbmc6OmJlZm9yZSB7XFxuICBjb250ZW50OiAnTm8gaW50ZXJuZXQgY29ubmVjdGlvbic7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XFxuICBjb2xvcjogI2ZmZjtcXG4gIHBhZGRpbmc6IDJweDtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgei1pbmRleDogMjAwMDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIGZvbnQtc2l6ZTogMC41NWVtO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4vKlxcclxcbi5qYXBwIC5hY3RpdmVIaWdoTGlnaHRcXHJcXG57XFxyXFxuICAgIGNvbG9yOnZhcigtLWFjdGl2ZS1jb2xvcik7XFxyXFxufVxcclxcblxcclxcbi5qYXBwIC5hY3RpdmUgYSwgLmphcHAgLmFjdGl2ZSBzcGFuLCAuamFwcCAuYWN0aXZlIGlcXHJcXG57XFxyXFxuICAgIGNvbG9yOnZhcigtLWFjdGl2ZS1jb2xvcik7XFxyXFxufVxcclxcblxcclxcbi5qYXBwIC5uby1wYWRkaW5nXFxyXFxue1xcclxcbiAgICBwYWRkaW5nOjBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmphcHAgLmFjdGlvblxcclxcbntcXHJcXG4gICAgY29sb3I6dmFyKC0tYWN0aXZlLWNvbG9yKTtcXHJcXG4gICAgY3Vyc29yOnBvaW50ZXI7XFxyXFxufVxcclxcblxcclxcblxcclxcbi5qYXBwIGkuYWN0aW9uXFxyXFxue1xcclxcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcXHJcXG4gICAgcmlnaHQ6MHB4O1xcclxcbiAgICBtYXJnaW4tcmlnaHQ6MTVweDtcXHJcXG4gICAgY3Vyc29yOnBvaW50ZXI7XFxyXFxufVxcclxcbiovXFxuLmphcHAgYnV0dG9uIHtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIGNvbG9yOiB2YXIoLS1hY3RpdmUtY29sb3IpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uamFwcCBidXR0b246YWN0aXZlIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XFxuICBjb2xvcjogIzAwMDtcXG59XFxuLmphcHAgLnJlZCB7XFxuICBjb2xvcjogcmVkO1xcbiAgYm9yZGVyLWNvbG9yOiAxcHggc29saWQgcmVkO1xcbn1cXG4uamFwcCAubGluayB7XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmphcHAgLnVwcGVyY2FzZSB7XFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcbn1cXG4vKiogTmF2YmFyICoqL1xcbi5qYXBwIC5uYXZiYXIge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB6LWluZGV4OiA1MDA7XFxuICBtYXJnaW46IDA7XFxuICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLDAsMCk7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLDAsMCk7XFxuICBoZWlnaHQ6IDQ0cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwwLDAsLjEpO1xcbn1cXG4uandhcm5pbmcgLm5hdmJhciB7XFxuICB0b3A6IDE2cHg7XFxufVxcbi5qYXBwIC5uYXZiYXItY29udGFpbmVyIHtcXG4gIHBhZGRpbmc6IDAgOHB4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLXdlYmtpdC1mbGV4LWZsb3c6IHJvdyB3cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLmphcHAgLm5hdmJhci1jb250YWluZXIgZGl2IHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmphcHAgLm5hdmJhci1jb250YWluZXIgZGl2LnRpdGxlIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxufVxcbi5qYXBwIC5uYXZiYXItY29udGFpbmVyIGRpdi50aXRsZSBkaXYge1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxufVxcbi5qYXBwIC5uYXZiYXItY29udGFpbmVyIGRpdi5pY29uIHtcXG4gIHdpZHRoOiAyNHB4O1xcbn1cXG4uamFwcCAubmF2YmFyLWNvbnRhaW5lciBkaXYgaSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmphcHAgLm5hdmJhci1jb250YWluZXIgZGl2IGltZyB7XFxuICBoZWlnaHQ6IDI4cHg7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLmphcHAgLm5hdmJhci1jb250YWluZXIgZGl2LnRpdGxlIGRpdiBpbWcge1xcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiA2cHg7XFxufVxcbi5qYXBwIC5uYXZiYXIgLmljb24ge1xcbiAgY29sb3I6IHZhcigtLWFjdGl2ZS1jb2xvcik7XFxufVxcbi5qYXBwIC50aXRsZSB7XFxuICBmb250LXNpemU6IDEuMmVtO1xcbn1cXG4uamFwcCAuYmxvY2sge1xcbiAgcGFkZGluZzogMTVweDtcXG4gIGNvbG9yOiAjNmQ2ZDcyO1xcbiAgZm9udC1zaXplOiAwLjllbTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qYXBwIC5ibG9jay10aXRsZSB7XFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcbiAgY29sb3I6ICM2ZDZkNzI7XFxuICBtYXJnaW46IDI1cHggMTVweCAxMHB4O1xcbiAgbGluZS1oZWlnaHQ6IDE3cHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBmb250LXNpemU6IDAuOWVtO1xcbn1cXG4uamFwcCAuYmxvY2stc3Ryb25nIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBjb2xvcjogIzAwMDtcXG59XFxuLmphcHAgLmJsb2NrLWJvcmRlciB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2RkZDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xcbn1cXG4uamFwcCAuYmxvY2stZm9vdGVyIHtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBwYWRkaW5nOiAxNXB4O1xcbiAgY29sb3I6ICM2ZDZkNzI7XFxuICBmb250LXNpemU6IDAuN2VtO1xcbn1cXG4uamFwcCAuYmxvY2stY29sbGFwc2Uge1xcbiAgbWF4LWhlaWdodDogMTAwcHg7XFxuICBvdmVyZmxvdy15OiBoaWRkZW47XFxufVxcbi5qYXBwIC5ibG9jay1pbnN0cnVjdGlvbiB7XFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcbiAgcGFkZGluZzogMTVweDtcXG4gIGNvbG9yOiAjNmQ2ZDcyO1xcbiAgZm9udC1zaXplOiAwLjdlbTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmphcHAgLnBhZ2VzIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LXdyYXA6IG5vd3JhcDtcXG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4uamFwcCAucGFnZSB7XFxuICBwYWRkaW5nLXRvcDogNDVweDtcXG4gIHBhZGRpbmctYm90dG9tOiA0NXB4O1xcbiAgbWluLWhlaWdodDogMTAwJTtcXG4gIG1pbi13aWR0aDogMTAwJTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgLyp3aWxsLWNoYW5nZTogc2Nyb2xsLXBvc2l0aW9uO1xcclxcbiAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XFxyXFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDBweCk7XFxyXFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLDAsMCk7XFxyXFxuICAgIC13ZWJraXQtcGVyc3BlY3RpdmU6IDEwMDA7Ki9cXG59XFxuLndhcm5pbmcgLnBhZ2Uge1xcbiAgcGFkZGluZy10b3A6IDYwcHg7XFxufVxcbi5qYXBwIC5wcm9ncmVzc2Jhci1jb250YWluZXIge1xcbiAgbWFyZ2luOiAxNXB4O1xcbiAgbWFyZ2luLWxlZnQ6IDBweDtcXG4gIG1hcmdpbi1yaWdodDogMHB4O1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbn1cXG4uamFwcCAucHJvZ3Jlc3NiYXIge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1hY3RpdmUtY29sb3IpO1xcbiAgYm9yZGVyLXJhZGl1czogMXB4O1xcbn1cXG4uamFwcCAucHJvZ3Jlc3NiYXItdGl0bGUge1xcbiAgbWFyZ2luLWJvdHRvbTogMnB4O1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxufVxcbi5qYXBwIC5wcm9ncmVzc2JhciBkaXYge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG4gIGhlaWdodDogNHB4O1xcbiAgd2lkdGg6IDAlO1xcbn1cXG4uamFwcCAucGFuZWwge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIG1hcmdpbjogMDtcXG4gIHdpZHRoOiA2MHZ3O1xcbiAgbWF4LXdpZHRoOiAyMjBweDtcXG4gIGhlaWdodDogMTAwdmg7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgei1pbmRleDogMTAwMztcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2hhZG93OiAwIC0xcHggMnB4IHJnYmEoMCwwLDAsLjEpO1xcbiAgcGFkZGluZzogNHB4O1xcbn1cXG4uamFwcCAucGFuZWwtbGVmdCB7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAycHggMTVweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC43KTtcXG4gIGJveC1zaGFkb3c6IDBweCAycHggMTVweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC43KTtcXG59XFxuLmphcHAgLnBhbmVsIGEge1xcbiAgY29sb3I6IHZhcigtLWFjdGl2ZS1jb2xvcik7XFxufVxcbi8qKiBUb29sYmFyICoqL1xcbi5qYXBwIC5qdG9vbGJhciB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBib3R0b206IDA7XFxuICBtYXJnaW46IDA7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBiYWNrZ3JvdW5kOiAjZjdmN2Y4O1xcbiAgei1pbmRleDogNTAwO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaGFkb3c6IDAgLTFweCAycHggcmdiYSgwLDAsMCwuMSk7XFxuICBwYWRkaW5nOiA0cHg7XFxufVxcbi5qYXBwIC5qdG9vbGJhciA+IGRpdiB7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgZGlzcGxheTogLW1vei1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWZsZXgtZmxvdzogcm93IHdyYXA7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmphcHAgLmp0b29sYmFyID4gZGl2ID4gZGl2IHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZsZXg6IDE7XFxuICBtYXJnaW46IGF1dG87XFxufVxcbi5qYXBwIC5qdG9vbGJhciBhIHtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLmphcHAgLmp0b29sYmFyIGkge1xcbiAgY29sb3I6ICM5MjkyOTI7XFxufVxcbi5qYXBwIC5qdG9vbGJhciBzcGFuIHtcXG4gIGZvbnQtc2l6ZTogMC43ZW07XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGNvbG9yOiAjOTI5MjkyO1xcbn1cXG4uamFwcCAuanRvb2xiYXIgLnNlbGVjdGVkIGEsXFxuLmphcHAgLmp0b29sYmFyIC5zZWxlY3RlZCBpLFxcbi5qYXBwIC5qdG9vbGJhciAuc2VsZWN0ZWQgc3BhbiB7XFxuICBjb2xvcjogdmFyKC0tYWN0aXZlLWNvbG9yKTtcXG59XFxuLyoqIE9wdGlvbnMgKiovXFxuLmphcHAgLm9wdGlvbnMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTZlNmU4O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU2ZTg7XFxuICBwYWRkaW5nLWxlZnQ6IDE1cHg7XFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcbn1cXG4uamFwcCAub3B0aW9uczplbXB0eSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uIHtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbW96LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtZmxleC1mbG93OiByb3cgbm93cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGZsZXgtd3JhcDogbm93cmFwO1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uOmxhc3QtY2hpbGQge1xcbiAgYm9yZGVyLWJvdHRvbTogMHB4O1xcbn1cXG4uamFwcCAub3B0aW9ucyBsYWJlbCB7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLmphcHAgLm9wdGlvbnMgaW5wdXRbdHlwZT0ndGV4dCddLFxcbi5qYXBwIC5vcHRpb25zIHRleHRhcmVhIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgbWFyZ2luOiAwcHg7XFxuICBwYWRkaW5nOiAwcHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5qYXBwIC5vcHRpb25zIHRleHRhcmVhIHtcXG4gIGhlaWdodDogMTAwcHg7XFxufVxcbi5qYXBwIC5vcHRpb25zIGlucHV0W3R5cGU9J2NoZWNrYm94J10sXFxuLmphcHAgLm9wdGlvbnMgaW5wdXRbdHlwZT0ncmFkaW8nXSB7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxufVxcbi5qYXBwIC5vcHRpb25zIGlucHV0W3R5cGU9J2NoZWNrYm94J10gfiBpLFxcbi5qYXBwIC5vcHRpb25zIGlucHV0W3R5cGU9J3JhZGlvJ10gfiBpIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTUNBd2FESTBkakkwU0RCNklpQm1hV3hzUFNKdWIyNWxJaTgrUEhCaGRHZ2daRDBpVFRrZ01UWXVNVGRNTkM0NE15QXhNbXd0TVM0ME1pQXhMalF4VERrZ01Ua2dNakVnTjJ3dE1TNDBNUzB4TGpReGVpSWdabWxzYkQwaUl6QXdOMkZtWmlJdlBqd3ZjM1puUGc9PScpO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG59XFxuLmphcHAgLm9wdGlvbnMgaW5wdXRbdHlwZT0nY2hlY2tib3gnXTpjaGVja2VkIH4gaSxcXG4uamFwcCAub3B0aW9ucyBpbnB1dFt0eXBlPSdyYWRpbyddOmNoZWNrZWQgIH4gaSB7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbn1cXG4uamFwcCAub3B0aW9ucyAuamRyb3Bkb3duIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uamFwcCAub3B0aW9ucyAuamRyb3Bkb3duIC5qZHJvcGRvd24taGVhZGVyIHtcXG4gIGJvcmRlcjogMHB4O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU2ZTg7XFxuICBwYWRkaW5nOiAxNXB4O1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG59XFxuLmphcHAgLm9wdGlvbnMgLmpkcm9wZG93bjpsYXN0LWNoaWxkIC5qZHJvcGRvd24taGVhZGVyIHtcXG4gIGJvcmRlci1ib3R0b206IDBweDtcXG59XFxuLmphcHAgLm9wdGlvbnMgLmpkcm9wZG93bi1zZWFyY2hiYXIuamRyb3Bkb3duLWZvY3VzIC5qZHJvcGRvd24taGVhZGVyIHtcXG4gIGJvcmRlcjogMHB4O1xcbiAgcGFkZGluZzogNXB4O1xcbn1cXG4uamFwcCAub3B0aW9ucyAuaWNvbiB7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG4gIG1heC13aWR0aDogNDBweDtcXG4gIG1heC1oZWlnaHQ6IDQwcHg7XFxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xcbiAgY29sb3I6ICM5MjkyOTI7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1hY3Rpb25zIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7XFxuICB3aWR0aDogMHB4O1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uIC5vcHRpb24tYWN0aW9ucyA+IGRpdiB7XFxuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1hY3Rpb25zID4gZGl2ID4gaSB7XFxuICB3aWR0aDogNDBweDtcXG4gIGhlaWdodDogNDBweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgZm9udC1zaXplOiAyNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDQwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3JkZXItcmFkaXVzOiAzMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uIC5vcHRpb24tYWN0aW9ucy5zbWFsbCA+IGRpdiA+IGkge1xcbiAgY29sb3I6ICMwMDA7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG4gIGZvbnQtc2l6ZTogMjRweDtcXG4gIGxpbmUtaGVpZ2h0OiAyNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMjRweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uLXRpdGxlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgcGFkZGluZy10b3A6IDEwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBmb250LXNpemU6IDFlbTtcXG4gIHZlcnRpY2FsLWFsaWduOiBjZW50ZXI7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24tdGl0bGU6OmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICdcXFxcZTMxMyc7XFxuICBmb250LWZhbWlseTogJ21hdGVyaWFsIGljb25zJztcXG4gIGZvbnQtc2l6ZTogMjRweDtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG4gIGZsb2F0OiByaWdodDtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24tdGl0bGUuc2VsZWN0ZWQ6OmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICdcXFxcZTMxNic7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24tdGl0bGUuc2VsZWN0ZWQgfiBkaXYge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24tZ3JvdXAge1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNmU2ZTg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbi1saW5rOmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICdcXFxcZTMxNSc7XFxuICBmb250LWZhbWlseTogJ21hdGVyaWFsIGljb25zJztcXG4gIGNvbG9yOiB2YXIoLS1hY3RpdmUtY29sb3IpO1xcbiAgZm9udC1zaXplOiAyNHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IDI0cHg7XFxuICBsaW5lLWhlaWdodDogMjRweDtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uLWhlYWRlciB7XFxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XFxuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xcbiAgZmxleC1ncm93OiAxMDtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1uYW1lIHtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICB3aWR0aDogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1zbWFsbCB7XFxuICBmb250LXNpemU6IDAuN2VtO1xcbiAgY29sb3I6ICM2ZDZkNzI7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1pbWFnZSBpbWcge1xcbiAgd2lkdGg6IDQwcHg7XFxuICBoZWlnaHQ6IDQwcHg7XFxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1pbWFnZS1zbWFsbCBpbWcge1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IGF1dG87XFxuICBib3JkZXItcmFkaXVzOiA1MHB4O1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qYXBwIC5vcHRpb25zIC5vcHRpb24gLm9wdGlvbi1pbWFnZSAub3B0aW9uLWJhZGdlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgd2lkdGg6IDE2cHg7XFxuICBoZWlnaHQ6IDE2cHg7XFxuICBsaW5lLWhlaWdodDogMTZweDtcXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXNpemU6IDdweDtcXG4gIG1hcmdpbjogMjhweDtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLWltYWdlLXNtYWxsIC5vcHRpb24tYmFkZ2Uge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgY29sb3I6ICNmZmY7XFxuICB3aWR0aDogMTZweDtcXG4gIGhlaWdodDogMTZweDtcXG4gIGxpbmUtaGVpZ2h0OiAxNnB4O1xcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogN3B4O1xcbiAgbWFyZ2luOiAxMnB4O1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uIC5vcHRpb24tYmFkZ2Uuc29saWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgY29sb3I6IHJlZDtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLWJhZGdlLnNvbGlkLWdyZWVuIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xcbiAgY29sb3I6IGdyZWVuO1xcbn1cXG4uamFwcCAub3B0aW9ucyAub3B0aW9uIC5vcHRpb24tYmFkZ2U6ZW1wdHkge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLWRhdGUge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgZm9udC1zaXplOiAwLjZlbTtcXG4gIGNvbG9yOiAjODg4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLXJpZ2h0IHtcXG4gIG1hcmdpbi1yaWdodDogMTVweDtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLWJhZGdldCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XFxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IDI0cHg7XFxuICBsaW5lLWhlaWdodDogMjRweDtcXG4gIGZvbnQtc2l6ZTogMC43ZW07XFxuICBjb2xvcjogI2ZmZjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmphcHAgLm9wdGlvbnMgLm9wdGlvbiAub3B0aW9uLWJhZGdldDplbXB0eSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4vKiogQmFkZ2UgKiovXFxuLmphcHAgLmpiYWRnZSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB0b3A6IC0xMnB4O1xcbiAgbGVmdDogLTEycHg7XFxufVxcbi5qYXBwIC5qYmFkZ2UgPiBkaXYge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbiAgY29sb3I6ICNmZmY7XFxuICB3aWR0aDogMTZweDtcXG4gIGhlaWdodDogMTZweDtcXG4gIGxpbmUtaGVpZ2h0OiAxNnB4O1xcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogOHB4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG4uamFwcCAuamJhZGdlID4gZGl2OmVtcHR5IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi8qKiBQaWNrZXIgKiovXFxuLmphcHAgLnBpY2tlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNmU2ZTg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlODtcXG4gIHBhZGRpbmctbGVmdDogMTVweDtcXG4gIG1hcmdpbi10b3A6IDEwcHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDBweDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgei1pbmRleDogNzAwO1xcbn1cXG4uamFwcCAucGlja2VyIC5waWNrZXItb3B0aW9ucyB7XFxuICAtd2Via2l0LW1hc2staW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHJnYmEoMCwwLDAsMSksIHJnYmEoMCwwLDAsLjIpKSwgbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgcmdiYSgwLDAsMCwxKSwgcmdiYSgwLDAsMCwuMikpO1xcbiAgLXdlYmtpdC1tYXNrLXNpemU6IDEwMCUgNTAlO1xcbiAgLXdlYmtpdC1tYXNrLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgLXdlYmtpdC1tYXNrLXBvc2l0aW9uOiBjZW50ZXIgYm90dG9tLCB0b3AgY2VudGVyO1xcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xcbiAgcGFkZGluZy10b3A6IDEwMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDEwMHB4O1xcbn1cXG4uamFwcCAucGlja2VyIGxhYmVsIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgcGFkZGluZy10b3A6IDEwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG59XFxuLmphcHAgLnBpY2tlciAucGlja2VyLXNlbGVjdGVkIHtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTZlNmU4O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU2ZTg7XFxufVxcbi5qYXBwIC5waWNrZXIgaW5wdXQge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLyoqIFRvcHNlYXJjaCAqKi9cXG4uamFwcCAudG9wLXNlYXJjaCB7XFxuICBtYXJnaW46IDBweDtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDtcXG59XFxuLmphcHAgLnRvcC1zZWFyY2ggaW5wdXQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U2ZTZlNjtcXG4gIGJvcmRlcjogMHB4O1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSdncmF5JyUzRSUzQ3BhdGggZD0nTTE1LjUgMTRoLS43OWwtLjI4LS4yN0MxNS40MSAxMi41OSAxNiAxMS4xMSAxNiA5LjUgMTYgNS45MSAxMy4wOSAzIDkuNSAzUzMgNS45MSAzIDkuNSA1LjkxIDE2IDkuNSAxNmMxLjYxIDAgMy4wOS0uNTkgNC4yMy0xLjU3bC4yNy4yOHYuNzlsNSA0Ljk5TDIwLjQ5IDE5bC00Ljk5LTV6bS02IDBDNy4wMSAxNCA1IDExLjk5IDUgOS41UzcuMDEgNSA5LjUgNSAxNCA3LjAxIDE0IDkuNSAxMS45OSAxNCA5LjUgMTR6Jy8lM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1cHggY2VudGVyO1xcbiAgcGFkZGluZy1sZWZ0OiAzMnB4O1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi5qYXBwIC5zZWFyY2hiYXItY29udGFpbmVyIGkge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbiAgbWFyZ2luLWxlZnQ6IDhweDtcXG4gIGNvbG9yOiAjYmJiO1xcbn1cXG4vKiogUmFuZ2UgKiovXFxuLmphcHAgLnJhbmdlIHtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gIG1hcmdpbjogMThweCAwO1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi5qYXBwIC5yYW5nZTpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uamFwcCAucmFuZ2U6Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiA0cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBhbmltYXRpb246IDAuMnM7XFxuICBiYWNrZ3JvdW5kOiAjY2NjO1xcbiAgYm9yZGVyLXJhZGl1czogMS4zcHg7XFxufVxcbi5qYXBwIC5yYW5nZTo6LXdlYmtpdC1zbGlkZXItdGh1bWIge1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgYXBwZWFyYW5jZTogbm9uZTtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJvcmRlci1yYWRpdXM6IDI0cHg7XFxuICBtYXJnaW4tdG9wOiAtMTBweDtcXG4gIGJvcmRlcjogMHB4O1xcbiAgYm94LXNoYWRvdzogMHB4IDFweCAzcHggMXB4ICNiYmI7XFxufVxcbi5qYXBwIC5yYW5nZTo6LW1vei1yYW5nZS10cmFjayB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGFuaW1hdGlvbjogMC4ycztcXG4gIGJhY2tncm91bmQ6ICNjY2M7XFxuICBib3JkZXItcmFkaXVzOiAxLjNweDtcXG59XFxuLmphcHAgLnJhbmdlOjotbW96LXJhbmdlLXRodW1iIHtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJvcmRlci1yYWRpdXM6IDI0cHg7XFxuICBib3JkZXI6IDBweDtcXG4gIGJveC1zaGFkb3c6IDBweCAxcHggM3B4IDFweCAjYmJiO1xcbn1cXG4uamFwcCAucmFuZ2U6Oi1tcy10cmFjayB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGFuaW1hdGlvbjogMC4ycztcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci13aWR0aDogMTZweCAwO1xcbiAgY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJhZGl1czogMS4zcHg7XFxufVxcbi5qYXBwIC5yYW5nZTo6LW1zLWZpbGwtbG93ZXIge1xcbiAgYmFja2dyb3VuZDogI2NjYztcXG4gIGhlaWdodDogNXB4O1xcbn1cXG4uamFwcCAucmFuZ2U6Oi1tcy1maWxsLXVwcGVyIHtcXG4gIGJhY2tncm91bmQ6ICNjY2M7XFxuICBoZWlnaHQ6IDVweDtcXG59XFxuLmphcHAgLnJhbmdlOjotbXMtdGh1bWIge1xcbiAgd2lkdGg6IDI0cHg7XFxuICBoZWlnaHQ6IDI0cHg7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYm9yZGVyLXJhZGl1czogMjRweDtcXG4gIGJvcmRlcjogMHB4O1xcbiAgYm94LXNoYWRvdzogMHB4IDFweCAzcHggMXB4ICNiYmI7XFxufVxcbi5qYXBwIC5yYW5nZTpmb2N1czo6LW1zLWZpbGwtbG93ZXIge1xcbiAgYmFja2dyb3VuZDogI2NjYztcXG59XFxuLmphcHAgLnJhbmdlOmZvY3VzOjotbXMtZmlsbC11cHBlciB7XFxuICBiYWNrZ3JvdW5kOiAjY2NjO1xcbn1cXG4vKiogQWN0aW9uc2hlZXQgKiovXFxuLmphY3Rpb25zaGVldCB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBsZWZ0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgei1pbmRleDogMTAwMDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNSk7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcXG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC1hbGlnbjogYmFzZWxpbmU7XFxuICAtd2Via2l0LWFsaWduLWl0ZW1zOiBiYXNlbGluZTtcXG4gIC13ZWJraXQtYm94LWFsaWduOiBiYXNlbGluZTtcXG4gIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcXG59XFxuLmphY3Rpb25zaGVldCAuamFjdGlvbnNoZWV0LWNvbnRlbnQge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcXG59XFxuLmphY3Rpb25zaGVldCAuamFjdGlvbnNoZWV0LXRpdGxlIHtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICBwYWRkaW5nOiA4cHg7XFxufVxcbi5qYWN0aW9uc2hlZXQgLmphY3Rpb25zaGVldC1tZXNzYWdlIHtcXG4gIHBhZGRpbmc6IDRweDtcXG59XFxuLmphY3Rpb25zaGVldCAuamFjdGlvbnNoZWV0LWdyb3VwIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBtYXJnaW46IDEwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbn1cXG4uamFjdGlvbnNoZWV0IC5qYWN0aW9uc2hlZXQtZ3JvdXAgPiBkaXYge1xcbiAgZm9udC1zaXplOiAxLjRlbTtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgcGFkZGluZzogNHB4O1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLmphY3Rpb25zaGVldCAuamFjdGlvbnNoZWV0LWdyb3VwID4gZGl2OmZpcnN0LWNoaWxkIHtcXG4gIGJvcmRlci10b3A6IDBweDtcXG59XFxuLmphY3Rpb25zaGVldCAuamFjdGlvbnNoZWV0LWdyb3VwIGlucHV0IHtcXG4gIGJvcmRlcjogMHB4O1xcbiAgbWFyZ2luOiAwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGNvbG9yOiB2YXIoLS1hY3RpdmUtY29sb3IpO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgZm9udC1zaXplOiAxZW07XFxufVxcbi5qYWN0aW9uc2hlZXQgLmphY3Rpb25zaGVldC1ncm91cCBpbnB1dC5qYWN0aW9uc2hlZXQtY2FuY2VsIHtcXG4gIGNvbG9yOiByZWQ7XFxufVxcbi8qKiBUb2dnbGUgKiovXFxuLmp0b2dnbGUge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuLmp0b2dnbGUgaSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW4tcmlnaHQ6IC41cmVtO1xcbiAgYm9yZGVyLXJhZGl1czogMjNweDtcXG4gIHZlcnRpY2FsLWFsaWduOiB0ZXh0LWJvdHRvbTtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGxpbmVhcjtcXG4gIHdpZHRoOiA0NnB4ICFpbXBvcnRhbnQ7XFxuICBoZWlnaHQ6IDI3cHggIWltcG9ydGFudDtcXG4gIGJhY2tncm91bmQ6ICNlNmU2ZTYgIWltcG9ydGFudDtcXG4gIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDtcXG59XFxuLmp0b2dnbGUgaTo6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiA0MnB4O1xcbiAgaGVpZ2h0OiAyMnB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJvcmRlci1yYWRpdXM6IDExcHg7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDJweCwgMnB4LCAwKSBzY2FsZTNkKDEsIDEsIDEpO1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuMjVzIGxpbmVhcjtcXG59XFxuLmp0b2dnbGUgaTo6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDIycHg7XFxuICBoZWlnaHQ6IDIycHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogMTFweDtcXG4gIGJveC1zaGFkb3c6IDAgMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMjQpO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgycHgsIDJweCwgMCk7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcXG59XFxuLmp0b2dnbGU6YWN0aXZlIGk6OmFmdGVyIHtcXG4gIHdpZHRoOiAyOHB4O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgycHgsIDJweCwgMCk7XFxufVxcbi5qdG9nZ2xlOmFjdGl2ZSBpbnB1dDpjaGVja2VkICsgaTo6YWZ0ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxNnB4LCAycHgsIDApO1xcbn1cXG4uanRvZ2dsZSBpbnB1dCB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uanRvZ2dsZSBpbnB1dDpjaGVja2VkICsgaSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNEJENzYzICFpbXBvcnRhbnQ7XFxufVxcbi5qdG9nZ2xlIGlucHV0OmNoZWNrZWQgKyBpOjpiZWZvcmUge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxOHB4LCAycHgsIDApIHNjYWxlM2QoMCwgMCwgMCk7XFxufVxcbi5qdG9nZ2xlIGlucHV0OmNoZWNrZWQgKyBpOjphZnRlciB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDIycHgsIDJweCwgMCk7XFxufVxcbi8qKiBQbGFjZWhvbGRlcnMgKiovXFxuLmphcHAgLm9wdGlvbnMgaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG59XFxuLmphcHAgLm9wdGlvbnMgaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIge1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG59XFxuLmphcHAgLm9wdGlvbnMgaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxufVxcbi5qYXBwIC5vcHRpb25zIGlucHV0Oi1tb3otcGxhY2Vob2xkZXIge1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG59XFxuOjpwbGFjZWhvbGRlciB7XFxuICBjb2xvcjogI2NjY2NjYztcXG4gIG9wYWNpdHk6IDE7XFxufVxcbjotbXMtaW5wdXQtcGxhY2Vob2xkZXIge1xcbiAgY29sb3I6ICNjY2NjY2M7XFxufVxcbjo6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHtcXG4gIGNvbG9yOiAjY2NjY2NjO1xcbn1cXG46Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xcbiAgY29sb3I6ICNjY2NjY2M7XFxufVxcbi5qbW9kYWwge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiA1MCU7XFxuICBsZWZ0OiA1MCU7XFxuICB3aWR0aDogNjAlO1xcbiAgaGVpZ2h0OiA2MCU7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLDAsMCwuMik7XFxuICAtbW96LWJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLDAsMCwuMik7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHBhZGRpbmctdG9wOiA1MHB4O1xcbiAgei1pbmRleDogOTAwMjtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG59XFxuLmptb2RhbDpiZWZvcmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgY29udGVudDogYXR0cih0aXRsZSk7XFxuICBwYWRkaW5nOiAxNXB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJhY2tncm91bmQ6ICNlM2UzZTM7XFxuICBmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjZWRlZGVkJywgZW5kQ29sb3JzdHI9JyNlM2UzZTMnKTtcXG4gIGJhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2VkZWRlZCksIHRvKCNlM2UzZTMpKTtcXG4gIGJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgICNlZGVkZWQsICAjZTNlM2UzKTtcXG4gIGZvbnQtc2l6ZTogMS4yZW07XFxufVxcbi5qbW9kYWxfY29udGVudCB7XFxuICBwYWRkaW5nOiAyMHB4O1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxufVxcbi5qbW9kYWwubm8tdGl0bGUge1xcbiAgcGFkZGluZy10b3A6IDBweDtcXG59XFxuLmptb2RhbC5uby10aXRsZTpiZWZvcmUge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmptb2RhbDphZnRlciB7XFxuICBjb250ZW50OiAnJztcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyUzRSUzQ3BhdGggZD0nTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMnonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBtYXJnaW46IDE0cHg7XFxuICBmb250LXNpemU6IDI0cHg7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRleHQtc2hhZG93OiAwcHggMHB4IDVweCAjZmZmO1xcbn1cXG4uam1vZGFsX2Z1bGxzY3JlZW4ge1xcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcXG4gIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICB0cmFuc2Zvcm06IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiAwcHg7XFxufVxcbi5qbW9kYWxfYmFja2Ryb3Age1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICBtaW4td2lkdGg6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpO1xcbiAgYm9yZGVyOiAwcHg7XFxuICBwYWRkaW5nOiAwcHg7XFxuICB6LWluZGV4OiA4MDAwO1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcXG4gIC8qIGlPUyBTYWZhcmkgKi9cXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAvKiBTYWZhcmkgKi9cXG4gIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC8qIEtvbnF1ZXJvciBIVE1MICovXFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLyogRmlyZWZveCAqL1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLyogSW50ZXJuZXQgRXhwbG9yZXIvRWRnZSAqL1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAvKiBOb24tcHJlZml4ZWQgdmVyc2lvbiwgY3VycmVudGx5XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZCBieSBDaHJvbWUgYW5kIE9wZXJhICovXFxufVxcbi5qbm90aWZpY2F0aW9uIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHotaW5kZXg6IDEwMDAwO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHBhZGRpbmc6IDEwcHg7XFxufVxcbi5qbm90aWZpY2F0aW9uLWNvbnRhaW5lciB7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAycHggMTVweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC43KTtcXG4gIGJveC1zaGFkb3c6IDBweCAycHggMTVweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC43KTtcXG4gIHBhZGRpbmc6IDEycHg7XFxuICBib3JkZXItcmFkaXVzOiA4cHg7XFxufVxcbi5qbm90aWZpY2F0aW9uLWNsb3NlIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzIwJyBoZWlnaHQ9JzIwJyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9J2dyYXknJTNFJTNDcGF0aCBkPSdNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBmb250LXNpemU6IDIwcHg7XFxuICB3aWR0aDogMjBweDtcXG4gIGhlaWdodDogMjBweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmpub3RpZmljYXRpb24tdGl0bGUge1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcbi5qbm90aWZpY2F0aW9uLWhlYWRlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgcGFkZGluZy1ib3R0b206IDVweDtcXG59XFxuLmpub3RpZmljYXRpb24taGVhZGVyOmVtcHR5IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5qbm90aWZpY2F0aW9uLWltYWdlIHtcXG4gIG1hcmdpbi1yaWdodDogNXB4O1xcbn1cXG4uam5vdGlmaWNhdGlvbi1pbWFnZTplbXB0eSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uam5vdGlmaWNhdGlvbi1pbWFnZSBpbWcge1xcbiAgd2lkdGg6IDI0cHg7XFxufVxcbi5qbm90aWZpY2F0aW9uLW5hbWUge1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG4gIGZvbnQtc2l6ZTogMC45ZW07XFxuICBmbGV4OiAxO1xcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMWVtO1xcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogMzIwcHgpIGFuZCAobWF4LXdpZHRoOiA4MDBweCkge1xcbiAgLmpub3RpZmljYXRpb24ge1xcbiAgICB0b3A6IDBweDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICB9XFxuXFxuICAuam5vdGlmaWNhdGlvbi1jb250YWluZXIge1xcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOTUpO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlO1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogODAxcHgpIHtcXG4gIC5qbm90aWZpY2F0aW9uIHtcXG4gICAgYm90dG9tOiAwcHg7XFxuICB9XFxuXFxuICAuam5vdGlmaWNhdGlvbi1jb250YWluZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDkyLDkyLDkyLDEpO1xcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMGRlZywgcmdiYSg5Miw5Miw5MiwxKSAwJSwgcmdiYSg3Nyw3Nyw3NywxKSAxMDAlKTtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIHdpZHRoOiAzMjBweDtcXG4gICAgbWFyZ2luOiAzMHB4O1xcbiAgICBwYWRkaW5nOiAyMHB4O1xcbiAgfVxcbn1cXG4uam5vdGlmaWNhdGlvbi1oZWFkZXIge1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1wYWNrOiBzdGFydDtcXG4gIC13ZWJraXQtanVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcbiAgLW1zLWZsZXgtcGFjazogc3RhcnQ7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxuICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgLXdlYmtpdC1hbGlnbi1pdGVtczogY2VudGVyO1xcbiAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5qcmF0aW5nIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxufVxcbi5qcmF0aW5nID4gZGl2IHtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlMEElM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGQ9J00yMiA5LjI0bC03LjE5LS42MkwxMiAyIDkuMTkgOC42MyAyIDkuMjRsNS40NiA0LjczTDUuODIgMjEgMTIgMTcuMjcgMTguMTggMjFsLTEuNjMtNy4wM0wyMiA5LjI0ek0xMiAxNS40bC0zLjc2IDIuMjcgMS00LjI4LTMuMzItMi44OCA0LjM4LS4zOEwxMiA2LjFsMS43MSA0LjA0IDQuMzguMzgtMy4zMiAyLjg4IDEgNC4yOEwxMiAxNS40eicgZmlsbD0nZ3JheScvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxufVxcbi5qcmF0aW5nIC5qcmF0aW5nLW92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTBBJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9J2JsYWNrJyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDcGF0aCBkPSdNMTIgMTcuMjdMMTguMTggMjFsLTEuNjQtNy4wM0wyMiA5LjI0bC03LjE5LS42MUwxMiAyIDkuMTkgOC42MyAyIDkuMjRsNS40NiA0LjczTDUuODIgMjF6Jy8lM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIG9wYWNpdHk6IDAuNztcXG59XFxuLmpyYXRpbmcgLmpyYXRpbmctc2VsZWN0ZWQge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTBBJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9J3JlZCclM0UlM0NwYXRoIGQ9J00wIDBoMjR2MjRIMHonIGZpbGw9J25vbmUnLyUzRSUzQ3BhdGggZD0nTTEyIDE3LjI3TDE4LjE4IDIxbC0xLjY0LTcuMDNMMjIgOS4yNGwtNy4xOS0uNjFMMTIgMiA5LjE5IDguNjMgMiA5LjI0bDUuNDYgNC43M0w1LjgyIDIxeicvJTNFJTNDcGF0aCBkPSdNMCAwaDI0djI0SDB6JyBmaWxsPSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxufVxcbi8qKlxcclxcbiAqIChjKSBJbWFnZSBzbGlkZXJcXHJcXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGF1bGhvZGVsL2p0b29sc1xcclxcbiAqXFxyXFxuICogQGF1dGhvcjogUGF1bCBIb2RlbCA8cGF1bC5ob2RlbEBnbWFpbC5jb20+XFxyXFxuICogQGRlc2NyaXB0aW9uOiBJbWFnZSBTbGlkZXJcXHJcXG4gKi9cXG4uanNsaWRlciB7XFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuLmpzbGlkZXItY29udGFpbmVyIGltZyB7XFxuICB3aWR0aDogNjBweDtcXG4gIG1hcmdpbi1yaWdodDogNXB4O1xcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xcbn1cXG4uanNsaWRlci1hdHRhY2gge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4uanNsaWRlci1sZWZ0OjpiZWZvcmUge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgbGVmdDogMTBweDtcXG4gIGNvbnRlbnQ6ICdhcnJvd19iYWNrX2lvcyc7XFxuICBjb2xvcjogI2ZmZjtcXG4gIHdpZHRoOiAzMHB4O1xcbiAgaGVpZ2h0OiAzMHB4O1xcbiAgZm9udC1mYW1pbHk6ICdNYXRlcmlhbCBJY29ucyc7XFxuICBmb250LXNpemU6IDMwcHg7XFxuICB0ZXh0LXNoYWRvdzogMHB4IDBweCAwcHggIzAwMDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmpzbGlkZXItcmlnaHQ6OmFmdGVyIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHJpZ2h0OiA1cHg7XFxuICBjb250ZW50OiAnYXJyb3dfZm9yd2FyZF9pb3MnO1xcbiAgY29sb3I6ICNmZmY7XFxuICB3aWR0aDogMzBweDtcXG4gIGhlaWdodDogMzBweDtcXG4gIGZvbnQtZmFtaWx5OiAnTWF0ZXJpYWwgSWNvbnMnO1xcbiAgZm9udC1zaXplOiAzMHB4O1xcbiAgdGV4dC1zaGFkb3c6IDBweCAwcHggMHB4ICMwMDA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi5qc2xpZGVyLWNsb3NlIHtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIGZpbGw9J3doaXRlJyUzRSUzQ3BhdGggZD0nTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMnonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAxNXB4O1xcbiAgcmlnaHQ6IDE1cHg7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgei1pbmRleDogMzAwMDtcXG59XFxuLmpzbGlkZXItcHJldmlldyB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBsZWZ0OiAwO1xcbiAgdG9wOiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgei1pbmRleDogMjAwMDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC45KTtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbjogLjRzO1xcbiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogLjRzO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAtd2Via2l0LWFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLmpzbGlkZXItcHJldmlldyBpbWcge1xcbiAgbWluLXdpZHRoOiA3MCU7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IGF1dG87XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgbWFyZ2luOiAwIGF1dG87XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmp0YWJzIHtcXG4gIG1heC13aWR0aDogY2FsYygxMDB2dyAtIDI0cHgpO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uanRhYnMgPiAuanRhYnMtaGVhZGVycyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgb3ZlcmZsb3cteDogYXV0bztcXG59XFxuLmp0YWJzID4gLmp0YWJzLWhlYWRlcnMgPiBkaXYge1xcbiAgcGFkZGluZzogNnB4O1xcbiAgcGFkZGluZy1sZWZ0OiAyMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMjBweDtcXG4gIG1hcmdpbi1sZWZ0OiAxcHg7XFxuICBtYXJnaW4tcmlnaHQ6IDFweDtcXG4gIG1hcmdpbi1ib3R0b206IDFweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5qdGFicyA+IC5qdGFicy1oZWFkZXJzID4gZGl2Lmp0YWJzLXNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlOGU4ZTg7XFxuICBjb2xvcjogIzAwMDtcXG59XFxuLmp0YWJzID4gLmp0YWJzLWNvbnRlbnQgPiBkaXYge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmp0YWJzID4gLmp0YWJzLWNvbnRlbnQgPiBkaXYuanRhYnMtc2VsZWN0ZWQge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5qdGFicyA+IC5qdGFicy1ib3JkZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgaGVpZ2h0OiAycHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjODg4O1xcbiAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdDtcXG4gIHRyYW5zaXRpb246IGFsbCAuMnMgY3ViaWMtYmV6aWVyKDAuNCwwLDAuMiwxKTtcXG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IGNvbG9yLGxlZnQsdHJhbnNmb3JtO1xcbn1cXG4uanRhYnMgLmp0YWJzLWFkZCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIHdpZHRoPScyNCclM0UlM0NwYXRoIGQ9J00xOSAzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yem0tMiAxMGgtNHY0aC0ydi00SDd2LTJoNFY3aDJ2NGg0djJ6JyBmaWxsPSclMjNiYmJiYmInLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxuICBtYXJnaW46IDNweDtcXG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xcbn1cXG4uanRhZ3Mge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtd3JhcDogd3JhcDtcXG4gIC1tcy1mbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIC1tcy1mbGV4LXBhY2s6IGZsZXgtc3RhcnQ7XFxuICAtd2Via2l0LWp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcXG4gIHBhZGRpbmc6IDJweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxufVxcbi5qdGFncyA+IGRpdiB7XFxuICBwYWRkaW5nOiAzcHg7XFxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XFxuICBwYWRkaW5nLXJpZ2h0OiAyMnB4O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYm9yZGVyLXJhZGl1czogMXB4O1xcbiAgbWFyZ2luOiAycHg7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi5qdGFncyA+IGRpdjo6YWZ0ZXIge1xcbiAgY29udGVudDogJ3gnO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA0cHg7XFxuICByaWdodDogNHB4O1xcbiAgd2lkdGg6IDEycHg7XFxuICBoZWlnaHQ6IDEycHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBmb250LXNpemU6IDExcHg7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uanRhZ3NfbGFiZWwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZSAhaW1wb3J0YW50O1xcbn1cXG4uanRhZ3NfbGFiZWw6OmFmdGVyIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O1xcbn1cXG4uanRhZ3NfZXJyb3I6OmFmdGVyIHtcXG4gIGNvbG9yOiAjZmZmICAhaW1wb3J0YW50O1xcbn1cXG4uanRhZ3NfZXJyb3Ige1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q5MzAyNSAhaW1wb3J0YW50O1xcbiAgY29sb3I6ICNmZmY7XFxufVxcbi5qdGFnc19zZWFyY2gge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGJveC1zaGFkb3c6IDAgMXB4IDJweCAwIHJnYmEoNjAsNjQsNjcsMC4zMDIpLCAwIDJweCA2cHggMnB4IHJnYmEoNjAsNjQsNjcsMC4xNDkpO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICB3aWR0aDogMjgwcHg7XFxuICBwYWRkaW5nOiA4cHggMDtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4yKTtcXG4gIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMik7XFxuICAtd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgLjIxOHM7XFxuICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4yMThzO1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwwLDAsLjIpO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgbWFyZ2luOiAwO1xcbiAgbWluLXdpZHRoOiAzMDBweDtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICB3aWR0aDogYXV0bztcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG4uanRhZ3Nfc2VhcmNoID4gZGl2IHtcXG4gIGNvbG9yOiAjMzMzO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgcGFkZGluZzogNXB4IDEwcHg7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIC13ZWJraXQtYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5qdGFnc19zZWFyY2ggPiBkaXY6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZWFlZDtcXG59XFxuLmp0YWdzX3NlYXJjaCA+IGRpdiA+IGltZyB7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcXG4gIG1hcmdpbi1yaWdodDogMnB4O1xcbn1cXG4uanRhZ3Nfc2VhcmNoID4gZGl2ID4gZGl2IHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIG1hcmdpbi1sZWZ0OiAycHg7XFxuICBtYXgtd2lkdGg6IDMwMHB4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG4uanRhZ3Nfc2VhcmNoIC5zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlYWVkO1xcbn1cXG46cm9vdCB7XFxuICAtLWpleGNlbC1ib3JkZXItY29sb3I6ICMwMDA7XFxufVxcbi5qZXhjZWxfY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHBhZGRpbmctcmlnaHQ6IDJweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBvdmVyc2Nyb2xsLWJlaGF2aW9yOiBjb250YWluO1xcbn1cXG4uamV4Y2VsX2NvbnRhaW5lci5mdWxsc2NyZWVuIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB6LWluZGV4OiAyMTtcXG59XFxuLmpleGNlbF9jb250YWluZXIuZnVsbHNjcmVlbiAuamV4Y2VsX2NvbnRlbnQge1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XFxufVxcbi5qZXhjZWxfY29udGFpbmVyLmZ1bGxzY3JlZW4ud2l0aC10b29sYmFyIHtcXG4gIGhlaWdodDogY2FsYygxMDAlIC0gNDZweCk7XFxufVxcbi5qZXhjZWxfY29udGVudCB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgcGFkZGluZy1yaWdodDogM3B4O1xcbiAgcGFkZGluZy1ib3R0b206IDNweDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHNjcm9sbGJhci13aWR0aDogdGhpbjtcXG4gIHNjcm9sbGJhci1jb2xvcjogIzY2NiB0cmFuc3BhcmVudDtcXG59XFxuQHN1cHBvcnRzICgtbW96LWFwcGVhcmFuY2U6bm9uZSkge1xcbiAgLmpleGNlbF9jb250ZW50IHtcXG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcXG4gIH1cXG59XFxuLmpleGNlbF9jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhciB7XFxuICB3aWR0aDogNXB4O1xcbiAgaGVpZ2h0OiA1cHg7XFxufVxcbi5qZXhjZWxfY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xcbiAgYmFja2dyb3VuZDogI2VlZTtcXG59XFxuLmpleGNlbF9jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XFxuICBiYWNrZ3JvdW5kOiAjNjY2O1xcbn1cXG4uamV4Y2VsIHtcXG4gIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7XFxuICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIGVtcHR5LWNlbGxzOiBzaG93O1xcbiAgYm9yZGVyOiAwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgd2lkdGg6IDA7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2NjYztcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xcbn1cXG4uamV4Y2VsID4gdGhlYWQgPiB0ciA+IHRkIHtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjY2NjO1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjY2NjO1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmM2YzO1xcbiAgcGFkZGluZzogMnB4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XFxuICBwb3NpdGlvbjogc3RpY2t5O1xcbiAgdG9wOiAwO1xcbiAgei1pbmRleDogMjtcXG59XFxuLndpdGgtdG9vbGJhciAuamV4Y2VsID4gdGhlYWQgPiB0ciA+IHRkIHtcXG4gIHRvcDogNDJweDtcXG59XFxuLmpleGNlbCA+IHRoZWFkID4gdHIgPiB0ZC5kcmFnZ2luZyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG4uamV4Y2VsID4gdGhlYWQgPiB0ciA+IHRkLnNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkY2RjZGM7XFxufVxcbi5qZXhjZWwgPiB0aGVhZCA+IHRyID4gdGQuYXJyb3ctdXAge1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciByaWdodCA1cHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlMEElM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGZpbGw9J25vbmUnIGQ9J00wIDBoMjR2MjRIMFYweicvJTNFJTNDcGF0aCBkPSdNNyAxNGw1LTUgNSA1SDd6JyBmaWxsPSdncmF5Jy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXG59XFxuLmpleGNlbCA+IHRoZWFkID4gdHIgPiB0ZC5hcnJvdy1kb3duIHtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgcmlnaHQgNXB4O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTBBJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFJTNDcGF0aCBmaWxsPSdub25lJyBkPSdNMCAwaDI0djI0SDBWMHonLyUzRSUzQ3BhdGggZD0nTTcgMTBsNSA1IDUtNUg3eicgZmlsbD0nZ3JheScvJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVxcbi5qZXhjZWwgPiB0Ym9keSA+IHRyID4gdGQ6Zmlyc3QtY2hpbGQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMztcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmpleGNlbCA+IHRib2R5LnJlc2l6YWJsZSA+IHRyID4gdGQ6Zmlyc3QtY2hpbGQ6OmJlZm9yZSB7XFxuICBjb250ZW50OiAnXFxcXDAwYTAnO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDNweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgY3Vyc29yOiByb3ctcmVzaXplO1xcbn1cXG4uamV4Y2VsID4gdGJvZHkuZHJhZ2dhYmxlID4gdHIgPiB0ZDpmaXJzdC1jaGlsZDo6YWZ0ZXIge1xcbiAgY29udGVudDogJ1xcXFwwMGEwJztcXG4gIHdpZHRoOiAzcHg7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDBweDtcXG4gIHJpZ2h0OiAwcHg7XFxuICBjdXJzb3I6IG1vdmU7XFxufVxcbi5qZXhjZWwgPiB0Ym9keSA+IHRyLmRyYWdnaW5nID4gdGQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuLmpleGNlbCA+IHRib2R5ID4gdHIgPiB0ZCB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2NjYztcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2NjYztcXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgcGFkZGluZzogNHB4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBsaW5lLWhlaWdodDogMWVtO1xcbn1cXG4uamV4Y2VsID4gdGJvZHkgPiB0ciA+IHRkOmxhc3QtY2hpbGQge1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLmpleGNlbCA+IHRib2R5ID4gdHIgPiB0ZCA+IGltZyB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXgtd2lkdGg6IDEwMHB4O1xcbn1cXG4uamV4Y2VsID4gdGJvZHkgPiB0ciA+IHRkLnJlYWRvbmx5IHtcXG4gIGNvbG9yOiByZ2JhKDAsMCwwLDAuMyk7XFxufVxcbi5qZXhjZWwgPiB0Ym9keSA+IHRyLnNlbGVjdGVkID4gdGQ6Zmlyc3QtY2hpbGQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RjZGNkYztcXG59XFxuLmpleGNlbCA+IHRib2R5ID4gdHIgPiB0ZCA+IHNlbGVjdCxcXG4uamV4Y2VsID4gdGJvZHkgPiB0ciA+IHRkID4gaW5wdXQsXFxuLmpleGNlbCA+IHRib2R5ID4gdHIgPiB0ZCA+IHRleHRhcmVhIHtcXG4gIGJvcmRlcjogMHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMHB4O1xcbiAgb3V0bGluZTogMHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtYXJnaW46IDBweDtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuLmpleGNlbCA+IHRib2R5ID4gdHIgPiB0ZCA+IHRleHRhcmVhIHtcXG4gIHJlc2l6ZTogbm9uZTtcXG4gIHBhZGRpbmctdG9wOiA2cHggIWltcG9ydGFudDtcXG59XFxuLmpleGNlbCA+IHRib2R5ID4gdHIgPiB0ZCA+IGlucHV0W3R5cGU9Y2hlY2tib3hdIHtcXG4gIHdpZHRoOiAxMnB4O1xcbiAgbWFyZ2luLXRvcDogMnB4O1xcbn1cXG4uamV4Y2VsID4gdGJvZHkgPiB0ciA+IHRkID4gaW5wdXRbdHlwZT1yYWRpb10ge1xcbiAgd2lkdGg6IDEycHg7XFxuICBtYXJnaW4tdG9wOiAycHg7XFxufVxcbi5qZXhjZWwgPiB0Ym9keSA+IHRyID4gdGQgPiBzZWxlY3Qge1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xcbiAgYXBwZWFyYW5jZTogbm9uZTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXg6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6IDQwJTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUJtYVd4c1BTZGliR0ZqYXljZ2FHVnBaMmgwUFNjeU5DY2dkbWxsZDBKdmVEMG5NQ0F3SURJMElESTBKeUIzYVdSMGFEMG5NalFuSUhodGJHNXpQU2RvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeWMrUEhCaGRHZ2daRDBuVFRjZ01UQnNOU0ExSURVdE5Yb25MejQ4Y0dGMGFDQmtQU2ROTUNBd2FESTBkakkwU0RCNkp5Qm1hV3hzUFNkdWIyNWxKeTgrUEM5emRtYyspO1xcbn1cXG4uamV4Y2VsID4gdGJvZHkgPiB0ciA+IHRkLmpleGNlbF9kcm9wZG93biB7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogdG9wIDUwJSByaWdodCA1cHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlMEElM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGZpbGw9J25vbmUnIGQ9J00wIDBoMjR2MjRIMFYweicvJTNFJTNDcGF0aCBkPSdNNyAxMGw1IDUgNS01SDd6JyBmaWxsPSdsaWdodGdyYXknLyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xcbn1cXG4uamV4Y2VsID4gdGJvZHkgPiB0ciA+IHRkLmpleGNlbF9kcm9wZG93bi5qZXhjZWxfY29tbWVudHMge1xcbiAgYmFja2dyb3VuZDogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTBBJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFJTNDcGF0aCBmaWxsPSdub25lJyBkPSdNMCAwaDI0djI0SDBWMHonLyUzRSUzQ3BhdGggZD0nTTcgMTBsNSA1IDUtNUg3eicgZmlsbD0nbGlnaHRncmF5Jy8lM0UlM0Mvc3ZnJTNFXFxcIikgdG9wIDUwJSByaWdodCA1cHggbm8tcmVwZWF0LCB1cmwoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQWdBQUFBSUNBWUFBQURFRDc2TEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFGdUdsVVdIUllUVXc2WTI5dExtRmtiMkpsTG5odGNBQUFBQUFBUEQ5NGNHRmphMlYwSUdKbFoybHVQU0x2dTc4aUlHbGtQU0pYTlUwd1RYQkRaV2hwU0hweVpWTjZUbFJqZW10ak9XUWlQejRnUEhnNmVHMXdiV1YwWVNCNGJXeHVjenA0UFNKaFpHOWlaVHB1Y3pwdFpYUmhMeUlnZURwNGJYQjBhejBpUVdSdlltVWdXRTFRSUVOdmNtVWdOUzQyTFdNeE5EVWdOemt1TVRZek5EazVMQ0F5TURFNEx6QTRMekV6TFRFMk9qUXdPakl5SUNBZ0lDQWdJQ0FpUGlBOGNtUm1PbEpFUmlCNGJXeHVjenB5WkdZOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2TURJdk1qSXRjbVJtTFhONWJuUmhlQzF1Y3lNaVBpQThjbVJtT2tSbGMyTnlhWEIwYVc5dUlISmtaanBoWW05MWREMGlJaUI0Yld4dWN6cDRiWEE5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM4aUlIaHRiRzV6T25odGNFMU5QU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2YlcwdklpQjRiV3h1Y3pwemRFVjJkRDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDNOVWVYQmxMMUpsYzI5MWNtTmxSWFpsYm5RaklpQjRiV3h1Y3pwa1l6MGlhSFIwY0RvdkwzQjFjbXd1YjNKbkwyUmpMMlZzWlcxbGJuUnpMekV1TVM4aUlIaHRiRzV6T25Cb2IzUnZjMmh2Y0QwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOXdhRzkwYjNOb2IzQXZNUzR3THlJZ2VHMXdPa055WldGMGIzSlViMjlzUFNKQlpHOWlaU0JRYUc5MGIzTm9iM0FnUTBNZ01qQXhPU0FvVjJsdVpHOTNjeWtpSUhodGNEcERjbVZoZEdWRVlYUmxQU0l5TURFNUxUQXhMVE14VkRFNE9qVTFPakE0V2lJZ2VHMXdPazFsZEdGa1lYUmhSR0YwWlQwaU1qQXhPUzB3TVMwek1WUXhPRG8xTlRvd09Gb2lJSGh0Y0RwTmIyUnBabmxFWVhSbFBTSXlNREU1TFRBeExUTXhWREU0T2pVMU9qQTRXaUlnZUcxd1RVMDZTVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRHBoTVRsaFpESm1PQzFrTURJMkxUSTFOREl0T0Roak9TMWlaVFJrWWpreU1tUTBNbVFpSUhodGNFMU5Pa1J2WTNWdFpXNTBTVVE5SW1Ga2IySmxPbVJ2WTJsa09uQm9iM1J2YzJodmNEcGtPR0k1TkRVeU1TMDBaakV3TFdRNU5Ea3RZalV3TkMwd1ptVTFOMkkzTnprMU1ERWlJSGh0Y0UxTk9rOXlhV2RwYm1Gc1JHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEcGxNemRqWW1FMVpTMWhZVE13TFdOa05EVXRZVEF5TlMxbE9XWXhaamsyTXpVek9HVWlJR1JqT21admNtMWhkRDBpYVcxaFoyVXZjRzVuSWlCd2FHOTBiM05vYjNBNlEyOXNiM0pOYjJSbFBTSXpJajRnUEhodGNFMU5Pa2hwYzNSdmNuaytJRHh5WkdZNlUyVnhQaUE4Y21SbU9teHBJSE4wUlhaME9tRmpkR2x2YmowaVkzSmxZWFJsWkNJZ2MzUkZkblE2YVc1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRwbE16ZGpZbUUxWlMxaFlUTXdMV05rTkRVdFlUQXlOUzFsT1dZeFpqazJNelV6T0dVaUlITjBSWFowT25kb1pXNDlJakl3TVRrdE1ERXRNekZVTVRnNk5UVTZNRGhhSWlCemRFVjJkRHB6YjJaMGQyRnlaVUZuWlc1MFBTSkJaRzlpWlNCUWFHOTBiM05vYjNBZ1EwTWdNakF4T1NBb1YybHVaRzkzY3lraUx6NGdQSEprWmpwc2FTQnpkRVYyZERwaFkzUnBiMjQ5SW5OaGRtVmtJaUJ6ZEVWMmREcHBibk4wWVc1alpVbEVQU0o0YlhBdWFXbGtPbUV4T1dGa01tWTRMV1F3TWpZdE1qVTBNaTA0T0dNNUxXSmxOR1JpT1RJeVpEUXlaQ0lnYzNSRmRuUTZkMmhsYmowaU1qQXhPUzB3TVMwek1WUXhPRG8xTlRvd09Gb2lJSE4wUlhaME9uTnZablIzWVhKbFFXZGxiblE5SWtGa2IySmxJRkJvYjNSdmMyaHZjQ0JEUXlBeU1ERTVJQ2hYYVc1a2IzZHpLU0lnYzNSRmRuUTZZMmhoYm1kbFpEMGlMeUl2UGlBOEwzSmtaanBUWlhFK0lEd3ZlRzF3VFUwNlNHbHpkRzl5ZVQ0Z1BDOXlaR1k2UkdWelkzSnBjSFJwYjI0K0lEd3ZjbVJtT2xKRVJqNGdQQzk0T25odGNHMWxkR0UrSUR3L2VIQmhZMnRsZENCbGJtUTlJbklpUHo0RW42TURBQUFBWDBsRVFWUVlsWDNLT3c2QUlCQkF3UzMyUnBKQURYZngwcFRFVCtFUlpKOEY4Uk9ERnRPTnNHMFFBb2gwQ1NETTgyZHFvZGFCZFFYbmZvTFpRTTdnUGFpK3dqTk5FOFI0cFR1QVlOWlNLWkFTcUw3Q015MEx4TmdKcDMwZktZVURpMyt2SXFiLytyVUFBQUFBU1VWT1JLNUNZSUk9JykgdG9wIHJpZ2h0IG5vLXJlcGVhdDtcXG59XFxuLmpleGNlbCA+IHRib2R5ID4gdHIgPiB0ZCA+IC5jb2xvciB7XFxuICB3aWR0aDogOTAlO1xcbiAgaGVpZ2h0OiAxMHB4O1xcbiAgbWFyZ2luOiBhdXRvO1xcbn1cXG4uamV4Y2VsID4gdGJvZHkgPiB0ciA+IHRkID4gYSB7XFxuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXG59XFxuLmpleGNlbCA+IHRib2R5ID4gdHIgPiB0ZC5oaWdobGlnaHQgPiBhIHtcXG4gIGNvbG9yOiBibHVlO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4uamV4Y2VsID4gdGZvb3QgPiB0ciA+IHRkIHtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjY2NjO1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjY2NjO1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmM2YzO1xcbiAgcGFkZGluZzogMnB4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxufVxcbi5qZXhjZWwgLmhpZ2hsaWdodCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuMDUpO1xcbn1cXG4uamV4Y2VsIC5oaWdobGlnaHQtdG9wIHtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMDAwO1xcbiAgLyogdmFyKC0tamV4Y2VsLWJvcmRlci1jb2xvcik7Ki9cXG4gIGJveC1zaGFkb3c6IDBweCAtMXB4ICNjY2M7XFxufVxcbi5qZXhjZWwgLmhpZ2hsaWdodC1sZWZ0IHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgIzAwMDtcXG4gIC8qIHZhcigtLWpleGNlbC1ib3JkZXItY29sb3IpOyovXFxuICBib3gtc2hhZG93OiAtMXB4IDBweCAjY2NjO1xcbn1cXG4uamV4Y2VsIC5oaWdobGlnaHQtcmlnaHQge1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgIzAwMDtcXG4gIC8qIHZhcigtLWpleGNlbC1ib3JkZXItY29sb3IpOyovXFxufVxcbi5qZXhjZWwgLmhpZ2hsaWdodC1ib3R0b20ge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDA7XFxuICAvKiB2YXIoLS1qZXhjZWwtYm9yZGVyLWNvbG9yKTsqL1xcbn1cXG4uamV4Y2VsIC5oaWdobGlnaHQtdG9wLmhpZ2hsaWdodC1sZWZ0IHtcXG4gIGJveC1zaGFkb3c6IC0xcHggLTFweCAjY2NjO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAtMXB4IC0xcHggI2NjYztcXG4gIC1tb3otYm94LXNoYWRvdzogLTFweCAtMXB4ICNjY2M7XFxufVxcbi5qZXhjZWwgLmhpZ2hsaWdodC1zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuMCk7XFxufVxcbi5qZXhjZWwgLnNlbGVjdGlvbiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuMDUpO1xcbn1cXG4uamV4Y2VsIC5zZWxlY3Rpb24tbGVmdCB7XFxuICBib3JkZXItbGVmdDogMXB4IGRvdHRlZCAjMDAwO1xcbn1cXG4uamV4Y2VsIC5zZWxlY3Rpb24tcmlnaHQge1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggZG90dGVkICMwMDA7XFxufVxcbi5qZXhjZWwgLnNlbGVjdGlvbi10b3Age1xcbiAgYm9yZGVyLXRvcDogMXB4IGRvdHRlZCAjMDAwO1xcbn1cXG4uamV4Y2VsIC5zZWxlY3Rpb24tYm90dG9tIHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBkb3R0ZWQgIzAwMDtcXG59XFxuLmpleGNlbF9jb3JuZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsIDAsIDApO1xcbiAgaGVpZ2h0OiAxcHg7XFxuICB3aWR0aDogMXB4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiKDI1NSwgMjU1LCAyNTUpO1xcbiAgdG9wOiAtMjAwMHB4O1xcbiAgbGVmdDogLTIwMDBweDtcXG4gIGN1cnNvcjogY3Jvc3NoYWlyO1xcbiAgYm94LXNpemluZzogaW5pdGlhbDtcXG4gIHotaW5kZXg6IDMwO1xcbiAgcGFkZGluZzogMnB4O1xcbn1cXG4uamV4Y2VsIC5lZGl0b3Ige1xcbiAgb3V0bGluZTogMHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgb3ZlcmZsb3c6IHZpc2libGU7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50O1xcbn1cXG4uamV4Y2VsIC5lZGl0b3IgPiBpbnB1dCB7XFxuICBwYWRkaW5nLWxlZnQ6IDRweDtcXG59XFxuLmpleGNlbCAuZWRpdG9yIC5qdXBsb2FkIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMTAwJTtcXG4gIHotaW5kZXg6IDQwO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcXG4gIGZvbnQtc2l6ZTogLjg3NXJlbTtcXG4gIGxldHRlci1zcGFjaW5nOiAuMnB4O1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgOHB4IDEwcHggMXB4IHJnYmEoMCwwLDAsMC4xNCksIDAgM3B4IDE0cHggMnB4IHJnYmEoMCwwLDAsMC4xMiksIDAgNXB4IDVweCAtM3B4IHJnYmEoMCwwLDAsMC4yKTtcXG4gIGJveC1zaGFkb3c6IDAgOHB4IDEwcHggMXB4IHJnYmEoMCwwLDAsMC4xNCksIDAgM3B4IDE0cHggMnB4IHJnYmEoMCwwLDAsMC4xMiksIDAgNXB4IDVweCAtM3B4IHJnYmEoMCwwLDAsMC4yKTtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgd2lkdGg6IDMwMHB4O1xcbiAgbWluLWhlaWdodDogMjI1cHg7XFxuICBtYXJnaW4tdG9wOiAycHg7XFxufVxcbi5qZXhjZWwgLmVkaXRvciAuanVwbG9hZCBpbWcge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IGF1dG87XFxufVxcbi5qZXhjZWwgLmVkaXRvciAuamV4Y2VsX3JpY2h0ZXh0IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMTAwJTtcXG4gIHotaW5kZXg6IDQwO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcXG4gIGZvbnQtc2l6ZTogLjg3NXJlbTtcXG4gIGxldHRlci1zcGFjaW5nOiAuMnB4O1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDhweCAxMHB4IDFweCByZ2JhKDAsMCwwLDAuMTQpLCAwIDNweCAxNHB4IDJweCByZ2JhKDAsMCwwLDAuMTIpLCAwIDVweCA1cHggLTNweCByZ2JhKDAsMCwwLDAuMik7XFxuICBib3gtc2hhZG93OiAwIDhweCAxMHB4IDFweCByZ2JhKDAsMCwwLDAuMTQpLCAwIDNweCAxNHB4IDJweCByZ2JhKDAsMCwwLDAuMTIpLCAwIDVweCA1cHggLTNweCByZ2JhKDAsMCwwLDAuMik7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIG1pbi13aWR0aDogMjgwcHg7XFxuICBtYXgtd2lkdGg6IDMxMHB4O1xcbiAgbWFyZ2luLXRvcDogMnB4O1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG59XFxuLmpleGNlbCAuZWRpdG9yIC5qY2xvc2U6YWZ0ZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBtYXJnaW46IDEwcHg7XFxuICBjb250ZW50OiAnY2xvc2UnO1xcbiAgZm9udC1mYW1pbHk6ICdNYXRlcmlhbCBpY29ucyc7XFxuICBmb250LXNpemU6IDI0cHg7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG4gIGxpbmUtaGVpZ2h0OiAyNHB4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgdGV4dC1zaGFkb3c6IDBweCAwcHggNXB4ICNmZmY7XFxufVxcbi5qZXhjZWwsXFxuLmpleGNlbCB0ZCxcXG4uamV4Y2VsX2Nvcm5lciB7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC11c2VyLWRyYWc6IG5vbmU7XFxuICAta2h0bWwtdXNlci1kcmFnOiBub25lO1xcbiAgLW1vei11c2VyLWRyYWc6IG5vbmU7XFxuICAtby11c2VyLWRyYWc6IG5vbmU7XFxuICB1c2VyLWRyYWc6IG5vbmU7XFxufVxcbi5qZXhjZWxfdGV4dGFyZWEge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAtOTk5cHg7XFxuICBsZWZ0OiAtOTk5cHg7XFxuICB3aWR0aDogMXB4O1xcbiAgaGVpZ2h0OiAxcHg7XFxufVxcbi5qZXhjZWwgLmRyYWdsaW5lIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuLmpleGNlbCAuZHJhZ2xpbmUgZGl2IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHRvcDogLTZweDtcXG4gIGhlaWdodDogNXB4O1xcbiAgd2lkdGg6IDIycHg7XFxufVxcbi5qZXhjZWwgLmRyYWdsaW5lIGRpdjpob3ZlciB7XFxuICBjdXJzb3I6IG1vdmU7XFxufVxcbi5qZXhjZWwgLm9uRHJhZyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNik7XFxufVxcbi5qZXhjZWwgLmVycm9yIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcXG59XFxuLmpleGNlbCB0aGVhZCB0ZC5yZXNpemluZyB7XFxuICBib3JkZXItcmlnaHQtc3R5bGU6IGRvdHRlZCAhaW1wb3J0YW50O1xcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiByZWQgIWltcG9ydGFudDtcXG59XFxuLmpleGNlbCB0Ym9keSB0ci5yZXNpemluZyA+IHRkIHtcXG4gIGJvcmRlci1ib3R0b20tc3R5bGU6IGRvdHRlZCAhaW1wb3J0YW50O1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogcmVkICFpbXBvcnRhbnQ7XFxufVxcbi5qZXhjZWwgdGJvZHkgdGQucmVzaXppbmcge1xcbiAgYm9yZGVyLXJpZ2h0LXN0eWxlOiBkb3R0ZWQgIWltcG9ydGFudDtcXG4gIGJvcmRlci1yaWdodC1jb2xvcjogcmVkICFpbXBvcnRhbnQ7XFxufVxcbi5qZXhjZWwgLmpkcm9wZG93bi1oZWFkZXIge1xcbiAgYm9yZGVyOiAwcHggIWltcG9ydGFudDtcXG4gIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcXG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XFxuICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDtcXG4gIHBhZGRpbmc6IDBweCAhaW1wb3J0YW50O1xcbiAgcGFkZGluZy1sZWZ0OiA4cHggIWltcG9ydGFudDtcXG59XFxuLmpleGNlbCAuamRyb3Bkb3duLWNvbnRhaW5lciB7XFxuICBtYXJnaW4tdG9wOiAxcHg7XFxufVxcbi5qZXhjZWwgLmpkcm9wZG93bi1jb250YWluZXItaGVhZGVyIHtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgaGVpZ2h0OiBpbmhlcml0O1xcbn1cXG4uamV4Y2VsIC5qZHJvcGRvd24tcGlja2VyIHtcXG4gIGJvcmRlcjogMHB4ICFpbXBvcnRhbnQ7XFxuICBwYWRkaW5nOiAwcHggIWltcG9ydGFudDtcXG4gIHdpZHRoOiBpbmhlcml0O1xcbiAgaGVpZ2h0OiBpbmhlcml0O1xcbn1cXG4uamV4Y2VsIC5qZXhjZWxfY29tbWVudHMge1xcbiAgYmFja2dyb3VuZDogdXJsKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFnQUFBQUlDQVlBQUFERUQ3NkxBQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBRnVHbFVXSFJZVFV3NlkyOXRMbUZrYjJKbExuaHRjQUFBQUFBQVBEOTRjR0ZqYTJWMElHSmxaMmx1UFNMdnU3OGlJR2xrUFNKWE5VMHdUWEJEWldocFNIcHlaVk42VGxSamVtdGpPV1FpUHo0Z1BIZzZlRzF3YldWMFlTQjRiV3h1Y3pwNFBTSmhaRzlpWlRwdWN6cHRaWFJoTHlJZ2VEcDRiWEIwYXowaVFXUnZZbVVnV0UxUUlFTnZjbVVnTlM0MkxXTXhORFVnTnprdU1UWXpORGs1TENBeU1ERTRMekE0THpFekxURTJPalF3T2pJeUlDQWdJQ0FnSUNBaVBpQThjbVJtT2xKRVJpQjRiV3h1Y3pweVpHWTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1Rrdk1ESXZNakl0Y21SbUxYTjViblJoZUMxdWN5TWlQaUE4Y21SbU9rUmxjMk55YVhCMGFXOXVJSEprWmpwaFltOTFkRDBpSWlCNGJXeHVjenA0YlhBOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOGlJSGh0Ykc1ek9uaHRjRTFOUFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdmJXMHZJaUI0Yld4dWN6cHpkRVYyZEQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wzTlVlWEJsTDFKbGMyOTFjbU5sUlhabGJuUWpJaUI0Yld4dWN6cGtZejBpYUhSMGNEb3ZMM0IxY213dWIzSm5MMlJqTDJWc1pXMWxiblJ6THpFdU1TOGlJSGh0Ykc1ek9uQm9iM1J2YzJodmNEMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzl3YUc5MGIzTm9iM0F2TVM0d0x5SWdlRzF3T2tOeVpXRjBiM0pVYjI5c1BTSkJaRzlpWlNCUWFHOTBiM05vYjNBZ1EwTWdNakF4T1NBb1YybHVaRzkzY3lraUlIaHRjRHBEY21WaGRHVkVZWFJsUFNJeU1ERTVMVEF4TFRNeFZERTRPalUxT2pBNFdpSWdlRzF3T2sxbGRHRmtZWFJoUkdGMFpUMGlNakF4T1Mwd01TMHpNVlF4T0RvMU5Ub3dPRm9pSUhodGNEcE5iMlJwWm5sRVlYUmxQU0l5TURFNUxUQXhMVE14VkRFNE9qVTFPakE0V2lJZ2VHMXdUVTA2U1c1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRwaE1UbGhaREptT0Mxa01ESTJMVEkxTkRJdE9EaGpPUzFpWlRSa1lqa3lNbVEwTW1RaUlIaHRjRTFOT2tSdlkzVnRaVzUwU1VROUltRmtiMkpsT21SdlkybGtPbkJvYjNSdmMyaHZjRHBrT0dJNU5EVXlNUzAwWmpFd0xXUTVORGt0WWpVd05DMHdabVUxTjJJM056azFNREVpSUhodGNFMU5Pazl5YVdkcGJtRnNSRzlqZFcxbGJuUkpSRDBpZUcxd0xtUnBaRHBsTXpkalltRTFaUzFoWVRNd0xXTmtORFV0WVRBeU5TMWxPV1l4WmprMk16VXpPR1VpSUdSak9tWnZjbTFoZEQwaWFXMWhaMlV2Y0c1bklpQndhRzkwYjNOb2IzQTZRMjlzYjNKTmIyUmxQU0l6SWo0Z1BIaHRjRTFOT2tocGMzUnZjbmsrSUR4eVpHWTZVMlZ4UGlBOGNtUm1PbXhwSUhOMFJYWjBPbUZqZEdsdmJqMGlZM0psWVhSbFpDSWdjM1JGZG5RNmFXNXpkR0Z1WTJWSlJEMGllRzF3TG1scFpEcGxNemRqWW1FMVpTMWhZVE13TFdOa05EVXRZVEF5TlMxbE9XWXhaamsyTXpVek9HVWlJSE4wUlhaME9uZG9aVzQ5SWpJd01Ua3RNREV0TXpGVU1UZzZOVFU2TURoYUlpQnpkRVYyZERwemIyWjBkMkZ5WlVGblpXNTBQU0pCWkc5aVpTQlFhRzkwYjNOb2IzQWdRME1nTWpBeE9TQW9WMmx1Wkc5M2N5a2lMejRnUEhKa1pqcHNhU0J6ZEVWMmREcGhZM1JwYjI0OUluTmhkbVZrSWlCemRFVjJkRHBwYm5OMFlXNWpaVWxFUFNKNGJYQXVhV2xrT21FeE9XRmtNbVk0TFdRd01qWXRNalUwTWkwNE9HTTVMV0psTkdSaU9USXlaRFF5WkNJZ2MzUkZkblE2ZDJobGJqMGlNakF4T1Mwd01TMHpNVlF4T0RvMU5Ub3dPRm9pSUhOMFJYWjBPbk52Wm5SM1lYSmxRV2RsYm5ROUlrRmtiMkpsSUZCb2IzUnZjMmh2Y0NCRFF5QXlNREU1SUNoWGFXNWtiM2R6S1NJZ2MzUkZkblE2WTJoaGJtZGxaRDBpTHlJdlBpQThMM0prWmpwVFpYRStJRHd2ZUcxd1RVMDZTR2x6ZEc5eWVUNGdQQzl5WkdZNlJHVnpZM0pwY0hScGIyNCtJRHd2Y21SbU9sSkVSajRnUEM5NE9uaHRjRzFsZEdFK0lEdy9lSEJoWTJ0bGRDQmxibVE5SW5JaVB6NEVuNk1EQUFBQVgwbEVRVlFZbFgzS093NkFJQkJBd1MzMlJwSkFEWGZ4MHBURVQrRVJaSjhGOFJPREZ0T05zRzBRQW9oMENTRE04MmRxb2RhQmRRWG5mb0xaUU03Z1BhaSt3ak5ORThSNHBUdUFZTlpTS1pBU3FMN0NNeTBMeE5nSnAzMGZLWVVEaTMrdklxYi8rclVBQUFBQVNVVk9SSzVDWUlJPScpO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IHRvcCByaWdodDtcXG59XFxuLmpleGNlbCAuc3AtcmVwbGFjZXIge1xcbiAgbWFyZ2luOiAycHg7XFxuICBib3JkZXI6IDBweDtcXG59XFxuLmpleGNlbCA+IHRoZWFkID4gdHIuamV4Y2VsX2ZpbHRlciA+IHRkID4gaW5wdXQge1xcbiAgYm9yZGVyOiAwcHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi5qZXhjZWxfYWJvdXQge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgZm9udC1zaXplOiAwLjdlbTtcXG4gIHBhZGRpbmc6IDJweDtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBsZXR0ZXItc3BhY2luZzogMXB4O1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpleGNlbF9hYm91dCBhIHtcXG4gIGNvbG9yOiAjY2NjO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG4uamV4Y2VsX2Fib3V0IGltZyB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uamV4Y2VsX2ZpbHRlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xcbn1cXG4uamV4Y2VsX2ZpbHRlciA+IGRpdiB7XFxuICBwYWRkaW5nOiA4cHg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4uamV4Y2VsX3BhZ2luYXRpb24ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5qZXhjZWxfcGFnaW5hdGlvbiA+IGRpdiB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgcGFkZGluZzogMTBweDtcXG59XFxuLmpleGNlbF9wYWdpbmF0aW9uID4gZGl2Omxhc3QtY2hpbGQge1xcbiAgcGFkZGluZy1yaWdodDogMTBweDtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbn1cXG4uamV4Y2VsX3BhZ2luYXRpb24gPiBkaXYgPiBkaXYge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgd2lkdGg6IDM2cHg7XFxuICBoZWlnaHQ6IDM2cHg7XFxuICBsaW5lLWhlaWdodDogMzRweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgbWFyZ2luLWxlZnQ6IDJweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmpleGNlbF9wYWdlIHtcXG4gIGZvbnQtc2l6ZTogMC44ZW07XFxufVxcbi5qZXhjZWxfcGFnZV9zZWxlY3RlZCB7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XFxufVxcbi5qZXhjZWxfdG9vbGJhciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMztcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBtYXJnaW46IDBweCAycHggNHB4IDFweDtcXG4gIHBvc2l0aW9uOiBzdGlja3k7XFxuICB0b3A6IDBweDtcXG4gIHotaW5kZXg6IDIxO1xcbn1cXG4uamV4Y2VsX3Rvb2xiYXI6ZW1wdHkge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpleGNlbF90b29sYmFyIGkuamV4Y2VsX3Rvb2xiYXJfaXRlbSB7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG4gIHBhZGRpbmc6IDRweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLmpleGNlbF90b29sYmFyIGkuamV4Y2VsX3Rvb2xiYXJfaXRlbTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xcbn1cXG4uamV4Y2VsX3Rvb2xiYXIgc2VsZWN0LmpleGNlbF90b29sYmFyX2l0ZW0ge1xcbiAgbWFyZ2luLWxlZnQ6IDJweDtcXG4gIG1hcmdpbi1yaWdodDogMnB4O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgYm9yZGVyOiAwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XFxufVxcbi5qZXhjZWwgLmRyYWdnaW5nLWxlZnQge1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IHRvcCA1MCUgbGVmdCAwcHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UlM0NwYXRoIGQ9J00xNCA3bC01IDUgNSA1Vjd6Jy8lM0UlM0NwYXRoIGZpbGw9J25vbmUnIGQ9J00yNCAwdjI0SDBWMGgyNHonLyUzRSUzQy9zdmclM0VcXFwiKTtcXG59XFxuLmpleGNlbCAuZHJhZ2dpbmctcmlnaHQge1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IHRvcCA1MCUgcmlnaHQgMHB4O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFJTNDcGF0aCBkPSdNMTAgMTdsNS01LTUtNXYxMHonLyUzRSUzQ3BhdGggZmlsbD0nbm9uZScgZD0nTTAgMjRWMGgyNHYyNEgweicvJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbn1cXG4uamV4Y2VsX3RhYnMgLmpleGNlbF90YWIge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpleGNlbF90YWJzIC5qZXhjZWxfdGFiX2xpbmsge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcGFkZGluZzogMTBweDtcXG4gIHBhZGRpbmctbGVmdDogMjBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDIwcHg7XFxuICBtYXJnaW4tcmlnaHQ6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5qZXhjZWxfdGFicyAuamV4Y2VsX3RhYl9saW5rLnNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkZGQ7XFxufVxcbi5qZXhjZWxfaGlkZGVuX2luZGV4ID4gdGJvZHkgPiB0ciA+IHRkOmZpcnN0LWNoaWxkLFxcbi5qZXhjZWxfaGlkZGVuX2luZGV4ID4gdGhlYWQgPiB0ciA+IHRkOmZpcnN0LWNoaWxkLFxcbi5qZXhjZWxfaGlkZGVuX2luZGV4ID4gY29sZ3JvdXAgPiBjb2w6Zmlyc3QtY2hpbGQge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmpleGNlbCAuanJhdGluZyB7XFxuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcXG59XFxuLmpleGNlbCAuanJhdGluZyA+IGRpdiB7XFxuICB6b29tOiAwLjU1O1xcbn1cXG4uamV4Y2VsIC5jb3B5aW5nLXRvcCB7XFxuICBib3JkZXItdG9wOiAxcHggZGFzaGVkICMwMDA7XFxufVxcbi5qZXhjZWwgLmNvcHlpbmctbGVmdCB7XFxuICBib3JkZXItbGVmdDogMXB4IGRhc2hlZCAjMDAwO1xcbn1cXG4uamV4Y2VsIC5jb3B5aW5nLXJpZ2h0IHtcXG4gIGJvcmRlci1yaWdodDogMXB4IGRhc2hlZCAjMDAwO1xcbn1cXG4uamV4Y2VsIC5jb3B5aW5nLWJvdHRvbSB7XFxuICBib3JkZXItYm90dG9tOiAxcHggZGFzaGVkICMwMDA7XFxufVxcbi5qZXhjZWwgLmpleGNlbF9jb2x1bW5fZmlsdGVyIHtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB0b3AgNTAlIHJpZ2h0IDVweDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nZ3JheScgd2lkdGg9JzE4cHgnIGhlaWdodD0nMThweCclM0UlM0NwYXRoIGQ9J00xMCAxOGg0di0yaC00djJ6TTMgNnYyaDE4VjZIM3ptMyA3aDEydi0ySDZ2MnonLyUzRSUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgcGFkZGluZzogMHB4O1xcbiAgcGFkZGluZy1sZWZ0OiA2cHg7XFxuICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xcbn1cXG4uamV4Y2VsIHRoZWFkIC5qZXhjZWxfZnJlZXplZCB7XFxuICBsZWZ0OiAwcHg7XFxuICB6LWluZGV4OiAzICFpbXBvcnRhbnQ7XFxuICBib3gtc2hhZG93OiAycHggMHB4IDJweCAwLjJweCAjY2NjICFpbXBvcnRhbnQ7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDJweCAwcHggMnB4IDAuMnB4ICNjY2MgIWltcG9ydGFudDtcXG4gIC1tb3otYm94LXNoYWRvdzogMnB4IDBweCAycHggMC4ycHggI2NjYyAhaW1wb3J0YW50O1xcbn1cXG4uamV4Y2VsIHRib2R5IC5qZXhjZWxfZnJlZXplZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm94LXNoYWRvdzogMXB4IDFweCAxcHggMXB4ICNjY2MgIWltcG9ydGFudDtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMnB4IDRweCA0cHggMC4xcHggI2NjYyAhaW1wb3J0YW50O1xcbiAgLW1vei1ib3gtc2hhZG93OiAycHggNHB4IDRweCAwLjFweCAjY2NjICFpbXBvcnRhbnQ7XFxufVxcblwiOyAocmVxdWlyZShcImJyb3dzZXJpZnktY3NzXCIpLmNyZWF0ZVN0eWxlKGNzcywgeyBcImhyZWZcIjogXCJwdWJsaWNcXFxcanNcXFxcdmVuZG9yLmNzc1wiIH0sIHsgXCJpbnNlcnRBdFwiOiBcImJvdHRvbVwiIH0pKTsgbW9kdWxlLmV4cG9ydHMgPSBjc3M7Il19
